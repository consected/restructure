{
  "app_type": {
    "id": 2,
    "name": "bhs",
    "label": "Brain Health Study",
    "disabled": false,
    "admin_id": 15,
    "default_schema_name": "ml_app",
    "app_configurations": [
      {
        "id": 95,
        "name": "default search form",
        "value": "search player",
        "disabled": true,
        "admin_id": 15,
        "user_id": 44,
        "app_type_id": 2,
        "user_email": "phil_ayres@test.com"
      },
      {
        "id": 16,
        "name": "default search form",
        "value": "search player",
        "disabled": true,
        "admin_id": 15,
        "user_id": 44,
        "app_type_id": 2,
        "user_email": "phil_ayres@test.com"
      },
      {
        "id": 8,
        "name": "hide pro info",
        "value": "true",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 10,
        "name": "hide player tabs",
        "value": "true",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 7,
        "name": "default search form",
        "value": "bhs responses needed",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 11,
        "name": "show activity log panel",
        "value": "bhs_assignment",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 26,
        "name": "create master with",
        "value": "bhs_assignment",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 28,
        "name": "hide player tabs",
        "value": "false",
        "disabled": false,
        "admin_id": 15,
        "user_id": 44,
        "app_type_id": 2,
        "user_email": "phil_ayres@test.com"
      },
      {
        "id": 29,
        "name": "hide master id in results",
        "value": "true",
        "disabled": true,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 93,
        "name": "default search form",
        "value": "search player",
        "disabled": true,
        "admin_id": 15,
        "user_id": 44,
        "app_type_id": 2,
        "user_email": "phil_ayres@test.com"
      },
      {
        "id": 94,
        "name": "default search form",
        "value": "search player",
        "disabled": true,
        "admin_id": 15,
        "user_id": 44,
        "app_type_id": 2,
        "user_email": "phil_ayres@test.com"
      },
      {
        "id": 5,
        "name": "hide search form advanced",
        "value": "true",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 6,
        "name": "hide search form searchable reports",
        "value": "false",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 14,
        "name": "user session timeout",
        "value": "30",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 15,
        "name": "hide navbar search",
        "value": "true",
        "disabled": false,
        "admin_id": 15,
        "user_id": 44,
        "app_type_id": 2,
        "user_email": "phil_ayres@test.com"
      },
      {
        "id": 4,
        "name": "hide search form simple",
        "value": "true",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 13,
        "name": "hide navbar search",
        "value": "true",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 9,
        "name": "hide tracker panel",
        "value": "true",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 12,
        "name": "hide player accuracy",
        "value": "true",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 1,
        "name": "notes field caption",
        "value": "",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 3,
        "name": "menu research label",
        "value": "Search",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 2,
        "name": "menu create master record label",
        "value": "New Person Record",
        "disabled": false,
        "admin_id": 15,
        "user_id": null,
        "app_type_id": 2,
        "user_email": null
      }
    ],
    "user_access_controls": [
      {
        "id": 66,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "addresses_item_flags",
        "options": null,
        "access": null,
        "disabled": true,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 56,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "addresses",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 53,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "player_infos",
        "options": "",
        "access": "read",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 55,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "player_contacts",
        "options": "",
        "access": "read",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 70,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "activity_log__player_contact_phones",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 67,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "player_infos_item_flags",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 65,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "player_contacts_item_flags",
        "options": "",
        "access": null,
        "disabled": true,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 854,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "activity_log__bhs_assignments",
        "options": "",
        "access": "create",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 79,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "item_flags",
        "options": null,
        "access": "create",
        "disabled": null,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 69,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "activity_log__ipa_assignments",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 855,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__adders",
        "options": "",
        "access": "read",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 64,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__player_info_histories_item_flags",
        "options": "",
        "access": "read",
        "disabled": true,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 62,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__player_info_histories",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 226,
        "user_id": null,
        "resource_type": "activity_log_type",
        "resource_name": "activity_log__bhs_assignment__blank",
        "options": "",
        "access": "create",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 74,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "sage_assignments",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 76,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "ext_assignments",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 134,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "social_security_numbers",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 77,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "ipa_assignments",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 165,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__emergency_contacts",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 111,
        "user_id": null,
        "resource_type": "external_id_assignments",
        "resource_name": "bhs_assignments",
        "options": "",
        "access": "limited",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 178,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "mrn_numbers",
        "options": null,
        "access": null,
        "disabled": null,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 185,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__ipa_appointments",
        "options": null,
        "access": null,
        "disabled": null,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 78,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "new_tests",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 201,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__ipa_consent_mailings",
        "options": null,
        "access": null,
        "disabled": null,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 216,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__ipa_hotels",
        "options": null,
        "access": null,
        "disabled": null,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 221,
        "user_id": null,
        "resource_type": "general",
        "resource_name": "create_master",
        "options": "",
        "access": "read",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 170,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "bhs_assignments",
        "options": "",
        "access": "create",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 75,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "scantrons",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 60,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__copy_player_infos",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 61,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__rc_cis",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 63,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__player_contact_histories",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 227,
        "user_id": null,
        "resource_type": "activity_log_type",
        "resource_name": "activity_log__bhs_assignment__primary",
        "options": "",
        "access": "create",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 71,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "general_infos",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 57,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "trackers",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 58,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "tracker_histories",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 59,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "latest_tracker_history",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 73,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "not_trackers",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 68,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "trackers_item_flags",
        "options": "",
        "access": null,
        "disabled": true,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 54,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "pro_infos",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 72,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "not_tracker_histories",
        "options": "",
        "access": null,
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 110,
        "user_id": 44,
        "resource_type": "general",
        "resource_name": "app_type",
        "options": "",
        "access": "read",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": "phil_ayres@test.com"
      },
      {
        "id": 204,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__ipa_payments",
        "options": null,
        "access": null,
        "disabled": null,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 118,
        "user_id": null,
        "resource_type": "report",
        "resource_name": "BHS Responses Needed",
        "options": "",
        "access": "read",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 119,
        "user_id": null,
        "resource_type": "report",
        "resource_name": "Search BHS Player",
        "options": "",
        "access": "read",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 175,
        "user_id": null,
        "resource_type": "report",
        "resource_name": "BHS Responses Completed",
        "options": "",
        "access": "read",
        "disabled": false,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 182,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "activity_log__ext_assignments",
        "options": null,
        "access": null,
        "disabled": null,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 188,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "dynamic_model__ipa_screenings",
        "options": null,
        "access": null,
        "disabled": null,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      },
      {
        "id": 219,
        "user_id": null,
        "resource_type": "table",
        "resource_name": "activity_log__ipa_surveys",
        "options": null,
        "access": null,
        "disabled": null,
        "admin_id": 15,
        "app_type_id": 2,
        "user_email": null
      }
    ],
    "associated_activity_logs": [
      {
        "id": 47,
        "name": "BHS Tracker",
        "item_type": "bhs_assignment",
        "rec_type": "",
        "admin_id": 15,
        "disabled": false,
        "created_at": "2018-02-28T12:43:09.271Z",
        "updated_at": "2018-02-28T12:44:28.796Z",
        "action_when_attribute": "created_at",
        "field_list": "select_record_from_player_contact_phones, return_call_availability_notes, questions_from_call_notes, results_link",
        "blank_log_field_list": "select_result, pi_notes_from_return_call",
        "blank_log_name": "PI Notes",
        "extra_log_types": "",
        "hide_item_list_panel": true,
        "main_log_name": "Info Request",
        "user_email": null
      }
    ],
    "associated_dynamic_models": [
      {
        "id": 23,
        "name": "Adders",
        "table_name": "adders",
        "schema_name": null,
        "primary_key_name": "id",
        "foreign_key_name": "master_id",
        "description": "",
        "admin_id": 15,
        "disabled": false,
        "created_at": "2018-02-27T15:20:36.823Z",
        "updated_at": "2018-03-15T17:34:19.328Z",
        "position": null,
        "category": "extended-info",
        "table_key_name": "",
        "field_list": "",
        "result_order": "",
        "user_email": null
      }
    ],
    "associated_external_identifiers": [
      {
        "id": 17,
        "name": "bhs_assignments",
        "label": "BHS ID",
        "external_id_attribute": "bhs_id",
        "external_id_view_formatter": "",
        "external_id_edit_pattern": "\\d{3} \\d{3} \\d{3}",
        "prevent_edit": false,
        "pregenerate_ids": false,
        "min_id": 100000000,
        "max_id": 999999999,
        "admin_id": 15,
        "disabled": false,
        "created_at": "2018-02-28T12:40:45.239Z",
        "updated_at": "2018-02-28T12:40:45.239Z",
        "alphanumeric": null,
        "user_email": null
      }
    ],
    "associated_reports": [
      {
        "id": 6,
        "name": "Responses Needed",
        "description": "Shows records requiring response from the PI.",
        "sql": "SELECT \r\ndt.id,\r\ndt.select_record_from_player_contact_phones ,\r\ndt.return_call_availability_notes,\r\ndt.questions_from_call_notes,\r\ndt.results_link,\r\ndt.select_result,\r\ndt.pi_return_call_notes,\r\ndt.master_id\r\n\r\nFROM (\r\n SELECT id,\r\n   master_id, bhs_assignment_id, created_at, select_result,\r\n   select_record_from_player_contact_phones ,\r\n   return_call_availability_notes,\r\n   questions_from_call_notes,\r\n   results_link,\r\n   pi_return_call_notes,\r\n   rank()\r\n OVER (\r\n  PARTITION BY master_id \r\n  ORDER BY created_at DESC\r\n ) AS r\r\n FROM activity_log_bhs_assignments\r\n\r\n) AS dt\r\n\r\ninner join player_infos pi on dt.master_id = pi.master_id\r\n\r\nWHERE\r\n  r = 1\r\nAND\r\n(  dt.select_result IS NULL or dt.select_result <> 'complete' )\r\n\r\n\r\nORDER BY\r\n  dt.id DESC\r\n;\r\n",
        "short_name": "responses_needed",
        "search_attrs": "",
        "admin_id": 4,
        "disabled": false,
        "created_at": "2018-05-29T18:27:09.116Z",
        "updated_at": "2018-05-29T18:27:09.116Z",
        "report_type": "search",
        "auto": true,
        "searchable": true,
        "position": 0,
        "edit_model": "",
        "edit_field_names": "",
        "selection_fields": "",
        "item_type": "bhs search",
        "user_email": null
      },
      {
        "id": 8,
        "name": "Contact from PI",
        "description": "Shows contact messages from the PI that require an RA to respond.",
        "sql": "SELECT \r\ndt.id,\r\ndt.select_record_from_player_contact_phones ,\r\ndt.return_call_availability_notes,\r\ndt.questions_from_call_notes,\r\ndt.results_link,\r\ndt.select_result,\r\ndt.pi_return_call_notes,\r\ndt.master_id\r\n\r\nFROM (\r\n SELECT id,\r\n   master_id, bhs_assignment_id, created_at, select_result,\r\n   select_record_from_player_contact_phones ,\r\n   return_call_availability_notes,\r\n   questions_from_call_notes,\r\n   results_link,\r\n   pi_return_call_notes, extra_log_type,\r\n   rank()\r\n OVER (\r\n  PARTITION BY master_id \r\n  ORDER BY created_at DESC\r\n ) AS r\r\n FROM activity_log_bhs_assignments\r\n WHERE extra_log_type IN ('respond_to_pi', 'contact_initiator')\r\n) AS dt\r\n\r\ninner join player_infos pi on dt.master_id = pi.master_id\r\nWHERE\r\n  r >= 1 AND dt.extra_log_type = 'contact_initiator'\r\nAND\r\n  r = 1 AND dt.extra_log_type <> 'respond_to_pi'\r\n\r\nORDER BY\r\n  dt.created_at DESC\r\n;\r\n",
        "short_name": "contact_from_pi",
        "search_attrs": "",
        "admin_id": 4,
        "disabled": false,
        "created_at": "2018-05-29T18:27:09.125Z",
        "updated_at": "2018-05-29T18:27:09.125Z",
        "report_type": "search",
        "auto": true,
        "searchable": true,
        "position": 300,
        "edit_model": "",
        "edit_field_names": "",
        "selection_fields": "",
        "item_type": "bhs search",
        "user_email": null
      },
      {
        "id": 9,
        "name": "BHS Subjects Pending Sync",
        "description": "Show BHS subjects that have been created here, but have not yet been transferred from Zeus.",
        "sql": "select b.master_id from bhs_assignments b\r\nleft join player_infos pi\r\non b.master_id = pi.master_id\r\nwhere pi.id is null\r\n;",
        "short_name": "bhs_subjects_pending_sync",
        "search_attrs": "",
        "admin_id": 4,
        "disabled": false,
        "created_at": "2018-05-29T18:27:09.128Z",
        "updated_at": "2018-05-29T18:27:09.128Z",
        "report_type": "search",
        "auto": true,
        "searchable": true,
        "position": 200,
        "edit_model": "",
        "edit_field_names": "",
        "selection_fields": "",
        "item_type": "bhs search",
        "user_email": null
      },
      {
        "id": 10,
        "name": "Search BHS Player",
        "description": "Search players by name, phone, email or ID.\r\nLeave the search field empty to see all subjects.",
        "sql": "select distinct m.id master_id, b.bhs_id,\r\npi.first_name, pi.middle_name, pi.last_name, pi.nick_name,\r\na.street, a.street2, a.city, a.state, a.zip, \r\npc.data, pc.rec_type\r\nfrom masters m\r\nleft join player_infos pi\r\non pi.master_id = m.id \r\ninner join bhs_assignments b\r\non m.id = b.master_id\r\nleft join addresses a\r\non m.id = a.master_id\r\nleft join player_contacts pc\r\non pc.master_id = m.id\r\nwhere \r\n(\r\n  :name is null \r\n  or pi.first_name ~* :name\r\n  or pi.last_name ~* :name\r\n  or pi.middle_name ~* :name\r\n  or pi.nick_name ~* :name\r\n  or( \r\n    pi.first_name ~* coalesce(split_part(:name, ' ', 1),'none')\r\n    AND pi.last_name ~* coalesce(split_part(:name, ' ', 2),'none')\r\n  )\r\n) \r\nOR\r\n(\r\n  regexp_replace(pc.data, '\\W+', '', 'g') ~* regexp_replace(:name, '\\W+', '', 'g')\r\n) \r\nOR\r\n(\r\n  :name is not null and\r\n  b.bhs_id::varchar  = regexp_replace(:name, '[^0-9]*', '', 'g')\r\n)\r\n",
        "search_attrs": "name: \r\n  text: \r\n    all: true\r\n    multiple: single\r\n",
        "short_name": "search_bhs_player",
        "admin_id": 4,
        "disabled": false,
        "created_at": "2018-05-29T18:27:09.132Z",
        "updated_at": "2018-05-29T18:27:09.132Z",
        "report_type": "search",
        "auto": false,
        "searchable": true,
        "position": 10,
        "edit_model": "",
        "edit_field_names": "",
        "selection_fields": "",
        "item_type": "bhs search",
        "user_email": null
      },
      {
        "id": 11,
        "name": "Responses Completed",
        "description": "Shows records with completed response from the PI.",
        "sql": "SELECT \r\ndt.id,\r\ndt.select_record_from_player_contact_phones ,\r\ndt.return_call_availability_notes,\r\ndt.questions_from_call_notes,\r\ndt.results_link,\r\ndt.select_result,\r\ndt.pi_return_call_notes,\r\ndt.master_id\r\n\r\nFROM (\r\n SELECT id,\r\n   master_id, bhs_assignment_id, created_at, select_result,\r\n   select_record_from_player_contact_phones ,\r\n   return_call_availability_notes,\r\n   questions_from_call_notes,\r\n   results_link,\r\n   pi_return_call_notes,\r\n   rank()\r\n OVER (\r\n  PARTITION BY master_id \r\n  ORDER BY created_at DESC\r\n ) AS r\r\n FROM activity_log_bhs_assignments\r\n\r\n) AS dt\r\nWHERE\r\n  r = 1\r\nAND\r\n( dt.select_result = 'complete' )\r\n\r\n\r\nORDER BY\r\n  created_at DESC\r\n;\r\n",
        "short_name": "responses_completed",
        "search_attrs": "",
        "admin_id": 4,
        "disabled": false,
        "created_at": "2018-05-29T18:27:09.135Z",
        "updated_at": "2018-05-29T18:27:09.135Z",
        "report_type": "search",
        "auto": true,
        "searchable": true,
        "position": 1,
        "edit_model": "",
        "edit_field_names": "",
        "selection_fields": "",
        "item_type": "bhs search",
        "user_email": null
      }
    ],
    "associated_general_selections": [
      {
        "id": 39,
        "name": "CIS - Paper",
        "value": "cis-paper",
        "item_type": "player_infos_source",
        "created_at": "2015-09-24T19:00:01.751Z",
        "updated_at": "2018-03-15T16:14:28.208Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": true,
        "edit_if_set": false,
        "edit_always": true,
        "position": 1,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 31,
        "name": "Community",
        "value": "comm",
        "item_type": "player_infos_source",
        "created_at": "2015-08-12T19:49:04.603Z",
        "updated_at": "2018-03-15T16:14:28.217Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": false,
        "edit_if_set": false,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 42,
        "name": "NFLPA2",
        "value": "nflpa2",
        "item_type": "player_infos_source",
        "created_at": "2015-09-24T20:20:44.103Z",
        "updated_at": "2018-03-15T16:14:28.219Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": false,
        "edit_if_set": false,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 29,
        "name": "NFLPA",
        "value": "nflpa",
        "item_type": "player_infos_source",
        "created_at": "2015-08-12T19:43:23.821Z",
        "updated_at": "2018-03-15T16:14:28.222Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": false,
        "edit_if_set": false,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": true,
        "user_email": null
      },
      {
        "id": 18,
        "name": "primary",
        "value": "10",
        "item_type": "player_contacts_rank",
        "created_at": "2015-07-24T14:33:09.907Z",
        "updated_at": "2018-03-15T16:14:28.226Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": true,
        "edit_if_set": false,
        "edit_always": true,
        "position": 1,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 19,
        "name": "secondary",
        "value": "5",
        "item_type": "player_contacts_rank",
        "created_at": "2015-07-24T14:33:09.917Z",
        "updated_at": "2018-03-15T16:14:28.229Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": true,
        "edit_if_set": false,
        "edit_always": true,
        "position": 10,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 21,
        "name": "bad contact",
        "value": "-1",
        "item_type": "player_contacts_rank",
        "created_at": "2015-07-24T14:33:09.925Z",
        "updated_at": "2018-03-15T16:14:28.234Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": true,
        "edit_if_set": false,
        "edit_always": true,
        "position": 100,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 20,
        "name": "do not use",
        "value": "0",
        "item_type": "player_contacts_rank",
        "created_at": "2015-07-24T14:33:09.921Z",
        "updated_at": "2018-03-15T16:14:28.237Z",
        "disabled": null,
        "admin_id": 15,
        "create_with": null,
        "edit_if_set": null,
        "edit_always": null,
        "position": null,
        "description": null,
        "lock": null,
        "user_email": null
      },
      {
        "id": 51,
        "name": "do not use",
        "value": "0",
        "item_type": "player_contacts_rank",
        "created_at": "2015-10-20T16:24:09.278Z",
        "updated_at": "2018-03-15T16:59:22.236Z",
        "disabled": null,
        "admin_id": 15,
        "create_with": null,
        "edit_if_set": null,
        "edit_always": null,
        "position": null,
        "description": null,
        "lock": null,
        "user_email": null
      },
      {
        "id": 35,
        "name": "Phone",
        "value": "phone",
        "item_type": "player_contacts_rec_type",
        "created_at": "2015-09-10T15:15:31.897Z",
        "updated_at": "2018-03-15T16:14:28.243Z",
        "disabled": null,
        "admin_id": 15,
        "create_with": null,
        "edit_if_set": null,
        "edit_always": null,
        "position": null,
        "description": null,
        "lock": null,
        "user_email": null
      },
      {
        "id": 34,
        "name": "Email",
        "value": "email",
        "item_type": "player_contacts_rec_type",
        "created_at": "2015-09-10T15:15:31.892Z",
        "updated_at": "2018-03-15T16:14:28.240Z",
        "disabled": null,
        "admin_id": 15,
        "create_with": null,
        "edit_if_set": null,
        "edit_always": null,
        "position": null,
        "description": null,
        "lock": null,
        "user_email": null
      },
      {
        "id": 48,
        "name": "CIS - Email",
        "value": "cis-email",
        "item_type": "player_contacts_source",
        "created_at": "2015-09-24T20:28:09.928Z",
        "updated_at": "2018-03-15T16:14:28.265Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": true,
        "edit_if_set": false,
        "edit_always": true,
        "position": null,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 11,
        "name": "NFLPA",
        "value": "nflpa",
        "item_type": "player_contacts_source",
        "created_at": "2015-07-20T14:30:23.361Z",
        "updated_at": "2018-03-15T16:14:28.248Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": false,
        "edit_if_set": false,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 45,
        "name": "Integrate",
        "value": "integrate2",
        "item_type": "player_contacts_source",
        "created_at": "2015-09-24T20:26:51.693Z",
        "updated_at": "2018-03-15T16:14:28.246Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": false,
        "edit_if_set": false,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 12,
        "name": "NFL",
        "value": "nfl",
        "item_type": "player_contacts_source",
        "created_at": "2015-07-20T14:30:31.985Z",
        "updated_at": "2018-03-15T16:14:28.251Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": false,
        "edit_if_set": true,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 43,
        "name": "NFLPA2",
        "value": "nflpa2",
        "item_type": "player_contacts_source",
        "created_at": "2015-09-24T20:26:05.392Z",
        "updated_at": "2018-03-15T16:14:28.254Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": false,
        "edit_if_set": false,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 44,
        "name": "Integrate",
        "value": "integrate1",
        "item_type": "player_contacts_source",
        "created_at": "2015-09-24T20:26:39.899Z",
        "updated_at": "2018-03-15T16:14:28.256Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": false,
        "edit_if_set": false,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 46,
        "name": "CIS",
        "value": "cis",
        "item_type": "player_contacts_source",
        "created_at": "2015-09-24T20:27:19.419Z",
        "updated_at": "2018-03-15T16:14:28.260Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": false,
        "edit_if_set": true,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 47,
        "name": "CIS - Paper",
        "value": "cis-paper",
        "item_type": "player_contacts_source",
        "created_at": "2015-09-24T20:27:47.697Z",
        "updated_at": "2018-03-15T16:14:28.263Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": true,
        "edit_if_set": false,
        "edit_always": true,
        "position": null,
        "description": "",
        "lock": null,
        "user_email": null
      },
      {
        "id": 5,
        "name": "Phone",
        "value": "phone",
        "item_type": "player_contacts_type",
        "created_at": "2015-06-23T21:24:11.775Z",
        "updated_at": "2018-03-15T16:14:28.268Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": true,
        "edit_if_set": false,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": true,
        "user_email": null
      },
      {
        "id": 1,
        "name": "Email",
        "value": "email",
        "item_type": "player_contacts_type",
        "created_at": "2015-06-22T15:31:47.508Z",
        "updated_at": "2018-03-15T16:14:28.270Z",
        "disabled": false,
        "admin_id": 15,
        "create_with": true,
        "edit_if_set": false,
        "edit_always": false,
        "position": null,
        "description": "",
        "lock": true,
        "user_email": null
      }
    ],
    "user_email": null
  }
}