if(function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(C,t){"use strict";function g(t,e,n){var i,r=(e=e||ot).createElement("script");if(r.text=t,n)for(i in bt)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function m(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ht[pt.call(t)]||"object":typeof t}function s(t){var e=!!t&&"length"in t&&t.length,n=m(t);return!_t(t)&&!yt(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function c(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function e(t,n,i){return _t(n)?xt.grep(t,function(t,e){return!!n.call(t,e,t)!==i}):n.nodeType?xt.grep(t,function(t){return t===n!==i}):"string"!=typeof n?xt.grep(t,function(t){return-1<dt.call(n,t)!==i}):xt.filter(n,t,i)}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var n={};return xt.each(t.match(Et)||[],function(t,e){n[e]=!0}),n}function d(t){return t}function h(t){throw t}function l(t,e,n,i){var r;try{t&&_t(r=t.promise)?r.call(t).done(e).fail(n):t&&_t(r=t.then)?r.call(t,e,n):e.apply(undefined,[t].slice(i))}catch(t){n.apply(undefined,[t])}}function i(){ot.removeEventListener("DOMContentLoaded",i),C.removeEventListener("load",i),xt.ready()}function r(t,e){return e.toUpperCase()}function p(t){return t.replace(Ft,"ms-").replace(Rt,r)}function a(){this.expando=xt.expando+a.uid++}function o(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:zt.test(t)?JSON.parse(t):t)}function f(t,e,n){var i;if(n===undefined&&1===t.nodeType)if(i="data-"+e.replace(Wt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=o(n)}catch(r){}Bt.set(t,e,n)}else n=undefined;return n}function v(t,e,n,i){var r,a,o=20,s=i?function(){return i.cur()}:function(){return xt.css(t,e,"")},l=s(),c=n&&n[3]||(xt.cssNumber[e]?"":"px"),u=(xt.cssNumber[e]||"px"!==c&&+l)&&Ut.exec(xt.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;o--;)xt.style(t,e,u+c),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),u/=a;u*=2,xt.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function _(t){var e,n=t.ownerDocument,i=t.nodeName,r=Xt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=xt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Xt[i]=r)}function y(t,e){for(var n,i,r=[],a=0,o=t.length;a<o;a++)(i=t[a]).style&&(n=i.style.display,e?("none"===n&&(r[a]=Ht.get(i,"display")||null,r[a]||(i.style.display="")),""===i.style.display&&Yt(i)&&(r[a]=_(i))):"none"!==n&&(r[a]="none",Ht.set(i,"display",n)));for(a=0;a<o;a++)null!=r[a]&&(t[a].style.display=r[a]);return t}function b(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],e===undefined||e&&c(t,e)?xt.merge([t],n):n}function w(t,e){for(var n=0,i=t.length;n<i;n++)Ht.set(t[n],"globalEval",!e||Ht.get(e[n],"globalEval"))}function x(t,e,n,i,r){for(var a,o,s,l,c,u,d=e.createDocumentFragment(),h=[],p=0,f=t.length;p<f;p++)if((a=t[p])||0===a)if("object"===m(a))xt.merge(h,a.nodeType?[a]:a);else if(ne.test(a)){for(o=o||d.appendChild(e.createElement("div")),s=(Gt.exec(a)||["",""])[1].toLowerCase(),l=Zt[s]||Zt._default,o.innerHTML=l[1]+xt.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;xt.merge(h,o.childNodes),(o=d.firstChild).textContent=""}else h.push(e.createTextNode(a));for(d.textContent="",p=0;a=h[p++];)if(i&&-1<xt.inArray(a,i))r&&r.push(a);else if(c=xt.contains(a.ownerDocument,a),o=b(d.appendChild(a),"script"),c&&w(o),n)for(u=0;a=o[u++];)Jt.test(a.type||"")&&n.push(a);return d}function k(){return!0}function S(){return!1}function T(){try{return ot.activeElement}catch(t){}}function $(t,e,n,i,r,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)$(t,s,n,i,e[s],a);return t}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=S;else if(!r)return t;return 1===a&&(o=r,(r=function(t){return xt().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=xt.guid++)),t.each(function(){xt.event.add(this,e,r,i,n)})}function D(t,e){return c(t,"table")&&c(11!==e.nodeType?e:e.firstChild,"tr")&&xt(t).children("tbody")[0]||t}function A(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function M(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function P(t,e){var n,i,r,a,o,s,l,c;if(1===e.nodeType){if(Ht.hasData(t)&&(a=Ht.access(t),o=Ht.set(e,a),c=a.events))for(r in delete o.handle,o.events={},c)for(n=0,i=c[r].length;n<i;n++)xt.event.add(e,r,c[r][n]);Bt.hasData(t)&&(s=Bt.access(t),l=xt.extend({},s),Bt.set(e,l))}}function I(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Qt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function E(n,i,r,a){i=ct.apply([],i);var t,e,o,s,l,c,u=0,d=n.length,h=d-1,p=i[0],f=_t(p);if(f||1<d&&"string"==typeof p&&!vt.checkClone&&ce.test(p))return n.each(function(t){var e=n.eq(t);f&&(i[0]=p.call(this,t,e.html())),E(e,i,r,a)});if(d&&(e=(t=x(i,n[0].ownerDocument,!1,n,a)).firstChild,1===t.childNodes.length&&(t=e),e||a)){for(s=(o=xt.map(b(t,"script"),A)).length;u<d;u++)l=t,u!==h&&(l=xt.clone(l,!0,!0),s&&xt.merge(o,b(l,"script"))),r.call(n[u],l,u);if(s)for(c=o[o.length-1].ownerDocument,xt.map(o,M),u=0;u<s;u++)l=o[u],Jt.test(l.type||"")&&!Ht.access(l,"globalEval")&&xt.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?xt._evalUrl&&xt._evalUrl(l.src):g(l.textContent.replace(ue,""),c,l))}return n}function O(t,e,n){for(var i,r=e?xt.filter(e,t):t,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||xt.cleanData(b(i)),i.parentNode&&(n&&xt.contains(i.ownerDocument,i)&&w(b(i,"script")),i.parentNode.removeChild(i));return t}function N(t,e,n){var i,r,a,o,s=t.style;return(n=n||he(t))&&(""!==(o=n.getPropertyValue(e)||n[e])||xt.contains(t.ownerDocument,t)||(o=xt.style(t,e)),!vt.pixelBoxStyles()&&de.test(o)&&pe.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),o!==undefined?o+"":o}function L(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function F(t){if(t in ye)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=_e.length;n--;)if((t=_e[n]+e)in ye)return t}function R(t){var e=xt.cssProps[t];return e||(e=xt.cssProps[t]=F(t)||t),e}function j(t,e,n){var i=Ut.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function H(t,e,n,i,r,a){var o="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=xt.css(t,n+Vt[o],!0,r)),i?("content"===n&&(l-=xt.css(t,"padding"+Vt[o],!0,r)),"margin"!==n&&(l-=xt.css(t,"border"+Vt[o]+"Width",!0,r))):(l+=xt.css(t,"padding"+Vt[o],!0,r),"padding"!==n?l+=xt.css(t,"border"+Vt[o]+"Width",!0,r):s+=xt.css(t,"border"+Vt[o]+"Width",!0,r));return!i&&0<=a&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-s-.5))),l}function B(t,e,n){var i=he(t),r=N(t,e,i),a="border-box"===xt.css(t,"boxSizing",!1,i),o=a;if(de.test(r)){if(!n)return r;r="auto"}return o=o&&(vt.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===xt.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],o=!0),(r=parseFloat(r)||0)+H(t,e,n||(a?"border":"content"),o,i,r)+"px"}function z(t,e,n,i,r){return new z.prototype.init(t,e,n,i,r)}function W(){we&&(!1===ot.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(W):C.setTimeout(W,xt.fx.interval),xt.fx.tick())}function q(){return C.setTimeout(function(){be=undefined}),be=Date.now()}function U(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=Vt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function V(t,e,n){for(var i,r=(X.tweeners[e]||[]).concat(X.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,e,t))return i}function Y(t,e,n){var i,r,a,o,s,l,c,u,d="width"in e||"height"in e,h=this,p={},f=t.style,g=t.nodeType&&Yt(t),m=Ht.get(t,"fxshow");for(i in n.queue||(null==(o=xt._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,h.always(function(){h.always(function(){o.unqueued--,xt.queue(t,"fx").length||o.empty.fire()})})),e)if(r=e[i],Ce.test(r)){if(delete e[i],a=a||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||m[i]===undefined)continue;g=!0}p[i]=m&&m[i]||xt.style(t,i)}if((l=!xt.isEmptyObject(e))||!xt.isEmptyObject(p))for(i in d&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=Ht.get(t,"display")),"none"===(u=xt.css(t,"display"))&&(c?u=c:(y([t],!0),c=t.style.display||c,u=xt.css(t,"display"),y([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===xt.css(t,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=Ht.access(t,"fxshow",{display:c}),a&&(m.hidden=!g),g&&y([t],!0),h.done(function(){for(i in g||y([t]),Ht.remove(t,"fxshow"),p)xt.style(t,i,p[i])})),l=V(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}function K(t,e){var n,i,r,a,o;for(n in t)if(r=e[i=p(n)],a=t[n],Array.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(o=xt.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=r);else e[i]=r}function X(a,t,e){var n,o,i=0,r=X.prefilters.length,s=xt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=be||q(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return s.notifyWith(a,[c,n,e]),n<1&&r?e:(r||s.notifyWith(a,[c,1,0]),s.resolveWith(a,[c]),!1)},c=s.promise({elem:a,props:xt.extend({},t),opts:xt.extend(!0,{specialEasing:{},easing:xt.easing._default},e),originalProperties:t,originalOptions:e,startTime:be||q(),duration:e.duration,tweens:[],createTween:function(t,e){var n=xt.Tween(a,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;e<n;e++)c.tweens[e].run(1);return t?(s.notifyWith(a,[c,1,0]),s.resolveWith(a,[c,t])):s.rejectWith(a,[c,t]),this}}),u=c.props;for(K(u,c.opts.specialEasing);i<r;i++)if(n=X.prefilters[i].call(c,a,u,c.opts))return _t(n.stop)&&(xt._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return xt.map(u,V,c),_t(c.opts.start)&&c.opts.start.call(a,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),xt.fx.timer(xt.extend(l,{elem:a,anim:c,queue:c.opts.queue})),c}function Q(t){return(t.match(Et)||[]).join(" ")}function G(t){return t.getAttribute&&t.getAttribute("class")||""}function J(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Et)||[]}function Z(n,t,i,r){var e;if(Array.isArray(t))xt.each(t,function(t,e){i||Le.test(n)?r(n,e):Z(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==m(t))r(n,t);else for(e in t)Z(n+"["+e+"]",t[e],i,r)}function tt(a){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(Et)||[];if(_t(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(e)):(a[n]=a[n]||[]).push(e)}}function et(e,r,a,o){function s(t){var i;return l[t]=!0,xt.each(e[t]||[],function(t,e){var n=e(r,a,o);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(r.dataTypes.unshift(n),s(n),!1)}),i}var l={},c=e===Ke;return s(r.dataTypes[0])||!l["*"]&&s("*")}function nt(t,e){var n,i,r=xt.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&xt.extend(!0,t,i),t}function it(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}function rt(t,e,n,i){var r,a,o,s,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(r in c)if((s=r.split(" "))[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[r]:!0!==c[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}var at=[],ot=C.document,st=Object.getPrototypeOf,lt=at.slice,ct=at.concat,ut=at.push,dt=at.indexOf,ht={},pt=ht.toString,ft=ht.hasOwnProperty,gt=ft.toString,mt=gt.call(Object),vt={},_t=function _t(t){return"function"==typeof t&&"number"!=typeof t.nodeType},yt=function yt(t){return null!=t&&t===t.window},bt={type:!0,src:!0,noModule:!0},wt="3.3.1",xt=function(t,e){return new xt.fn.init(t,e)},kt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;xt.fn=xt.prototype={jquery:wt,constructor:xt,length:0,toArray:function(){return lt.call(this)},get:function(t){return null==t?lt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=xt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return xt.each(this,t)},map:function(n){return this.pushStack(xt.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ut,sort:at.sort,splice:at.splice},xt.extend=xt.fn.extend=function(t){var e,n,i,r,a,o,s=t||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"==typeof s||_t(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(e=arguments[l]))for(n in e)i=s[n],s!==(r=e[n])&&(u&&r&&(xt.isPlainObject(r)||(a=Array.isArray(r)))?(a?(a=!1,o=i&&Array.isArray(i)?i:[]):o=i&&xt.isPlainObject(i)?i:{},s[n]=xt.extend(u,o,r)):r!==undefined&&(s[n]=r));return s},xt.extend({expando:"jQuery"+(wt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==pt.call(t))&&(!(e=st(t))||"function"==typeof(n=ft.call(e,"constructor")&&e.constructor)&&gt.call(n)===mt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){g(t)},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(kt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?xt.merge(n,"string"==typeof t?[t]:t):ut.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:dt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;r<a;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,o=[];if(s(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&o.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&o.push(r);return ct.apply([],o)},guid:1,support:vt}),"function"==typeof Symbol&&(xt.fn[Symbol.iterator]=at[Symbol.iterator]),xt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ht["[object "+e+"]"]=e.toLowerCase()});var Ct=function(n){function b(t,e,n,i){var r,a,o,s,l,c,u,d=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!i&&((e?e.ownerDocument||e:B)!==E&&I(e),e=e||E,N)){if(11!==h&&(l=vt.exec(t)))if(r=l[1]){if(9===h){if(!(o=e.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(d&&(o=d.getElementById(r))&&j(e,o)&&o.id===r)return n.push(o),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(x.qsa&&!V[t+" "]&&(!L||!L.test(t))){if(1!==h)d=e,u=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(wt,xt):e.setAttribute("id",s=H),a=(c=T(t)).length;a--;)c[a]="#"+s+" "+g(c[a]);u=c.join(","),d=_t.test(t)&&f(e.parentNode)||e}if(u)try{return J.apply(n,d.querySelectorAll(u)),n}catch(p){}finally{s===H&&e.removeAttribute("id")}}}return D(t.replace(st,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>k.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[H]=!0,t}function r(t){var e=E.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=e}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function a(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function o(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ct(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function s(o){return l(function(a){return a=+a,l(function(t,e){for(var n,i=o([],t.length,a),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function f(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function g(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(s,t,e){var l=t.dir,c=t.next,u=c||l,d=e&&"parentNode"===u,h=W++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||d)return s(t,e,n);return!1}:function(t,e,n){var i,r,a,o=[z,h];if(n){for(;t=t[l];)if((1===t.nodeType||d)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||d)if(r=(a=t[H]||(t[H]={}))[t.uniqueID]||(a[t.uniqueID]={}),c&&c===t.nodeName.toLowerCase())t=t[l]||t;else{if((i=r[u])&&i[0]===z&&i[1]===h)return o[2]=i[2];if((r[u]=o)[2]=s(t,e,n))return!0}return!1}}function h(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function _(t,e,n){for(var i=0,r=e.length;i<r;i++)b(t,e[i],n);return n}function w(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,c=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,i,r)||(o.push(a),c&&e.push(s)));return o}function y(p,f,g,m,v,t){return m&&!m[H]&&(m=y(m)),v&&!v[H]&&(v=y(v,t)),l(function(t,e,n,i){var r,a,o,s=[],l=[],c=e.length,u=t||_(f||"*",n.nodeType?[n]:n,[]),d=!p||!t&&f?u:w(u,s,p,n,i),h=g?v||(t?p:c||m)?[]:e:d;if(g&&g(d,h,n,i),m)for(r=w(h,l),m(r,[],n,i),a=r.length;a--;)(o=r[a])&&(h[l[a]]=!(d[l[a]]=o));if(t){if(v||p){if(v){for(r=[],a=h.length;a--;)(o=h[a])&&r.push(d[a]=o);v(null,h=[],r,i)}for(a=h.length;a--;)(o=h[a])&&-1<(r=v?tt(t,o):s[a])&&(t[r]=!(e[r]=o))}}else h=w(h===e?h.splice(c,h.length):h),v?v(null,e,h,i):J.apply(e,h)})}function p(t){for(var r,e,n,i=t.length,a=k.relative[t[0].type],o=a||k.relative[" "],s=a?1:0,l=d(function(t){return t===r},o,!0),c=d(function(t){return-1<tt(r,t)},o,!0),u=[function(t,e,n){var i=!a&&(n||e!==A)||((r=e).nodeType?l(t,e,n):c(t,e,n));return r=null,i}];s<i;s++)if(e=k.relative[t[s].type])u=[d(h(u),e)];else{if((e=k.filter[t[s].type].apply(null,t[s].matches))[H]){for(n=++s;n<i&&!k.relative[t[n].type];n++);return y(1<s&&h(u),1<s&&g(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&p(t.slice(s,n)),n<i&&p(t=t.slice(n)),n<i&&g(t))}u.push(e)}return h(u)}function m(m,v){var _=0<v.length,y=0<m.length,t=function(t,e,n,i,r){var a,o,s,l=0,c="0",u=t&&[],d=[],h=A,p=t||y&&k.find.TAG("*",r),f=z+=null==h?1:Math.random()||.1,g=p.length;for(r&&(A=e===E||e||r);c!==g&&null!=(a=p[c]);c++){if(y&&a){for(o=0,e||a.ownerDocument===E||(I(a),n=!N);s=m[o++];)if(s(a,e||E,n)){i.push(a);break}r&&(z=f)}_&&((a=!s&&a)&&l--,t&&u.push(a))}if(l+=c,_&&c!==l){for(o=0;s=v[o++];)s(u,d,e,n);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=Q.call(i));d=w(d)}J.apply(i,d),r&&!t&&0<d.length&&1<l+v.length&&b.uniqueSort(i)}return r&&(z=f,A=h),u};return _?l(t):t}var v,x,k,C,S,T,$,D,A,M,P,I,E,O,N,L,F,R,j,H="sizzle"+1*new Date,B=n.document,z=0,W=0,q=t(),U=t(),V=t(),Y=function(t,e){return t===e&&(P=!0),0},K={}.hasOwnProperty,X=[],Q=X.pop,G=X.push,J=X.push,Z=X.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",ot=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(at),ht=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_t=/[+~]/,yt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},wt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},kt=function(){I()},Ct=d(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{J.apply(X=Z.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(St){J={apply:X.length?function(t,e){G.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(v in x=b.support={},S=b.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},I=b.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:B;return i!==E&&9===i.nodeType&&i.documentElement&&(O=(E=i).documentElement,N=!S(E),B!==E&&(n=E.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(E.getElementsByClassName),x.getById=r(function(t){return O.appendChild(t).id=H,!E.getElementsByName||!E.getElementsByName(H).length}),x.getById?(k.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){return t.getAttribute("id")===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}}):(k.filter.ID=function(t){var n=t.replace(yt,bt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n,i,r,a=e.getElementById(t);if(a){if((n=a.getAttributeNode("id"))&&n.value===t)return[a];for(r=e.getElementsByName(t),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===t)return[a]}return[]}}),k.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"!==t)return a;for(;n=a[r++];)1===n.nodeType&&i.push(n);return i},k.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},F=[],L=[],(x.qsa=mt.test(E.querySelectorAll))&&(r(function(t){O.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||L.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),O.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=mt.test(R=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){x.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),F.push("!=",at)}),L=L.length&&new RegExp(L.join("|")),F=F.length&&new RegExp(F.join("|")),e=mt.test(O.compareDocumentPosition),j=e||mt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return P=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===E||t.ownerDocument===B&&j(B,t)?-1:e===E||e.ownerDocument===B&&j(B,e)?1:M?tt(M,t)-tt(M,e):0:4&n?-1:1)}:function(t,e){if(t===e)return P=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t===E?-1:e===E?1:r?-1:a?1:M?tt(M,t)-tt(M,e):0;if(r===a)return c(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?c(o[i],s[i]):o[i]===B?-1:s[i]===B?1:0}),E},b.matches=function(t,e){return b(t,null,null,e)},b.matchesSelector=function(t,e){if((t.ownerDocument||t)!==E&&I(t),e=e.replace(ut,"='$1']"),x.matchesSelector&&N&&!V[e+" "]&&(!F||!F.test(e))&&(!L||!L.test(e)))try{var n=R.call(t,e);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(St){}return 0<b(e,E,null,[t]).length},b.contains=function(t,e){return(t.ownerDocument||t)!==E&&I(t),j(t,e)},b.attr=function(t,e){(t.ownerDocument||t)!==E&&I(t);var n=k.attrHandle[e.toLowerCase()],i=n&&K.call(k.attrHandle,e.toLowerCase())?n(t,e,!N):undefined;return i!==undefined?i:x.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},b.escape=function(t){return(t+"").replace(wt,xt)},b.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},b.uniqueSort=function(t){var e,n=[],i=0,r=0;if(P=!x.detectDuplicates,M=!x.sortStable&&t.slice(0),t.sort(Y),P){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return M=null,t},C=b.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},(k=b.selectors={cacheLength:50,createPseudo:l,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||b.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&b.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=b.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(ot," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,t,e,g,m){var v="nth"!==f.slice(0,3),_="last"!==f.slice(-4),y="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,r,a,o,s,l,c=v!==_?"nextSibling":"previousSibling",u=t.parentNode,d=y&&t.nodeName.toLowerCase(),h=!n&&!y,p=!1;if(u){if(v){for(;c;){for(o=t;o=o[c];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[_?u.firstChild:u.lastChild],_&&h){for(p=(s=(i=(r=(a=(o=u)[H]||(o[H]={}))[o.uniqueID]||(a[o.uniqueID]={}))[f]||[])[0]===z&&i[1])&&i[2],o=s&&u.childNodes[s];o=++s&&o&&o[c]||(p=s=0)||l.pop();)if(1===o.nodeType&&++p&&o===t){r[f]=[z,s,p];break}}else if(h&&(p=s=(i=(r=(a=(o=t)[H]||(o[H]={}))[o.uniqueID]||(a[o.uniqueID]={}))[f]||[])[0]===z&&i[1]),!1===p)for(;(o=++s&&o&&o[c]||(p=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++p||(h&&((r=(a=o[H]||(o[H]={}))[o.uniqueID]||(a[o.uniqueID]={}))[f]=[z,p]),o!==t)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(t,a){var e,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||b.error("unsupported pseudo: "+t);return o[H]?o(a):1<o.length?(e=[t,t,"",a],k.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=o(t,a),r=i.length;r--;)t[n=tt(t,i[r])]=!(e[n]=i[r])}):function(t){return o(t,0,e)}):o}},pseudos:{not:l(function(t){var i=[],r=[],s=$(t.replace(st,"$1"));return s[H]?l(function(t,e,n,i){for(var r,a=s(t,null,i,[]),o=t.length;o--;)(r=a[o])&&(t[o]=!(e[o]=r))}):function(t,e,n){return i[0]=t,s(i,null,n,r),i[0]=null,!r.pop()}}),has:l(function(e){return function(t){return 0<b(e,t).length}}),contains:l(function(e){return e=e.replace(yt,bt),function(t){return-1<(t.textContent||t.innerText||C(t)).indexOf(e)}}),lang:l(function(n){return ht.test(n||"")||b.error("unsupported lang: "+n),n=n.replace(yt,bt).toLowerCase(),function(t){var e;do{if(e=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===O},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:o(!1),disabled:o(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(
e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:s(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[v]=i(v);for(v in{submit:!0,reset:!0})k.pseudos[v]=a(v);return u.prototype=k.filters=k.pseudos,k.setFilters=new u,T=b.tokenize=function(t,e){var n,i,r,a,o,s,l,c=U[t+" "];if(c)return e?0:c.slice(0);for(o=t,s=[],l=k.preFilter;o;){for(a in n&&!(i=lt.exec(o))||(i&&(o=o.slice(i[0].length)||o),s.push(r=[])),n=!1,(i=ct.exec(o))&&(n=i.shift(),r.push({value:n,type:i[0].replace(st," ")}),o=o.slice(n.length)),k.filter)!(i=pt[a].exec(o))||l[a]&&!(i=l[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),o=o.slice(n.length));if(!n)break}return e?o.length:o?b.error(t):U(t,s).slice(0)},$=b.compile=function(t,e){var n,i=[],r=[],a=V[t+" "];if(!a){for(e||(e=T(t)),n=e.length;n--;)(a=p(e[n]))[H]?i.push(a):r.push(a);(a=V(t,m(r,i))).selector=t}return a},D=b.select=function(t,e,n,i){var r,a,o,s,l,c="function"==typeof t&&t,u=!i&&T(t=c.selector||t);if(n=n||[],1===u.length){if(2<(a=u[0]=u[0].slice(0)).length&&"ID"===(o=a[0]).type&&9===e.nodeType&&N&&k.relative[a[1].type]){if(!(e=(k.find.ID(o.matches[0].replace(yt,bt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(r=pt.needsContext.test(t)?0:a.length;r--&&(o=a[r],!k.relative[s=o.type]);)if((l=k.find[s])&&(i=l(o.matches[0].replace(yt,bt),_t.test(a[0].type)&&f(e.parentNode)||e))){if(a.splice(r,1),!(t=i.length&&g(a)))return J.apply(n,i),n;break}}return(c||$(t,u))(i,e,!N,n,!e||_t.test(t)&&f(e.parentNode)||e),n},x.sortStable=H.split("").sort(Y).join("")===H,x.detectDuplicates=!!P,I(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(E.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),b}(C);xt.find=Ct,xt.expr=Ct.selectors,xt.expr[":"]=xt.expr.pseudos,xt.uniqueSort=xt.unique=Ct.uniqueSort,xt.text=Ct.getText,xt.isXMLDoc=Ct.isXML,xt.contains=Ct.contains,xt.escapeSelector=Ct.escape;var St=function(t,e,n){for(var i=[],r=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&xt(t).is(n))break;i.push(t)}return i},Tt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},$t=xt.expr.match.needsContext,Dt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;xt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?xt.find.matchesSelector(i,t)?[i]:[]:xt.find.matches(t,xt.grep(e,function(t){return 1===t.nodeType}))},xt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(xt(t).filter(function(){for(e=0;e<i;e++)if(xt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)xt.find(t,r[e],n);return 1<i?xt.uniqueSort(n):n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&$t.test(t)?xt(t):t||[],!1).length}});var At,Mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(xt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||At,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):_t(t)?n.ready!==undefined?n.ready(t):t(xt):xt.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:Mt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof xt?e[0]:e,xt.merge(this,xt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:ot,!0)),Dt.test(i[1])&&xt.isPlainObject(e))for(i in e)_t(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=ot.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=xt.fn,At=xt(ot);var Pt=/^(?:parents|prev(?:Until|All))/,It={children:!0,contents:!0,next:!0,prev:!0};xt.fn.extend({has:function(t){var e=xt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(xt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,a=[],o="string"!=typeof t&&xt(t);if(!$t.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&xt.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(1<a.length?xt.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?dt.call(xt(t),this[0]):dt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(xt.uniqueSort(xt.merge(this.get(),xt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),xt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return St(t,"parentNode")},parentsUntil:function(t,e,n){return St(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return St(t,"nextSibling")},prevAll:function(t){return St(t,"previousSibling")},nextUntil:function(t,e,n){return St(t,"nextSibling",n)},prevUntil:function(t,e,n){return St(t,"previousSibling",n)},siblings:function(t){return Tt((t.parentNode||{}).firstChild,t)},children:function(t){return Tt(t.firstChild)},contents:function(t){return c(t,"iframe")?t.contentDocument:(c(t,"template")&&(t=t.content||t),xt.merge([],t.childNodes))}},function(i,r){xt.fn[i]=function(t,e){var n=xt.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=xt.filter(e,n)),1<this.length&&(It[i]||xt.uniqueSort(n),Pt.test(i)&&n.reverse()),this.pushStack(n)}});var Et=/[^\x20\t\r\n\f]+/g;xt.Callbacks=function(i){i="string"==typeof i?u(i):xt.extend({},i);var r,t,e,n,a=[],o=[],s=-1,l=function(){for(n=n||i.once,e=r=!0;o.length;s=-1)for(t=o.shift();++s<a.length;)!1===a[s].apply(t[0],t[1])&&i.stopOnFalse&&(s=a.length,t=!1);i.memory||(t=!1),r=!1,n&&(a=t?[]:"")},c={add:function(){return a&&(t&&!r&&(s=a.length-1,o.push(t)),function n(t){xt.each(t,function(t,e){_t(e)?i.unique&&c.has(e)||a.push(e):e&&e.length&&"string"!==m(e)&&n(e)})}(arguments),t&&!r&&l()),this},remove:function(){return xt.each(arguments,function(t,e){for(var n;-1<(n=xt.inArray(e,a,n));)a.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<xt.inArray(t,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return n=o=[],a=t="",this},disabled:function(){return!a},lock:function(){return n=o=[],t||r||(a=t=""),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],o.push(e),r||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!e}};return c},xt.extend({Deferred:function(t){var a=[["notify","progress",xt.Callbacks("memory"),xt.Callbacks("memory"),2],["resolve","done",xt.Callbacks("once memory"),xt.Callbacks("once memory"),0,"resolved"],["reject","fail",xt.Callbacks("once memory"),xt.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(t){return o.then(null,t)},pipe:function(){var r=arguments;return xt.Deferred(function(i){xt.each(a,function(t,e){var n=_t(r[e[4]])&&r[e[4]];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&_t(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,n?[t]:arguments)})}),r=null}).promise()},then:function(e,n,i){function c(a,o,s,l){return function(){var n=this,i=arguments,e=function(){var t,e;if(!(a<u)){if((t=s.apply(n,i))===o.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,_t(e)?l?e.call(t,c(u,o,d,l),c(u,o,h,l)):(u++,e.call(t,c(u,o,d,l),c(u,o,h,l),c(u,o,d,o.notifyWith))):(s!==d&&(n=undefined,i=[t]),(l||o.resolveWith)(n,i))}},r=l?e:function(){try{e()}catch(t){xt.Deferred.exceptionHook&&xt.Deferred.exceptionHook(t,r.stackTrace),u<=a+1&&(s!==h&&(n=undefined,i=[t]),o.rejectWith(n,i))}};a?r():(xt.Deferred.getStackHook&&(r.stackTrace=xt.Deferred.getStackHook()),C.setTimeout(r))}}var u=0;return xt.Deferred(function(t){a[0][3].add(c(0,t,_t(i)?i:d,t.notifyWith)),a[1][3].add(c(0,t,_t(e)?e:d)),a[2][3].add(c(0,t,_t(n)?n:h))}).promise()},promise:function(t){return null!=t?xt.extend(t,o):o}},s={};return xt.each(a,function(t,e){var n=e[2],i=e[5];o[e[1]]=n.add,i&&n.add(function(){r=i},a[3-t][2].disable,a[3-t][3].disable,a[0][2].lock,a[0][3].lock),n.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?undefined:this,arguments),this},s[e[0]+"With"]=n.fireWith}),o.promise(s),t&&t.call(s,s),s},when:function(t){var n=arguments.length,e=n,i=Array(e),r=lt.call(arguments),a=xt.Deferred(),o=function(e){return function(t){i[e]=this,r[e]=1<arguments.length?lt.call(arguments):t,--n||a.resolveWith(i,r)}};if(n<=1&&(l(t,a.done(o(e)).resolve,a.reject,!n),"pending"===a.state()||_t(r[e]&&r[e].then)))return a.then();for(;e--;)l(r[e],o(e),a.reject);return a.promise()}});var Ot=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;xt.Deferred.exceptionHook=function(t,e){C.console&&C.console.warn&&t&&Ot.test(t.name)&&C.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},xt.readyException=function(t){C.setTimeout(function(){throw t})};var Nt=xt.Deferred();xt.fn.ready=function(t){return Nt.then(t)["catch"](function(t){xt.readyException(t)}),this},xt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--xt.readyWait:xt.isReady)||(xt.isReady=!0)!==t&&0<--xt.readyWait||Nt.resolveWith(ot,[xt])}}),xt.ready.then=Nt.then,"complete"===ot.readyState||"loading"!==ot.readyState&&!ot.documentElement.doScroll?C.setTimeout(xt.ready):(ot.addEventListener("DOMContentLoaded",i),C.addEventListener("load",i));var Lt=function(t,e,n,i,r,a,o){var s=0,l=t.length,c=null==n;if("object"===m(n))for(s in r=!0,n)Lt(t,e,s,n[s],!0,a,o);else if(i!==undefined&&(r=!0,_t(i)||(o=!0),c&&(o?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(xt(t),n)})),e))for(;s<l;s++)e(t[s],n,o?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):l?e(t[0],n):a},Ft=/^-ms-/,Rt=/-([a-z])/g,jt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};a.uid=1,a.prototype={cache:function(t){var e=t[this.expando];return e||(e={},jt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[p(e)]=n;else for(i in e)r[p(i)]=e[i];return r},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][p(e)]},access:function(t,e,n){return e===undefined||e&&"string"==typeof e&&n===undefined?this.get(t,e):(this.set(t,e,n),n!==undefined?n:e)},remove:function(t,e){var n,i=t[this.expando];if(i!==undefined){if(e!==undefined){n=(e=Array.isArray(e)?e.map(p):(e=p(e))in i?[e]:e.match(Et)||[]).length;for(;n--;)delete i[e[n]]}(e===undefined||xt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=undefined:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!xt.isEmptyObject(e)}};var Ht=new a,Bt=new a,zt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Wt=/[A-Z]/g;xt.extend({hasData:function(t){return Bt.hasData(t)||Ht.hasData(t)},data:function(t,e,n){return Bt.access(t,e,n)},removeData:function(t,e){Bt.remove(t,e)},_data:function(t,e,n){return Ht.access(t,e,n)},_removeData:function(t,e){Ht.remove(t,e)}}),xt.fn.extend({data:function(n,t){var e,i,r,a=this[0],o=a&&a.attributes;if(n!==undefined)return"object"==typeof n?this.each(function(){Bt.set(this,n)}):Lt(this,function(t){var e;if(a&&t===undefined)return(e=Bt.get(a,n))!==undefined?e:(e=f(a,n))!==undefined?e:void 0;this.each(function(){Bt.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=Bt.get(a),1===a.nodeType&&!Ht.get(a,"hasDataAttrs"))){for(e=o.length;e--;)o[e]&&0===(i=o[e].name).indexOf("data-")&&(i=p(i.slice(5)),f(a,i,r[i]));Ht.set(a,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){Bt.remove(this,t)})}}),xt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Ht.get(t,e),n&&(!i||Array.isArray(n)?i=Ht.access(t,e,xt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=xt.queue(t,e),i=n.length,r=n.shift(),a=xt._queueHooks(t,e),o=function(){xt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Ht.get(t,n)||Ht.access(t,n,{empty:xt.Callbacks("once memory").add(function(){Ht.remove(t,[e+"queue",n])})})}}),xt.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?xt.queue(this[0],e):n===undefined?this:this.each(function(){var t=xt.queue(this,e,n);xt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&xt.dequeue(this,e)})},dequeue:function(t){return this.each(function(){xt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=xt.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";o--;)(n=Ht.get(a[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ut=new RegExp("^(?:([+-])=|)("+qt+")([a-z%]*)$","i"),Vt=["Top","Right","Bottom","Left"],Yt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&xt.contains(t.ownerDocument,t)&&"none"===xt.css(t,"display")},Kt=function(t,e,n,i){var r,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];for(a in r=n.apply(t,i||[]),e)t.style[a]=o[a];return r},Xt={};xt.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Yt(this)?xt(this).show():xt(this).hide()})}});var Qt=/^(?:checkbox|radio)$/i,Gt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Jt=/^$|^module$|\/(?:java|ecma)script/i,Zt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td;var te,ee,ne=/<|&#?\w+;/;te=ot.createDocumentFragment().appendChild(ot.createElement("div")),(ee=ot.createElement("input")).setAttribute("type","radio"),ee.setAttribute("checked","checked"),ee.setAttribute("name","t"),te.appendChild(ee),vt.checkClone=te.cloneNode(!0).cloneNode(!0).lastChild.checked,te.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!te.cloneNode(!0).lastChild.defaultValue;var ie=ot.documentElement,re=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,oe=/^([^.]*)(?:\.(.+)|)/;xt.event={global:{},add:function(e,t,n,i,r){var a,o,s,l,c,u,d,h,p,f,g,m=Ht.get(e);if(m)for(n.handler&&(n=(a=n).handler,r=a.selector),r&&xt.find.matchesSelector(ie,r),n.guid||(n.guid=xt.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return void 0!==xt&&xt.event.triggered!==t.type?xt.event.dispatch.apply(e,arguments):undefined}),c=(t=(t||"").match(Et)||[""]).length;c--;)p=g=(s=oe.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(d=xt.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=xt.event.special[p]||{},u=xt.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&xt.expr.match.needsContext.test(r),namespace:f.join(".")},a),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,o)||e.addEventListener&&e.addEventListener(p,o)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),xt.event.global[p]=!0)},remove:function(t,e,n,i,r){var a,o,s,l,c,u,d,h,p,f,g,m=Ht.hasData(t)&&Ht.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(Et)||[""]).length;c--;)if(p=g=(s=oe.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=xt.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)u=h[a],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(a,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,f,m.handle)||xt.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)xt.event.remove(t,p+e[c],n,i,!0);xt.isEmptyObject(l)&&Ht.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,a,o,s=xt.event.fix(t),l=new Array(arguments.length),c=(Ht.get(this,"events")||{})[s.type]||[],u=xt.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(o=xt.event.handlers.call(this,s,c),e=0;(r=o[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,(i=((xt.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))!==undefined&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,a,o,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(a=[],o={},n=0;n<l;n++)o[r=(i=e[n]).selector+" "]===undefined&&(o[r]=i.needsContext?-1<xt(r,this).index(c):xt.find(r,this,null,[c]).length),o[r]&&a.push(i);a.length&&s.push({elem:c,handlers:a})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(e,t){Object.defineProperty(xt.Event.prototype,e,{enumerable:!0,configurable:!0,get:_t(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[xt.expando]?t:new xt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&c(this,"input"))return this.click(),!1},_default:function(t){return c(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},xt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},xt.Event=function(t,e){if(!(this instanceof xt.Event))return new xt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?k:S,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&xt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[xt.expando]=!0},xt.Event.prototype={constructor:xt.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=k,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=k,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=k,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},xt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&re.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&e!==undefined&&ae.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},xt.event.addProp),xt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,a){xt.event.special[t]={delegateType:a,bindType:a,handle:function(t){var e,n=this,i=t.relatedTarget,r=t.handleObj;return i&&(i===n||xt.contains(n,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=a),e}}}),xt.fn.extend({on:function(t,e,n,i){return $(this,t,e,n,i)},one:function(t,e,n,i){return $(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,xt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=S),this.each(function(){xt.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this}});var se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,le=/<script|<style|<link/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;xt.extend({htmlPrefilter:function(t){return t.replace(se,"<$1></$2>")},clone:function(t,e,n){var i,r,a,o,s=t.cloneNode(!0),l=xt.contains(t.ownerDocument,t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||xt.isXMLDoc(t)))for(o=b(s),i=0,r=(a=b(t)).length;i<r;i++)I(a[i],o[i]);if(e)if(n)for(a=a||b(t),o=o||b(s),i=0,r=a.length;i<r;i++)P(a[i],o[i]);else P(t,s);return 0<(o=b(s,"script")).length&&w(o,!l&&b(t,"script")),s},cleanData:function(t){for(var e,n,i,r=xt.event.special,a=0;(n=t[a])!==undefined;a++)if(jt(n)){if(e=n[Ht.expando]){if(e.events)for(i in e.events)r[i]?xt.event.remove(n,i):xt.removeEvent(n,i,e.handle);n[Ht.expando]=undefined}n[Bt.expando]&&(n[Bt.expando]=undefined)}}}),xt.fn.extend({detach:function(t){return O(this,t,!0)},remove:function(t){return O(this,t)},text:function(t){return Lt(this,function(t){return t===undefined?xt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return E(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||D(this,t).appendChild(t)})},prepend:function(){return E(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=D(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return E(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(xt.cleanData(b(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return xt.clone(this,t,e)})},html:function(t){return Lt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!le.test(t)&&!Zt[(Gt.exec(t)||["",""])[1].toLowerCase()]){t=xt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(xt.cleanData(b(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return E(this,arguments,function(t){var e=this.parentNode;xt.inArray(this,n)<0&&(xt.cleanData(b(this)),e&&e.replaceChild(t,this))},n)}}),xt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){xt.fn[t]=function(t){for(var e,n=[],i=xt(t),r=i.length-1,a=0;a<=r;a++)e=a===r?this:this.clone(!0),xt(i[a])[o](e),ut.apply(n,e.get());return this.pushStack(n)}});var de=new RegExp("^("+qt+")(?!px)[a-z%]+$","i"),he=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=C),e.getComputedStyle(t)},pe=new RegExp(Vt.join("|"),"i");!function(){function t(){if(l){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(s).appendChild(l);var t=C.getComputedStyle(l);n="1%"!==t.top,o=12===e(t.marginLeft),l.style.right="60%",a=36===e(t.right),i=36===e(t.width),l.style.position="absolute",r=36===l.offsetWidth||"absolute",ie.removeChild(s),l=null}}function e(t){return Math.round(parseFloat(t))}var n,i,r,a,o,s=ot.createElement("div"),l=ot.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===l.style.backgroundClip,xt.extend(vt,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),o},scrollboxSize:function(){return t(),r}}))}();var fe=/^(none|table(?!-c[ea]).+)/,ge=/^--/,me={position:"absolute",visibility:"hidden",display:"block"},ve={letterSpacing:"0",fontWeight:"400"},_e=["Webkit","Moz","ms"],ye=ot.createElement("div").style;xt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=N(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=p(e),l=ge.test(e),c=t.style;if(l||(e=R(s)),o=xt.cssHooks[e]||xt.cssHooks[s],n===undefined)return o&&"get"in o&&(r=o.get(t,!1,i))!==undefined?r:c[e];"string"===(a=typeof n)&&(r=Ut.exec(n))&&r[1]&&(n=v(t,e,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(xt.cssNumber[s]?"":"px")),vt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&(n=o.set(t,n,i))===undefined||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,a,o,s=p(e);return ge.test(e)||(e=R(s)),(o=xt.cssHooks[e]||xt.cssHooks[s])&&"get"in o&&(r=o.get(t,!0,n)),r===undefined&&(r=N(t,e,i)),"normal"===r&&e in ve&&(r=ve[e]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),xt.each(["height","width"],function(t,s){xt.cssHooks[s]={get:function(t,e,n){if(e)return!fe.test(xt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?B(t,s,n):Kt(t,me,function(){return B(t,s,n)})},set:function(t,e,n){var i,r=he(t),a="border-box"===xt.css(t,"boxSizing",!1,r),o=n&&H(t,s,n,a,r);return a&&vt.scrollboxSize()===r.position&&(o-=Math.ceil(t["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(r[s])-H(t,s,"border",!1,r)-.5)),o&&(i=Ut.exec(e))&&"px"!==(i[3]||"px")&&(t.style[s]=e,e=xt.css(t,s)),j(t,e,o)}}}),xt.cssHooks.marginLeft=L(vt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(N(t,"marginLeft"))||t.getBoundingClientRect().left-Kt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),xt.each({margin:"",padding:"",border:"Width"},function(r,a){xt.cssHooks[r+a]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+Vt[e]+a]=i[e]||i[e-2]||i[0];return n}},"margin"!==r&&(xt.cssHooks[r+a].set=j)}),xt.fn.extend({css:function(t,e){return Lt(this,function(t,e,n){var i,r,a={},o=0;if(Array.isArray(e)){for(i=he(t),r=e.length;o<r;o++)a[e[o]]=xt.css(t,e[o],!1,i);return a}return n!==undefined?xt.style(t,e,n):xt.css(t,e)},t,e,1<arguments.length)}}),(xt.Tween=z).prototype={constructor:z,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||xt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(xt.cssNumber[n]?"":"px")},cur:function(){var t=z.propHooks[this.prop];return t&&t.get?t.get(this):z.propHooks._default.get(this)},run:function(t){var e,n=z.propHooks[this.prop];return this.options.duration?this.pos=e=xt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=xt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){xt.fx.step[t.prop]?xt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[xt.cssProps[t.prop]]&&!xt.cssHooks[t.prop]?t.elem[t.prop]=t.now:xt.style(t.elem,t.prop,t.now+t.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},xt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},xt.fx=z.prototype.init,xt.fx.step={};var be,we,xe,ke,Ce=/^(?:toggle|show|hide)$/,Se=/queueHooks$/;xt.Animation=xt.extend(X,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return v(n.elem,t,Ut.exec(e),n),n}]},tweener:function(t,e){_t(t)?(e=t,t=["*"]):t=t.match(Et);for(var n,i=0,r=t.length;i<r;i++)n=t[i],X.tweeners[n]=X.tweeners[n]||[],X.tweeners[n].unshift(e)},prefilters:[Y],prefilter:function(t,e){e?X.prefilters.unshift(t):X.prefilters.push(t)}}),xt.speed=function(t,e,n){var i=t&&"object"==typeof t?xt.extend({},t):{complete:n||!n&&e||_t(t)&&t,duration:t,easing:n&&e||e&&!_t(e)&&e};return xt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in xt.fx.speeds?i.duration=xt.fx.speeds[i.duration]:i.duration=xt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){_t(i.old)&&i.old.call(this),i.queue&&xt.dequeue(this,i.queue)},i},xt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Yt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=xt.isEmptyObject(e),a=xt.speed(t,n,i),o=function(){var t=X(this,xt.extend({},e),a);(r||Ht.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(r,t,a){var o=function(t){var e=t.stop;delete t.stop,e(a)};return"string"!=typeof r&&(a=t,t=r,r=undefined),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=xt.timers,i=Ht.get(this);if(e)i[e]&&i[e].stop&&o(i[e]);else for(e in i)i[e]&&i[e].stop&&Se.test(e)&&o(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(a),t=!1,n.splice(e,1));!t&&a||xt.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var t,e=Ht.get(this),n=e[o+"queue"],i=e[o+"queueHooks"],r=xt.timers,a=n?n.length:0;for(e.finish=!0,xt.queue(this,o,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===o&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),xt.each(["toggle","show","hide"],function(t,i){var r=xt.fn[i];xt.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(U(i,!0),t,e,n)}}),xt.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){xt.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),xt.timers=[],xt.fx.tick=function(){var t,e=0,n=xt.timers;for(be=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||xt.fx.stop(),be=undefined},xt.fx.timer=function(t){xt.timers.push(t),xt.fx.start()},xt.fx.interval=13,xt.fx.start=function(){we||(we=!0,W())},xt.fx.stop=function(){we=null},xt.fx.speeds={slow:600,fast:200,_default:400},xt.fn.delay=function(i,t){return i=xt.fx&&xt.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=C.setTimeout(t,i);e.stop=function(){C.clearTimeout(n)}})},xe=ot.createElement("input"),ke=ot.createElement("select").appendChild(
ot.createElement("option")),xe.type="checkbox",vt.checkOn=""!==xe.value,vt.optSelected=ke.selected,(xe=ot.createElement("input")).value="t",xe.type="radio",vt.radioValue="t"===xe.value;var Te,$e=xt.expr.attrHandle;xt.fn.extend({attr:function(t,e){return Lt(this,xt.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){xt.removeAttr(this,t)})}}),xt.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof t.getAttribute?xt.prop(t,e,n):(1===a&&xt.isXMLDoc(t)||(r=xt.attrHooks[e.toLowerCase()]||(xt.expr.match.bool.test(e)?Te:undefined)),n!==undefined?null===n?void xt.removeAttr(t,e):r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=xt.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&c(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Et);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),Te={set:function(t,e,n){return!1===e?xt.removeAttr(t,n):t.setAttribute(n,n),n}},xt.each(xt.expr.match.bool.source.match(/\w+/g),function(t,e){var o=$e[e]||xt.find.attr;$e[e]=function(t,e,n){var i,r,a=e.toLowerCase();return n||(r=$e[a],$e[a]=i,i=null!=o(t,e,n)?a:null,$e[a]=r),i}});var De=/^(?:input|select|textarea|button)$/i,Ae=/^(?:a|area)$/i;xt.fn.extend({prop:function(t,e){return Lt(this,xt.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[xt.propFix[t]||t]})}}),xt.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&xt.isXMLDoc(t)||(e=xt.propFix[e]||e,r=xt.propHooks[e]),n!==undefined?r&&"set"in r&&(i=r.set(t,n,e))!==undefined?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=xt.find.attr(t,"tabindex");return e?parseInt(e,10):De.test(t.nodeName)||Ae.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),vt.optSelected||(xt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),xt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){xt.propFix[this.toLowerCase()]=this}),xt.fn.extend({addClass:function(e){var t,n,i,r,a,o,s,l=0;if(_t(e))return this.each(function(t){xt(this).addClass(e.call(this,t,G(this)))});if((t=J(e)).length)for(;n=this[l++];)if(r=G(n),i=1===n.nodeType&&" "+Q(r)+" "){for(o=0;a=t[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=Q(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,a,o,s,l=0;if(_t(e))return this.each(function(t){xt(this).removeClass(e.call(this,t,G(this)))});if(!arguments.length)return this.attr("class","");if((t=J(e)).length)for(;n=this[l++];)if(r=G(n),i=1===n.nodeType&&" "+Q(r)+" "){for(o=0;a=t[o++];)for(;-1<i.indexOf(" "+a+" ");)i=i.replace(" "+a+" "," ");r!==(s=Q(i))&&n.setAttribute("class",s)}return this},toggleClass:function(r,e){var a=typeof r,o="string"===a||Array.isArray(r);return"boolean"==typeof e&&o?e?this.addClass(r):this.removeClass(r):_t(r)?this.each(function(t){xt(this).toggleClass(r.call(this,t,G(this),e),e)}):this.each(function(){var t,e,n,i;if(o)for(e=0,n=xt(this),i=J(r);t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else r!==undefined&&"boolean"!==a||((t=G(this))&&Ht.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===r?"":Ht.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+Q(G(n))+" ").indexOf(e))return!0;return!1}});var Me=/\r/g;xt.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=_t(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,xt(this).val()):n)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=xt.map(e,function(t){return null==t?"":t+""})),(i=xt.valHooks[this.type]||xt.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=xt.valHooks[e.type]||xt.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Me,""):null==t?"":t:void 0}}),xt.extend({valHooks:{option:{get:function(t){var e=xt.find.attr(t,"value");return null!=e?e:Q(xt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,a=t.selectedIndex,o="select-one"===t.type,s=o?null:[],l=o?a+1:r.length;for(i=a<0?l:o?a:0;i<l;i++)if(((n=r[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(e=xt(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,a=xt.makeArray(e),o=r.length;o--;)((i=r[o]).selected=-1<xt.inArray(xt.valHooks.option.get(i),a))&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),xt.each(["radio","checkbox"],function(){xt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<xt.inArray(xt(t).val(),e)}},vt.checkOn||(xt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),vt.focusin="onfocusin"in C;var Pe=/^(?:focusinfocus|focusoutblur)$/,Ie=function(t){t.stopPropagation()};xt.extend(xt.event,{trigger:function(t,e,n,i){var r,a,o,s,l,c,u,d,h=[n||ot],p=ft.call(t,"type")?t.type:t,f=ft.call(t,"namespace")?t.namespace.split("."):[];if(a=d=o=n=n||ot,3!==n.nodeType&&8!==n.nodeType&&!Pe.test(p+xt.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),l=p.indexOf(":")<0&&"on"+p,(t=t[xt.expando]?t:new xt.Event(p,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:xt.makeArray(e,[t]),u=xt.event.special[p]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!yt(n)){for(s=u.delegateType||p,Pe.test(s+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),o=a;o===(n.ownerDocument||ot)&&h.push(o.defaultView||o.parentWindow||C)}for(r=0;(a=h[r++])&&!t.isPropagationStopped();)d=a,t.type=1<r?s:u.bindType||p,(c=(Ht.get(a,"events")||{})[t.type]&&Ht.get(a,"handle"))&&c.apply(a,e),(c=l&&a[l])&&c.apply&&jt(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(h.pop(),e)||!jt(n)||l&&_t(n[p])&&!yt(n)&&((o=n[l])&&(n[l]=null),xt.event.triggered=p,t.isPropagationStopped()&&d.addEventListener(p,Ie),n[p](),t.isPropagationStopped()&&d.removeEventListener(p,Ie),xt.event.triggered=undefined,o&&(n[l]=o)),t.result}},simulate:function(t,e,n){var i=xt.extend(new xt.Event,n,{type:t,isSimulated:!0});xt.event.trigger(i,null,e)}}),xt.fn.extend({trigger:function(t,e){return this.each(function(){xt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return xt.event.trigger(t,e,n,!0)}}),vt.focusin||xt.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(t){xt.event.simulate(i,t.target,xt.event.fix(t))};xt.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=Ht.access(t,i);e||t.addEventListener(n,r,!0),Ht.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=Ht.access(t,i)-1;e?Ht.access(t,i,e):(t.removeEventListener(n,r,!0),Ht.remove(t,i))}}});var Ee=C.location,Oe=Date.now(),Ne=/\?/;xt.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new C.DOMParser).parseFromString(t,"text/xml")}catch(n){e=undefined}return e&&!e.getElementsByTagName("parsererror").length||xt.error("Invalid XML: "+t),e};var Le=/\[\]$/,Fe=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,je=/^(?:input|select|textarea|keygen)/i;xt.param=function(t,e){var n,i=[],r=function(t,e){var n=_t(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!xt.isPlainObject(t))xt.each(t,function(){r(this.name,this.value)});else for(n in t)Z(n,t[n],e,r);return i.join("&")},xt.fn.extend({serialize:function(){return xt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=xt.prop(this,"elements");return t?xt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!xt(this).is(":disabled")&&je.test(this.nodeName)&&!Re.test(t)&&(this.checked||!Qt.test(t))}).map(function(t,e){var n=xt(this).val();return null==n?null:Array.isArray(n)?xt.map(n,function(t){return{name:e.name,value:t.replace(Fe,"\r\n")}}):{name:e.name,value:n.replace(Fe,"\r\n")}}).get()}});var He=/%20/g,Be=/#.*$/,ze=/([?&])_=[^&]*/,We=/^(.*?):[ \t]*([^\r\n]*)$/gm,qe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,Ve=/^\/\//,Ye={},Ke={},Xe="*/".concat("*"),Qe=ot.createElement("a");Qe.href=Ee.href,xt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:qe.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":xt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?nt(nt(t,xt.ajaxSettings),e):nt(xt.ajaxSettings,t)},ajaxPrefilter:tt(Ye),ajaxTransport:tt(Ke),ajax:function(t,e){function n(t,e,n,i){var r,a,o,s,l,c=e;f||(f=!0,p&&C.clearTimeout(p),u=undefined,h=i||"",x.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(s=it(m,x,n)),s=rt(m,s,x,r),r?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(xt.lastModified[d]=l),(l=x.getResponseHeader("etag"))&&(xt.etag[d]=l)),204===t||"HEAD"===m.type?c="nocontent":304===t?c="notmodified":(c=s.state,a=s.data,r=!(o=s.error))):(o=c,!t&&c||(c="error",t<0&&(t=0))),x.status=t,x.statusText=(e||c)+"",r?y.resolveWith(v,[a,c,x]):y.rejectWith(v,[x,c,o]),x.statusCode(w),w=undefined,g&&_.trigger(r?"ajaxSuccess":"ajaxError",[x,m,r?a:o]),b.fireWith(v,[x,c]),g&&(_.trigger("ajaxComplete",[x,m]),--xt.active||xt.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var u,d,h,i,p,r,f,g,a,o,m=xt.ajaxSetup({},e),v=m.context||m,_=m.context&&(v.nodeType||v.jquery)?xt(v):xt.event,y=xt.Deferred(),b=xt.Callbacks("once memory"),w=m.statusCode||{},s={},l={},c="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(f){if(!i)for(i={};e=We.exec(h);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return f?h:null},setRequestHeader:function(t,e){return null==f&&(t=l[t.toLowerCase()]=l[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==f&&(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)x.always(t[x.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||c;return u&&u.abort(e),n(0,e),this}};if(y.promise(x),m.url=((t||m.url||Ee.href)+"").replace(Ve,Ee.protocol+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(Et)||[""],null==m.crossDomain){r=ot.createElement("a");try{r.href=m.url,r.href=r.href,m.crossDomain=Qe.protocol+"//"+Qe.host!=r.protocol+"//"+r.host}catch(k){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=xt.param(m.data,m.traditional)),et(Ye,m,e,x),f)return x;for(a in(g=xt.event&&m.global)&&0==xt.active++&&xt.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ue.test(m.type),d=m.url.replace(Be,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(He,"+")):(o=m.url.slice(d.length),m.data&&(m.processData||"string"==typeof m.data)&&(d+=(Ne.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(d=d.replace(ze,"$1"),o=(Ne.test(d)?"&":"?")+"_="+Oe+++o),m.url=d+o),m.ifModified&&(xt.lastModified[d]&&x.setRequestHeader("If-Modified-Since",xt.lastModified[d]),xt.etag[d]&&x.setRequestHeader("If-None-Match",xt.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Xe+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(a,m.headers[a]);if(m.beforeSend&&(!1===m.beforeSend.call(v,x,m)||f))return x.abort();if(c="abort",b.add(m.complete),x.done(m.success),x.fail(m.error),u=et(Ke,m,e,x)){if(x.readyState=1,g&&_.trigger("ajaxSend",[x,m]),f)return x;m.async&&0<m.timeout&&(p=C.setTimeout(function(){x.abort("timeout")},m.timeout));try{f=!1,u.send(s,n)}catch(k){if(f)throw k;n(-1,k)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return xt.get(t,e,n,"json")},getScript:function(t,e){return xt.get(t,undefined,e,"script")}}),xt.each(["get","post"],function(t,r){xt[r]=function(t,e,n,i){return _t(e)&&(i=i||n,n=e,e=undefined),xt.ajax(xt.extend({url:t,type:r,dataType:i,data:e,success:n},xt.isPlainObject(t)&&t))}}),xt._evalUrl=function(t){return xt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},xt.fn.extend({wrapAll:function(t){var e;return this[0]&&(_t(t)&&(t=t.call(this[0])),e=xt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return _t(n)?this.each(function(t){xt(this).wrapInner(n.call(this,t))}):this.each(function(){var t=xt(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=_t(e);return this.each(function(t){xt(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){xt(this).replaceWith(this.childNodes)}),this}}),xt.expr.pseudos.hidden=function(t){return!xt.expr.pseudos.visible(t)},xt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},xt.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(t){}};var Ge={0:200,1223:204},Je=xt.ajaxSettings.xhr();vt.cors=!!Je&&"withCredentials"in Je,vt.ajax=Je=!!Je,xt.ajaxTransport(function(a){var o,s;if(vt.cors||Je&&!a.crossDomain)return{send:function(t,e){var n,i=a.xhr();if(i.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(n in a.xhrFields)i[n]=a.xhrFields[n];for(n in a.mimeType&&i.overrideMimeType&&i.overrideMimeType(a.mimeType),a.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(o=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(Ge[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),s=i.onerror=i.ontimeout=o("error"),i.onabort!==undefined?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&C.setTimeout(function(){o&&s()})},o=o("abort");try{i.send(a.hasContent&&a.data||null)}catch(r){if(o)throw r}},abort:function(){o&&o()}}}),xt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),xt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return xt.globalEval(t),t}}}),xt.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),xt.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=xt("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),ot.head.appendChild(i[0])},abort:function(){r&&r()}}});var Ze,tn=[],en=/(=)\?(?=&|$)|\?\?/;xt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||xt.expando+"_"+Oe++;return this[t]=!0,t}}),xt.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,a,o=!1!==t.jsonp&&(en.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=_t(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(en,"$1"+i):!1!==t.jsonp&&(t.url+=(Ne.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||xt.error(i+" was not called"),a[0]},t.dataTypes[0]="json",r=C[i],C[i]=function(){a=arguments},n.always(function(){r===undefined?xt(C).removeProp(i):C[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,tn.push(i)),a&&_t(r)&&r(a[0]),a=r=undefined}),"script"}),vt.createHTMLDocument=((Ze=ot.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ze.childNodes.length),xt.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(vt.createHTMLDocument?((i=(e=ot.implementation.createHTMLDocument("")).createElement("base")).href=ot.location.href,e.head.appendChild(i)):e=ot),a=!n&&[],(r=Dt.exec(t))?[e.createElement(r[1])]:(r=x([t],e,a),a&&a.length&&xt(a).remove(),xt.merge([],r.childNodes)));var i,r,a},xt.fn.load=function(t,e,n){var i,r,a,o=this,s=t.indexOf(" ");return-1<s&&(i=Q(t.slice(s)),t=t.slice(0,s)),_t(e)?(n=e,e=undefined):e&&"object"==typeof e&&(r="POST"),0<o.length&&xt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?xt("<div>").append(xt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},xt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){xt.fn[e]=function(t){return this.on(e,t)}}),xt.expr.pseudos.animated=function(e){return xt.grep(xt.timers,function(t){return e===t.elem}).length},xt.offset={setOffset:function(t,e,n){var i,r,a,o,s,l,c=xt.css(t,"position"),u=xt(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),a=xt.css(t,"top"),l=xt.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<(a+l).indexOf("auto")?(o=(i=u.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),_t(e)&&(e=e.call(t,n,xt.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):u.css(d)}},xt.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){xt.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===xt.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===xt.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=xt(t).offset()).top+=xt.css(t,"borderTopWidth",!0),r.left+=xt.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-xt.css(i,"marginTop",!0),left:e.left-r.left-xt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===xt.css(t,"position");)t=t.offsetParent;return t||ie})}}),xt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var a="pageYOffset"===r;xt.fn[e]=function(t){return Lt(this,function(t,e,n){var i;if(yt(t)?i=t:9===t.nodeType&&(i=t.defaultView),n===undefined)return i?i[r]:t[e];i?i.scrollTo(a?i.pageXOffset:n,a?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),xt.each(["top","left"],function(t,n){xt.cssHooks[n]=L(vt.pixelPosition,function(t,e){if(e)return e=N(t,n),de.test(e)?xt(t).position()[n]+"px":e})}),xt.each({Height:"height",Width:"width"},function(o,s){xt.each({padding:"inner"+o,content:s,"":"outer"+o},function(i,a){xt.fn[a]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return Lt(this,function(t,e,n){var i;return yt(t)?0===a.indexOf("outer")?t["inner"+o]:t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):n===undefined?xt.css(t,e,r):xt.style(t,e,n,r)},s,n?t:undefined,n)}})}),xt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){xt.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),xt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),xt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),xt.proxy=function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),_t(t)?(i=lt.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(lt.call(arguments)))}).guid=t.guid=t.guid||xt.guid++,r):undefined},xt.holdReady=function(t){t?xt.readyWait++:xt.ready(!0)},xt.isArray=Array.isArray,xt.parseJSON=JSON.parse,xt.nodeName=c,xt.isFunction=_t,xt.isWindow=yt,xt.camelCase=p,xt.type=m,xt.now=Date.now,xt.isNumeric=function(t){var e=xt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return xt});var nn=C.jQuery,rn=C.$;return xt.noConflict=function(t){return C.$===xt&&(C.$=rn),t&&C.jQuery===xt&&(C.jQuery=nn),xt},t||(C.jQuery=C.$=xt),xt}),function(u,l){"use strict";var c;u.rails!==l&&u.error("jquery-ujs has already been loaded!");var t=u(document);u.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return u("meta[name=csrf-token]").attr("content")},csrfParam:function(){return u("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=c.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){u('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(t,e,n){var i=u.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return u.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==l&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,r,a,o;if(c.fire(i,"ajax:before")){if(r=i.data("with-credentials")||null,a=i.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=u(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(c.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(c.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=c.href(i),n=i.data("params")||null);return o={type:t||"GET",data:n,dataType:a,beforeSend:function(t,e){if(e.dataType===l&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!c.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:c.isCrossDomain(e)},r&&(o.xhrFields={withCredentials:r}),e&&(o.url=e),c.ajax(o)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=c.href(t),n=t.data("method"),i=t.attr("target"),r=c.csrfToken(),a=c.csrfParam(),o=u('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';a===l||r===l||c.isCrossDomain(e)||(s+='<input name="'+a+'" value="'+r+'" type="hidden" />'),i&&o.attr("target",i),o.hide().append(s).appendTo("body"),o.submit()},formElements:function(t,e){return t.is("form")?u(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){c.formElements(t,c.disableSelector).each(function(){c.disableFormElement(u(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==l&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){c.formElements(t,c.enableSelector).each(function(){c.enableFormElement(u(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==l&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(c.fire(t,"confirm")){try{i=c.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}e=c.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,r,a,o=u(),s=e||"input,textarea",l=t.find(s),c={};return l.each(function(){(i=u(this)).is("input[type=radio]")?(a=i.attr("name"),c[a]||(0===t.find('input[type=radio]:checked[name="'+a+'"]').length&&(r=t.find('input[type=radio][name="'+a+'"]'),o=o.add(r)),c[a]=a)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(o=o.add(i))}),!!o.length&&o},nonBlankInputs:function(t,e){return c.blankInputs(t,e,!0)},stopEverything:function(t){return u(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==l&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return c.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==l&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},c.fire(t,"rails:attachBindings")&&(u.ajaxPrefilter(function(t,e,n){t.crossDomain||c.CSRFProtection(n)}),u(window).on("pageshow.rails",function(){u(u.rails.enableSelector).each(function(){var t=u(this);t.data("ujs:disabled")&&u.rails.enableFormElement(t)}),u(u.rails.linkDisableSelector).each(function(){var t=u(this);t.data("ujs:disabled")&&u.rails.enableElement(t)})}),t.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(u(this))}),t.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(u(this))}),t.on("click.rails",c.linkClickSelector,function(t){var e=u(this),n=e.data("method"),i=e.data("params"),r=t.metaKey||t.ctrlKey;if(!c.allowAction(e))return c.stopEverything(t);if(!r&&e.is(c.linkDisableSelector)&&c.disableElement(e),c.isRemote(e)){if(r&&(!n||"GET"===n)&&!i)return!0;var a=c.handleRemote(e);return!1===a?c.enableElement(e):a.fail(function(){c.enableElement(e)}),!1}return n?(c.handleMethod(e),!1):void 0}),t.on("click.rails",c.buttonClickSelector,function(t){var e=u(this);if(!c.allowAction(e)||!c.isRemote(e))return c.stopEverything(t);e.is(c.buttonDisableSelector)&&c.disableFormElement(e);var n=c.handleRemote(e);return!1===n?c.enableFormElement(e):n.fail(function(){c.enableFormElement(e)}),!1}),t.on("change.rails",c.inputChangeSelector,function(t){var e=u(this);return c.allowAction(e)&&c.isRemote(e)?(c.handleRemote(e),!1):c.stopEverything(t)}),t.on("submit.rails",c.formSubmitSelector,function(t){var e,n,i=u(this),r=c.isRemote(i);if(!c.allowAction(i))return c.stopEverything(t);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((e=c.blankInputs(i,c.requiredInputSelector,!1))&&c.fire(i,"ajax:aborted:required",[e]))return c.stopEverything(t)}else i.data("ujs:formnovalidate-button",l);if(r){if(n=c.nonBlankInputs(i,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(i)},13);var a=c.fire(i,"ajax:aborted:file",[n]);return a||setTimeout(function(){c.enableFormElements(i)},13),a}return c.handleRemote(i),!1}setTimeout(function(){c.disableFormElements(i)},13)}),t.on("click.rails",c.formInputClickSelector,function(t){var e=u(this);if(!c.allowAction(e))return c.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,r=e.closest("form");0===r.length&&(r=u("#"+e.attr("form"))),r.data("ujs:submit-button",i),r.data("ujs:formnovalidate-button",e.attr("formnovalidate")),r.data("ujs:submit-button-formaction",e.attr("formaction")),r.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",c.formSubmitSelector,function(t){this===t.target&&c.disableFormElements(u(this))}),t.on("ajax:complete.rails",c.formSubmitSelector,function(t){this===t.target&&c.enableFormElements(u(this))}),u(function(){c.refreshCSRFTokens()}))}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(a){"use strict";function t(n){return this.each(function(){var t=a(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new o(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',o=function(t){a(t).on("click",e,this.close)};o.VERSION="3.3.7",o.TRANSITION_DURATION=150,o.prototype.close=function(t){function e(){r.detach().trigger("closed.bs.alert").remove()}var n=a(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=a("#"===i?[]:i);t&&t.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(t=a.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),a.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(o.TRANSITION_DURATION):e())};var n=a.fn.alert;a.fn.alert=t,a.fn.alert.Constructor=o,a.fn.alert.noConflict=function(){return a.fn.alert=n,this},a(document).on("click.bs.alert.data-api",e,o.prototype.close)}(jQuery),function(a){"use strict";function n(i){return this.each(function(){var t=a(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new r(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var r=function(t,e){this.$element=a(t),this.options=a.extend({},r.DEFAULTS,e),this.isLoading=!1};r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(a.proxy(function(){n[i](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},r.prototype.toggle=function(){var t=!0,e=this.$element.closest(
'[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=a.fn.button;a.fn.button=n,a.fn.button.Constructor=r,a.fn.button.noConflict=function(){return a.fn.button=t,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=a(t.target).closest(".btn");n.call(e,"toggle"),a(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){a(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(d){"use strict";function o(r){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},h.DEFAULTS,t.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof r?e.to(r):i?e[i]():n.interval&&e.pause().cycle()})}var h=function(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),r=this.interval,a="next"==t?"left":"right",o=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:a});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:a});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(a),i.addClass(a),n.one("bsTransitionEnd",function(){i.removeClass([t,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),o.sliding=!1,setTimeout(function(){o.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=o,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};var e=function(t){var e,n=d(this),i=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=d.extend({},i.data(),n.data()),a=n.attr("data-slide-to");a&&(r.interval=!1),o.call(i,r),a&&i.data("bs.carousel").to(a),t.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);o.call(t,t.data())})})}(jQuery),function(s){"use strict";function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function a(i){i&&3===i.which||(s(e).remove(),s(c).each(function(){var t=s(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(e[0],i.target)||(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",c='[data-toggle="dropdown"]',i=function(t){s(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(a(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",a);var r={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",r)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(c).trigger("focus"),e.trigger("click");var r=" li:not(.disabled):visible a",a=n.find(".dropdown-menu"+r);if(a.length){var o=a.index(t.target);38==t.which&&0<o&&o--,40==t.which&&o<a.length-1&&o++,~o||(o=0),a.eq(o).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",a).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",c,i.prototype.toggle).on("keydown.bs.dropdown.data-api",c,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(a){"use strict";function o(i,r){return this.each(function(){var t=a(this),e=t.data("bs.modal"),n=a.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](r):n.show&&e.show(r)})}var s=function(t,e){this.options=e,this.$body=a(document.body),this.$element=a(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=a.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){a(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=a.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=a.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=a.support.transition&&n;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){e.removeBackdrop(),t&&t()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=a.fn.modal;a.fn.modal=o,a.fn.modal.Constructor=s,a.fn.modal.noConflict=function(){return a.fn.modal=t,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=a(this),n=e.attr("href"),i=a(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),o.call(i,r,this)})}(jQuery),function(g){"use strict";function t(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new m(this,n)),"string"==typeof i&&e[i]())})}var m=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var a=i[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=a){var o="hover"==a?"mouseenter":"focusin",s="hover"==a?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,s=o.test(a);s&&(a=a.replace(o,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var d=a,h=this.getPosition(this.$viewport);a="bottom"==a&&l.bottom+u>h.bottom?"top":"top"==a&&l.top-u<h.top?"bottom":"right"==a&&l.right+c>h.width?"left":"left"==a&&l.left-c<h.left?"right":a,i.removeClass(d).addClass(a)}var p=this.getCalculatedOffset(a,l,c,u);this.applyPlacement(p,a);var f=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(m.TRANSITION_DURATION):f()}},m.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),o=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(o)&&(o=0),t.top+=a,t.left+=o,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=r&&(t.top=t.top+r-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(e),d=u?2*c.left-i+s:2*c.top-r+l,h=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][h],u)},m.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=g(this.$tip),r=g.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(m.TRANSITION_DURATION):e(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&e instanceof window.SVGElement,a=n?{top:0,left:0}:r?null:t.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,o,s,a)},m.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-a-o.scroll,l=e.top+a-o.scroll+i;s<o.top?r.top=o.top-s:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var c=e.left-a,u=e.left+a+n;c<o.left?r.left=o.left-c:u>o.right&&(r.left=o.left+o.width-u)}return r},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var e=g.fn.tooltip;g.fn.tooltip=t,g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=e,this}}(jQuery),function(r){"use strict";function t(i){return this.each(function(){var t=r(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new a(this,n)),"string"==typeof i&&e[i]())})}var a=function(t,e){this.init("popover",t,e)};if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");a.VERSION="3.3.7",a.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=r.extend({},r.fn.tooltip.Constructor.prototype),(a.prototype.constructor=a).prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=r.fn.popover;r.fn.popover=t,r.fn.popover.Constructor=a,r.fn.popover.noConflict=function(){return r.fn.popover=e,this}}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new o(this)),"string"==typeof n&&e[n]()})}var o=function(t){this.element=s(t)};o.VERSION="3.3.7",o.TRANSITION_DURATION=150,o.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:t[0]}),a=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),t.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var o=s(n);this.activate(t.closest("li"),e),this.activate(o,o.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},o.prototype.activate=function(t,e,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=e.find("> .active"),a=n&&s.support.transition&&(r.length&&r.hasClass("fade")||!!e.find("> .fade").length);r.length&&a?r.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i(),r.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=o,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),a=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=a.top)&&"bottom":!(r+o<=t-i)&&"bottom";var s=null==this.affixed,l=s?r:a.top;return null!=n&&r<=n?"top":null!=i&&t-i<=l+(s?o:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,r=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var a=this.getState(r,t,n,i);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var o="affix"+(a?"-"+a:""),s=l.Event(o+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(o).trigger(o.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:r-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(o){"use strict";function r(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return o(n)}function s(i){return this.each(function(){var t=o(this),e=t.data("bs.collapse"),n=o.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=o(t),this.options=o.extend({},l.DEFAULTS,e),this.$trigger=o('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=o.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!o.support.transition)return r.call(this);var a=o.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",o.proxy(r,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][a])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=o.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!o.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",o.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return o(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(o.proxy(function(t,e){var n=o(e);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=o.fn.collapse;o.fn.collapse=s,o.fn.collapse.Constructor=l,o.fn.collapse.noConflict=function(){return o.fn.collapse=t,this},o(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=o(this);e.attr("data-target")||t.preventDefault();var n=r(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(a){"use strict";function r(t,e){this.$body=a(document.body),this.$scrollElement=a(t).is(document.body)?a(window):a(t),this.options=a.extend({},r.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=a(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new r(this,n)),"string"==typeof i&&e[i]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=a(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&a(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,
e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},r.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return o!=(t=a[a.length-1])&&this.activate(t);if(o&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)o!=a[t]&&e>=r[t]&&(r[t+1]===undefined||e<r[t+1])&&this.activate(a[t])},r.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=a(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=a.fn.scrollspy;a.fn.scrollspy=e,a.fn.scrollspy.Constructor=r,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=t,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var t=a(this);e.call(t,t.data())})})}(jQuery),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(e,n){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(t){return e.Bloodhound=n(t)}):"object"==typeof exports?module.exports=n(require("jquery")):e.Bloodhound=n(jQuery)}(this,function(p){var f=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:p.isArray,isFunction:p.isFunction,isObject:p.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof p},toStr:function e(t){return f.isUndefined(t)||null===t?"":t+""},bind:p.proxy,each:function(t,n){function e(t,e){return n(e,t)}p.each(t,e)},map:p.map,filter:p.grep,every:function(n,i){var r=!0;return n?(p.each(n,function(t,e){if(!(r=i.call(null,e,t,n)))return!1}),!!r):r},some:function(n,i){var r=!1;return n?(p.each(n,function(t,e){if(r=i.call(null,e,t,n))return!1}),!!r):r},mixin:p.extend,identity:function(t){return t},clone:function(t){return p.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function n(t){function e(){return String(t)}return p.isFunction(t)?t:e},defer:function(t){setTimeout(t,0)},debounce:function(r,a,o){var s,l;return function(){var t,e,n=this,i=arguments;return t=function(){s=null,o||(l=r.apply(n,i))},e=o&&!s,clearTimeout(s),s=setTimeout(t,a),e&&(l=r.apply(n,i)),l}},throttle:function(n,i){var r,a,o,s,l,c;return l=0,c=function(){l=new Date,o=null,s=n.apply(r,a)},function(){var t=new Date,e=i-(t-l);return r=this,a=arguments,e<=0?(clearTimeout(o),o=null,l=t,s=n.apply(r,a)):o||(o=setTimeout(c,e)),s}},stringify:function(t){return f.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),l="0.11.1",g=function(){"use strict";function t(t){return(t=f.toStr(t))?t.split(/\s+/):[]}function e(t){return(t=f.toStr(t))?t.split(/\W+/):[]}function n(r){return function e(t){return t=f.isArray(t)?t:[].slice.call(arguments,0),function i(e){var n=[];return f.each(t,function(t){n=n.concat(r(f.toStr(e[t])))}),n}}}return{nonword:e,whitespace:t,obj:{nonword:n(e),whitespace:n(t)}}}(),a=function(){"use strict";function t(t){this.maxSize=f.isNumber(t)?t:100,this.reset(),this.maxSize<=0&&(this.set=this.get=p.noop)}function e(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return f.mixin(t.prototype,{set:function a(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new r(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function n(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function i(){this.size=0,this.hash={},this.list=new e}}),f.mixin(e.prototype,{add:function o(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function s(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),t}(),o=function(){"use strict";function t(t,e){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+f.escapeRegExChars(this.prefix)),this.ls=e||o,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(t){return JSON.stringify(f.isUndefined(t)?null:t)}function n(t){return p.parseJSON(t)}function a(t){var e,n,i=[],r=o.length;for(e=0;e<r;e++)(n=o.key(e)).match(t)&&i.push(n.replace(t,""));return i}var o;try{(o=window.localStorage).setItem("~~~","!"),o.removeItem("~~~")}catch(s){o=null}return f.mixin(t.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=f.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(s){"QuotaExceededError"===s.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),n(this.ls.getItem(this._prefix(t)))},set:function(t,e,n){return f.isNumber(n)?this._safeSet(this._ttlKey(t),r(i()+n)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(e))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=a(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var e=n(this.ls.getItem(this._ttlKey(t)));return!!(f.isNumber(e)&&i()>e)}}),t}(),m=function(){"use strict";function t(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new a(0):e}var l=0,c={},u=6,e=new a(10);return t.setMaxPendingRequests=function n(t){u=t},t.resetCache=function i(){e.reset()},f.mixin(t.prototype,{_fingerprint:function r(t){return(t=t||{}).url+t.type+p.param(t.data||{})},_get:function(t,e){function n(t){e(null,t),s._cache.set(a,t)}function i(){e(!0)}function r(){l--,delete c[a],s.onDeckRequestArgs&&(s._get.apply(s,s.onDeckRequestArgs),s.onDeckRequestArgs=null)}var a,o,s=this;a=this._fingerprint(t),this.cancelled||a!==this.lastReq||((o=c[a])?o.done(n).fail(i):l<u?(l++,c[a]=this._send(t).done(n).fail(i).always(r)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,e){var n,i;e=e||p.noop,t=f.isString(t)?{url:t}:t||{},i=this._fingerprint(t),this.cancelled=!1,this.lastReq=i,(n=this._cache.get(i))?e(null,n):this._get(t,e)},cancel:function(){this.cancelled=!0}}),t}(),v=window.SearchIndex=function(){"use strict";function t(t){(t=t||{}).datumTokenizer&&t.queryTokenizer||p.error("datumTokenizer and queryTokenizer are both required"),this.identify=t.identify||f.stringify,this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.reset()}function n(t){return t=f.filter(t,function(t){return!!t}),t=f.map(t,function(t){return t.toLowerCase()})}function o(){var t={};return t[c]=[],t[l]={},t}function i(t){for(var e={},n=[],i=0,r=t.length;i<r;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){var n=0,i=0,r=[];t=t.sort(),e=e.sort();for(var a=t.length,o=e.length;n<a&&i<o;)t[n]<e[i]?n++:(t[n]>e[i]||(r.push(t[n]),n++),i++);return r}var l="c",c="i";return f.mixin(t.prototype,{bootstrap:function e(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var a=this;t=f.isArray(t)?t:[t],f.each(t,function(t){var r,e;a.datums[r=a.identify(t)]=t,e=n(a.datumTokenizer(t)),f.each(e,function(t){var e,n,i;for(e=a.trie,n=t.split("");i=n.shift();)(e=e[l][i]||(e[l][i]=o()))[c].push(r)})})},get:function r(t){var e=this;return f.map(t,function(t){return e.datums[t]})},search:function u(t){var e,a,o=this;return e=n(this.queryTokenizer(t)),f.each(e,function(t){var e,n,i,r;if(a&&0===a.length)return!1;for(e=o.trie,n=t.split("");e&&(i=n.shift());)e=e[l][i];if(!e||0!==n.length)return!(a=[]);r=e[c].slice(0),a=a?s(a,r):r}),a?f.map(i(a),function(t){return o.datums[t]}):[]},all:function a(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function d(){this.datums={},this.trie=o()},serialize:function h(){return{datums:this.datums,trie:this.trie}}}),t}(),_=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},f.mixin(t.prototype,{_settings:function e(){return{url:this.url,type:"GET",dataType:"json"}},store:function i(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function r(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(e){function t(){e(!0)}function n(t){e(null,r.transform(t))}var i,r=this;e&&(i=this.prepare(this._settings()),this.transport(i).fail(t).done(n))},clear:function a(){return this.storage.clear(),this}}),t}(),y=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new m({cache:t.cache,limiter:t.limiter,transport:t.transport})}return f.mixin(t.prototype,{_settings:function e(){return{url:this.url,type:"GET",dataType:"json"}},get:function a(t,n){function e(t,e){n(t?[]:r.transform(e))}var i,r=this;if(n)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,e)},cancelLastRequest:function n(){this.transport.cancel()}}),t}(),b=function(){"use strict";function i(t){var e;return t?(e={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:f.identity,transform:f.identity,transport:null},t=f.isString(t)?{url:t}:t,!(t=f.mixin(e,t)).url&&p.error("prefetch requires url to be set"),t.transform=t.filter||t.transform,t.cacheKey=t.cacheKey||t.url,t.thumbprint=l+t.thumbprint,t.transport=t.transport?o(t.transport):p.ajax,t):null}function r(t){var e;if(t)return e={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:f.identity,transport:null},t=f.isString(t)?{url:t}:t,!(t=f.mixin(e,t)).url&&p.error("remote requires url to be set"),t.transform=t.filter||t.transform,t.prepare=n(t),t.limiter=a(t),t.transport=t.transport?o(t.transport):p.ajax,delete t.replace,delete t.wildcard,delete t.rateLimitBy,delete t.rateLimitWait,t}function n(t){function e(t,e){return e.url=a(e.url,t),e}function n(t,e){return e.url=e.url.replace(o,encodeURIComponent(t)),e}function i(t,e){return e}var r,a,o;return r=t.prepare,a=t.replace,o=t.wildcard,r||(r=a?e:t.wildcard?n:i)}function a(t){function e(e){return function n(t){return f.debounce(t,e)}}function n(e){return function n(t){return f.throttle(t,e)}}var i,r,a;return i=t.limiter,r=t.rateLimitBy,a=t.rateLimitWait,i||(i=/^throttle$/i.test(r)?n(a):e(a)),i}function o(r){return function a(t){function e(t){f.defer(function(){i.resolve(t)})}function n(t){f.defer(function(){i.reject(t)})}var i=p.Deferred();return r(t,e,n),i}}return function s(t){var e,n;return e={initialize:!0,identify:f.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(t=f.mixin(e,t||{})).datumTokenizer&&p.error("datumTokenizer is required"),!t.queryTokenizer&&p.error("queryTokenizer is required"),n=t.sorter,t.sorter=n?function(t){return t.sort(n)}:f.identity,t.local=f.isFunction(t.local)?t.local():t.local,t.prefetch=i(t.prefetch),t.remote=r(t.remote),t}}();return function(){"use strict";function t(t){t=b(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new y(t.remote):null,this.prefetch=t.prefetch?new _(t.prefetch):null,this.index=new v({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var e;return e=window&&window.Bloodhound,t.noConflict=function n(){return window&&(window.Bloodhound=e),t},t.tokenizers=g,f.mixin(t.prototype,{__ttAdapter:function r(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function a(){function t(t,e){if(t)return n.reject();i.add(e),i.prefetch.store(i.index.serialize()),n.resolve()}var n,e,i=this;return n=p.Deferred(),this.prefetch?(e=this.prefetch.fromCache())?(this.index.bootstrap(e),n.resolve()):this.prefetch.fromNetwork(t):n.resolve(),n.promise()},_initialize:function i(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function i(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function o(t){return this.index.add(t),this},get:function s(t){return t=f.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function l(t,e,i){function n(t){var n=[];f.each(t,function(e){!f.some(r,function(t){return a.identify(e)===a.identify(t)})&&n.push(e)}),i&&i(n)}var r,a=this;return r=this.sorter(this.index.search(t)),e(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,n):this.remote&&this.remote.cancelLastRequest(),this},all:function c(){return this.index.all()},clear:function u(){return this.index.reset(),this},clearPrefetchCache:function d(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function h(){return m.resetCache(),this},ttAdapter:function r(){return this.__ttAdapter()}}),t}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(j){var H=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:j.isArray,isFunction:j.isFunction,isObject:j.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(t){return t instanceof j},toStr:function e(t){return H.isUndefined(t)||null===t?"":t+""},bind:j.proxy,each:function(t,n){function e(t,e){return n(e,t)}j.each(t,e)},map:j.map,filter:j.grep,every:function(n,i){var r=!0;return n?(j.each(n,function(t,e){if(!(r=i.call(null,e,t,n)))return!1}),!!r):r},some:function(n,i){var r=!1;return n?(j.each(n,function(t,e){if(r=i.call(null,e,t,n))return!1}),!!r):r},mixin:j.extend,identity:function(t){return t},clone:function(t){return j.extend(!0,{},t)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function n(t){function e(){return String(t)}return j.isFunction(t)?t:e},defer:function(t){setTimeout(t,0)},debounce:function(r,a,o){var s,l;return function(){var t,e,n=this,i=arguments;return t=function(){s=null,o||(l=r.apply(n,i))},e=o&&!s,clearTimeout(s),s=setTimeout(t,a),e&&(l=r.apply(n,i)),l}},throttle:function(n,i){var r,a,o,s,l,c;return l=0,c=function(){l=new Date,o=null,s=n.apply(r,a)},function(){var t=new Date,e=i-(t-l);return r=this,a=arguments,e<=0?(clearTimeout(o),o=null,l=t,s=n.apply(r,a)):o||(o=setTimeout(c,e)),s}},stringify:function(t){return H.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),S=function(){"use strict";function t(t){var e,n;return n=H.mixin({},o,t),{css:(e={css:a(),classes:n,html:i(n),selectors:r(n)}).css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(t){H.mixin(t,e)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function r(t){var n={};return H.each(t,function(t,e){n[e]="."+t}),n}function a(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return H.isMsie()&&H.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),T=function(){"use strict";function t(t){t&&t.el||j.error("EventBus initialized without el"),this.$el=j(t.el)}var i,n;return i="typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},H.mixin(t.prototype,{_trigger:function(t,e){var n;return n=j.Event(i+t),(e=e||[]).unshift(n),this.$el.trigger.apply(this.$el,e),n},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=n[t])&&this._trigger(e,[].slice.call(arguments,1))}}),t}(),D=function(){"use strict";function i(t,e,n,i){var r;if(!n)return this;for(e=e.split(l),n=i?s(n,i):n,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(n);return this}function t(t,e,n){return i.call(this,"async",t,e,n)}function e(t,e,n){return i.call(this,"sync",t,e,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,n,i,r,a;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)r=o(n.sync,this,[e].concat(i)),a=o(n.async,this,[e].concat(i)),r()&&c(a);return this}function o(i,r,a){function t(){for(var t,e=0,n=i.length;!t&&e<n;e+=1)t=!1===i[e].apply(r,a);return!t}return t}function a(){return window.setImmediate?function e(t){setImmediate(function(){t()})}:function n(t){setTimeout(function(){t()},0)}}function s(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=a();return{onSync:e,onAsync:t,off:n,trigger:r}}(),k=function(s){"use strict";function e(t,e,n){for(var i,r=[],a=0,o=t.length;a<o;a++)r.push(H.escapeRegExChars(t[a]));return i=n?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",e?new RegExp(i):new RegExp(i,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function i(r){function t(t){var e,n,i;return(e=o.exec(t.data))&&(i=s.createElement(r.tagName),r.className&&(i.className=r.className),(n=t.splitText(e.index)).splitText(e[0].length),i.appendChild(n.cloneNode(!0)),t.parentNode.replaceChild(i,n)),!!e}function a(t,e){for(var n,i=3,r=0;r<t.childNodes.length;r++)(n=t.childNodes[r]).nodeType===i?r+=e(n)?1:0:a(n,e)}var o;(r=H.mixin({},n,r)).node&&r.pattern&&(r.pattern=H.isArray(r.pattern)?r.pattern:[r.pattern],o=e(r.pattern,r.caseSensitive,r.wordsOnly),a(r.node,t))}}(window.document),B=function(){"use strict";function n(t,e){(t=t||{}).input||j.error("input is missing"),e.mixin(this),this.$hint=j(t.hint),this.$input=j(t.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=H.noop)}function i(t){return j('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function a(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return H.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},H.mixin(n.prototype,D,{_onBlur:function t(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function e(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function s(t){var e=o[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function l(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function c(t,e){var n;switch(t){case"up":case"down":n=!a(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function u(t,e){var n;switch(t){case"tab":n=!a(e);break;default:n=!0}return n},_checkLanguageDirection:function d(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function h(t,e){var n,i;i=!!(n=r(t,this.query))&&this.query.length!==t.length,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,e,n,i,r=this;return t=H.bind(this._onBlur,this),e=H.bind(this._onFocus,this),n=H.bind(this._onKeydown,this),i=H.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",e).on("keydown.tt",n),!H.isMsie()||9<H.isMsie()?this.$input.on("input.tt",i):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){o[t.which||t.keyCode]||H.defer(H.bind(r._onInput,r,t))}),this},focus:function p(){this.$input.focus()},blur:function f(){this.$input.blur()},getLangDir:function g(){return this.dir},getQuery:function m(){return this.query||""},setQuery:function h(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function v(){return this.query!==this.queryWhenFocused},getInputValue:function _(){return this.$input.val()},setInputValue:function y(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function b(){this.setInputValue(this.query)},getHint:function w(){return this.$hint.val()},setHint:function x(t){this.$hint.val(t)},clearHint:function k(){this.setHint("")},clearHintIfInvalid:function C(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function S(){return this.$input.is(":focus")},hasOverflow:function T(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,e,n;return t=this.$input.val().length,e=this.$input[0].selectionStart,H.isNumber(e)?e===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function $(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=j("<div>")}}),n}(),w=function(){"use strict";function t(t,e){(t=t||{}).templates=t.templates||{},t.templates.notFound=t.templates.notFound||t.templates.empty,t.source||j.error("missing source"),t.node||j.error("missing node"),t.name&&!r(t.name)&&j.error("invalid dataset name: "+t.name),e.mixin(this),this.highlight=!!t.highlight,this.name=t.name||a(),this.limit=t.limit||5,this.displayFn=n(t.display||t.displayKey),this.templates=i(t.templates,this.displayFn),this.source=t.source.__ttAdapter?t.source.__ttAdapter():t.source,this.async=H.isUndefined(t.async)?2<this.source.length:!!t.async,this._resetLastSuggestion(),this.$el=j(t.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(e){function t(t){return t[e]}return e=e||H.stringify,H.isFunction(e)?e:t}function i(t,e){function n(t){return j("<div>").text(e(t))}return{notFound:t.notFound&&H.templatify(t.notFound),pending:t.pending&&H.templatify(t.pending),header:t.header&&H.templatify(t.header),footer:t.footer&&H.templatify(t.footer),suggestion:t.suggestion||n}}function r(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var s,a;return s={val:"tt-selectable-display",obj:"tt-selectable-object"},a=H.getIdGenerator(),t.extractData=function o(t){var e=j(t);return e.data(s.obj)?{val:e.data(s.val)||"",obj:e.data(s.obj)||null}:null},H.mixin(t.prototype,D,{_overwrite:function l(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function c(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function u(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function d(t,e){var n,i;i=(n=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function h(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function p(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function e(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function f(i,t){var r,a=this;return r=document.createDocumentFragment(),H.each(t,function o(t){var e,n;n=a._injectQuery(i,t),e=j(a.templates.suggestion(n)).data(s.obj,t).data(s.val,a.displayFn(t)).addClass(a.classes.suggestion+" "+a.classes.selectable),r.appendChild(e[0])}),this.highlight&&k({className:this.classes.highlight,node:r,pattern:i}),j(r)},_getFooter:function g(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function m(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function v(){this.$lastSuggestion=j()},_injectQuery:function _(t,e){return H.isObject(e)?H.mixin({_query:t},e):e},update:function y(e){function t(t){a||(a=!0,t=(t||[]).slice(0,i.limit),o=t.length,i._overwrite(e,t),o<i.limit&&i.async&&i.trigger("asyncRequested",e))}function n(t){t=t||[],!r&&o<i.limit&&(i.cancel=j.noop,o+=t.length,i._append(e,t.slice(0,i.limit-o)),i.async&&i.trigger("asyncReceived",e))}var i=this,r=!1,a=!1,o=0;this.cancel(),this.cancel=function s(){r=!0,i.cancel=j.noop,i.async&&i.trigger("asyncCanceled",e)},this.source(e,t,n),!a&&t([])},cancel:j.noop,clear:function b(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function w(){return this.$el.is(":empty")},destroy:function x(){this.$el=j("<div>")}}),t}(),$=function(){"use strict";function t(t,n){function e(t){var e=i.$node.find(t.node).first();return t.node=e.length?e:j("<div>").appendTo(i.$node),new w(t,n)}var i=this;(t=t||{}).node||j.error("node is required"),n.mixin(this),this.$node=j(t.node),this.query=null,this.datasets=H.map(t.datasets,e)}return H.mixin(t.prototype,D,{_onSelectableClick:function e(t){this.trigger("selectableClicked",j(t.currentTarget))},_onRendered:function r(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function n(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function i(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function a(){function t(t){return t.isEmpty()}return H.every(this.datasets,t)},_getSelectables:function o(){return this.$node.find(this.selectors.selectable)},_removeCursor:function s(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function l(t){var e,n,i,r;n=(e=t.position().top)+t.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(i+e):r<n&&this.$node.scrollTop(i+(n-r))},bind:function(){var t,e=this;return t=H.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),H.each(this.datasets,function(t){t.onSync("asyncRequested",e._propagate,e).onSync("asyncCanceled",e._propagate,e).onSync("asyncReceived",e._propagate,e).onSync("rendered",e._onRendered,e).onSync("cleared",e._onCleared,e)}),this},isOpen:function c(){return this.$node.hasClass(this.classes.open)},open:function u(){this.$node.addClass(this.classes.open)},close:function d(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function h(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function p(t){var e,n,i;return n=this.getActiveSelectable(),e=this._getSelectables(),-1===(i=(i=((i=(n?e.index(n):-1)+t)+1)%(e.length+1)-1)<-1?e.length-1:i)?null:e.eq(i)},setCursor:function f(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function g(t){return t&&t.length?w.extractData(t):null},getActiveSelectable:function m(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function v(){var t=this._getSelectables().first();return t.length?t:null},update:function _(e){function t(t){t.update(e)}var n=e!==this.query;return n&&(this.query=e,H.each(this.datasets,t)),n},empty:function y(){function t(t){t.clear()}H.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function b(){function t(t){t.destroy()}this.$node.off(".tt"),this.$node=j("<div>"),H.each(this.datasets,t)}}),t}(),A=function(){"use strict";function t(){$.apply(this,[].slice.call(arguments,0))}var e=$.prototype;return H.mixin(t.prototype,$.prototype,{open:function n(){return!this._allDatasetsEmpty()&&this._show(),e.open.apply(this,[].slice.call(arguments,0))},close:function i(){return this._hide(),e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function r(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function a(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function o(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function s(){this.$node.hide()},_show:function l(){this.$node.css("display","block")}}),t}(),M=function(){"use strict";function t(t,e){var n,i,r,a,o,s,l,c,u,d,h;(t=t||{}).input||j.error("missing input"),t.menu||j.error("missing menu"),t.eventBus||j.error("missing event bus"),e.mixin(this),this.eventBus=t.eventBus,this.minLength=H.isNumber(t.minLength)?t.minLength:1,this.input=t.input,this.menu=t.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),
this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),n=p(this,"activate","open","_onFocused"),i=p(this,"deactivate","_onBlurred"),r=p(this,"isActive","isOpen","_onEnterKeyed"),a=p(this,"isActive","isOpen","_onTabKeyed"),o=p(this,"isActive","_onEscKeyed"),s=p(this,"isActive","open","_onUpKeyed"),l=p(this,"isActive","open","_onDownKeyed"),c=p(this,"isActive","isOpen","_onLeftKeyed"),u=p(this,"isActive","isOpen","_onRightKeyed"),d=p(this,"_openIfActive","_onQueryChanged"),h=p(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",n,this).onSync("blurred",i,this).onSync("enterKeyed",r,this).onSync("tabKeyed",a,this).onSync("escKeyed",o,this).onSync("upKeyed",s,this).onSync("downKeyed",l,this).onSync("leftKeyed",c,this).onSync("rightKeyed",u,this).onSync("queryChanged",d,this).onSync("whitespaceChanged",h,this).onSync("langDirChanged",this._onLangDirChanged,this)}function p(n){var t=[].slice.call(arguments,1);return function(){var e=[].slice.call(arguments);H.each(t,function(t){return n[t].apply(n,e)})}}return H.mixin(t.prototype,{_hacks:function e(){var r,a;r=this.input.$input||j("<div>"),a=this.menu.$node||j("<div>"),r.on("blur.tt",function(t){var e,n,i;e=document.activeElement,n=a.is(e),i=0<a.has(e).length,H.isMsie()&&(n||i)&&(t.preventDefault(),t.stopImmediatePropagation(),H.defer(function(){r.focus()}))}),a.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function n(t,e){this.select(e)},_onDatasetCleared:function i(){this._updateHint()},_onDatasetRendered:function r(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function a(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function o(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function s(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function l(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function c(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function u(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function d(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function h(){this.close()},_onUpKeyed:function f(){this.moveCursor(-1)},_onDownKeyed:function g(){this.moveCursor(1)},_onLeftKeyed:function m(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function v(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function _(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function y(){this._updateHint()},_onLangDirChanged:function b(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function w(){this.isActive()&&this.open()},_minLengthMet:function x(t){return(t=H.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function k(){var t,e,n,i,r,a;t=this.menu.getTopSelectable(),e=this.menu.getSelectableData(t),n=this.input.getInputValue(),!e||H.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(i=B.normalizeQuery(n),r=H.escapeRegExChars(i),(a=new RegExp("^(?:"+r+")(.+$)","i").exec(e.val))&&this.input.setHint(n+a[1]))},isEnabled:function C(){return this.enabled},enable:function S(){this.enabled=!0},disable:function T(){this.enabled=!1},isActive:function $(){return this.active},activate:function D(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function A(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function M(){return this.menu.isOpen()},open:function P(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function I(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function E(t){this.input.setQuery(H.toStr(t))},getVal:function O(){return this.input.getQuery()},select:function N(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function L(t){var e,n;return e=this.input.getQuery(),!(!((n=this.menu.getSelectableData(t))&&e!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function F(t){var e,n,i,r;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),r=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function R(){this.input.destroy(),this.menu.destroy()}}),t}();!function(){"use strict";function i(t,n){t.each(function(){var t,e=j(this);(t=e.data(v.typeahead))&&n(t,e)})}function f(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(n(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function g(t,e){t.data(v.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function n(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function r(n){var t,e;t=n.data(v.www),e=n.parent().filter(t.selectors.wrapper),H.each(n.data(v.attrs),function(t,e){H.isUndefined(t)?n.removeAttr(e):n.attr(e,t)}),n.removeData(v.typeahead).removeData(v.www).removeData(v.attr).removeClass(t.classes.input),e.length&&(n.detach().insertAfter(e),e.remove())}function m(t){var e;return(e=H.isJQuery(t)||H.isElement(t)?j(t).first():[]).length?e:null}var t,v,e;t=j.fn.typeahead,v={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},e={initialize:function a(d,h){function t(){var t,e,n,i,r,a,o,s,l,c,u;H.each(h,function(t){t.highlight=!!d.highlight}),t=j(this),e=j(p.html.wrapper),n=m(d.hint),i=m(d.menu),r=!1!==d.hint&&!n,a=!1!==d.menu&&!i,r&&(n=f(t,p)),a&&(i=j(p.html.menu).css(p.css.menu)),n&&n.val(""),t=g(t,p),(r||a)&&(e.css(p.css.wrapper),t.css(r?p.css.input:p.css.inputWithNoHint),t.wrap(e).parent().prepend(r?n:null).append(a?i:null)),u=a?A:$,o=new T({el:t}),s=new B({hint:n,input:t},p),l=new u({node:i,datasets:h},p),c=new M({input:s,menu:l,eventBus:o,minLength:d.minLength},p),t.data(v.www,p),t.data(v.typeahead,c)}var p;return h=H.isArray(h)?h:[].slice.call(arguments,1),p=S((d=d||{}).classNames),this.each(t)},isEnabled:function o(){var e;return i(this.first(),function(t){e=t.isEnabled()}),e},enable:function s(){return i(this,function(t){t.enable()}),this},disable:function l(){return i(this,function(t){t.disable()}),this},isActive:function c(){var e;return i(this.first(),function(t){e=t.isActive()}),e},activate:function u(){return i(this,function(t){t.activate()}),this},deactivate:function d(){return i(this,function(t){t.deactivate()}),this},isOpen:function h(){var e;return i(this.first(),function(t){e=t.isOpen()}),e},open:function p(){return i(this,function(t){t.open()}),this},close:function _(){return i(this,function(t){t.close()}),this},select:function y(t){var e=!1,n=j(t);return i(this.first(),function(t){e=t.select(n)}),e},autocomplete:function b(t){var e=!1,n=j(t);return i(this.first(),function(t){e=t.autocomplete(n)}),e},moveCursor:function w(e){var n=!1;return i(this.first(),function(t){n=t.moveCursor(e)}),n},val:function x(e){var n;return arguments.length?(i(this,function(t){t.setVal(e)}),this):(i(this.first(),function(t){n=t.getVal()}),n)},destroy:function k(){return i(this,function(t,e){r(e),t.destroy()}),this}},j.fn.typeahead=function(t){return e[t]?e[t].apply(this,[].slice.call(arguments,1)):e.initialize.apply(this,arguments)},j.fn.typeahead.noConflict=function C(){return j.fn.typeahead=t,this}}()}),function(t){"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):"undefined"!=typeof jQuery&&t(jQuery,window,document)}(function(h,t,p){!function(){function c(t,e,n){return new Array(n+1-t.length).join(e)+t}function l(t,e,n){if(1!==arguments.length)return 3===arguments.length?new Date(0,0,0,t,e,n):2===arguments.length?new Date(0,0,0,t,e,0):new Date(0,0,0);var i=t;return"string"==typeof i&&(i=h.fn.timepicker.parseTime(i)),new Date(0,0,0,i.getHours(),i.getMinutes(),i.getSeconds())}var u,d;h.TimePicker=function(){var e=this;e.container=h(".ui-timepicker-container"),e.ui=e.container.find(".ui-timepicker"),0===e.container.length&&(e.container=h("<div></div>").addClass("ui-timepicker-container").addClass("ui-timepicker-hidden ui-helper-hidden").appendTo("body").hide(),e.ui=h("<div></div>").addClass("ui-timepicker").addClass("ui-widget ui-widget-content ui-menu").addClass("ui-corner-all").appendTo(e.container),e.viewport=h("<ul></ul>").addClass("ui-timepicker-viewport").appendTo(e.ui),"1.4.2"<=h.fn.jquery&&e.ui.delegate("a","mouseenter.timepicker",function(){e.activate(!1,h(this).parent())}).delegate("a","mouseleave.timepicker",function(){e.deactivate(!1)}).delegate("a","click.timepicker",function(t){t.preventDefault(),e.select(!1,h(this).parent())}))},h.TimePicker.count=0,h.TimePicker.instance=function(){return h.TimePicker._instance||(h.TimePicker._instance=new h.TimePicker),h.TimePicker._instance},h.TimePicker.prototype={keyCode:{ALT:18,BLOQ_MAYUS:20,CTRL:17,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SHIFT:16,TAB:9,UP:38},_items:function(t,e){var n,i,r=this,a=h("<ul></ul>"),o=null;for(-1===t.options.timeFormat.indexOf("m")&&t.options.interval%60!=0&&(t.options.interval=60*Math.max(Math.round(t.options.interval/60),1)),n=e?l(e):t.options.startTime?l(t.options.startTime):l(t.options.startHour,t.options.startMinutes),i=new Date(n.getTime()+864e5);n<i;)r._isValidTime(t,n)&&(o=h("<li>").addClass("ui-menu-item").appendTo(a),h("<a>").addClass("ui-corner-all").text(h.fn.timepicker.formatTime(t.options.timeFormat,n)).appendTo(o),o.data("time-value",n)),n=new Date(n.getTime()+60*t.options.interval*1e3);return a.children()},_isValidTime:function(t,e){var n=null,i=null;return e=l(e),null!==t.options.minTime?n=l(t.options.minTime):null===t.options.minHour&&null===t.options.minMinutes||(n=l(t.options.minHour,t.options.minMinutes)),null!==t.options.maxTime?i=l(t.options.maxTime):null===t.options.maxHour&&null===t.options.maxMinutes||(i=l(t.options.maxHour,t.options.maxMinutes)),null!==n&&null!==i?n<=e&&e<=i:null!==n?n<=e:null===i||e<=i},_hasScroll:function(){var t="undefined"!=typeof this.ui.prop?"prop":"attr";return this.ui.height()<this.ui[t]("scrollHeight")},_move:function(t,e,n){var i=this;if(i.closed()&&i.open(t),i.active){var r=i.active[e+"All"](".ui-menu-item").eq(0);r.length?i.activate(t,r):i.activate(t,i.viewport.children(n))}else i.activate(t,i.viewport.children(n))},register:function(t,e){var n=this,i={};i.element=h(t),i.element.data("TimePicker")||(i.options=h.metadata?h.extend({},e,i.element.metadata()):h.extend({},e),i.widget=n,h.extend(i,{next:function(){return n.next(i)},previous:function(){return n.previous(i)},first:function(){return n.first(i)},last:function(){return n.last(i)},selected:function(){return n.selected(i)},open:function(){return n.open(i)},close:function(){return n.close(i)},closed:function(){return n.closed(i)},destroy:function(){return n.destroy(i)},parse:function(t){return n.parse(i,t)},format:function(t,e){return n.format(i,t,e)},getTime:function(){return n.getTime(i)},setTime:function(t,e){return n.setTime(i,t,e)},option:function(t,e){return n.option(i,t,e)}}),n._setDefaultTime(i),n._addInputEventsHandlers(i),i.element.data("TimePicker",i))},_setDefaultTime:function(t){"now"===t.options.defaultTime?t.setTime(l(new Date)):t.options.defaultTime&&t.options.defaultTime.getFullYear?t.setTime(l(t.options.defaultTime)):t.options.defaultTime&&t.setTime(h.fn.timepicker.parseTime(t.options.defaultTime))},_addInputEventsHandlers:function(e){var n=this;e.element.bind("keydown.timepicker",function(t){switch(t.which||t.keyCode){case n.keyCode.ENTER:case n.keyCode.NUMPAD_ENTER:t.preventDefault(),n.closed()?e.element.trigger("change.timepicker"):n.select(e,n.active);break;case n.keyCode.UP:e.previous();break;case n.keyCode.DOWN:e.next();break;default:n.closed()||e.close(!0)}}).bind("focus.timepicker",function(){e.open()}).bind("blur.timepicker",function(){setTimeout(function(){e.element.data("timepicker-user-clicked-outside")&&e.close()})}).bind("change.timepicker",function(){e.closed()&&e.setTime(h.fn.timepicker.parseTime(e.element.val()))})},select:function(t,e){var n=this,i=!1===t?n.instance:t;n.setTime(i,h.fn.timepicker.parseTime(e.children("a").text())),n.close(i,!0)},activate:function(t,e){var n=this;if((!1===t?n.instance:t)===n.instance){if(n.deactivate(),n._hasScroll()){var i=e.offset().top-n.ui.offset().top,r=n.ui.scrollTop(),a=n.ui.height();i<0?n.ui.scrollTop(r+i):a<=i&&n.ui.scrollTop(r+i-a+e.height())}n.active=e.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-item").end()}},deactivate:function(){var t=this;t.active&&(t.active.children("a").removeClass("ui-state-hover").removeAttr("id"),t.active=null)},next:function(t){return(this.closed()||this.instance===t)&&this._move(t,"next",".ui-menu-item:first"),t.element},previous:function(t){return(this.closed()||this.instance===t)&&this._move(t,"prev",".ui-menu-item:last"),t.element},first:function(t){return this.instance===t&&(this.active&&0===this.active.prevAll(".ui-menu-item").length)},last:function(t){return this.instance===t&&(this.active&&0===this.active.nextAll(".ui-menu-item").length)},selected:function(t){return this.instance===t&&this.active?this.active:null},open:function(e){var n=this,i=e.getTime(),t=e.options.dynamic&&i;if(!e.options.dropdown)return e.element;switch(e.element.data("timepicker-event-namespace",Math.random()),h(p).bind("click.timepicker-"+e.element.data("timepicker-event-namespace"),function(t){e.element.get(0)===t.target?e.element.data("timepicker-user-clicked-outside",!1):e.element.data("timepicker-user-clicked-outside",!0).blur()}),(e.rebuild||!e.items||t)&&(e.items=n._items(e,t?i:null)),(e.rebuild||n.instance!==e||t)&&(h.fn.jquery<"1.4.2"?(n.viewport.children().remove(),n.viewport.append(e.items),n.viewport.find("a").bind("mouseover.timepicker",function(){n.activate(e,h(this).parent())}).bind("mouseout.timepicker",function(){n.deactivate(e)}).bind("click.timepicker",function(t){t.preventDefault(),n.select(e,h(this).parent())})):(n.viewport.children().detach(),n.viewport.append(e.items))),e.rebuild=!1,n.container.removeClass("ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners").show(),e.options.theme){case"standard":n.container.addClass("ui-timepicker-standard");break;case"standard-rounded-corners":n.container.addClass("ui-timepicker-standard ui-timepicker-corners")}n.container.hasClass("ui-timepicker-no-scrollbar")||e.options.scrollbar||(n.container.addClass("ui-timepicker-no-scrollbar"),n.viewport.css({paddingRight:40}));var r=n.container.outerHeight()-n.container.height(),a=e.options.zindex?e.options.zindex:e.element.offsetParent().css("z-index"),o=e.element.offset();n.container.css({top:o.top+e.element.outerHeight(),left:o.left}),n.container.show(),n.container.css({left:e.element.offset().left,height:n.ui.outerHeight()+r,width:e.element.outerWidth(),zIndex:a,cursor:"default"});var s=n.container.width()-(n.ui.outerWidth()-n.ui.width());return n.ui.css({width:s}),n.viewport.css({width:s}),e.items.css({width:s}),n.instance=e,i?e.items.each(function(){var t=h(this);return(h.fn.jquery<"1.4.2"?h.fn.timepicker.parseTime(t.find("a").text()):t.data("time-value")).getTime()!==i.getTime()||(n.activate(e,t),!1)}):n.deactivate(e),e.element},close:function(t){var e=this;return e.instance===t&&(e.container.addClass("ui-helper-hidden ui-timepicker-hidden").hide(),e.ui.scrollTop(0),e.ui.children().removeClass("ui-state-hover")),h(p).unbind("click.timepicker-"+t.element.data("timepicker-event-namespace")),t.element},closed:function(){return this.ui.is(":hidden")},destroy:function(t){return this.close(t,!0),t.element.unbind(".timepicker").data("TimePicker",null)},parse:function(t,e){return h.fn.timepicker.parseTime(e)},format:function(t,e,n){return n=n||t.options.timeFormat,h.fn.timepicker.formatTime(n,e)},getTime:function(t){var e=this,n=h.fn.timepicker.parseTime(t.element.val());return n instanceof Date&&!e._isValidTime(t,n)?null:n instanceof Date&&t.selectedTime?t.format(n)===t.format(t.selectedTime)?t.selectedTime:n:n instanceof Date?n:null},setTime:function(t,e,n){var i=this,r=t.selectedTime;if("string"==typeof e&&(e=t.parse(e)),e&&e.getMinutes&&i._isValidTime(t,e)){if(e=l(e),t.selectedTime=e,t.element.val(t.format(e,t.options.timeFormat)),n)return t}else t.selectedTime=null;return null===r&&null===t.selectedTime||(t.element.trigger("time-change",[e]),h.isFunction(t.options.change)&&t.options.change.apply(t.element,[e])),t.element},option:function(e,t,n){if(void 0===n)return e.options[t];var i,r,a=e.getTime();"string"==typeof t?(i={})[t]=n:i=t,r=["minHour","minMinutes","minTime","maxHour","maxMinutes","maxTime","startHour","startMinutes","startTime","timeFormat","interval","dropdown"],h.each(i,function(t){e.options[t]=i[t],e.rebuild=e.rebuild||-1<h.inArray(t,r)}),e.rebuild&&e.setTime(a)}},h.TimePicker.defaults={timeFormat:"hh:mm p",minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:null,startMinutes:null,startTime:null,interval:30,dynamic:!0,theme:"standard",zindex:null,dropdown:!0,scrollbar:!1,change:function(){}},h.TimePicker.methods={chainable:["next","previous","open","close","destroy","setTime"]},h.fn.timepicker=function(e){if("string"==typeof e){var t,n,i=Array.prototype.slice.call(arguments,1);return n=this[t="option"===e&&2<arguments.length?"each":-1!==h.inArray(e,h.TimePicker.methods.chainable)?"each":"map"](function(){var t=h(this).data("TimePicker");if("object"==typeof t)return t[e].apply(t,i)}),"map"===t&&1===this.length?h.makeArray(n).shift():"map"===t?h.makeArray(n):n}if(1===this.length&&this.data("TimePicker"))return this.data("TimePicker");var r=h.extend({},h.TimePicker.defaults,e);return this.each(function(){h.TimePicker.instance().register(this,r)})},h.fn.timepicker.formatTime=function(t,e){var n=e.getHours(),i=n%12,r=e.getMinutes(),a=e.getSeconds(),o={hh:c((0===i?12:i).toString(),"0",2),HH:c(n.toString(),"0",2),mm:c(r.toString(),"0",2),ss:c(a.toString(),"0",2),h:0===i?12:i,H:n,m:r,s:a,p:11<n?"PM":"AM"},s=t,l="";for(l in o)o.hasOwnProperty(l)&&(s=s.replace(new RegExp(l,"g"),o[l]));return s=s.replace(new RegExp("a","g"),11<n?"pm":"am")},h.fn.timepicker.parseTime=(d=(u=[[/^(\d+)$/,"$1"],[/^:(\d)$/,"$10"],[/^:(\d+)/,"$1"],[/^(\d):([7-9])$/,"0$10$2"],[/^(\d):(\d\d)$/,"$1$2"],[/^(\d):(\d{1,})$/,"0$1$20"],[/^(\d\d):([7-9])$/,"$10$2"],[/^(\d\d):(\d)$/,"$1$20"],[/^(\d\d):(\d*)$/,"$1$2"],[/^(\d{3,}):(\d)$/,"$10$2"],[/^(\d{3,}):(\d{2,})/,"$1$2"],[/^(\d):(\d):(\d)$/,"0$10$20$3"],[/^(\d{1,2}):(\d):(\d\d)/,"$10$2$3"]]).length,function(t){var e=l(new Date),n=!1,i=!1,r=!1,a=!1,o=!1;if(void 0===t||!t.toLowerCase)return null;t=t.toLowerCase(),i=!(n=/a/.test(t))&&/p/.test(t),t=t.replace(/[^0-9:]/g,"").replace(/:+/g,":");for(var s=0;s<d;s+=1)if(u[s][0].test(t)){t=t.replace(u[s][0],u[s][1]);break}return 1===(t=t.replace(/:/g,"")).length?r=t:2===t.length?r=t:3===t.length||5===t.length?(r=t.substr(0,1),a=t.substr(1,2),o=t.substr(3,2)):(4===t.length||5<t.length)&&(r=t.substr(0,2),a=t.substr(2,2),o=t.substr(4,2)),0<t.length&&t.length<5&&(t.length<3&&(a=0),o=0),!1!==r&&!1!==a&&!1!==o&&(r=parseInt(r,10),a=parseInt(a,10),o=parseInt(o,10),n&&12===r?r=0:i&&r<12&&(r+=12),24<r?6<=t.length?h.fn.timepicker.parseTime(t.substr(0,5)):h.fn.timepicker.parseTime(t+"0"+(n?"a":"")+(i?"p":"")):(e.setHours(r,a,o),e))})}()}),function(){var l,e,i,o,r=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,n=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};(o=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,n,i,r,a,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=[],i=0,r=(a=t.childNodes).length;i<r;i++)n=a[i],o.push(this.add_option(n,e,t.disabled));return o},t.prototype.add_option=function(t,e,n){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===n?n:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t.prototype.escapeExpression=function(t){var e,n;return null==t||!1===t?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(n,function(t){return e[t]||"&amp;"})):t},t}()).select_to_array=function(t){var e,n,i,r,a;for(n=new o,i=0,r=(a=t.childNodes).length;i<r;i++)e=a[i],n.add_node(e);return n.parsed},e=function(){function n(t,e){this.form_field=t,this.options=null!=e?e:{},this.label_click_handler=r(this.label_click_handler,this),n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},n.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+t.group_label+"</b>"+t.html:t.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return t.blur_test()},100)},n.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},n.prototype.results_option_build=function(t){var e,n,i,r,a,o,s;for(e="",a=r=0,o=(s=this.results_data).length;a<o&&((i="")!==(i=(n=s[a]).group?this.result_add_group(n):this.result_add_option(n))&&(r++,e+=i),(null!=t?t.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(r>=this.max_shown_results));a++);return e},n.prototype.result_add_option=function(t){var e,n;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),n.style.cssText=t.style,n.setAttribute("data-option-array-index",t.array_index),n.innerHTML=t.search_text,t.title&&(n.title=t.title),this.outerHTML(n)):""},n.prototype.result_add_group=function(t){var e,n;return(t.search_match||t.group_match)&&0<t.active_options?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(n=document.createElement("li")).className=e.join(" "),n.innerHTML=t.search_text,t.title&&(n.title=t.title),this.outerHTML(n)):""},n.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},n.prototype.reset_single_select_options=function(){var t,e,n,i,r;for(r=[],e=0,n=(i=this.results_data).length;e<n;e++)(t=i[e]).selected?r.push(t.selected=!1):r.push(void 0);return r},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var t,e,n,i,r,a,o,s,l,c,u,d;for(this.no_results_clear(),r=0,t=(o=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=this.get_search_regex(t),e=this.get_highlight_regex(t),c=0,u=(d=this.results_data).length;c<u;c++)(n=d[c]).search_match=!1,a=null,this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(0===(a=this.results_data[n.group_array_index]).active_options&&a.search_match&&(r+=1),a.active_options+=1),n.search_text=n.group?n.label:n.html,n.group&&!this.group_search||(n.search_match=this.search_string_match(n.search_text,i),n.search_match&&!n.group&&(r+=1),n.search_match?(o.length&&(s=n.search_text.search(e),l=n.search_text.substr(0,s+o.length)+"</em>"+n.search_text.substr(s+o.length),n.search_text=l.substr(0,s)+"<em>"+l.substr(s)),null!=a&&(a.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),r<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(t){var e,n;return e=this.search_contains?"":"^",n=this.case_sensitive_search?"":"i",new RegExp(e+t,n)},n.prototype.get_highlight_regex=function(t){var e,n;return e=this.search_contains?"":"\\b",n=this.case_sensitive_search?"":"i",new RegExp(e+t,n)},n.prototype.search_string_match=function(t,e){var n,i,r,a;if(e.test(t))return!0;if(this.enable_split_word_search&&(0<=t.indexOf(" ")||0===t.indexOf("["))&&(i=t.replace(/\[|\]/g,"").split(" ")).length)for(r=0,a=i.length;r<a;r++)if(n=i[r],e.test(n))return!0},n.prototype.choices_count=function(){var t,e,n;if(null!=this.selected_option_count)return this.selected_option_count;for(t=this.selected_option_count=0,e=(n=this.form_field.options).length;t<e;t++)n[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},n.prototype.keydown_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},n.prototype.keyup_checker=function(t){var e,n;switch(e=null!=(n=t.which)?n:t.keyCode,this.search_field_scale(),e){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},n.prototype.clipboard_event_checker=function(){var t=this;if(!this.is_disabled)return setTimeout(function(){return t.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},n.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},n.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},n.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},n.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=document.createElement("div")).appendChild(t),e.innerHTML)},n.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},n.prototype.get_multi_html=function(){
return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},n.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+t+"</span>\n</li>"},n.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}(),(l=jQuery).fn.extend({chosen:function(n){return e.browser_is_supported()?this.each(function(){var t,e;e=(t=l(this)).data("chosen"),"destroy"!==n?e instanceof i||t.data("chosen",new i(this,n)):e instanceof i&&e.destroy()}):this}}),i=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.setup=function(){return this.form_field_jq=l(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},t.prototype.set_up_html=function(){var t,e;return(t=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),e={"class":t.join(" "),title:this.form_field.title},this.form_field.id.length&&(e.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=l("<div />",e),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},t.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},t.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){e.container_mousedown(t)}),this.container.bind("touchend.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.close_field(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},t.prototype.destroy=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.unbind("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},t.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_field)},t.prototype.container_mousedown=function(t){var e;if(!this.is_disabled)return!t||"mousedown"!==(e=t.type)&&"touchstart"!==e||this.results_showing||t.preventDefault(),null!=t&&l(t.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!t||l(t.target)[0]!==this.selected_item[0]&&!l(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),l(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},t.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},t.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},t.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},t.prototype.close_field=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},t.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},t.prototype.test_active_click=function(t){var e;return(e=l(t.target).closest(".chosen-container")).length&&this.container[0]===e[0]?this.active_field=!0:this.close_field()},t.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=o.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},t.prototype.result_do_highlight=function(t){var e,n,i,r;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),(i=parseInt(this.search_results.css("maxHeight"),10))+(r=this.search_results.scrollTop())<=(e=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<e-i?e-i:0);if(n<r)return this.search_results.scrollTop(n)}},t.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},t.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},t.prototype.update_results_content=function(t){return this.search_results.html(t)},t.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},t.prototype.set_tab_index=function(){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},t.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.bind("click.chosen",this.label_click_handler)},t.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},t.prototype.search_results_mouseup=function(t){var e;if((e=l(t.target).hasClass("active-result")?l(t.target):l(t.target).parents(".active-result").first()).length)return this.result_highlight=e,this.result_select(t),this.search_field.focus()},t.prototype.search_results_mouseover=function(t){var e;if(e=l(t.target).hasClass("active-result")?l(t.target):l(t.target).parents(".active-result").first())return this.result_do_highlight(e)},t.prototype.search_results_mouseout=function(t){if(l(t.target).hasClass("active-result"))return this.result_clear_highlight()},t.prototype.choice_build=function(t){var e,n,i=this;return e=l("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?e.addClass("search-choice-disabled"):((n=l("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index})).bind("click.chosen",function(t){return i.choice_destroy_link_click(t)}),e.append(n)),this.search_container.before(e)},t.prototype.choice_destroy_link_click=function(t){if(t.preventDefault(),t.stopPropagation(),!this.is_disabled)return this.choice_destroy(l(t.target))},t.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},t.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},t.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},t.prototype.result_select=function(t){var e,n;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(n=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)||(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},t.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},t.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},t.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},t.prototype.get_search_field_value=function(){return this.search_field.val()},t.prototype.get_search_text=function(){return this.escape_html(l.trim(this.get_search_field_value()))},t.prototype.escape_html=function(t){return l("<div/>").text(t).html()},t.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},t.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},t.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},t.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},t.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},t.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},t.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},t.prototype.search_field_scale=function(){var t,e,n,i,r,a,o,s;if(this.is_multiple){for(i={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},o=0,s=(r=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;o<s;o++)i[n=r[o]]=this.search_field.css(n);return(e=l("<div />").css(i)).text(this.get_search_field_value()),l("body").append(e),a=e.width()+25,e.remove(),t=this.container.outerWidth(),a=Math.min(t-10,a),this.search_field.width(a)}},t.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},t}()}.call(this),function webpackUniversalModuleDefinition(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Handlebars=e():t.Handlebars=e()}(this,function(){return function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,i),e.loaded=!0,e.exports}var r={};return i.m=n,i.c=r,i.p="",i(0)}([function(t,e,n){"use strict";function i(){var n=h();return n.compile=function(t,e){return l.compile(t,e,n)},n.precompile=function(t,e){return l.precompile(t,e,n)},n.AST=o["default"],n.Compiler=l.Compiler,n.JavaScriptCompiler=c["default"],n.Parser=s.parser,n.parse=s.parse,n}var r=n(1)["default"];e.__esModule=!0;var a=r(n(2)),o=r(n(35)),s=n(36),l=n(41),c=r(n(42)),u=r(n(39)),d=r(n(34)),h=a["default"].create,p=i();p.create=i,d["default"](p),p.Visitor=u["default"],p["default"]=p,e["default"]=p,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){return t&&t.__esModule?t:{"default":t}},e.__esModule=!0},function(t,e,n){"use strict";function i(){var e=new o.HandlebarsEnvironment;return c.extend(e,o),e.SafeString=s["default"],e.Exception=l["default"],e.Utils=c,e.escapeExpression=c.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e}var r=n(3)["default"],a=n(1)["default"];e.__esModule=!0;var o=r(n(4)),s=a(n(21)),l=a(n(6)),c=r(n(5)),u=r(n(22)),d=a(n(34)),h=i();h.create=i,d["default"](h),h["default"]=h,e["default"]=h,t.exports=e["default"]},function(t,e){"use strict";e["default"]=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e},e.__esModule=!0},function(t,e,n){"use strict";function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},s.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var r=n(1)["default"];e.__esModule=!0,e.HandlebarsEnvironment=i;var a=n(5),o=r(n(6)),s=n(10),l=n(18),c=r(n(20)),u="4.0.10";e.VERSION=u;var d=7;e.COMPILER_REVISION=d;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=h;var p="[object Object]";i.prototype={constructor:i,logger:c["default"],log:c["default"].log,registerHelper:function g(t,e){if(a.toString.call(t)===p){if(e)throw new o["default"]("Arg not supported with multiple helpers");a.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function m(t){delete this.helpers[t]},registerPartial:function v(t,e){if(a.toString.call(t)===p)a.extend(this.partials,t);else{if(void 0===e)throw new o["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function _(t){delete this.partials[t]},registerDecorator:function y(t,e){if(a.toString.call(t)===p){if(e)throw new o["default"]("Arg not supported with multiple decorators");a.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function b(t){delete this.decorators[t]}};var f=c["default"].log;e.log=f,e.createFrame=a.createFrame,e.logger=c["default"]},function(t,e){"use strict";function n(t){return u[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function r(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function a(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return h.test(t)?t.replace(d,n):t}function o(t){return!t&&0!==t||!(!g(t)||0!==t.length)}function s(t){var e=i({},t);return e._parent=t,e}function l(t,e){return t.path=e,t}function c(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=i,e.indexOf=r,e.escapeExpression=a,e.isEmpty=o,e.createFrame=s,e.blockParams=l,e.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,h=/[&<>"'`=]/,p=Object.prototype.toString;e.toString=p;var f=function f(t){return"function"==typeof t};f(/x/)&&(e.isFunction=f=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),e.isFunction=f;var g=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===p.call(t)};e.isArray=g},function(t,e,n){"use strict";function l(t,e){var n=e&&e.loc,i=undefined,r=undefined;n&&(t+=" - "+(i=n.start.line)+":"+(r=n.start.column));for(var a=Error.prototype.constructor.call(this,t),o=0;o<u.length;o++)this[u[o]]=a[u[o]];Error.captureStackTrace&&Error.captureStackTrace(this,l);try{n&&(this.lineNumber=i,c?Object.defineProperty(this,"column",{value:r,enumerable:!0}):this.column=r)}catch(s){}}var c=n(7)["default"];e.__esModule=!0;var u=["description","fileName","lineNumber","message","name","number","stack"];l.prototype=new Error,e["default"]=l,t.exports=e["default"]},function(t,e,n){t.exports={"default":n(8),__esModule:!0}},function(t,e,n){var i=n(9);t.exports=function r(t,e,n){return i.setDesc(t,e,n)}},function(t){var e=Object;t.exports={create:e.create,getProto:e.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:e.getOwnPropertyDescriptor,setDesc:e.defineProperty,setDescs:e.defineProperties,getKeys:e.keys,getNames:e.getOwnPropertyNames,getSymbols:e.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){"use strict";function i(t){a["default"](t),o["default"](t),s["default"](t),l["default"](t),c["default"](t),u["default"](t),d["default"](t)}var r=n(1)["default"];e.__esModule=!0,e.registerDefaultHelpers=i;var a=r(n(11)),o=r(n(12)),s=r(n(13)),l=r(n(14)),c=r(n(15)),u=r(n(16)),d=r(n(17))},function(t,e,n){"use strict";e.__esModule=!0;var o=n(5);e["default"]=function(a){a.registerHelper("blockHelperMissing",function(t,e){var n=e.inverse,i=e.fn;if(!0===t)return i(this);if(!1===t||null==t)return n(this);if(o.isArray(t))return 0<t.length?(e.ids&&(e.ids=[e.name]),a.helpers.each(t,e)):n(this);if(e.data&&e.ids){var r=o.createFrame(e.data);r.contextPath=o.appendContextPath(e.data.contextPath,e.name),e={data:r}}return i(t,e)})},t.exports=e["default"]},function(t,e,n){"use strict";var i=n(1)["default"];e.__esModule=!0;var h=n(5),p=i(n(6));e["default"]=function(t){t.registerHelper("each",function(i,t){function e(t,e,n){s&&(s.key=t,s.index=e,s.first=0===e,s.last=!!n,l&&(s.contextPath=l+t)),o+=r(i[t],{data:s,blockParams:h.blockParams([i[t],t],[l+t,null])})}if(!t)throw new p["default"]("Must pass iterator to #each");var r=t.fn,n=t.inverse,a=0,o="",s=undefined,l=undefined;if(t.data&&t.ids&&(l=h.appendContextPath(t.data.contextPath,t.ids[0])+"."),h.isFunction(i)&&(i=i.call(this)),t.data&&(s=h.createFrame(t.data)),i&&"object"==typeof i)if(h.isArray(i))for(var c=i.length;a<c;a++)a in i&&e(a,a,a===i.length-1);else{var u=undefined;for(var d in i)i.hasOwnProperty(d)&&(u!==undefined&&e(u,a-1),u=d,a++);u!==undefined&&e(u,a-1,!0)}return 0===a&&(o=n(this)),o})},t.exports=e["default"]},function(t,e,n){"use strict";var i=n(1)["default"];e.__esModule=!0;var r=i(n(6));e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return undefined;throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e["default"]=function(n){n.registerHelper("if",function(t,e){return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),n.registerHelper("unless",function(t,e){return n.helpers["if"].call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(r){r.registerHelper("log",function(){for(var t=[undefined],e=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var i=1;null!=e.hash.level?i=e.hash.level:e.data&&null!=e.data.level&&(i=e.data.level),t[0]=i,r.log.apply(r,t)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5);e["default"]=function(t){t.registerHelper("with",function(t,e){r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&((i=r.createFrame(e.data)).contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:i,blockParams:r.blockParams([t],[i&&i.contextPath])})})},t.exports=e["default"]},function(t,e,n){"use strict";function i(t){a["default"](t)}var r=n(1)["default"];e.__esModule=!0,e.registerDefaultDecorators=i;var a=r(n(19))},function(t,e,n){"use strict";e.__esModule=!0;var s=n(5);e["default"]=function(t){t.registerDecorator("inline",function(r,a,o,t){var e=r;return a.partials||(a.partials={},e=function(t,e){var n=o.partials;o.partials=s.extend({},n,a.partials);var i=r(t,e);return o.partials=n,i}),a.partials[t.args[0]]=t.fn,e})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function r(t){if("string"==typeof t){var e=i.indexOf(a.methodMap,t.toLowerCase());t=0<=e?e:parseInt(t,10)}return t},log:function o(t){if(t=a.lookupLevel(t),"undefined"!=typeof console&&a.lookupLevel(a.level)<=t){var e=a.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];console[e].apply(console,i)}}};e["default"]=a,t.exports=e["default"]},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=u.COMPILER_REVISION;if(e!==n){if(e<n){var i=u.REVISION_CHANGES[n],r=u.REVISION_CHANGES[e];throw new _["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new _["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function r(s,l){function t(t,e,n){n.hash&&(e=v.extend({},e,n.hash),n.ids&&(n.ids[0]=!0)),t=l.VM.resolvePartial.call(this,t,e,n);var i=l.VM.invokePartial.call(this,t,e,n);if(null==i&&l.compile&&(n.partials[n.name]=l.compile(t,s.compilerOptions,l),i=n.partials[n.name](e,n)),null==i)throw new _["default"]("The partial "+n.name+" could not be compiled when running in runtime-only mode");if(n.indent){for(var r=i.split("\n"),a=0,o=r.length;a<o&&(r[a]||a+1!==o);a++)r[a]=n.indent+r[a];i=r.join("\n")}return i}function c(t,e){function n(t){return""+s.main(u,t,u.helpers,u.partials,r,o,a)}var i=arguments.length<=1||e===undefined?{}:arguments[1],r=i.data;c._setup(i),!i.partial&&s.useData&&(r=f(t,r));var a=undefined,o=s.useBlockParams?[]:undefined;return s.useDepths&&(a=i.depths?t!=i.depths[0]?[t].concat(i.depths):i.depths:[t]),(n=g(s.main,n,u,i.depths||[],r,o))(t,i)}if(!l)throw new _["default"]("No environment passed to template");if(!s||!s.main)throw new _["default"]("Unknown template object: "+typeof s);s.main.decorator=s.main_d,l.VM.checkRevision(s.compiler);var u={strict:function n(t,e){if(!(e in t))throw new _["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function r(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function i(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:v.escapeExpression,invokePartial:t,fn:function a(t){var e=s[t];return e.decorator=s[t+"_d"],e},programs:[],program:function d(t,e,n,i,r){var a=this.programs[t],o=this.fn(t);return e||r||i||n?a=p(this,t,o,e,n,i,r):a||(a=this.programs[t]=p(this,t,o)),a},data:function o(t,e){for(;t&&e--;)t=t._parent;return t},merge:function h(t,e){var n=t||e;return t&&e&&t!==e&&(n=v.extend({},e,t)),n},nullContext:m({}),noop:l.VM.noop,compilerInfo:s.compiler};return c.isTop=!0,c._setup=function(t){t.partial?(u.helpers=t.helpers,u.partials=t.partials,u.decorators=t.decorators):(u.helpers=u.merge(t.helpers,l.helpers),s.usePartial&&(u.partials=u.merge(t.partials,l.partials)),(s.usePartial||s.useDecorators)&&(u.decorators=u.merge(t.decorators,l.decorators)))},c._child=function(t,e,n,i){if(s.useBlockParams&&!n)throw new _["default"]("must pass block params");if(s.useDepths&&!i)throw new _["default"]("must pass parent depths");return p(u,t,s[t],e,0,n,i)},c}function p(r,t,a,o,e,s,l){function n(t,e){var n=arguments.length<=1||e===undefined?{}:arguments[1],i=l;return!l||t==l[0]||t===r.nullContext&&null===l[0]||(i=[t].concat(l)),a(r,t,r.helpers,r.partials,n.data||o,s&&[n.blockParams].concat(s),i)}return(n=g(a,n,r,l,o,s)).program=t,n.depth=l?l.length:0,n.blockParams=e||0,n}function a(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t}function o(t,e,n){var a=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=undefined;if(n.fn&&n.fn!==s&&function(){n.data=u.createFrame(n.data);var i=n.fn;o=n.data["partial-block"]=function r(t,e){var n=arguments.length<=1||e===undefined?{}:arguments[1];return n.data=u.createFrame(n.data),n.data["partial-block"]=a,i(t,n)},i.partials&&(n.partials=v.extend({},n.partials,i.partials))}(),t===undefined&&o&&(t=o),t===undefined)throw new _["default"]("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}function s(){return""}function f(t,e){return e&&"root"in e||((e=e?u.createFrame(e):{}).root=t),e}function g(t,e,n,i,r,a){if(t.decorator){var o={};e=t.decorator(e,o,n,i&&i[0],r,a,i),v.extend(e,o)}return e}var m=n(23)["default"],l=n(3)["default"],c=n(1)["default"];e.__esModule=!0,e.checkRevision=i,e.template=r,e.wrapProgram=p,e.resolvePartial=a,e.invokePartial=o,e.noop=s;var v=l(n(5)),_=c(n(6)),u=n(4)},function(t,e,n){t.exports={"default":n(24),__esModule:!0}},function(t,e,n){n(25),t.exports=n(30).Object.seal},function(t,e,n){var i=n(26);n(27)("seal",function(e){return function n(t){return e&&i(t)?e(t):t}})},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(28),a=n(30),o=n(33);t.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],i={};i[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",i)}},function(t,e,n){var f=n(29),g=n(30),m=n(31),v="prototype",_=function(t,e,n){var i,r,a,o=t&_.F,s=t&_.G,l=t&_.S,c=t&_.P,u=t&_.B,d=t&_.W,h=s?g:g[e]||(g[e]={}),p=s?f:l?f[e]:(f[e]||{})[v];for(i in s&&(n=e),n)(r=!o&&p&&i in p)&&i in h||(a=r?p[i]:n[i],h[i]=s&&"function"!=typeof p[i]?n[i]:u&&r?m(a,f):d&&p[i]==a?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[v]=e[v],t}(a):c&&"function"==typeof a?m(Function.call,a):a,c&&((h[v]||(h[v]={}))[i]=a))};_.F=1,_.G=2,_.S=4,_.P=8,_.B=16,_.W=32,t.exports=_},function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t){var e=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=e)},function(t,e,n){var a=n(32);t.exports=function(i,r,t){if(a(i),r===undefined)return i;switch(t){case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){(function(i){"use strict";e.__esModule=!0,e["default"]=function(t){var e=void 0!==i?i:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}}
,t.exports=e["default"]}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var n={helpers:{helperExpression:function i(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function r(t){return/^\.|this\b/.test(t.original)},simpleId:function a(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function i(t,e){return"Program"===t.type?t:((o["default"].yy=u).locInfo=function(t){return new u.SourceLocation(e&&e.srcName,t)},new s["default"](e).accept(o["default"].parse(t)))}var r=n(1)["default"],a=n(3)["default"];e.__esModule=!0,e.parse=i;var o=r(n(37)),s=r(n(38)),l=a(n(40)),c=n(5);e.parser=o["default"];var u={};c.extend(u,l)},function(t,e){"use strict";e.__esModule=!0;var n=function(){function t(){this.yy={}}var e={trace:function i(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function c(t,e,n,i,r,a){var o=a.length-1;switch(r){case 1:return a[o-1];case 2:this.$=i.prepareProgram(a[o]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=a[o];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(a[o]),strip:i.stripFlags(a[o],a[o]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:a[o],value:a[o],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(a[o-2],a[o-1],a[o],this._$);break;case 12:this.$={path:a[o-3],params:a[o-2],hash:a[o-1]};break;case 13:this.$=i.prepareBlock(a[o-3],a[o-2],a[o-1],a[o],!1,this._$);break;case 14:this.$=i.prepareBlock(a[o-3],a[o-2],a[o-1],a[o],!0,this._$);break;case 15:this.$={open:a[o-5],path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:i.stripFlags(a[o-5],a[o])};break;case 16:case 17:this.$={path:a[o-4],params:a[o-3],hash:a[o-2],blockParams:a[o-1],strip:i.stripFlags(a[o-5],a[o])};break;case 18:this.$={strip:i.stripFlags(a[o-1],a[o-1]),program:a[o]};break;case 19:var s=i.prepareBlock(a[o-2],a[o-1],a[o],a[o],!1,this._$),l=i.prepareProgram([s],a[o-1].loc);l.chained=!0,this.$={strip:a[o-2].strip,program:l,chain:!0};break;case 20:this.$=a[o];break;case 21:this.$={path:a[o-1],strip:i.stripFlags(a[o-2],a[o])};break;case 22:case 23:this.$=i.prepareMustache(a[o-3],a[o-2],a[o-1],a[o-4],i.stripFlags(a[o-4],a[o]),this._$);break;case 24:this.$={type:"PartialStatement",name:a[o-3],params:a[o-2],hash:a[o-1],indent:"",strip:i.stripFlags(a[o-4],a[o]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(a[o-2],a[o-1],a[o],this._$);break;case 26:this.$={path:a[o-3],params:a[o-2],hash:a[o-1],strip:i.stripFlags(a[o-4],a[o])};break;case 27:case 28:this.$=a[o];break;case 29:this.$={type:"SubExpression",path:a[o-3],params:a[o-2],hash:a[o-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:a[o],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(a[o-2]),value:a[o],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(a[o-1]);break;case 33:case 34:this.$=a[o];break;case 35:this.$={type:"StringLiteral",value:a[o],original:a[o],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(a[o]),original:Number(a[o]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===a[o],original:"true"===a[o],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:undefined,value:undefined,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=a[o];break;case 42:this.$=i.preparePath(!0,a[o],this._$);break;case 43:this.$=i.preparePath(!1,a[o],this._$);break;case 44:a[o-2].push({part:i.id(a[o]),original:a[o],separator:a[o-1]}),this.$=a[o-2];break;case 45:this.$=[{part:i.id(a[o]),original:a[o]}];break;case 46:this.$=[];break;case 47:a[o-1].push(a[o]);break;case 48:this.$=[a[o]];break;case 49:a[o-1].push(a[o]);break;case 50:this.$=[];break;case 51:a[o-1].push(a[o]);break;case 58:this.$=[];break;case 59:a[o-1].push(a[o]);break;case 64:this.$=[];break;case 65:a[o-1].push(a[o]);break;case 70:this.$=[];break;case 71:a[o-1].push(a[o]);break;case 78:this.$=[];break;case 79:a[o-1].push(a[o]);break;case 82:this.$=[];break;case 83:a[o-1].push(a[o]);break;case 86:this.$=[];break;case 87:a[o-1].push(a[o]);break;case 90:this.$=[];break;case 91:a[o-1].push(a[o]);break;case 94:this.$=[];break;case 95:a[o-1].push(a[o]);break;case 98:this.$=[a[o]];break;case 99:a[o-1].push(a[o]);break;case 100:this.$=[a[o]];break;case 101:a[o-1].push(a[o])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function r(t){throw new Error(t)},parse:function C(t){function e(){var t;return"number"!=typeof(t=n.lexer.lex()||1)&&(t=n.symbols_[t]||t),t}var n=this,i=[0],r=[null],a=[],o=this.table,s="",l=0,c=0,u=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;a.push(d);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,g,m,v,_,y,b,w,x={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:(null==p&&(p=e()),m=o[g]&&o[g][p]),void 0===m||!m.length||!m[0]){var k="";if(!u){for(_ in w=[],o[g])this.terminals_[_]&&2<_&&w.push("'"+this.terminals_[_]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:d,expected:w})}}if(m[0]instanceof Array&&1<m.length)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+p);switch(m[0]){case 1:i.push(p),r.push(this.lexer.yytext),a.push(this.lexer.yylloc),i.push(m[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,0<u&&u--);break;case 2:if(y=this.productions_[m[1]][1],x.$=r[r.length-y],x._$={first_line:a[a.length-(y||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(y||1)].first_column,last_column:a[a.length-1].last_column},h&&(x._$.range=[a[a.length-(y||1)].range[0],a[a.length-1].range[1]]),void 0!==(v=this.performAction.call(x,s,c,l,this.yy,m[1],r,a)))return v;y&&(i=i.slice(0,-1*y*2),r=r.slice(0,-1*y),a=a.slice(0,-1*y)),i.push(this.productions_[m[1]][0]),r.push(x.$),a.push(x._$),b=o[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},n={EOF:1,parseError:function a(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function o(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function s(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function l(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function u(){return this._more=!0,this},less:function d(t){this.unput(this.match.slice(t))},pastInput:function h(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function p(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function f(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function g(){if(this.done)return this.EOF;var t,e,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),o=0;o<a.length&&(!(n=this._input.match(this.rules[a[o]]))||e&&!(n[0].length>e[0].length)||(e=n,i=o,this.options.flex));o++);return e?((r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,a[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function m(){var t=this.next();return void 0!==t?t:this.lex()},begin:function v(t){this.conditionStack.push(t)},popState:function _(){return this.conditionStack.pop()},_currentRules:function y(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function b(){return this.conditionStack[this.conditionStack.length-2]},pushState:function v(t){this.begin(t)},options:{},performAction:function w(t,n,e){function i(t,e){return n.yytext=n.yytext.substr(t,n.yyleng-e)}switch(e){case 0:if("\\\\"===n.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===n.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),n.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(n.yytext=n.yytext.substr(5,n.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(n.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return n.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return n.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return n.yytext=n.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return e.lexer=n,new((t.prototype=e).Parser=t)}();e["default"]=n,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){var e=arguments.length<=0||t===undefined?{}:arguments[0];this.options=e}function p(t,e,n){e===undefined&&(e=t.length);var i=t[e-1],r=t[e-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function f(t,e,n){e===undefined&&(e=-1);var i=t[e+1],r=t[e+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function g(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function m(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var r=n(1)["default"];e.__esModule=!0;var a=r(n(39));i.prototype=new a["default"],i.prototype.Program=function(t){var e=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=t.body,r=0,a=i.length;r<a;r++){var o=i[r],s=this.accept(o);if(s){var l=p(i,r,n),c=f(i,r,n),u=s.openStandalone&&l,d=s.closeStandalone&&c,h=s.inlineStandalone&&l&&c;s.close&&g(i,r,!0),s.open&&m(i,r,!0),e&&h&&(g(i,r),m(i,r)&&"PartialStatement"===o.type&&(o.indent=/([ \t]+$)/.exec(i[r-1].original)[1])),e&&u&&(g((o.program||o.inverse).body),m(i,r)),e&&d&&(g(i,r),m((o.inverse||o.program).body))}}return t},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,i=n,r=n;if(n&&n.chained)for(i=n.body[0].program;r.chained;)r=r.body[r.body.length-1].program;var a={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:f(e.body),closeStandalone:p((i||e).body)};if(t.openStrip.close&&g(e.body,null,!0),n){var o=t.inverseStrip;o.open&&m(e.body,null,!0),o.close&&g(i.body,null,!0),t.closeStrip.open&&m(r.body,null,!0),!this.options.ignoreStandalone&&p(e.body)&&f(i.body)&&(m(e.body),g(i.body))}else t.closeStrip.open&&m(e.body,null,!0);return a},i.prototype.Decorator=i.prototype.MustacheStatement=function(t){return t.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function i(){this.parents=[]}function r(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function a(t){r.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function o(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var s=n(1)["default"];e.__esModule=!0;var l=s(n(6));i.prototype={constructor:i,mutating:!1,acceptKey:function c(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&!i.prototype[n.type])throw new l["default"]('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function u(t,e){if(this.acceptKey(t,e),!t[e])throw new l["default"](t.type+" requires "+e)},acceptArray:function d(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function h(t){if(t){if(!this[t.type])throw new l["default"]("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function p(t){this.acceptArray(t.body)},MustacheStatement:r,Decorator:r,BlockStatement:a,DecoratorBlock:a,PartialStatement:o,PartialBlockStatement:function f(t){o.call(this,t),this.acceptKey(t,"program")},ContentStatement:function g(){},CommentStatement:function m(){},SubExpression:r,PathExpression:function v(){},StringLiteral:function _(){},NumberLiteral:function y(){},BooleanLiteral:function b(){},UndefinedLiteral:function w(){},NullLiteral:function x(){},Hash:function k(t){this.acceptArray(t.pairs)},HashPair:function C(t){this.acceptRequired(t,"value")}},e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";function c(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var n={loc:t.path.loc};throw new g["default"](t.path.original+" doesn't match "+e,n)}}function i(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function r(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function a(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function o(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function s(t,e,n){n=this.locInfo(n);for(var i=t?"@":"",r=[],a=0,o=0,s=e.length;o<s;o++){var l=e[o].part,c=e[o].original!==l;if(i+=(e[o].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)r.push(l);else{if(0<r.length)throw new g["default"]("Invalid path: "+i,{loc:n});".."===l&&(a++,"../")}}return{type:"PathExpression",data:t,depth:a,parts:r,original:i,loc:n}}function l(t,e,n,i,r,a){var o=i.charAt(3)||i.charAt(2),s="{"!==o&&"&"!==o;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:t,params:e,hash:n,escaped:s,strip:r,loc:this.locInfo(a)}}function u(t,e,n,i){c(t,n);var r={type:"Program",body:e,strip:{},loc:i=this.locInfo(i)};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function d(t,e,n,i,r,a){i&&i.path&&c(t,i);var o=/\*/.test(t.open);e.blockParams=t.blockParams;var s=undefined,l=undefined;if(n){if(o)throw new g["default"]("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),l=n.strip,s=n.program}
return r&&(r=s,s=e,e=r),{type:o?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:s,openStrip:t.strip,inverseStrip:l,closeStrip:i&&i.strip,loc:this.locInfo(a)}}function h(t,e){if(!e&&t.length){var n=t[0].loc,i=t[t.length-1].loc;n&&i&&(e={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function p(t,e,n,i){return c(t,n),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}}var f=n(1)["default"];e.__esModule=!0,e.SourceLocation=i,e.id=r,e.stripFlags=a,e.stripComment=o,e.preparePath=s,e.prepareMustache=l,e.prepareRawBlock=u,e.prepareBlock=d,e.prepareProgram=h,e.preparePartialBlock=p;var g=f(n(6))},function(t,e,n){"use strict";function i(){}function r(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var i=n.parse(t,e),r=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(r,e)}function a(i,r,a){function o(){var t=a.parse(i,r),e=(new a.Compiler).compile(t,r),n=(new a.JavaScriptCompiler).compile(e,r,undefined,!0);return a.template(n)}function t(t,e){return s||(s=o()),s.call(this,t,e)}if(r===undefined&&(r={}),null==i||"string"!=typeof i&&"Program"!==i.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+i);"data"in(r=u.extend({},r))||(r.data=!0),r.compat&&(r.useDepths=!0);var s=undefined;return t._setup=function(t){return s||(s=o()),s._setup(t)},t._child=function(t,e,n,i){return s||(s=o()),s._child(t,e,n,i)},t}function o(t,e){if(t===e)return!0;if(u.isArray(t)&&u.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!o(t[n],e[n]))return!1;return!0}}function s(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var l=n(1)["default"];e.__esModule=!0,e.Compiler=i,e.precompile=r,e.compile=a;var c=l(n(6)),u=n(5),d=l(n(35)),h=[].slice;i.prototype={compiler:i,equals:function p(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;n<e;n++){var i=this.opcodes[n],r=t.opcodes[n];if(i.opcode!==r.opcode||!o(i.args,r.args))return!1}e=this.children.length;for(n=0;n<e;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function a(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(this.options.knownHelpers[i]=n[i]);return this.accept(t)},compileProgram:function f(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function g(t){if(!this[t.type])throw new c["default"]("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function m(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,i=0;i<n;i++)this.accept(e[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function v(t){s(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function _(t){var e=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,e,undefined),i=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function y(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var n=t.params;if(1<n.length)throw new c["default"]("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,r="SubExpression"===t.name.type;r&&this.accept(t.name),this.setupFullMustacheParams(t,e,undefined,!0);var a=t.indent||"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a=""),this.opcode("invokePartial",r,i,a),this.opcode("append")},PartialBlockStatement:function b(t){this.PartialStatement(t)},MustacheStatement:function w(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function x(t){this.DecoratorBlock(t)},ContentStatement:function k(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function C(){},SubExpression:function S(t){s(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function T(t,e,n){var i=t.path,r=i.parts[0],a=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,a)},simpleSexpr:function $(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function D(t,e,n){var i=this.setupFullMustacheParams(t,e,n),r=t.path,a=r.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",i.length,a);else{if(this.options.knownHelpersOnly)throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper "+a,t);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,d["default"].helpers.simpleId(r))}},PathExpression:function A(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=d["default"].helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function M(t){this.opcode("pushString",t.value)},NumberLiteral:function P(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function I(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function E(){this.opcode("pushLiteral","undefined")},NullLiteral:function O(){this.opcode("pushLiteral","null")},Hash:function N(t){var e=t.pairs,n=0,i=e.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function L(t){this.opcodes.push({opcode:t,args:h.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function F(t){t&&(this.useDepths=!0)},classifySexpr:function R(t){var e=d["default"].helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&d["default"].helpers.helperExpression(t),r=!n&&(i||e);if(r&&!i){var a=t.path.parts[0],o=this.options;o.knownHelpers[a]?i=!0:o.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function j(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function H(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=undefined;if(!t.parts||d["default"].helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function B(t,e,n,i){var r=t.params;return this.pushParams(r),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),r},blockParamIndex:function z(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var i=this.options.blockParams[e],r=i&&u.indexOf(i,t);if(i&&0<=r)return[e,r]}}}},function(t,e,n){"use strict";function l(t){this.value=t}function r(){}function s(t,e,n,i){var r=e.popStack(),a=0,o=n.length;for(t&&o--;a<o;a++)r=e.nameLookup(r,n[a],i);return t?[e.aliasable("container.strict"),"(",r,", ",e.quotedString(n[a]),")"]:r}var i=n(1)["default"];e.__esModule=!0;var a=n(4),f=i(n(6)),o=n(5),c=i(n(43));r.prototype={nameLookup:function u(t,e){return r.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function d(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function h(){var t=a.COMPILER_REVISION;return[t,a.REVISION_CHANGES[t]]},appendToBuffer:function p(t,e,n){return o.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function g(){return this.quotedString("")},compile:function m(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,a=undefined,o=undefined,s=undefined,l=undefined;for(s=0,l=r.length;s<l;s++)a=r[s],this.source.currentLocation=a.loc,o=o||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new f["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=undefined:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(i);if(this.isChild)return c;var u={compiler:this.compilerInfo(),main:c};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var d=this.context,h=d.programs,p=d.decorators;for(s=0,l=h.length;s<l;s++)h[s]&&(u[s]=h[s],p[s]&&(u[s+"_d"]=p[s],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),i?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),e.srcName?(u=u.toStringWithSourceMap({file:e.destName})).map=u.map&&u.map.toString():u=u.toString()),u},preamble:function v(){this.lastContext=0,this.source=new c["default"](this.options.srcName),this.decorators=new c["default"](this.options.srcName)},createFunctionContext:function _(t){var e="",n=this.stackVars.concat(this.registers.list);0<n.length&&(e+=", "+n.join(", "));var i=0;for(var r in this.aliases){var a=this.aliases[r];this.aliases.hasOwnProperty(r)&&a.children&&1<a.referenceCount&&(e+=", alias"+ ++i+"="+r,a.children[0]="alias"+i)}var o=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&o.push("blockParams"),this.useDepths&&o.push("depths");var s=this.mergeSource(e);return t?(o.push(s),Function.apply(this,o)):this.source.wrap(["function(",o.join(","),") {\n  ",s,"}"])},mergeSource:function y(t){var e=this.environment.isSimple,n=!this.forceBuffer,i=undefined,r=undefined,a=undefined,o=undefined;return this.source.each(function(t){t.appendToBuffer?(a?t.prepend("  + "):a=t,o=t):(a&&(r?a.prepend("buffer += "):i=!0,o.add(";"),a=o=undefined),r=!0,e||(n=!1))}),n?a?(a.prepend("return "),o.add(";")):r||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),a?(a.prepend("return buffer + "),o.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function b(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function w(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function x(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function k(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,undefined,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",undefined,!0)," }"])}},appendEscaped:function C(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function S(t){this.lastContext=t},pushContext:function T(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function $(t,e,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[r++])),this.resolvePath("context",t,r,e,n)},lookupBlockParam:function D(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function A(t,e,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,n)},resolvePath:function M(n,i,r,a,t){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(s(this.options.strict&&t,this,i,n));else for(var e=i.length;r<e;r++)this.replaceStack(function(t){var e=o.nameLookup(t,i[r],n);return a?[" && ",e]:[" != null ? ",e," : ",t]})},resolvePossibleLambda:function P(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function I(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function E(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function O(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function N(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function L(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function F(t){this.pushStackLiteral(t)},pushProgram:function R(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function j(t,e){var n=this.nameLookup("decorators",e,"decorator"),i=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function H(t,e,n){var i=this.popStack(),r=this.setupHelper(t,e),a=n?[r.name," || "]:"",o=["("].concat(a,i);this.options.strict||o.push(" || ",this.aliasable("helpers.helperMissing")),o.push(")"),this.push(this.source.functionCall(o,"call",r.callParams))},invokeKnownHelper:function B(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function z(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function W(t,e,n){var i=[],r=this.setupParams(e,1,i);t&&(e=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",t?i.unshift(e):i.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function q(t){var e=this.popStack(),n=undefined,i=undefined,r=undefined;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var a=this.hash;n&&(a.contexts[t]=n),i&&(a.types[t]=i),r&&(a.ids[t]=r),a.values[t]=e},pushId:function U(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function V(t,e){for(var n=t.children,i=undefined,r=undefined,a=0,o=n.length;a<o;a++){i=n[a],r=new this.compiler;var s=this.matchExistingProgram(i);if(null==s){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=r.compile(i,e,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=s.index,i.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function Y(t){for(var e=0,n=this.context.environments.length;e<n;e++){var i=this.context.environments[e];if(i&&i.equals(t))return i}},programExpression:function K(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function X(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function Q(t){return t instanceof l||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function G(t){this.push(new l(t))},pushSource:function J(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=undefined),t&&this.source.push(t)},replaceStack:function Z(t){var e=["("],n=undefined,i=undefined,r=undefined;if(!this.isInline())throw new f["default"]("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof l)e=["(",n=[a.value]],r=!0;else{i=!0;var o=this.incrStack();e=["((",this.push(o)," = ",a,")"],n=this.topStack()}var s=t.call(this,n);r||this.popStack(),i&&this.stackSlot--,this.push(e.concat(s,")"))},incrStack:function tt(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function et(){return"stack"+this.stackSlot},flushInline:function nt(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var i=t[e];if(i instanceof l)this.compileStack.push(i);else{var r=this.incrStack();this.pushSource([r," = ",i,";"]),this.compileStack.push(r)}}},isInline:function it(){return this.inlineStack.length},popStack:function rt(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof l)return n.value;if(!e){if(!this.stackSlot)throw new f["default"]("Invalid stack pop");this.stackSlot--}return n},topStack:function at(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof l?e.value:e},contextName:function ot(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function st(t){return this.source.quotedString(t)},objectLiteral:function lt(t){return this.source.objectLiteral(t)},aliasable:function ct(t){var e=this.aliases[t];return e?e.referenceCount++:((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1),e},setupHelper:function ut(t,e,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(e,t,i,n),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function dt(t,e,n){var i={},r=[],a=[],o=[],s=!n,l=undefined;s&&(n=[]),i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var d=e;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(o[d]=this.popStack()),this.stringParams&&(a[d]=this.popStack(),r[d]=this.popStack());return s&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(o)),this.stringParams&&(i.types=this.source.generateArray(a),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function ht(t,e,n,i){var r=this.setupParams(t,e,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=r.RESERVED_WORDS={},n=0,i=t.length;n<i;n++)e[t[n]]=!0}(),r.isValidJavaScriptVariableName=function(t){return!r.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";function a(t,e,n){if(o.isArray(t)){for(var i=[],r=0,a=t.length;r<a;r++)i.push(e.wrap(t[r],n));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function i(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var o=n(5),r=undefined;try{}catch(s){}r||((r=function(t,e,n,i){this.src="",i&&this.add(i)}).prototype={add:function l(t){o.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function c(t){o.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function u(){return{code:this.toString()}},toString:function d(){return this.src}}),i.prototype={isEmpty:function h(){return!this.source.length},prepend:function c(t,e){this.source.unshift(this.wrap(t,e))},push:function p(t,e){this.source.push(this.wrap(t,e))},merge:function f(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function g(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function m(){var t=this.currentLocation||{start:{}};return new r(t.start.line,t.start.column,this.srcFile)},wrap:function v(t,e){var n=arguments.length<=1||e===undefined?this.currentLocation||{start:{}}:arguments[1];return t instanceof r?t:(t=a(t,this,n),new r(n.start.line,n.start.column,this.srcFile,t))},functionCall:function _(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function y(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function b(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var i=a(t[n],this);"undefined"!==i&&e.push([this.quotedString(n),":",i])}var r=this.generateList(e);return r.prepend("{"),r.add("}"),r},generateList:function w(t){for(var e=this.empty(),n=0,i=t.length;n<i;n++)n&&e.add(","),e.add(a(t[n],this));return e},generateArray:function x(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e["default"]=i,t.exports=e["default"]}])}),function($){"use strict";var D=$.tablesorter={version:"2.28.15",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(e,n){if(e&&e.tHead&&0!==e.tBodies.length&&!0!==e.hasInitialized){var t,i="",r=$(e),a=$.metadata;e.hasInitialized=!1,e.isProcessing=!0,e.config=n,$.data(e,"tablesorter",n),n.debug&&(console[console.group?"group":"log"]("Initializing tablesorter v"+D.version),$.data(e,"startoveralltimer",new Date)),n.supportsDataObject=((t=$.fn.jquery.split("."))[0]=parseInt(t[0],10),1<t[0]||1===t[0]&&4<=parseInt(t[1],10)),n.emptyTo=n.emptyTo.toLowerCase(),n.stringTo=n.stringTo.toLowerCase(),n.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(r.attr("class"))||(i=""!==n.theme?" tablesorter-"+n.theme:""),n.namespace?n.namespace="."+n.namespace.replace(D.regex.nonWord,""):n.namespace=".tablesorter"+Math.random().toString(16).slice(2),n.table=e,n.$table=r.addClass(D.css.table+" "+n.tableClass+i+" "+n.namespace.slice(1)).attr("role","grid"),n.$headers=r.find(n.selectorHeaders),n.$table.children().children("tr").attr("role","row"),n.$tbodies=r.children("tbody:not(."+n.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),n.$table.children("caption").length&&((i=n.$table.children("caption")[0]).id||(i.id=n.namespace.slice(1)+"caption"),n.$table.attr("aria-labelledby",i.id)),n.widgetInit={},n.textExtraction=n.$table.attr("data-text-extraction")||n.textExtraction||"basic",D.buildHeaders(n),D.fixColumnWidth(e),D.addWidgetFromClass(e),D.applyWidgetOptions(e),D.setupParsers(n),n.totalRows=0,D.validateOptions(n),n.delayInit||D.buildCache(n),D.bindEvents(e,n.$headers,!0),D.bindMethods(n),n.supportsDataObject&&"undefined"!=typeof r.data().sortlist?n.sortList=r.data().sortlist:a&&r.metadata()&&r.metadata().sortlist&&(n.sortList=r.metadata().sortlist),D.applyWidget(e,!0),0<n.sortList.length?D.sortOn(n,n.sortList,{},!n.initWidgets):(D.setHeadersCss(n),n.initWidgets&&D.applyWidget(e,!1)),n.showProcessing&&r.unbind("sortBegin"+n.namespace+" sortEnd"+n.namespace).bind("sortBegin"+n.namespace+" sortEnd"+n.namespace,function(t){clearTimeout(n.timerProcessing),D.isProcessing(e),"sortBegin"===t.type&&(n.timerProcessing=setTimeout(function(){D.isProcessing(e,!0)},500))}),e.hasInitialized=!0,e.isProcessing=!1,n.debug&&(console.log("Overall initialization time:"+D.benchmark($.data(e,"startoveralltimer"))),n.debug&&console.groupEnd&&console.groupEnd()),r.triggerHandler("tablesorter-initialized",e),"function"==typeof n.initialized&&n.initialized(e)}else n.debug&&(e.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",e))},bindMethods:function(n){var t=n.$table,e=n.namespace,i="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(e+" ");t.unbind(i.replace(D.regex.spaces," ")).bind("sortReset"+e,function(t,e){t.stopPropagation(),D.sortReset(this.config,function(t){t.isApplyingWidgets?setTimeout(function(){D.applyWidget(t,"",e)},100):D.applyWidget(t,"",e)})}).bind("updateAll"+e,function(t,e,n){t.stopPropagation(),D.updateAll(this.config,e,n)}).bind("update"+e+" updateRows"+e,function(t,e,n){t.stopPropagation(),D.update(this.config,e,n)}).bind("updateHeaders"+e,function(t,e){t.stopPropagation(),D.updateHeaders(this.config,e)}).bind("updateCell"+e,function(t,e,n,i){t.stopPropagation(),D.updateCell(this.config,e,n,i)}).bind("addRows"+e,function(t,e,n,i){t.stopPropagation(),D.addRows(this.config,e,n,i)}).bind("updateComplete"+e,function(){this.isUpdating=!1}).bind("sorton"+e,function(t,e,n,i){t.stopPropagation(),D.sortOn(this.config,e,n,i)}).bind("appendCache"+e,function(t,e,n){t.stopPropagation(),D.appendCache(this.config,n),$.isFunction(e)&&e(this)}).bind("updateCache"+e,function(t,e,n){t.stopPropagation(),D.updateCache(this.config,e,n)}).bind("applyWidgetId"+e,function(t,e){t.stopPropagation(),D.applyWidgetId(this,e)}).bind("applyWidgets"+e,function(t,e){t.stopPropagation(),D.applyWidget(this,e)}).bind("refreshWidgets"+e,function(t,e,n){t.stopPropagation(),D.refreshWidgets(this,e,n)}).bind("removeWidget"+e,function(t,e,n){t.stopPropagation(),D.removeWidget(this,e,n)}).bind("destroy"+e,function(t,e,n){t.stopPropagation(),D.destroy(this,e,n)}).bind("resetToLoadState"+e,function(t){t.stopPropagation(),D.removeWidget(this,!0,!1);var e=$.extend(!0,{},n.originalSettings);(n=$.extend(!0,{},D.defaults,e)).originalSettings=e,this.hasInitialized=!1,D.setup(this,n)})},bindEvents:function(t,s,e){var n,l=(t=$(t)[0]).config,i=l.namespace,c=null;!0!==e&&(s.addClass(i.slice(1)+"_extra_headers"),(n=$.fn.closest?s.closest("table")[0]:s.parents("table")[0])&&"TABLE"===n.nodeName&&n!==t&&$(n).addClass(i.slice(1)+"_extra_table")),n=(l.pointerDown+" "+l.pointerUp+" "+l.pointerClick+" sort keyup ").replace(D.regex.spaces," ").split(" ").join(i+" "),s.find(l.selectorSort).add(s.filter(l.selectorSort)).unbind(n).bind(n,
function(t,e){var n,i,r,a=$(t.target),o=" "+t.type+" ";if(!(1!==(t.which||t.button)&&!o.match(" "+l.pointerClick+" | sort | keyup ")||" keyup "===o&&t.which!==D.keyCodes.enter||o.match(" "+l.pointerClick+" ")&&"undefined"!=typeof t.which||o.match(" "+l.pointerUp+" ")&&c!==t.target&&!0!==e)){if(o.match(" "+l.pointerDown+" "))return c=t.target,void("1"===(r=a.jquery.split("."))[0]&&r[1]<4&&t.preventDefault());if(c=null,D.regex.formElements.test(t.target.nodeName)||a.hasClass(l.cssNoSort)||0<a.parents("."+l.cssNoSort).length||0<a.parents("button").length)return!l.cancelSelection;l.delayInit&&D.isEmptyObject(l.cache)&&D.buildCache(l),n=$.fn.closest?$(this).closest("th, td"):/TH|TD/.test(this.nodeName)?$(this):$(this).parents("th, td"),r=s.index(n),l.last.clickedIndex=r<0?n.attr("data-column"):r,(i=l.$headers[l.last.clickedIndex])&&!i.sortDisabled&&D.initSort(l,i,t)}}),l.cancelSelection&&s.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(l){var t,c,e,n;for(l.headerList=[],l.headerContent=[],l.sortVars=[],l.debug&&(e=new Date),l.columns=D.computeColumnIndex(l.$table.children("thead, tfoot").children("tr")),c=l.cssIcon?'<i class="'+(l.cssIcon===D.css.icon?D.css.icon:l.cssIcon+" "+D.css.icon)+'"></i>':"",l.$headers=$($.map(l.$table.find(l.selectorHeaders),function(t,e){var n,i,r,a,o,s=$(t);if(!s.parent().hasClass(l.cssIgnoreRow))return n=D.getColumnData(l.table,l.headers,e,!0),l.headerContent[e]=s.html(),""===l.headerTemplate||s.find("."+D.css.headerIn).length||(a=l.headerTemplate.replace(D.regex.templateContent,s.html()).replace(D.regex.templateIcon,s.find("."+D.css.icon).length?"":c),l.onRenderTemplate&&(i=l.onRenderTemplate.apply(s,[e,a]))&&"string"==typeof i&&(a=i),s.html('<div class="'+D.css.headerIn+'">'+a+"</div>")),l.onRenderHeader&&l.onRenderHeader.apply(s,[e,l,l.$table]),r=parseInt(s.attr("data-column"),10),t.column=r,o=D.getOrder(D.getData(s,n,"sortInitialOrder")||l.sortInitialOrder),l.sortVars[r]={count:-1,order:o?l.sortReset?[1,0,2]:[1,0]:l.sortReset?[0,1,2]:[0,1],lockedOrder:!1},void 0!==(o=D.getData(s,n,"lockedOrder")||!1)&&!1!==o&&(l.sortVars[r].lockedOrder=!0,l.sortVars[r].order=D.getOrder(o)?[1,1]:[0,0]),l.headerList[e]=t,s.addClass(D.css.header+" "+l.cssHeader).parent().addClass(D.css.headerRow+" "+l.cssHeaderRow).attr("role","row"),l.tabIndex&&s.attr("tabindex",0),t})),l.$headerIndexed=[],n=0;n<l.columns;n++)D.isEmptyObject(l.sortVars[n])&&(l.sortVars[n]={}),t=l.$headers.filter('[data-column="'+n+'"]'),l.$headerIndexed[n]=t.length?t.not(".sorter-false").length?t.not(".sorter-false").filter(":last"):t.filter(":last"):$();l.$table.find(l.selectorHeaders).attr({scope:"col",role:"columnheader"}),D.updateHeader(l),l.debug&&(console.log("Built headers:"+D.benchmark(e)),console.log(l.$headers))},addInstanceMethods:function(t){$.extend(D.instanceMethods,t)},setupParsers:function(t,e){var n,i,r,a,o,s,l,c,u,d,h,p,f,g,m=t.table,v=0,_={};if(t.$tbodies=t.$table.children("tbody:not(."+t.cssInfoBlock+")"),0===(g=(f=void 0===e?t.$tbodies:e).length))return t.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(t.debug&&(p=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),i={extractors:[],parsers:[]};v<g;){if((n=f[v].rows).length)for(o=0,a=t.columns,s=0;s<a;s++){if((l=t.$headerIndexed[o])&&l.length&&(c=D.getColumnData(m,t.headers,o),h=D.getParserById(D.getData(l,c,"extractor")),d=D.getParserById(D.getData(l,c,"sorter")),u="false"===D.getData(l,c,"parser"),t.empties[o]=(D.getData(l,c,"empty")||t.emptyTo||(t.emptyToBottom?"bottom":"top")).toLowerCase(),t.strings[o]=(D.getData(l,c,"string")||t.stringTo||"max").toLowerCase(),u&&(d=D.getParserById("no-parser")),h||(h=!1),d||(d=D.detectParserForColumn(t,n,-1,o)),t.debug&&(_["("+o+") "+l.text()]={parser:d.id,extractor:h?h.id:"none",string:t.strings[o],empty:t.empties[o]}),i.parsers[o]=d,i.extractors[o]=h,0<(r=l[0].colSpan-1)))for(o+=r,a+=r;0<r+1;)i.parsers[o-r]=d,i.extractors[o-r]=h,r--;o++}v+=i.parsers.length?g:1}t.debug&&(D.isEmptyObject(_)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](_),console.log("Completed detecting parsers"+D.benchmark(p)),console.groupEnd&&console.groupEnd()),t.parsers=i.parsers,t.extractors=i.extractors},addParser:function(t){var e,n=D.parsers.length,i=!0;for(e=0;e<n;e++)D.parsers[e].id.toLowerCase()===t.id.toLowerCase()&&(i=!1);i&&(D.parsers[D.parsers.length]=t)},getParserById:function(t){if("false"==t)return!1;var e,n=D.parsers.length;for(e=0;e<n;e++)if(D.parsers[e].id.toLowerCase()===t.toString().toLowerCase())return D.parsers[e];return!1},detectParserForColumn:function(t,e,n,i){for(var r,a,o,s=D.parsers.length,l=!1,c="",u=!0;""===c&&u;)(o=e[++n])&&n<50?o.className.indexOf(D.cssIgnoreRow)<0&&(l=e[n].cells[i],c=D.getElementText(t,l,i),a=$(l),t.debug&&console.log("Checking if value was empty on row "+n+", column: "+i+': "'+c+'"')):u=!1;for(;0<=--s;)if((r=D.parsers[s])&&"text"!==r.id&&r.is&&r.is(c,t.table,l,a))return r;return D.getParserById("text")},getElementText:function(t,e,n){if(!e)return"";var i,r=t.textExtraction||"",a=e.jquery?e:$(e);return"string"==typeof r?"basic"===r&&void 0!==(i=a.attr(t.textAttribute))?$.trim(i):$.trim(e.textContent||a.text()):"function"==typeof r?$.trim(r(a[0],t.table,n)):"function"==typeof(i=D.getColumnData(t.table,r,n))?$.trim(i(a[0],t.table,n)):$.trim(a[0].textContent||a.text())},getParsedText:function(t,e,n,i){void 0===i&&(i=D.getElementText(t,e,n));var r=""+i,a=t.parsers[n],o=t.extractors[n];return a&&(o&&"function"==typeof o.format&&(i=o.format(i,t.table,e,n)),r="no-parser"===a.id?"":a.format(""+i,t.table,e,n),t.ignoreCase&&"string"==typeof r&&(r=r.toLowerCase())),r},buildCache:function(t,e,n){var i,r,a,o,s,l,c,u,d,h,p,f,g,m,v,_,y,b,w,x,k,C,S=t.table,T=t.parsers;if(t.$tbodies=t.$table.children("tbody:not(."+t.cssInfoBlock+")"),c=void 0===n?t.$tbodies:n,t.cache={},t.totalRows=0,!T)return t.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(t.debug&&(f=new Date),t.showProcessing&&D.isProcessing(S,!0),l=0;l<c.length;l++){for(_=[],i=t.cache[l]={normalized:[]},g=c[l]&&c[l].rows.length||0,o=0;o<g;++o)if(m={child:[],raw:[]},d=[],!(u=$(c[l].rows[o])).hasClass(t.selectorRemove.slice(1)))if(u.hasClass(t.cssChildRow)&&0!==o)for(k=i.normalized.length-1,(v=i.normalized[k][t.columns]).$row=v.$row.add(u),u.prev().hasClass(t.cssChildRow)||u.prev().addClass(D.css.cssHasChild),h=u.children("th, td"),k=v.child.length,v.child[k]=[],b=0,x=t.columns,s=0;s<x;s++)(p=h[s])&&(v.child[k][s]=D.getParsedText(t,p,s),0<(y=h[s].colSpan-1)&&(b+=y,x+=y)),b++;else{for(m.$row=u,m.order=o,b=0,x=t.columns,s=0;s<x;++s){if((p=u[0].cells[s])&&b<t.columns&&(!(w="undefined"!=typeof T[b])&&t.debug&&console.warn("No parser found for row: "+o+", column: "+s+'; cell containing: "'+$(p).text()+'"; does it have a header?'),r=D.getElementText(t,p,b),m.raw[b]=r,a=D.getParsedText(t,p,b,r),d[b]=a,w&&"numeric"===(T[b].type||"").toLowerCase()&&(_[b]=Math.max(Math.abs(a)||0,_[b]||0)),0<(y=p.colSpan-1))){for(C=0;C<=y;)a=t.duplicateSpan||0===C?r:"string"!=typeof t.textExtraction&&D.getElementText(t,p,b+C)||"",m.raw[b+C]=a,d[b+C]=a,C++;b+=y,x+=y}b++}d[t.columns]=m,i.normalized[i.normalized.length]=d}i.colMax=_,t.totalRows+=i.normalized.length}if(t.showProcessing&&D.isProcessing(S),t.debug){for(k=Math.min(5,t.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+t.totalRows+" rows (showing "+k+" rows in log) and "+t.columns+" columns"+D.benchmark(f)),r={},s=0;s<t.columns;s++)for(b=0;b<k;b++)r["row: "+b]||(r["row: "+b]={}),r["row: "+b][t.$headerIndexed[s].text()]=t.cache[0].normalized[b][s];console[console.table?"table":"log"](r),console.groupEnd&&console.groupEnd()}$.isFunction(e)&&e(S)},getColumnText:function(t,e,n,i){var r,a,o,s,l,c,u,d,h,p,f="function"==typeof n,g="all"===e,m={raw:[],parsed:[],$cell:[]},v=(t=$(t)[0]).config;if(!D.isEmptyObject(v)){for(l=v.$tbodies.length,r=0;r<l;r++)for(c=(o=v.cache[r].normalized).length,a=0;a<c;a++)s=o[a],i&&!s[v.columns].$row.is(i)||(p=!0,d=g?s.slice(0,v.columns):s[e],s=s[v.columns],u=g?s.raw:s.raw[e],h=g?s.$row.children():s.$row.children().eq(e),f&&(p=n({tbodyIndex:r,rowIndex:a,parsed:d,raw:u,$row:s.$row,$cell:h})),!1!==p&&(m.parsed[m.parsed.length]=d,m.raw[m.raw.length]=u,m.$cell[m.$cell.length]=h));return m}v.debug&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(a){var t,e,n=a.sortList,i=n.length,r=D.css.sortNone+" "+a.cssNone,o=[D.css.sortAsc+" "+a.cssAsc,D.css.sortDesc+" "+a.cssDesc],s=[a.cssIconAsc,a.cssIconDesc,a.cssIconNone],l=["ascending","descending"],c=a.$table.find("tfoot tr").children("td, th").add($(a.namespace+"_extra_headers")).removeClass(o.join(" ")),u=a.$headers.add($("thead "+a.namespace+"_extra_headers")).removeClass(o.join(" ")).addClass(r).attr("aria-sort","none").find("."+D.css.icon).removeClass(s.join(" ")).end();for(u.not(".sorter-false").find("."+D.css.icon).addClass(s[2]),a.cssIconDisabled&&u.filter(".sorter-false").find("."+D.css.icon).addClass(a.cssIconDisabled),t=0;t<i;t++)if(2!==n[t][1]&&(u=(u=a.$headers.filter(function(t){for(var e=!0,n=a.$headers.eq(t),i=parseInt(n.attr("data-column"),10),r=i+a.$headers[t].colSpan;i<r;i++)e=!!e&&(e||-1<D.isValueInArray(i,a.sortList));return e})).not(".sorter-false").filter('[data-column="'+n[t][0]+'"]'+(1===i?":last":""))).length){for(e=0;e<u.length;e++)u[e].sortDisabled||u.eq(e).removeClass(r).addClass(o[n[t][1]]).attr("aria-sort",l[n[t][1]]).find("."+D.css.icon).removeClass(s[2]).addClass(s[n[t][1]]);c.length&&c.filter('[data-column="'+n[t][0]+'"]').removeClass(r).addClass(o[n[t][1]])}for(i=a.$headers.length,t=0;t<i;t++)D.setColumnAriaLabel(a,a.$headers.eq(t))},setColumnAriaLabel:function(t,e,n){if(e.length){var i=parseInt(e.attr("data-column"),10),r=t.sortVars[i],a=e.hasClass(D.css.sortAsc)?"sortAsc":e.hasClass(D.css.sortDesc)?"sortDesc":"sortNone",o=$.trim(e.text())+": "+D.language[a];e.hasClass("sorter-false")||!1===n?o+=D.language.sortDisabled:(a=(r.count+1)%r.order.length,n=r.order[a],o+=D.language[0===n?"nextAsc":1===n?"nextDesc":"nextNone"]),e.attr("aria-label",o)}},updateHeader:function(t){var e,n,i,r,a=t.table,o=t.$headers.length;for(e=0;e<o;e++)i=t.$headers.eq(e),r=D.getColumnData(a,t.headers,e,!0),n="false"===D.getData(i,r,"sorter")||"false"===D.getData(i,r,"parser"),D.setColumnSort(t,i,n)},setColumnSort:function(t,e,n){var i=t.table.id;e[0].sortDisabled=n,e[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),t.tabIndex&&(n?e.removeAttr("tabindex"):e.attr("tabindex","0")),i&&(n?e.removeAttr("aria-controls"):e.attr("aria-controls",i))},updateHeaderSortCount:function(t,e){var n,i,r,a,o,s,l,c,u=e||t.sortList,d=u.length;for(t.sortList=[],a=0;a<d;a++)if(l=u[a],(n=parseInt(l[0],10))<t.columns){switch(t.sortVars[n].order||(c=D.getOrder(t.sortInitialOrder)?t.sortReset?[1,0,2]:[1,0]:t.sortReset?[0,1,2]:[0,1],t.sortVars[n].order=c,t.sortVars[n].count=0),c=t.sortVars[n].order,i=(i=(""+l[1]).match(/^(1|d|s|o|n)/))?i[0]:""){case"1":case"d":i=1;break;case"s":i=o||0;break;case"o":i=0===(s=c[(o||0)%c.length])?1:1===s?0:2;break;case"n":i=c[++t.sortVars[n].count%c.length];break;default:i=0}o=0===a?i:o,r=[n,parseInt(i,10)||0],t.sortList[t.sortList.length]=r,i=$.inArray(r[1],c),t.sortVars[n].count=0<=i?i:r[1]%c.length}},updateAll:function(t,e,n){var i=t.table;i.isUpdating=!0,D.refreshWidgets(i,!0,!0),D.buildHeaders(t),D.bindEvents(i,t.$headers,!0),D.bindMethods(t),D.commonUpdate(t,e,n)},update:function(t,e,n){t.table.isUpdating=!0,D.updateHeader(t),D.commonUpdate(t,e,n)},updateHeaders:function(t,e){t.table.isUpdating=!0,D.buildHeaders(t),D.bindEvents(t.table,t.$headers,!0),D.resortComplete(t,e)},updateCell:function(t,e,n,i){if($(e).closest("tr").hasClass(t.cssChildRow))console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');else{if(D.isEmptyObject(t.cache))return D.updateHeader(t),void D.commonUpdate(t,n,i);t.table.isUpdating=!0,t.$table.find(t.selectorRemove).remove();var r,a,o,s,l,c,u=t.$tbodies,d=$(e),h=u.index($.fn.closest?d.closest("tbody"):d.parents("tbody").filter(":first")),p=t.cache[h],f=$.fn.closest?d.closest("tr"):d.parents("tr").filter(":first");if(e=d[0],u.length&&0<=h){if(o=u.eq(h).find("tr").not("."+t.cssChildRow).index(f),l=p.normalized[o],(c=f[0].cells.length)!==t.columns)for(r=!1,a=s=0;a<c;a++)r||f[0].cells[a]===e?r=!0:s+=f[0].cells[a].colSpan;else s=d.index();r=D.getElementText(t,e,s),l[t.columns].raw[s]=r,r=D.getParsedText(t,e,s,r),l[s]=r,"numeric"===(t.parsers[s].type||"").toLowerCase()&&(p.colMax[s]=Math.max(Math.abs(r)||0,p.colMax[s]||0)),!1!==(r="undefined"!==n?n:t.resort)?D.checkResort(t,r,i):D.resortComplete(t,i)}else t.debug&&console.error("updateCell aborted, tbody missing or not within the indicated table"),t.table.isUpdating=!1}},addRows:function(t,e,n,i){var r,a,o,s,l,c,u,d,h,p,f,g,m,v="string"==typeof e&&1===t.$tbodies.length&&/<tr/.test(e||""),_=t.table;if(v)e=$(e),t.$tbodies.append(e);else if(!(e&&e instanceof jQuery&&($.fn.closest?e.closest("table")[0]:e.parents("table")[0])===t.table))return t.debug&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(_.isUpdating=!0,D.isEmptyObject(t.cache))D.updateHeader(t),D.commonUpdate(t,n,i);else{for(l=e.filter("tr").attr("role","row").length,o=t.$tbodies.index(e.parents("tbody").filter(":first")),t.parsers&&t.parsers.length||D.setupParsers(t),s=0;s<l;s++){for(h=0,u=e[s].cells.length,d=t.cache[o].normalized.length,f=[],p={child:[],raw:[],$row:e.eq(s),order:d},c=0;c<u;c++)g=e[s].cells[c],r=D.getElementText(t,g,h),p.raw[h]=r,a=D.getParsedText(t,g,h,r),f[h]=a,"numeric"===(t.parsers[h].type||"").toLowerCase()&&(t.cache[o].colMax[h]=Math.max(Math.abs(a)||0,t.cache[o].colMax[h]||0)),0<(m=g.colSpan-1)&&(h+=m),h++;f[t.columns]=p,t.cache[o].normalized[d]=f}D.checkResort(t,n,i)}},updateCache:function(t,e,n){t.parsers&&t.parsers.length||D.setupParsers(t,n),D.buildCache(t,e,n)},appendCache:function(t,e){var n,i,r,a,o,s,l,c=t.table,u=t.widgetOptions,d=t.$tbodies,h=[],p=t.cache;if(D.isEmptyObject(p))return t.appender?t.appender(c,h):c.isUpdating?t.$table.triggerHandler("updateComplete",c):"";for(t.debug&&(l=new Date),s=0;s<d.length;s++)if((r=d.eq(s)).length){for(a=D.processTbody(c,r,!0),i=(n=p[s].normalized).length,o=0;o<i;o++)h[h.length]=n[o][t.columns].$row,t.appender&&(!t.pager||t.pager.removeRows&&u.pager_removeRows||t.pager.ajax)||a.append(n[o][t.columns].$row);D.processTbody(c,a,!1)}t.appender&&t.appender(c,h),t.debug&&console.log("Rebuilt table"+D.benchmark(l)),e||t.appender||D.applyWidget(c),c.isUpdating&&t.$table.triggerHandler("updateComplete",c)},commonUpdate:function(t,e,n){t.$table.find(t.selectorRemove).remove(),D.setupParsers(t),D.buildCache(t),D.checkResort(t,e,n)},initSort:function(t,e,n){if(t.table.isUpdating)return setTimeout(function(){D.initSort(t,e,n)},50);var i,r,a,o,s,l,c,u=!n[t.sortMultiSortKey],d=t.table,h=t.$headers.length,p=parseInt($(e).attr("data-column"),10),f=t.sortVars[p].order;if(t.$table.triggerHandler("sortStart",d),l=(t.sortVars[p].count+1)%f.length,t.sortVars[p].count=n[t.sortResetKey]?2:l,t.sortRestart)for(a=0;a<h;a++)c=t.$headers.eq(a),p!==(l=parseInt(c.attr("data-column"),10))&&(u||c.hasClass(D.css.sortNone))&&(t.sortVars[l].count=-1);if(u){if(t.sortList=[],t.last.sortList=[],null!==t.sortForce)for(i=t.sortForce,r=0;r<i.length;r++)i[r][0]!==p&&(t.sortList[t.sortList.length]=i[r]);if((o=f[t.sortVars[p].count])<2&&(t.sortList[t.sortList.length]=[p,o],1<e.colSpan))for(r=1;r<e.colSpan;r++)t.sortList[t.sortList.length]=[p+r,o],t.sortVars[p+r].count=$.inArray(o,f)}else if(t.sortList=$.extend([],t.last.sortList),0<=D.isValueInArray(p,t.sortList))for(r=0;r<t.sortList.length;r++)(l=t.sortList[r])[0]===p&&(l[1]=f[t.sortVars[p].count],2===l[1]&&(t.sortList.splice(r,1),t.sortVars[p].count=-1));else if((o=f[t.sortVars[p].count])<2&&(t.sortList[t.sortList.length]=[p,o],1<e.colSpan))for(r=1;r<e.colSpan;r++)t.sortList[t.sortList.length]=[p+r,o],t.sortVars[p+r].count=$.inArray(o,f);if(t.last.sortList=$.extend([],t.sortList),t.sortList.length&&t.sortAppend&&(i=$.isArray(t.sortAppend)?t.sortAppend:t.sortAppend[t.sortList[0][0]],!D.isEmptyObject(i)))for(r=0;r<i.length;r++)if(i[r][0]!==p&&D.isValueInArray(i[r][0],t.sortList)<0){if(s=(""+(o=i[r][1])).match(/^(a|d|s|o|n)/))switch(l=t.sortList[0][1],s[0]){case"d":o=1;break;case"s":o=l;break;case"o":o=0===l?1:0;break;case"n":o=(l+1)%f.length;break;default:o=0}t.sortList[t.sortList.length]=[i[r][0],o]}t.$table.triggerHandler("sortBegin",d),setTimeout(function(){D.setHeadersCss(t),D.multisort(t),D.appendCache(t),t.$table.triggerHandler("sortBeforeEnd",d),t.$table.triggerHandler("sortEnd",d)},1)},multisort:function(c){var t,e,u,n,d=c.table,h=[],p=0,f=c.textSorter||"",g=c.sortList,m=g.length,i=c.$tbodies.length;if(!c.serverSideSorting&&!D.isEmptyObject(c.cache)){if(c.debug&&(e=new Date),"object"==typeof f)for(u=c.columns;u--;)"function"==typeof(n=D.getColumnData(d,f,u))&&(h[u]=n);for(t=0;t<i;t++)u=c.cache[t].colMax,c.cache[t].normalized.sort(function(t,e){var n,i,r,a,o,s,l;for(n=0;n<m;n++){if(r=g[n][0],a=g[n][1],p=0===a,c.sortStable&&t[r]===e[r]&&1===m)return t[c.columns].order-e[c.columns].order;if((i=/n/i.test(D.getSortType(c.parsers,r)))&&c.strings[r]?(i="boolean"==typeof D.string[c.strings[r]]?(p?1:-1)*(D.string[c.strings[r]]?-1:1):c.strings[r]&&D.string[c.strings[r]]||0,o=c.numberSorter?c.numberSorter(t[r],e[r],p,u[r],d):D["sortNumeric"+(p?"Asc":"Desc")](t[r],e[r],i,u[r],r,c)):(s=p?t:e,l=p?e:t,o="function"==typeof f?f(s[r],l[r],p,r,d):"function"==typeof h[r]?h[r](s[r],l[r],p,r,d):D["sortNatural"+(p?"Asc":"Desc")](t[r],e[r],r,c)),o)return o}return t[c.columns].order-e[c.columns].order});c.debug&&console.log("Applying sort "+g.toString()+D.benchmark(e))}},resortComplete:function(t,e){t.table.isUpdating&&t.$table.triggerHandler("updateComplete",t.table),$.isFunction(e)&&e(t.table)},checkResort:function(t,e,n){var i=$.isArray(e)?e:t.sortList;!1===(void 0===e?t.resort:e)||t.serverSideSorting||t.table.isProcessing?(D.resortComplete(t,n),D.applyWidget(t.table,!1)):i.length?D.sortOn(t,i,function(){D.resortComplete(t,n)},!0):D.sortReset(t,function(){D.resortComplete(t,n),D.applyWidget(t.table,!1)})},sortOn:function(t,e,n,i){var r=t.table;t.$table.triggerHandler("sortStart",r),D.updateHeaderSortCount(t,e),D.setHeadersCss(t),t.delayInit&&D.isEmptyObject(t.cache)&&D.buildCache(t),t.$table.triggerHandler("sortBegin",r),D.multisort(t),D.appendCache(t,i),t.$table.triggerHandler("sortBeforeEnd",r),t.$table.triggerHandler("sortEnd",r),D.applyWidget(r),$.isFunction(n)&&n(r)},sortReset:function(t,e){var n;for(t.sortList=[],D.setHeadersCss(t),D.multisort(t),D.appendCache(t),n=0;n<t.columns;n++)t.sortVars[n].count=-1;$.isFunction(e)&&e(t.table)},getSortType:function(t,e){return t&&t[e]&&t[e].type||""},getOrder:function(t){return/^d/i.test(t)||1===t},sortNatural:function(t,e){if(t===e)return 0;t=t.toString(),e=e.toString();var n,i,r,a,o,s,l=D.regex;if(l.hex.test(e)){if((n=parseInt((t||"").match(l.hex),16))<(i=parseInt((e||"").match(l.hex),16)))return-1;if(i<n)return 1}for(n=(t||"").replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),i=(e||"").replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),s=Math.max(n.length,i.length),o=0;o<s;o++){if(r=isNaN(n[o])?n[o]||0:parseFloat(n[o])||0,a=isNaN(i[o])?i[o]||0:parseFloat(i[o])||0,isNaN(r)!==isNaN(a))return isNaN(r)?1:-1;if(typeof r!=typeof a&&(r+="",a+=""),r<a)return-1;if(a<r)return 1}return 0},sortNaturalAsc:function(t,e,n,i){if(t===e)return 0;var r=D.string[i.empties[n]||i.emptyTo];return""===t&&0!==r?"boolean"==typeof r?r?-1:1:-r||-1:""===e&&0!==r?"boolean"==typeof r?r?1:-1:r||1:D.sortNatural(t,e)},sortNaturalDesc:function(t,e,n,i){if(t===e)return 0;var r=D.string[i.empties[n]||i.emptyTo];return""===t&&0!==r?"boolean"==typeof r?r?-1:1:r||1:""===e&&0!==r?"boolean"==typeof r?r?1:-1:-r||-1:D.sortNatural(e,t)},sortText:function(t,e){return e<t?1:t<e?-1:0},getTextValue:function(t,e,n){if(n){var i,r=t?t.length:0,a=n+e;for(i=0;i<r;i++)a+=t.charCodeAt(i);return e*a}return 0},sortNumericAsc:function(t,e,n,i,r,a){if(t===e)return 0;var o=D.string[a.empties[r]||a.emptyTo];return""===t&&0!==o?"boolean"==typeof o?o?-1:1:-o||-1:""===e&&0!==o?"boolean"==typeof o?o?1:-1:o||1:(isNaN(t)&&(t=D.getTextValue(t,n,i)),isNaN(e)&&(e=D.getTextValue(e,n,i)),t-e)},sortNumericDesc:function(t,e,n,i,r,a){if(t===e)return 0;var o=D.string[a.empties[r]||a.emptyTo];return""===t&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===e&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:(isNaN(t)&&(t=D.getTextValue(t,n,i)),isNaN(e)&&(e=D.getTextValue(e,n,i)),e-t)},sortNumeric:function(t,e){return t-e},addWidget:function(t){t.id&&!D.isEmptyObject(D.getWidgetById(t.id))&&console.warn('"'+t.id+'" widget was loaded more than once!'),D.widgets[D.widgets.length]=t},hasWidget:function(t,e){return(t=$(t)).length&&t[0].config&&t[0].config.widgetInit[e]||!1},getWidgetById:function(t){var e,n,i=D.widgets.length;for(e=0;e<i;e++)if((n=D.widgets[e])&&n.id&&n.id.toLowerCase()===t.toLowerCase())return n},applyWidgetOptions:function(t){var e,n,i,r=t.config,a=r.widgets.length;if(a)for(e=0;e<a;e++)(n=D.getWidgetById(r.widgets[e]))&&n.options&&(i=$.extend(!0,{},n.options),r.widgetOptions=$.extend(!0,i,r.widgetOptions),$.extend(!0,D.defaults.widgetOptions,n.options))},addWidgetFromClass:function(t){var e,n,i=t.config,r="^"+i.widgetClass.replace(D.regex.templateName,"(\\S+)+")+"$",a=new RegExp(r,"g"),o=(t.className||"").split(D.regex.spaces);if(o.length)for(e=o.length,n=0;n<e;n++)o[n].match(a)&&(i.widgets[i.widgets.length]=o[n].replace(a,"$1"))},applyWidgetId:function(t,e,n){var i,r,a,o=(t=$(t)[0]).config,s=o.widgetOptions,l=D.getWidgetById(e);l&&(a=l.id,i=!1,$.inArray(a,o.widgets)<0&&(o.widgets[o.widgets.length]=a),o.debug&&(r=new Date),!n&&o.widgetInit[a]||(o.widgetInit[a]=!0,t.hasInitialized&&D.applyWidgetOptions(t),"function"==typeof l.init&&(i=!0,o.debug&&console[console.group?"group":"log"]("Initializing "+a+" widget"),l.init(t,l,o,s))),n||"function"!=typeof l.format||(i=!0,o.debug&&console[console.group?"group":"log"]("Updating "+a+" widget"),l.format(t,o,s,!1)),o.debug&&i&&(console.log("Completed "+(n?"initializing ":"applying ")+a+" widget"+D.benchmark(r)),console.groupEnd&&console.groupEnd()))},applyWidget:function(t,e,n){var i,r,a,o,s,l=(t=$(t)[0]).config,c=[];if(!1===e||!t.hasInitialized||!t.isApplyingWidgets&&!t.isUpdating){if(l.debug&&(s=new Date),D.addWidgetFromClass(t),clearTimeout(l.timerReady),l.widgets.length){for(t.isApplyingWidgets=!0,l.widgets=$.grep(l.widgets,function(t,e){return $.inArray(t,l.widgets)===e}),r=(a=l.widgets||[]).length,i=0;i<r;i++)(o=D.getWidgetById(a[i]))&&o.id?(o.priority||(o.priority=10),c[i]=o):l.debug&&console.warn('"'+a[i]+'" widget code does not exist!');for(c.sort(function(t,e){return t.priority<e.priority?-1:t.priority===e.priority?0:1}),r=c.length,l.debug&&console[console.group?"group":"log"]("Start "+(e?"initializing":"applying")+" widgets"),i=0;i<r;i++)(o=c[i])&&o.id&&D.applyWidgetId(t,o.id,e);l.debug&&console.groupEnd&&console.groupEnd()}l.timerReady=setTimeout(function(){t.isApplyingWidgets=!1,$.data(t,"lastWidgetApplication",new Date),l.$table.triggerHandler("tablesorter-ready"),e||"function"!=typeof n||n(t),l.debug&&(o=l.widgets.length,console.log("Completed "+(!0===e?"initializing ":"applying ")+o+" widget"+(1!==o?"s":"")+D.benchmark(s)))},10)}},removeWidget:function(t,e,n){var i,r,a,o,s=(t=$(t)[0]).config;if(!0===e)for(e=[],o=D.widgets.length,a=0;a<o;a++)(r=D.widgets[a])&&r.id&&(e[e.length]=r.id);else e=($.isArray(e)?e.join(","):e||"").toLowerCase().split(/[\s,]+/);for(o=e.length,i=0;i<o;i++)r=D.getWidgetById(e[i]),0<=(a=$.inArray(e[i],s.widgets))&&!0!==n&&s.widgets.splice(a,1),r&&r.remove&&(s.debug&&console.log((n?"Refreshing":"Removing")+' "'+e[i]+'" widget'),r.remove(t,s,s.widgetOptions,n),s.widgetInit[e[i]]=!1)},refreshWidgets:function(t,e,n){var i,r,a=(t=$(t)[0]).config.widgets,o=D.widgets,s=o.length,l=[],c=function(t){$(t).triggerHandler("refreshComplete")};for(i=0;i<s;i++)(r=o[i])&&r.id&&(e||$.inArray(r.id,a)<0)&&(l[l.length]=r.id);D.removeWidget(t,l.join(","),!0),!0!==n?(D.applyWidget(t,e||!1,c),e&&D.applyWidget(t,!1,c)):c(t)},benchmark:function(t){return" ("+((new Date).getTime()-t.getTime())+" ms)"},log:function(){console.log(arguments)},isEmptyObject:function(t){for(var e in t)return!1;return!0},isValueInArray:function(t,e){var n,i=e&&e.length||0;for(n=0;n<i;n++)if(e[n][0]===t)return n;return-1},formatFloat:function(t,e){return"string"!=typeof t||""===t?t:(t=(e&&e.config?!1!==e.config.usNumberFormat:void 0===e||e)?t.replace(D.regex.comma,""):t.replace(D.regex.digitNonUS,"").replace(D.regex.comma,"."),D.regex.digitNegativeTest.test(t)&&(t=t.replace(D.regex.digitNegativeReplace,"-$1")),n=parseFloat(t),isNaN(n)?$.trim(t):n);var n},isDigit:function(t){return isNaN(t)?D.regex.digitTest.test(t.toString().replace(D.regex.digitReplace,"")):""!==t},computeColumnIndex:function(t,e){var n,i,r,a,o,s,l,c,u,d,h=e&&e.columns||0,p=[],f=new Array(h);for(n=0;n<t.length;n++)for(s=t[n].cells,i=0;i<s.length;i++){for(l=n,c=(o=s[i]).rowSpan||1,u=o.colSpan||1,"undefined"==typeof p[l]&&(p[l]=[]),r=0;r<p[l].length+1;r++)if("undefined"==typeof p[l][r]){d=r;break}for(h&&o.cellIndex===d||(o.setAttribute?o.setAttribute("data-column",d):$(o).attr("data-column",d)),r=l;r<l+c;r++)for("undefined"==typeof p[r]&&(p[r]=[]),f=p[r],a=d;a<d+u;a++)f[a]="x"}return D.checkColumnCount(t,p,f.length),f.length},checkColumnCount:function(t,e,n){var i,r,a=!0,o=[];for(i=0;i<e.length;i++)if(e[i]&&(r=e[i].length,e[i].length!==n)){a=!1;break}a||(t.each(function(t,e){var n=e.parentElement.nodeName;o.indexOf(n)<0&&o.push(n)}),console.error("Invalid or incorrect number of columns in the "+o.join(" or ")+"; expected "+n+", but found "+r+" columns"))},fixColumnWidth:function(t){var e,n,i,r,a,o=(t=$(t)[0]).config,s=o.$table.children("colgroup");if(s.length&&s.hasClass(D.css.colgroup)&&s.remove(),o.widthFixed&&0===o.$table.children("colgroup").length){for(s=$('<colgroup class="'+D.css.colgroup+'">'),e=o.$table.width(),r=(i=o.$tbodies.find("tr:first").children(":visible")).length,a=0;a<r;a++)n=parseInt(i.eq(a).width()/e*1e3,10)/10+"%",s.append($("<col>").css("width",n));o.$table.prepend(s)}},getData:function(t,e,n){var i,r,a="",o=$(t);return o.length?(i=!!$.metadata&&o.metadata(),r=" "+(o.attr("class")||""),void 0!==o.data(n)||void 0!==o.data(n.toLowerCase())?a+=o.data(n)||o.data(n.toLowerCase()):i&&"undefined"!=typeof i[n]?a+=i[n]:e&&"undefined"!=typeof e[n]?a+=e[n]:" "!==r&&r.match(" "+n+"-")&&(a=r.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),$.trim(a)):""},getColumnData:function(t,e,n,i,r){if("object"!=typeof e||null===e)return e;var a,o=(t=$(t)[0]).config,s=r||o.$headers,l=o.$headerIndexed&&o.$headerIndexed[n]||s.filter('[data-column="'+n+'"]:last');if("undefined"!=typeof e[n])return i?e[n]:e[s.index(l)];for(a in e)if("string"==typeof a&&l.filter(a).add(l.find(a)).length)return e[a]},isProcessing:function(t,e,n){var i=(t=$(t))[0].config,r=n||t.find("."+D.css.header);e?(void 0!==n&&0<i.sortList.length&&(r=r.filter(function(){return!this.sortDisabled&&0<=D.isValueInArray(parseFloat($(this).attr("data-column")),i.sortList)})),t.add(r).addClass(D.css.processing+" "+i.cssProcessing)):t.add(r).removeClass(D.css.processing+" "+i.cssProcessing)},processTbody:function(t,e,n){if(t=$(t)[0],n)return t.isProcessing=!0,e.before('<colgroup class="tablesorter-savemyplace"/>'),$.fn.detach?e.detach():e.remove();var i=$(t).find("colgroup.tablesorter-savemyplace");e.insertAfter(i),i.remove(),t.isProcessing=!1},clearTableBody:function(t){$(t)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},replaceAccents:function(t){var e,n="[",i=D.characterEquivalents;if(!D.characterRegex){for(e in D.characterRegexArray={},i)"string"==typeof e&&(n+=i[e],D.characterRegexArray[e]=new RegExp("["+i[e]+"]","g"));D.characterRegex=new RegExp(n+"]")}if(D.characterRegex.test(t))for(e in i)"string"==typeof e&&(t=t.replace(D.characterRegexArray[e],e));return t},validateOptions:function(t){var e,n,i,r,a="headers sortForce sortList sortAppend widgets".split(" "),o=t.originalSettings;if(o){for(e in t.debug&&(r=new Date),o)if("undefined"===(i=typeof D.defaults[e]))console.warn('Tablesorter Warning! "table.config.'+e+'" option not recognized');else if("object"===i)for(n in o[e])i=D.defaults[e]&&typeof D.defaults[e][n],$.inArray(e,a)<0&&"undefined"===i&&console.warn('Tablesorter Warning! "table.config.'+e+"."+n+'" option not recognized');t.debug&&console.log("validate options time:"+D.benchmark(r))}},restoreHeaders:function(t){var e,n,i=$(t)[0].config,r=i.$table.find(i.selectorHeaders),a=r.length;for(e=0;e<a;e++)(n=r.eq(e)).find("."+D.css.headerIn).length&&n.html(i.headerContent[e])},destroy:function(t,e,n){if((t=$(t)[0]).hasInitialized){D.removeWidget(t,!0,!1);var i,r=$(t),a=t.config,o=a.debug,s=r.find("thead:first"),l=s.find("tr."+D.css.headerRow).removeClass(D.css.headerRow+" "+a.cssHeaderRow),c=r.find("tfoot:first > tr").children("th, td");!1===e&&0<=$.inArray("uitheme",a.widgets)&&(r.triggerHandler("applyWidgetId",["uitheme"]),r.triggerHandler("applyWidgetId",["zebra"])),s.find("tr").not(l).remove(),i="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(a.namespace+" "),r.removeData("tablesorter").unbind(i.replace(D.regex.spaces," ")),a.$headers.add(c).removeClass([D.css.header,a.cssHeader,a.cssAsc,a.cssDesc,D.css.sortAsc,D.css.sortDesc,D.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),l.find(a.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(a.namespace+" ").replace(D.regex.spaces," ")),D.restoreHeaders(t),r.toggleClass(D.css.table+" "+a.tableClass+" tablesorter-"+a.theme,!1===e),r.removeClass(a.namespace.slice(1)),t.hasInitialized=!1,delete t.config.cache,"function"==typeof n&&n(t),o&&console.log("tablesorter has been removed")}}};$.fn.tablesorter=function(n){return this.each(function(){var t=this,e=$.extend(!0,{},D.defaults,n,D.instanceMethods);e.originalSettings=n,!t.hasInitialized&&D.buildTable&&"TABLE"!==this.nodeName?D.buildTable(t,e):D.setup(t,e)})},window.console&&window.console.log||(D.logs=[],console={},console.log=console.warn=console.error=console.table=function(t){var e=1<arguments.length?arguments:t;D.logs[D.logs.length]={date:Date.now(),log:e}}),D.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),D.addParser({id:"text",is:function(){return!0},format:function(t,e){var n=e.config;return t&&(t=$.trim(n.ignoreCase?t.toLocaleLowerCase():t),t=n.sortLocaleCompare?D.replaceAccents(t):t),t},type:"text"}),D.regex.nondigit=/[^\w,. \-()]/g,D.addParser({id:"digit",is:function(t){return D.isDigit(t)},format:function(t,e){var n=D.formatFloat((t||"").replace(D.regex.nondigit,""),e);return t&&"number"==typeof n?n:t?$.trim(t&&e.config.ignoreCase?t.toLocaleLowerCase():t):t},type:"numeric"}),D.regex.currencyReplace=/[+\-,. ]/g,D.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,D.addParser({id:"currency",is:function(t){return t=(t||"").replace(D.regex.currencyReplace,""),D.regex.currencyTest.test(t)},format:function(t,e){var n=D.formatFloat((t||"").replace(D.regex.nondigit,""),e);return t&&"number"==typeof n?n:t?$.trim(t&&e.config.ignoreCase?t.toLocaleLowerCase():t):t},type:"numeric"}),D.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,D.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,D.addParser({id:"url",is:function(t){return D.regex.urlProtocolTest.test(t)},format:function(t){return t?$.trim(t.replace(D.regex.urlProtocolReplace,"")):t},type:"text"}),D.regex.dash=/-/g,D.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,D.addParser({id:"isoDate",is:function(t){return D.regex.isoDate.test(t)},format:function(t){var e=t?new Date(t.replace(D.regex.dash,"/")):t;return e instanceof Date&&isFinite(e)?e.getTime():t},type:"numeric"}),D.regex.percent=/%/g,D.regex.percentTest=/(\d\s*?%|%\s*?\d)/,
D.addParser({id:"percent",is:function(t){return D.regex.percentTest.test(t)&&t.length<15},format:function(t,e){return t?D.formatFloat(t.replace(D.regex.percent,""),e):t},type:"numeric"}),D.addParser({id:"image",is:function(t,e,n,i){return 0<i.find("img").length},format:function(t,e,n){return $(n).find("img").attr(e.config.imgAttr||"alt")||t},parsed:!0,type:"text"}),D.regex.dateReplace=/(\S)([AP]M)$/i,D.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,D.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,D.addParser({id:"usLongDate",is:function(t){return D.regex.usLongDateTest1.test(t)||D.regex.usLongDateTest2.test(t)},format:function(t){var e=t?new Date(t.replace(D.regex.dateReplace,"$1 $2")):t;return e instanceof Date&&isFinite(e)?e.getTime():t},type:"numeric"}),D.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,D.regex.shortDateReplace=/[\-.,]/g,D.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,D.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,D.convertFormat=function(t,e){t=(t||"").replace(D.regex.spaces," ").replace(D.regex.shortDateReplace,"/"),"mmddyyyy"===e?t=t.replace(D.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===e?t=t.replace(D.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===e&&(t=t.replace(D.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(t);return n instanceof Date&&isFinite(n)?n.getTime():""},D.addParser({id:"shortDate",is:function(t){return t=(t||"").replace(D.regex.spaces," ").replace(D.regex.shortDateReplace,"/"),D.regex.shortDateTest.test(t)},format:function(t,e,n,i){if(t){var r=e.config,a=r.$headerIndexed[i],o=a.length&&a.data("dateFormat")||D.getData(a,D.getColumnData(e,r.headers,i),"dateFormat")||r.dateFormat;return a.length&&a.data("dateFormat",o),D.convertFormat(t,o)||t}return t},type:"numeric"}),D.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,D.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,D.addParser({id:"time",is:function(t){return D.regex.timeTest.test(t)},format:function(t){var e=(t||"").match(D.regex.timeMatch),n=new Date(t),i=t&&(null!==e?e[0]:"00:00 AM"),r=i?new Date("2000/01/01 "+i.replace(D.regex.dateReplace,"$1 $2")):i;return r instanceof Date&&isFinite(r)?(n instanceof Date&&isFinite(n)?n.getTime():0)?parseFloat(r.getTime()+"."+n.getTime()):r.getTime():t},type:"numeric"}),D.addParser({id:"metadata",is:function(){return!1},format:function(t,e,n){var i=e.config,r=i.parserMetadataName?i.parserMetadataName:"sortValue";return $(n).metadata()[r]},type:"numeric"}),D.addWidget({id:"zebra",priority:90,format:function(t,e,n){var i,r,a,o,s,l,c,u=new RegExp(e.cssChildRow,"i"),d=e.$tbodies.add($(e.namespace+"_extra_table").children("tbody:not(."+e.cssInfoBlock+")"));for(s=0;s<d.length;s++)for(a=0,c=(i=d.eq(s).children("tr:visible").not(e.selectorRemove)).length,l=0;l<c;l++)r=i.eq(l),u.test(r[0].className)||a++,o=a%2==0,r.removeClass(n.zebra[o?1:0]).addClass(n.zebra[o?0:1])},remove:function(t,e,n,i){if(!i){var r,a,o=e.$tbodies,s=(n.zebra||["even","odd"]).join(" ");for(r=0;r<o.length;r++)(a=D.processTbody(t,o.eq(r),!0)).children().removeClass(s),D.processTbody(t,a,!1)}}})}(jQuery),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(_){"use strict";function y(t){return!t.nodeName||-1!==_.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function e(t){return _.isFunction(t)||_.isPlainObject(t)?t:{top:t,left:t}}var b=_.scrollTo=function(t,e,n){return _(window).scrollTo(t,e,n)};return b.defaults={axis:"xy",duration:0,limit:!0},_.fn.scrollTo=function(t,n,m){"object"==typeof n&&(m=n,n=0),"function"==typeof m&&(m={onAfter:m}),"max"===t&&(t=9e9),m=_.extend({},b.defaults,m),n=n||m.duration;var v=m.queue&&1<m.axis.length;return v&&(n/=2),m.offset=e(m.offset),m.over=e(m.over),this.each(function(){function l(t){var e=_.extend({},m,{queue:!0,duration:n,complete:t&&function(){t.call(d,p,m)}});h.animate(f,e)}if(null!==t){var c,u=y(this),d=u?this.contentWindow||window:this,h=_(d),p=t,f={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=e(p);break}p=u?_(p):_(p,d);case"object":if(0===p.length)return;(p.is||p.style)&&(c=(p=_(p)).offset())}var g=_.isFunction(m.offset)&&m.offset(d,p)||m.offset;_.each(m.axis.split(""),function(t,e){var n="x"===e?"Left":"Top",i=n.toLowerCase(),r="scroll"+n,a=h[r](),o=b.max(d,e);if(c)f[r]=c[i]+(u?0:a-h.offset()[i]),m.margin&&(f[r]-=parseInt(p.css("margin"+n),10)||0,f[r]-=parseInt(p.css("border"+n+"Width"),10)||0),f[r]+=g[i]||0,m.over[i]&&(f[r]+=p["x"===e?"width":"height"]()*m.over[i]);else{var s=p[i];f[r]=s.slice&&"%"===s.slice(-1)?parseFloat(s)/100*o:s}m.limit&&/^\d+$/.test(f[r])&&(f[r]=f[r]<=0?0:Math.min(f[r],o)),!t&&1<m.axis.length&&(a===f[r]?f={}:v&&(l(m.onAfterFirst),f={}))}),l(m.onAfter)}})},b.max=function(t,e){var n="x"===e?"Width":"Height",i="scroll"+n;if(!y(t))return t[i]-_(t)[n.toLowerCase()]();var r="client"+n,a=t.ownerDocument||t.document,o=a.documentElement,s=a.body;return Math.max(o[i],s[i])-Math.min(o[r],s[r])},_.Tween.propHooks.scrollLeft=_.Tween.propHooks.scrollTop={get:function(t){return _(t.elem)[t.prop]()},set:function(t){var e=this.get(t);if(t.options.interrupt&&t._last&&t._last!==e)return _(t.elem).stop();var n=Math.round(t.now);e!==n&&(_(t.elem)[t.prop](n),t._last=this.get(t))}},b}),function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.Autogrow=e()}(this,function(){return function(n,t){var i=this;t===undefined&&(t=999),i.getOffset=function(t){for(var e=window.getComputedStyle(t,null),n=["paddingTop","paddingBottom"],i=0,r=0;r<n.length;r++)i+=parseInt(e[n[r]]);return i},i.autogrowFn=function(){var t=0,e=!1;return n.scrollHeight-r>i.maxAllowedHeight?(n.style.overflowY="scroll",t=i.maxAllowedHeight):(n.style.overflowY="hidden",n.style.height="auto",t=n.scrollHeight-r,e=!0),n.style.height=t+"px",e};var r=i.getOffset(n);i.rows=n.rows||1,i.lineHeight=n.scrollHeight/i.rows-r/i.rows,i.maxAllowedHeight=i.lineHeight*t-r,n.addEventListener("input",i.autogrowFn)}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(u){u.ui=u.ui||{};u.ui.version="1.12.1";var a,n=0,s=Array.prototype.slice;u.cleanData=(a=u.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=u._data(n,"events"))&&e.remove&&u(n).triggerHandler("remove")}catch(r){}a(t)}),u.widget=function(t,n,e){var i,r,a,o={},s=t.split(".")[0],l=s+"-"+(t=t.split(".")[1]);return e||(e=n,n=u.Widget),u.isArray(e)&&(e=u.extend.apply(null,[{}].concat(e))),u.expr[":"][l.toLowerCase()]=function(t){return!!u.data(t,l)},u[s]=u[s]||{},i=u[s][t],r=u[s][t]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},u.extend(r,i,{version:e.version,_proto:u.extend({},e),_childConstructors:[]}),(a=new n).options=u.widget.extend({},a.options),u.each(e,function(e,a){u.isFunction(a)?o[e]=function(){function i(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var t,e=this._super,n=this._superApply;return this._super=i,this._superApply=r,t=a.apply(this,arguments),this._super=e,this._superApply=n,t}}():o[e]=a}),r.prototype=u.widget.extend(a,{widgetEventPrefix:i&&a.widgetEventPrefix||t},o,{constructor:r,namespace:s,widgetName:t,widgetFullName:l}),i?(u.each(i._childConstructors,function(t,e){var n=e.prototype;u.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete i._childConstructors):n._childConstructors.push(r),u.widget.bridge(t,r),r},u.widget.extend=function(t){for(var e,n,i=s.call(arguments,1),r=0,a=i.length;r<a;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&n!==undefined&&(u.isPlainObject(n)?t[e]=u.isPlainObject(t[e])?u.widget.extend({},t[e],n):u.widget.extend({},n):t[e]=n);return t},u.widget.bridge=function(a,e){var o=e.prototype.widgetFullName||a;u.fn[a]=function(n){var t="string"==typeof n,i=s.call(arguments,1),r=this;return t?this.length||"instance"!==n?this.each(function(){var t,e=u.data(this,o);return"instance"===n?(r=e,!1):e?u.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&t!==undefined?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:u.error("no such method '"+n+"' for "+a+" widget instance"):u.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+n+"'")}):r=undefined:(i.length&&(n=u.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=u.data(this,o);t?(t.option(n||{}),t._init&&t._init()):u.data(this,o,new e(n,this))})),r}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=u(e||this.defaultElement||this)[0],this.element=u(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=u(),this.hoverable=u(),this.focusable=u(),this.classesElementLookup={},e!==this&&(u.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=u(e.style?e.ownerDocument:e.document||e),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this.options=u.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){var n=this;this._destroy(),u.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:u.noop,widget:function(){return this.element},option:function(t,e){var n,i,r,a=t;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(n=t.split(".")).shift(),n.length){for(i=a[t]=u.widget.extend({},this.options[t]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(t=n.pop(),1===arguments.length)return i[t]===undefined?null:i[t];i[t]=e}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];a[t]=e}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,n,i;for(e in t)i=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&i&&i.length&&(n=u(i.get()),this._removeClass(i,e),n.addClass(this._classes({element:n,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){function t(t,e){var n,i;for(i=0;i<t.length;i++)n=o.classesElementLookup[t[i]]||u(),n=r.add?u(u.unique(n.get().concat(r.element.get()))):u(n.not(r.element).get()),o.classesElementLookup[t[i]]=n,a.push(t[i]),e&&r.classes[t[i]]&&a.push(r.classes[t[i]])}var a=[],o=this;return r=u.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&t(r.keys.match(/\S+/g)||[],!0),r.extra&&t(r.extra.match(/\S+/g)||[]),a.join(" ")},_untrackClassesElement:function(n){var i=this;u.each(i.classesElementLookup,function(t,e){-1!==u.inArray(n.target,e)&&(i.classesElementLookup[t]=u(e.not(n.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,a={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return a.element.toggleClass(this._classes(a),i),this},_on:function(o,s,t){var l,c=this;"boolean"!=typeof o&&(t=s,s=o,o=!1),t?(s=l=u(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,l=this.widget()),u.each(t,function(t,e){function n(){if(o||!0!==c.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof e?c[e]:e).apply(c,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||u.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+c.eventNamespace,a=i[2];a?l.on(r,a,n):s.on(r,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=u(this.bindings.not(t).get()),this.focusable=u(this.focusable.not(t).get()),this.hoverable=u(this.hoverable.not(t).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(u(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(u(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(u(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(u(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,n){var i,r,a=this.options[t];if(n=n||{},(e=u.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(i in r)i in e||(e[i]=r[i]);return this.element.trigger(e,n),!(u.isFunction(a)&&!1===a.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(a,o){u.Widget.prototype["_"+a]=function(e,t,n){var i;"string"==typeof t&&(t={effect:t});var r=t?!0===t||"number"==typeof t?o:t.effect||o:a;"number"==typeof(t=t||{})&&(t={duration:t}),i=!u.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&u.effects&&u.effects.effect[r]?e[a](t):r!==a&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){u(this)[a](),n&&n.call(e[0]),t()})}});u.widget}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(window.jQuery)}(function(l){"use strict";var i=0,e=l,n="parseJSON";"JSON"in window&&"parse"in JSON&&(e=JSON,n="parse"),l.ajaxTransport("iframe",function(r){if(r.async){var a,o,e,s=r.initialIframeSrc||"javascript:false;";return{send:function(t,n){(a=l('<form style="display:none;"></form>')).attr("accept-charset",r.formAcceptCharset),e=/\?/.test(r.url)?"&":"?","DELETE"===r.type?(r.url=r.url+e+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+e+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+e+"_method=PATCH",r.type="POST"),o=l('<iframe src="'+s+'" name="iframe-transport-'+(i+=1)+'"></iframe>').bind("load",function(){var i,e=l.isArray(r.paramName)?r.paramName:[r.paramName];o.unbind("load").bind("load",function(){var t;try{if(!(t=o.contents()).length||!t[0].firstChild)throw new Error}catch(e){t=undefined}n(200,"success",{iframe:t}),l('<iframe src="'+s+'"></iframe>').appendTo(a),window.setTimeout(function(){a.remove()},0)}),a.prop("target",o.prop("name")).prop("action",r.url).prop("method",r.type),r.formData&&l.each(r.formData,function(t,e){l('<input type="hidden"/>').prop("name",e.name).val(e.value).appendTo(a)}),r.fileInput&&r.fileInput.length&&"POST"===r.type&&(i=r.fileInput.clone(),r.fileInput.after(function(t){return i[t]}),r.paramName&&r.fileInput.each(function(t){l(this).prop("name",e[t]||r.paramName)}),a.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),r.fileInput.removeAttr("form")),a.submit(),i&&i.length&&r.fileInput.each(function(t,e){var n=l(i[t]);l(e).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(e)})}),a.append(o).appendTo(document.body)},abort:function(){o&&o.unbind("load").prop("src",s),a&&a.remove()}}}}),l.ajaxSetup({converters:{"iframe text":function(t){return t&&l(t[0].body).text()},"iframe json":function(t){return t&&e[n](l(t[0].body).text())},"iframe html":function(t){return t&&l(t[0].body).html()},"iframe xml":function(t){var e=t&&t[0];return e&&l.isXMLDoc(e)?e:l.parseXML(e.XMLDocument&&e.XMLDocument.xml||l(e.body).html())},"iframe script":function(t){return t&&l.globalEval(l(t[0].body).text())}}})}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(v){"use strict";function t(n){var i="dragover"===n;return function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var e=t.dataTransfer;e&&-1!==v.inArray("Files",e.types)&&!1!==this._trigger(n,v.Event(n,{delegatedEvent:t}))&&(t.preventDefault(),i&&(e.dropEffect="copy"))}}v.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||v('<input type="file"/>').prop("disabled")),v.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),v.support.xhrFormDataFileUpload=!!window.FormData,v.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),v.widget("blueimp.fileupload",{options:{dropZone:v(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,t){return n=this.messages[n]||n.toString(),t&&v.each(t,function(t,e){n=n.replace("{"+t+"}",e)}),n},formData:function(t){return t.serializeArray()},add:function(t,e){if(t.isDefaultPrevented())return!1;(e.autoUpload||!1!==e.autoUpload&&v(this).fileupload("option","autoUpload"))&&e.process().done(function(){e.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:v.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||n<i)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&v.support.xhrFileUpload||v.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===v.type(t.formData)?t.formData(t.form):v.isArray(t.formData)?t.formData:"object"===v.type(t.formData)?(n=[],v.each(t.formData,function(t,e){n.push({name:t,value:e})}),n):[]},_getTotal:function(t){var n=0;return v.each(t,function(t,e){n+=e.size||1}),n},_initProgressObject:function(t){var e={loaded:0,total:0,bitrate:0};t._progress?v.extend(t._progress,e):t._progress=e},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(t,e){if(t.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(e._time&&e.progressInterval&&i-e._time<e.progressInterval&&t.loaded!==t.total)return;e._time=i,n=Math.floor(t.loaded/t.total*(e.chunkSize||e._progress.total))+(e.uploadedBytes||0),this._progress.loaded+=n-e._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,e.bitrateInterval),e._progress.loaded=e.loaded=n,e._progress.bitrate=e.bitrate=e._bitrateTimer.getBitrate(i,n,e.bitrateInterval),this._trigger("progress",v.Event("progress",{delegatedEvent:t}),e),this._trigger("progressall",v.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(n){var i=this,t=n.xhr?n.xhr():v.ajaxSettings.xhr();t.upload&&(v(t.upload).bind("progress",function(t){var e=t.originalEvent;t.lengthComputable=e.lengthComputable,t.loaded=e.loaded,t.total=e.total,i._onProgress(t,n)}),n.xhr=function(){return t})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(n){var i,r=this,t=n.files[0],e=n.multipart||!v.support.xhrFileUpload,a="array"===v.type(n.paramName)?n.paramName[0]:n.paramName;n.headers=v.extend({},n.headers),n.contentRange&&(n.headers["Content-Range"]=n.contentRange),e&&!n.blob&&this._isInstanceOf("File",t)||(n.headers["Content-Disposition"]='attachment; filename="'+encodeURI(t.uploadName||t.name)+'"'),e?v.support.xhrFormDataFileUpload&&(n.postMessage?(i=this._getFormData(n),n.blob?i.push({name:a,value:n.blob}):v.each(n.files,function(t,e){i.push({name:"array"===v.type(n.paramName)&&n.paramName[t]||a,value:e})})):(r._isInstanceOf("FormData",n.formData)?i=n.formData:(i=new FormData,v.each(this._getFormData(n),function(t,e){i.append(e.name,e.value)})),n.blob?i.append(a,n.blob,t.uploadName||t.name):v.each(n.files,function(t,e){(r._isInstanceOf("File",e)||r._isInstanceOf("Blob",e))&&i.append("array"===v.type(n.paramName)&&n.paramName[t]||a,e,e.uploadName||e.name)})),n.data=i):(n.contentType=t.type||"application/octet-stream",n.data=n.blob||t),n.blob=null},_initIframeSettings:function(t){var e=v("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e&&e!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(t){var e=v(t.fileInput),i=t.paramName;return i?v.isArray(i)||(i=[i]):(i=[],e.each(function(){for(var t=v(this),e=t.prop("name")||"files[]",n=(t.prop("files")||[1]).length;n;)i.push(e),n-=1}),i.length||(i=[e.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=v(t.fileInput.prop("form")),t.form.length||(t.form=v(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===v.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var e=v.extend({},this.options,t);return this._initFormSettings(e),this._initDataSettings(e),e},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(t,e,n){var i=v.Deferred(),r=i.promise();return e=e||this.options.context||r,!0===t?i.resolveWith(e,n):!1===t&&i.rejectWith(e,n),r.abort=i.promise,this._enhancePromise(r)},_addConvenienceMethods:function(t,n){var i=this,r=function(t){return v.Deferred().resolveWith(i,t).promise()};n.process=function(t,e){return(t||e)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).then(function(){return n.errorThrown?v.Deferred().rejectWith(i,[n]).promise():r(arguments)}).then(t,e)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",v.Event("submit",{delegatedEvent:t}),this)&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&1<n.length&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(a,t){a.uploadedBytes=a.uploadedBytes||0;var e,o,s=this,n=a.files[0],l=n.size,c=a.uploadedBytes,u=a.maxChunkSize||l,d=this._blobSlice,h=v.Deferred(),i=h.promise();return!(!(this._isXHRUpload(a)&&d&&(c||("function"===v.type(u)?u(a):u)<l))||a.data)&&(!!t||(l<=c?(n.error=a.i18n("uploadedBytes"),this._getXHRPromise(!1,a.context,[null,"error",n.error])):(o=function(){var i=v.extend({},a),r=i._progress.loaded;i.blob=d.call(n,c,c+("function"===v.type(u)?u(i):u),n.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+c+"-"+(c+i.chunkSize-1)+"/"+l,s._trigger("chunkbeforesend",null,i),s._initXHRData(i),s._initProgressListener(i),e=(!1!==s._trigger("chunksend",null,i)&&v.ajax(i)||s._getXHRPromise(!1,i.context)).done(function(t,e,n){c=s._getUploadedBytes(n)||c+i.chunkSize,r+i.chunkSize-i._progress.loaded&&s._onProgress(v.Event("progress",{lengthComputable:!0,loaded:c-i.uploadedBytes,total:c-i.uploadedBytes}),i),a.uploadedBytes=i.uploadedBytes=c,i.result=t,i.textStatus=e,i.jqXHR=n,s._trigger("chunkdone",null,i),s._trigger("chunkalways",null,i),c<l?o():h.resolveWith(i.context,[t,e,n])}).fail(function(t,e,n){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,s._trigger("chunkfail",null,i),s._trigger("chunkalways",null,i),h.rejectWith(i.context,[t,e,n])})},this._enhancePromise(i),i.abort=function(){return e.abort()},o(),i)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(t,e,n,i){var r=i._progress.total,a=i._response;i._progress.loaded<r&&this._onProgress(v.Event("progress",{lengthComputable:!0,loaded:r,total:r}),i),a.result=i.result=t,a.textStatus=i.textStatus=e,a.jqXHR=i.jqXHR=n,this._trigger("done",null,i)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(t,e){e.submit||this._addConvenienceMethods(t,e);var n,i,r,a,o=this,s=o._getAJAXSettings(e),l=function(){return o._sending+=1,s._bitrateTimer=new o._BitrateTimer,n=n||((i||!1===o._trigger("send",v.Event("send",{delegatedEvent:t}),s))&&o._getXHRPromise(!1,s.context,i)||o._chunkedUpload(s)||v.ajax(s)).done(function(t,e,n){o._onDone(t,e,n,s)}).fail(function(t,e,n){o._onFail(t,e,n,s)}).always(function(t,e,n){if(o._onAlways(t,e,n,s),o._sending-=1,o._active-=1,s.limitConcurrentUploads&&s.limitConcurrentUploads>o._sending)for(var i=o._slots.shift();i;){if("pending"===o._getDeferredState(i)){i.resolve();break}i=o._slots.shift()}0===o._active&&o._trigger("stop")})};return this._beforeSend(t,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(r=v.Deferred(),this._slots.push(r),a=r.then(l)):(this._sequence=this._sequence.then(l,l),a=this._sequence),a.abort=function(){return i=[undefined,"abort","abort"],n?n.abort():(r&&r.rejectWith(s.context,i),l())},this._enhancePromise(a)):l()},_onAdd:function(i,r){var a,t,o,e,s=this,l=!0,n=v.extend({},this.options,r),c=r.files,u=c.length,d=n.limitMultiFileUploads,h=n.limitMultiFileUploadSize,p=n.limitMultiFileUploadSizeOverhead,f=0,g=this._getParamName(n),m=0;if(!u)return!1;if(h&&c[0].size===undefined&&(h=undefined),(n.singleFileUploads||d||h)&&this._isXHRUpload(n))if(n.singleFileUploads||h||!d)if(!n.singleFileUploads&&h)for(o=[],a=[],e=0;e<u;e+=1)f+=c[e].size+p,(e+1===u||f+c[e+1].size+p>h||d&&d<=e+1-m)&&(o.push(c.slice(m,e+1)),(t=g.slice(m,e+1)).length||(t=g),a.push(t),m=e+1,f=0);else a=g;else for(o=[],a=[],e=0;e<u;e+=d)o.push(c.slice(e,e+d)),(t=g.slice(e,e+d)).length||(t=g),a.push(t);else o=[c],a=[g];return r.originalFiles=c,v.each(o||c,function(t,e){var n=v.extend({},r);return n.files=o?e:[e],n.paramName=a[t],s._initResponseObject(n),s._initProgressObject(n),s._addConvenienceMethods(i,n),l=s._trigger("add",v.Event("add",{delegatedEvent:i}),n)}),l},_replaceFileInput:function(t){var n=t.fileInput,i=n.clone(!0),e=n.is(document.activeElement);t.fileInputClone=i,v("<form></form>").append(i)[0].reset(),n.after(i).detach(),e&&i.focus(),v.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===n[0]?i[0]:e}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var t,i=this,r=v.Deferred(),a=[],o=function(t){t&&!t.entry&&(t.entry=e),r.resolve([t])},s=function(t){i._handleFileTreeEntries(t,n+e.name+"/").done(function(t){r.resolve(t)}).fail(o)},l=function(){t.readEntries(function(t){t.length?(a=a.concat(t),l()):s(a)},o)};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,r.resolve(e._file)):e.file(function(t){t.relativePath=n,r.resolve(t)},o):e.isDirectory?(t=e.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,e){var n=this;return v.when.apply(v,v.map(t,function(t){return n._handleFileTreeEntry(t,e)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){var e=(t=t||{}).items;return e&&e.length&&(e[0].webkitGetAsEntry||e[0].getAsEntry)?this._handleFileTreeEntries(v.map(e,function(t){var e;return t.webkitGetAsEntry?((e=t.webkitGetAsEntry())&&(e._file=t.getAsFile()),e):t.getAsEntry()})):v.Deferred().resolve(v.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var e,n,i=(t=v(t)).prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if((e=v.makeArray(t.prop("files"))).length)e[0].name===undefined&&e[0].fileName&&v.each(e,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(!(n=t.prop("value")))return v.Deferred().resolve([]).promise();e=[{name:n.replace(/^.*\\/,"")}]}return v.Deferred().resolve(e).promise()},_getFileInputFiles:function(t){return t instanceof v&&1!==t.length?v.when.apply(v,v.map(t,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(e){var n=this,i={fileInput:v(e.target),form:v(e.target.form)};this._getFileInputFiles(i.fileInput).always(function(t){i.files=t,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",v.Event("change",{delegatedEvent:e}),i)&&n._onAdd(e,i)})},_onPaste:function(t){var e=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};e&&e.length&&(v.each(e,function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",v.Event("paste",{delegatedEvent:t}),i)&&this._onAdd(t,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,t=e.dataTransfer,i={};t&&t.files&&t.files.length&&(e.preventDefault(),this._getDroppedFiles(t).always(function(t){i.files=t,!1!==n._trigger("drop",v.Event("drop",{delegatedEvent:e}),i)&&n._onAdd(e,i)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),v.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,
"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(t,e){var n=-1!==v.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,e),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof v||(t.fileInput=v(t.fileInput)),t.dropZone instanceof v||(t.dropZone=v(t.dropZone)),t.pasteZone instanceof v||(t.pasteZone=v(t.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(t,e){return"url"!==t&&"string"===v.type(e)&&/^\/.*\/[igm]{0,3}$/.test(e)},_initDataAttributes:function(){var r=this,a=this.options,o=this.element.data();v.each(this.element[0].attributes,function(t,e){var n,i=e.name.toLowerCase();/^data-/.test(i)&&(i=i.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),n=o[i],r._isRegExpOption(i,n)&&(n=r._getRegExp(n)),a[i]=n)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,n._onAdd(null,e)}):(e.files=v.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,a=v.Deferred(),t=a.promise();return t.abort=function(){return i=!0,n?n.abort():(a.reject(null,"abort","abort"),t)},this._getFileInputFiles(e.fileInput).always(function(t){i||(t.length?(e.files=t,(n=r._onSend(null,e)).then(function(t,e,n){a.resolve(t,e,n)},function(t,e,n){a.reject(t,e,n)})):a.reject())}),this._enhancePromise(t)}if(e.files=v.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})});var _nfs_store={fs_browser:function(s){"use strict";var t=function(){return $('.container-browser-outer[data-container-id="'+f+'"] .container-browser')},r=function(t,e){n("download",t,e),n("trash",t,e)},n=function(t,e,n){n||(n=!("true"==g.attr("data-can-submit-"+t)));var i=n?"disabled":null;$("#container-browse-"+t+"-"+f).attr("disabled",i),$("#container-browse-"+t+"-in-form-"+f).attr("disabled",i)},a=function(t,e){$("#container-browse-download-"+f+" .btn-caption").html(e)},e=function(){var t=$("#container-browse-download-in-form-"+f),e=t.parents("form").first();e.removeAttr("data-remote"),e.removeData("remote"),t.click()},i=function(){var t=$("#container-browse-trash-in-form-"+f),e=t.parents("form").first();e.attr("data-remote","true"),e[0].app_callback=function(){o(s,f)},t.click()},o=function(t,e){$('.refresh-container-list[data-container-id="'+e+'"]').click(),l(t)},l=function(t){s.removeClass("ajax-running"),r(t,!0),d(t)},c=function(t,e,n){e.stopPropagation();var i=g.find('.folder-icon[aria-controls="'+t.attr("id")+'"]');n?(i.addClass("glyphicon-folder-close"),i.removeClass("glyphicon-folder-open")):(i.addClass("glyphicon-folder-open"),i.removeClass("glyphicon-folder-close"))},u=function(t,e){var n=s.find(".container-browser");if(n.addClass("browser-hide-meta browser-hide-classifications"),t||(t=$('input[name="container-meta-controls-'+f+'"]:checked')),t){var i=t.val();n.removeClass("browser-hide-"+i)}var r=s.parents(".common-template-item.is-activity-log").first(),a=r.hasClass("col-md-8"),o=!1;r.removeClass("col-md-8 col-lg-6 col-lg-8 col-md-12 col-lg-12"),"classifications"==i?r.addClass("col-md-12 col-lg-12"):"meta"==i?r.addClass("col-md-12 col-lg-12"):(o=!0,r.addClass("col-md-8 col-lg-6")),a!=o&&window.setTimeout(function(){e||_fpa.utils.jump_to_linked_item(r,null,{no_highlight:!0}),_fpa.form_utils.resize_children(s)},100)},d=function(t){var e=g.find('.container-entry input[type="checkbox"]:checked'),n=g.find('.container-folder input[type="checkbox"]:checked'),i=e.length;a(t,"download "+i+" "+(1!=i?"files":"file")),r(t,!i),g.find(".container-entry.checked").removeClass("checked"),e.each(function(){$(this).is(":checked")&&$(this).parent().addClass("checked")}),g.find(".container-folder.checked").removeClass("checked"),n.each(function(){$(this).is(":checked")&&$(this).parent().addClass("checked")})},h=function(t){var e=t.parents(".container-folder-items").first(),n=e.attr("data-folder-items"),i=e.find('> .container-entry input[type="checkbox"]'),r=i.length==i.closest(":checked").length;g.find('.container-folder input[type="checkbox"][data-folder-path="'+n+'"] ').prop("checked",r),d(t)},p=function(t){var e=t.attr("data-folder-path"),n=t.is(":checked");g.find('.container-folder-items[data-folder-items="'+e+'"] li input[type="checkbox"]').prop("checked",n),d(t)},f=function(t){var e=t.attr("data-container-id");return e||t.parents(".container-browser-outer").attr("data-container-id")}(s),g=t();s.on("change",'.container-browser .container-entry input[type="checkbox"]',function(){h($(this))}).on("change",'.container-browser .container-folder input[type="checkbox"]',function(){p($(this))}).on("hidden.bs.collapse",".container-browser .container-folder-items",function(t){c($(this),t,!0)}).on("shown.bs.collapse",".container-browser .container-folder-items",function(t){c($(this),t,!1)}).on("click",".container-browse-download",function(){var t=$($(this).attr("data-target-browser"));e(t),r(t,!0),a(t,"request submitted")}).on("click",".container-browse-trash",function(){var t=$($(this).attr("data-target-browser"));i(t),r(t,!0)}),$(document).on("click",'.refresh-container-list[data-container-id="'+f+'"]',function(){s.find(".container-browser").addClass("ajax-running")}).on("change",'input[name="container-meta-controls-'+f+'"]',function(){u($(this))});var m=$('input[name="container-meta-controls-'+f+'"]:checked');return u(m,!0),l(s),this},uploader:function(l){"use strict";function n(t,e){if(c)e=null;else{t&&(m=0,a=null,p=t,g=Math.ceil(p.size/f),o=e,!1,d=[]);var n=new FileReader;n.onload=_,n.onerror=y;var i=m*f,r=i+f>=p.size?p.size:i+f;n.readAsArrayBuffer(h.call(p,i,r))}}var a,o,c,s,i,u={url:"/nfs_store/chunk",dataType:"json",autoUpload:!1,dropZone:l.find(".upload-dropzone"),disableImageResize:!0,singleFileUploads:!0,sequentialUploads:!0,previewMaxWidth:100,previewMaxHeight:100,previewCrop:!0,maxChunkSize:1e7,headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")}},d=[],h=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,p=null,f=u.maxChunkSize,g=0,m=0,r=new SparkMD5.ArrayBuffer,v=new SparkMD5.ArrayBuffer,_=function(t){var e=t.target.result;v.reset(),v.append(e),d.push(v.end()),r.append(e),++m<g?n():(a=r.end(),!0,o&&o(a))},y=function(){!0},b=function(t,e,n,i,r){var a=l.find(".template .file-block").clone(!0).attr("data-file-index",e);a.find(".file-name").text(n.name),c=!1,a.find(".button-upload-abort").on("click",function(){var t=$(this),e=t.data();t.hide(),c=!0,a.find(".button-upload-resume").show(),e.abort()}).data(t),a.find(".button-upload-resume").on("click",function(){$(this).hide(),a.find(".button-upload-abort").show(),c=!1,k(a),O(r,i)}),a.find(".started-at").html((new Date).toLocaleTimeString());var o=l.find(".data-context");a.appendTo(o),a.data(t);var s=o.get(0).getBoundingClientRect();return!(0<=s.top&&s.top<=.8*$(window).height())&&$.scrollTo(o,0,{offset:.8*-$(window).height()}),a},w=function(t){t.removeClass("process-ready").addClass("process-complete"),t.removeClass("progress-running"),C(t),console.log("completed upload of file")},x=function(t,e){e||(e=T()),t.join||(t=[t]),e.find(".file-error").text("file upload failed: "+t.join(" | ")),e.find(".progress-bar").addClass("progress-bar-failed").removeClass("progress-bar-success"),e.find(".progress-bar-status-text").text("failed"),e.removeClass("progress-running"),C(e),S()},k=function(t){t.addClass("process-ready").removeClass("process-complete"),t.find(".file-error").text(""),t.find(".progress-bar").removeClass("progress-bar-failed").addClass("progress-bar-success"),t.find(".progress-bar-status-text").text("processing")},C=function(t){t.find(".button-upload-abort").hide()},S=function(){l.find(".fileinput-button").show()},t=function(){l.find(".fileinput-button").hide()},e=function(){l.find(".data-context .file-block[data-file-index]").remove()},T=function(){return l.find(".data-context .file-block.process-ready").first()},D=function(){return l.find(".data-context .file-block")},A=function(t){var e=[],n=t.jqXHR.responseJSON;if(n&&n.message)return e.push(n.message),e;var i=t.jqXHR.getResponseHeader("X-Upload-Errors"),r=JSON.parse(i);for(var a in r)r.hasOwnProperty(a)&&e.push(a.replace("_"," ")+" "+r[a].join("; "));return 0==e.length&&e.push("unknown server error"),e},M=function(){l.find(".refresh-container-list").click()},P=function(){var t=E(),e=I(),n={activity_log_id:t.activity_log_id,activity_log_type:t.activity_log_type,container_id:e,"do":"done",uploaded_ids:s.join(",")};$.ajax({url:u.url+"/"+e,data:n,type:"PUT",success:function(){console.log("Sent all done message")}})},I=function(){return l.find("#uploader_container_id").val()},E=function(){var t=l.find(".nfs-store-container-block");return{activity_log_id:t.attr("data-activity-log-id"),activity_log_type:t.attr("data-activity-log-type")}},O=function(r,a){var t=T();if(0!=t.length){var o=t.data();c=!1,t.addClass("progress-running"),t.find(".progress-bar-status-text").text("processing"),i=i||D().length.toString()+"--"+Date.now().toString()+"--"+Math.random().toString(),n(o.files[0],function(t){o.formData||(o.formData={}),o.formData.file_hash=t,o.formData.container_id=I(),o.formData.upload_set=i,o.files[0].relativePath&&""!=o.files[0].relativePath&&(o.formData.relative_path=o.files[0].relativePath),1==d.length&&(o.formData.chunk_hash=d.shift());var e=E();if(r){var n={file_name:o.files[0].name,file_hash:o.formData.file_hash,relative_path:o.formData.relative_path,activity_log_id:e.activity_log_id,activity_log_type:e.activity_log_type};$.getJSON(u.url+"/"+I(),n,function(t){if("found"==t.result&&!t.completed){var e=t.file_size,n=t.chunk_count;o.uploadedBytes=e;for(var i=0;i<n;i++)o.formData.chunk_hash=d.shift();$.blueimp.fileupload.prototype.options.add.call(r,a,o)}setTimeout(function(){o.submit()},100)}).fail(function(t){var e=["The upload failed"];t.responseJSON&&t.responseJSON.message&&(e=t.responseJSON.message),x(e)})}else setTimeout(function(){o.submit()},100)})}};l.find(".upload-dropzone").on("dragover",function(){$(this).addClass("on-drag")}).on("dragleave",function(){$(this).removeClass("on-drag")}).on("drop",function(){l.find(".fileinput-button").is(":visible")?(t(),e(),$(this).removeClass("on-drag")):console.log("Upload not enabled!")});l.find("input.nfs-store-fileupload").fileupload(u).on("click",function(){e()}).on("fileuploadadd",function(i,r){if("false"!=l.find(".container-browser").attr("data-container-writable")){t();var a=this;$.each(r.files,function(t,e){var n=0==T().length;b(r,t,e,i,a);n&&(s=[],setTimeout(function(){O(a,i)},1e3))})}else console.log("Upload not enabled!")}).on("fileuploadchunkbeforesend",function(t,e){e.formData||(e.formData={}),e.formData.chunk_hash=d.shift(),e.formData.upload_set=i,T().find(".progress-bar-status-text").text("uploading")}).on("fileuploadchunksend",function(){return!c}).on("fileuploadprocessalways",function(t,e){console.log("fileuploadprocessalways");var n=0,i=e.files[n],r=T();r.find(".progress-bar-status-text").text("uploading"),i.error&&r.find(".file-error").text(i.error)}).on("fileuploadprogress",function(t,e){var n=T(),i=parseInt(e.loaded/e.total*100,10);n.find(".progress .progress-bar").css("width",i+"%");var r=n.get(0).getBoundingClientRect();!(0<=r.top&&r.top<=.8*$(window).height())&&$.scrollTo(n,0,{offset:.8*-$(window).height()})}).on("fileuploaddone",function(t,e){console.log("fileuploadaddone");var n=e.result.file,i=T();n.url?(i.find(".progress-bar-status-text").text("completed"),s.push(n.id)):n.error&&i.find(".file-error").text(n.error)}).on("fileuploadfail",function(t,e){var n;console.log("fileuploadfail"),n=c?["Upload canceled"]:A(e),x(n)}).on("fileuploadalways",function(n,t){console.log("fileuploadalways");var i=this;$.each(t.files,function(){var t=T();t.find(".ended-at").text((new Date).toLocaleTimeString()),w(t);var e=T();!c&&0<e.length?O(i,n):(S(),M(),P())})}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?undefined:"disabled")}};(function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)})(function(_){"use strict";function y(t){return!t.nodeName||-1!==_.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function e(t){return _.isFunction(t)||_.isPlainObject(t)?t:{top:t,left:t}}var b=_.scrollTo=function(t,e,n){return _(window).scrollTo(t,e,n)};return b.defaults={axis:"xy",duration:0,limit:!0},_.fn.scrollTo=function(t,n,m){"object"==typeof n&&(m=n,n=0),"function"==typeof m&&(m={onAfter:m}),"max"===t&&(t=9e9),m=_.extend({},b.defaults,m),n=n||m.duration;var v=m.queue&&1<m.axis.length;return v&&(n/=2),m.offset=e(m.offset),m.over=e(m.over),this.each(function(){function l(t){var e=_.extend({},m,{queue:!0,duration:n,complete:t&&function(){t.call(d,p,m)}});h.animate(f,e)}if(null!==t){var c,u=y(this),d=u?this.contentWindow||window:this,h=_(d),p=t,f={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=e(p);break}p=u?_(p):_(p,d);case"object":if(0===p.length)return;(p.is||p.style)&&(c=(p=_(p)).offset())}var g=_.isFunction(m.offset)&&m.offset(d,p)||m.offset;_.each(m.axis.split(""),function(t,e){var n="x"===e?"Left":"Top",i=n.toLowerCase(),r="scroll"+n,a=h[r](),o=b.max(d,e);if(c)f[r]=c[i]+(u?0:a-h.offset()[i]),m.margin&&(f[r]-=parseInt(p.css("margin"+n),10)||0,f[r]-=parseInt(p.css("border"+n+"Width"),10)||0),f[r]+=g[i]||0,m.over[i]&&(f[r]+=p["x"===e?"width":"height"]()*m.over[i]);else{var s=p[i];f[r]=s.slice&&"%"===s.slice(-1)?parseFloat(s)/100*o:s}m.limit&&/^\d+$/.test(f[r])&&(f[r]=f[r]<=0?0:Math.min(f[r],o)),!t&&1<m.axis.length&&(a===f[r]?f={}:v&&(l(m.onAfterFirst),f={}))}),l(m.onAfter)}})},b.max=function(t,e){var n="x"===e?"Width":"Height",i="scroll"+n;if(!y(t))return t[i]-_(t)[n.toLowerCase()]();var r="client"+n,a=t.ownerDocument||t.document,o=a.documentElement,s=a.body;return Math.max(o[i],s[i])-Math.min(o[r],s[r])},_.Tween.propHooks.scrollLeft=_.Tween.propHooks.scrollTop={get:function(t){return _(t.elem)[t.prop]()},set:function(t){var e=this.get(t);if(t.options.interrupt&&t._last&&t._last!==e)return _(t.elem).stop();var n=Math.round(t.now);e!==n&&(_(t.elem)[t.prop](n),t._last=this.get(t))}},b}),function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;try{e=window}catch(n){e=self}e.SparkMD5=t()}}(function(u){"use strict";function c(t,e){var n=t[0],i=t[1],r=t[2],a=t[3];i=((i+=((r=((r+=((a=((a+=((n=((n+=(i&r|~i&a)+e[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+e[1]-389564586|0)<<12|a>>>20)+n|0)&n|~a&i)+e[2]+606105819|0)<<17|r>>>15)+a|0)&a|~r&n)+e[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i&r|~i&a)+e[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+e[5]+1200080426|0)<<12|a>>>20)+n|0)&n|~a&i)+e[6]-1473231341|0)<<17|r>>>15)+a|0)&a|~r&n)+e[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i&r|~i&a)+e[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+e[9]-1958414417|0)<<12|a>>>20)+n|0)&n|~a&i)+e[10]-42063|0)<<17|r>>>15)+a|0)&a|~r&n)+e[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i&r|~i&a)+e[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+e[13]-40341101|0)<<12|a>>>20)+n|0)&n|~a&i)+e[14]-1502002290|0)<<17|r>>>15)+a|0)&a|~r&n)+e[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i&a|r&~a)+e[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+e[6]-1069501632|0)<<9|a>>>23)+n|0)&i|n&~i)+e[11]+643717713|0)<<14|r>>>18)+a|0)&n|a&~n)+e[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i&a|r&~a)+e[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+e[10]+38016083|0)<<9|a>>>23)+n|0)&i|n&~i)+e[15]-660478335|0)<<14|r>>>18)+a|0)&n|a&~n)+e[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i&a|r&~a)+e[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+e[14]-1019803690|0)<<9|a>>>23)+n|0)&i|n&~i)+e[3]-187363961|0)<<14|r>>>18)+a|0)&n|a&~n)+e[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i&a|r&~a)+e[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+e[2]-51403784|0)<<9|a>>>23)+n|0)&i|n&~i)+e[7]+1735328473|0)<<14|r>>>18)+a|0)&n|a&~n)+e[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i^r^a)+e[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+e[8]-2022574463|0)<<11|a>>>21)+n|0)^n^i)+e[11]+1839030562|0)<<16|r>>>16)+a|0)^a^n)+e[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i^r^a)+e[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+e[4]+1272893353|0)<<11|a>>>21)+n|0)^n^i)+e[7]-155497632|0)<<16|r>>>16)+a|0)^a^n)+e[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i^r^a)+e[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+e[0]-358537222|0)<<11|a>>>21)+n|0)^n^i)+e[3]-722521979|0)<<16|r>>>16)+a|0)^a^n)+e[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((a=((a+=((n=((n+=(i^r^a)+e[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+e[12]-421815835|0)<<11|a>>>21)+n|0)^n^i)+e[15]+530742520|0)<<16|r>>>16)+a|0)^a^n)+e[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((a=((a+=(i^((n=((n+=(r^(i|~a))+e[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+e[7]+1126891415|0)<<10|a>>>22)+n|0)^((r=((r+=(n^(a|~i))+e[14]-1416354905|0)<<15|r>>>17)+a|0)|~n))+e[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((a=((a+=(i^((n=((n+=(r^(i|~a))+e[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+e[3]-1894986606|0)<<10|a>>>22)+n|0)^((r=((r+=(n^(a|~i))+e[10]-1051523|0)<<15|r>>>17)+a|0)|~n))+e[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((a=((a+=(i^((n=((n+=(r^(i|~a))+e[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+e[15]-30611744|0)<<10|a>>>22)+n|0)^((r=((r+=(n^(a|~i))+e[6]-1560198380|0)<<15|r>>>17)+a|0)|~n))+e[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((a=((a+=(i^((n=((n+=(r^(i|~a))+e[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+e[11]-1120210379|0)<<10|a>>>22)+n|0)^((r=((r+=(n^(a|~i))+e[2]+718787259|0)<<15|r>>>17)+a|0)|~n))+e[9]-343485551|0)<<21|i>>>11)+r|0,t[0]=n+t[0]|0,t[1]=i+t[1]|0,t[2]=r+t[2]|0,t[3]=a+t[3]|0}function d(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function h(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function i(t){var e,n,i,r,a,o,s=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)c(l,d(t.substring(e-64,e)));for(n=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),55<e)for(c(l,i),e=0;e<16;e+=1)i[e]=0;return r=(r=8*s).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(r[2],16),o=parseInt(r[1],16)||0,i[14]=a,i[15]=o,c(l,i),l}function r(t){var e,n,i,r,a,o,s=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)c(l,h(t.subarray(e-64,e)));for(n=(t=e-64<s?t.subarray(e-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),55<e)for(c(l,i),e=0;e<16;e+=1)i[e]=0;return r=(r=8*s).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(r[2],16),o=parseInt(r[1],16)||0,i[14]=a,i[15]=o,c(l,i),l}function n(t){var e,n="";for(e=0;e<4;e+=1)n+=g[t>>8*e+4&15]+g[t>>8*e&15];return n}function o(t){var e;for(e=0;e<t.length;e+=1)t[e]=n(t[e]);return t.join("")}function a(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function e(t,e){var n,i=t.length,r=new ArrayBuffer(i),a=new Uint8Array(r);for(n=0;n<i;n+=1)a[n]=t.charCodeAt(n);return e?a:r}function s(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function l(t,e,n){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t)),i.set(new Uint8Array(e),t.byteLength),n?i:i.buffer}function p(t){var e,n=[],i=t.length;for(e=0;e<i-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}var g=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==o(i("hello"))&&function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function c(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(t,e){var n,i,r,a,o=this.byteLength,s=c(t,o),l=o;return e!==u&&(l=c(e,o)),l<s?new ArrayBuffer(0):(n=l-s,i=new ArrayBuffer(n),r=new Uint8Array(i),a=new Uint8Array(this,s,n),r.set(a),i)}}(),f.prototype.append=function(t){return this.appendBinary(a(t)),this},f.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)c(this._hash,d(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},f.prototype.end=function(t){var e,n,i=this._buff,r=i.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)a[e>>2]|=i.charCodeAt(e)<<(e%4<<3);return this._finish(a,r),n=o(this._hash),t&&(n=p(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},f.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(t,e){var n,i,r,a=e;if(t[a>>2]|=128<<(a%4<<3),55<a)for(c(this._hash,t),a=0;a<16;a+=1)t[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),r=parseInt(n[1],16)||0,t[14]=i,t[15]=r,c(this._hash,t)},f.hash=function(t,e){return f.hashBinary(a(t),e)},f.hashBinary=function(t,e){var n=o(i(t));return e?p(n):n},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(t){var e,n=l(this._buff.buffer,t,!0),i=n.length;for(this._length+=t.byteLength,e=64;e<=i;e+=64)c(this._hash,h(n.subarray(e-64,e)));return this._buff=e-64<i?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(t){var e,n,i=this._buff,r=i.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)a[e>>2]|=i[e]<<(e%4<<3);return this._finish(a,r),n=o(this._hash),t&&(n=p(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var t=f.prototype.getState.call(this);return t.buff=s(t.buff),t},f.ArrayBuffer.prototype.setState=function(t){return t.buff=e(t.buff,!0),f.prototype.setState.call(this,t)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(t,e){var n=o(r(new Uint8Array(t)));return e?p(n):n},f});var SecureView=function(){var l=this;return this.init=function(){this.app_specific=null,this.page_count=0,this.preview_as=null,this.current_page=1,this.current_zoom="",this.get_page_path="",this.download_path="",this.allow_actions={},this.initial_html_overflow=null,this.initial_body_overflow=null,this.$owner_el=null,this.$secure_view=null,this.$pages_block=null,this.$preview_as_selector=null,this.$zoom_factor_selector=null,this.$page_controls=null,this.$zoom_selectors=null,this.$loading_page_message=null,this.$download_link=null,this.$no_preview_possible=null,this.$failure_message_block=null,this.$failure_message=null,this.$control_blocks=null,this.$zoom_selector_fit=null,this.$extra_actions=null,this.$download_actions=null,this.$pages=null,this.$preview_item=null,this.$body=null,this.html=null},this.init(),this.setup_links=function(n,t,i){var r=this;n&&t&&$(n).not(".sv-added-setup-links").on("click",t,function(t){var e;(i=i||{}).page_path=$(this).attr("href"),i.$owner_el=n,e=i.attr_for_filename?$(this).attr(i.attr_for_filename):$(this).html(),i.file_name=e,$(".sv-selected").removeClass("sv-selected"),$(this).parent().addClass("sv-selected"),r.setup(i.set_preview_as,i),t.preventDefault()}).addClass("sv-added-setup-links")},this.setup=function(t,e){var n=this;e&&(this.get_page_path=e.page_path,this.download_path=e.download_path||e.page_path,this.allow_actions=e.allow_actions||{},this.$owner_el=e.$owner_el,this.file_name=e.file_name),this.set_current_page(1),this.$html=$("html"),this.$body=$("body"),this.$preview_as_selectors=$(".secure-view-preview-as-selectors"),this.$preview_as_selector=$(".secure-view-preview-as-selector"),this.$zoom_factor_selector=$(".secure-view-zoom-factor-selector"),this.$zoom_selectors=$(".secure-view-zoom-selector"),this.$page_controls=$(".secure-view-page-controls"),this.$pages_block=$("#secure-view-pages"),this.$secure_view=$(".secure-view"),this.$pages=$("#secure-view-pages"),this.$loading_page_message=$(".secure-view-loading-page"),this.$download_link=$(".sv-download-link"),this.$no_preview_possible=$(".secure-view-no-preview"),this.$control_blocks=$(".sv-control-block"),this.$no_preview_no_download=$(".secure-view-no-preview-no-download"),this.$failure_message_block=$(".secure-view-message-block"),this.$failure_message=$(".secure-view-message-block .secure-view-message"),this.$zoom_selector_fit=$("#secure-view-zoom-factor-fit"),this.$extra_actions=$(".secure-view-extra-actions"),this.$file_name=$(".secure-view-file-name"),this.$download_actions=$(".secure-download-actions"),this.$loading_page_message.show(),this.$body.hasClass("fixed-overlay")||(this.initial_html_overflow=this.$html[0].style.overflow,this.initial_body_overflow=this.$body[0].style.overflow,this.$html.css({overflow:"hidden"}),this.$body.css({overflow:"hidden"}).addClass("fixed-overlay")),this.$control_blocks.hide(),this.$no_preview_possible.hide(),this.$loading_page_message.show(),this.close(!0),this.$file_name.html(this.file_name),this.$loading_page_message.show(),t?this.preview_as=t:this.preview_as||(this.preview_as="png"),$('.secure-view-preview-as-selector[data-preview-as="'+this.preview_as+'"]').addClass("focus"),this.$secure_view.attr("data-preview-as",this.preview_as),this.page_count?this.show_first_page():this.get_info(this.show_first_page),this.set_controls(),this.$preview_as_selector.not(".sv-added-click-ev").on("click",function(t){n.preview_as=$(this).attr("data-preview-as"),n.$preview_as_selector.removeClass("focus"),$(this).addClass("focus"),n.clear(),n.setup(n.preview_as),t.preventDefault()}).addClass("sv-added-click-ev"),this.$zoom_factor_selector.not(".sv-added-click-ev").on("click",function(t){n.$preview_item.css({transition:"all 0.7s"}),n.set_zoom_for_selector($(this)),window.setTimeout(function(){n.$preview_item.css({transition:""})},1e3),window.setTimeout(function(){n.set_zoom(null,$(".secure-view-page").not("#"+n.page_id(n.current_page)))},100),t.preventDefault()}).addClass("sv-added-click-ev"),$("#preview-next-page").not(".sv-added-click-ev").on("click",function(t){n.show_next_page(),t.preventDefault()}).addClass("sv-added-click-ev"),$("#preview-prev-page").not(".sv-added-click-ev").on("click",function(t){n.show_prev_page(),t.preventDefault()}).addClass("sv-added-click-ev"),$("#secure-view-current-page").not(".sv-added-keyup-ev").on("keyup",function(){var t=$(this).val();""!=t&&(1<=(t=parseInt(t))&&t<=n.page_count&&t!=n.current_page?n.show_page(t):$(this).val(n.current_page))}).addClass("sv-added-keyup-ev"),$(".sv-close").not(".sv-added-click-ev").on("click",function(){n.close()}).addClass("sv-added-click-ev"),this.$secure_view.fadeIn(400,"swing",function(){window.setTimeout(function(){n.page_count&&n.show_first_page(),n.app_specific=(new SecureViewAppSpecific).setup(n)},10)})},this.set_controls=function(){this.$control_blocks.hide(),this.$extra_actions.show(),this.$file_name.show(),"html"==this.preview_as?(this.$zoom_selectors.show(),this.$page_controls.hide(),this.$zoom_selector_fit.hide()):(this.$zoom_selectors.show(),this.$page_controls.show(),this.$zoom_selector_fit.show()),this.set_actions()},this.set_actions=function(){this.$preview_as_selectors.hide(),this.allow_actions.download_files?(this.$download_link.show().attr("href",this.download_path),this.$download_actions.show()):(this.$download_link.hide(),this.$download_actions.hide());var t=$('.secure-view-preview-as-selector[data-preview-as="html"]');this.allow_actions.view_files_as_html?(t.show(),this.$preview_as_selectors.show()):t.hide();t=$('.secure-view-preview-as-selector[data-preview-as="png"]');this.allow_actions.view_files_as_image?(t.show(),this.$preview_as_selectors.show()):t.hide()},this.clean_page=function(){l.$control_blocks.hide(),l.$no_preview_possible.hide(),l.$no_preview_no_download.hide(),l.$loading_page_message.hide(),l.$failure_message_block.hide()},this.show_first_page=function(){l.clean_page(),l.set_controls(),l.can_preview?(l.set_current_page(1),l.show_page(l.current_page),l.$pages.removeClass(".sv-pages-as-png, .sv-pages-as-html").addClass("sv-pages-as-"+l.preview_as)):l.allow_actions.download_files?l.$no_preview_possible.show():l.$no_preview_no_download.show()},this.get_info=function(e){var t={secure_view:{"do":"info",preview_as:l.preview_as}},n=l.get_page_path;0<n.indexOf("?")?n+="&":n+="?",n+=$.param(t),$.ajax({url:n}).done(function(t){l.page_count=t.page_count,l.current_zoom=t.default_zoom,l.can_preview=t.can_preview,$("#secure-view-page-count").html(l.page_count),e&&e()}).fail(function(t,e,n){l.clean_page(),401==t.status?l.$no_preview_no_download.show():0==t.status?l.show_failure_message("Failed to get the requested item from the server: possible network error"):l.show_failure_message("Failed to get the requested item from the server: "+n),console.log("Failed to get info: "+n)})},this.show_failure_message=function(t){l.$failure_message.html(t),l.$failure_message_block.show()},this.set_zoom=function(t,e){(e=e||l.$preview_item)&&(t&&(l.current_zoom=t),l.current_zoom?("html"==l.preview_as?("fit"==l.current_zoom&&(l.current_zoom=100),l.$pages_block.css({overflow:"hidden"}),$("#sv-preview-item-html-1")[0].contentWindow.document.body.style.zoom=l.current_zoom+"%"):("fit"==l.current_zoom?l.$pages_block.css({overflow:"hidden"}):l.$pages_block.css({overflow:"auto"}),e.each(function(){var t=$(this);if("fit"==l.current_zoom){var e=l.$pages.height(),n=t.height(),i=t.width(),r=l.$pages.parent().width();if(0==e||0==n||0==r||0==i)return;var a=i/r,o=n/e;a<o?t.width(i/o):t.width(i/a)}else{var s=(i=t[0].naturalWidth||1200)*parseInt(l.current_zoom)/100;t.width(s+"px")}})),$(".secure-view-zoom-factor-selector").removeClass("focus"),$('.secure-view-zoom-factor-selector[data-zoom-factor="'+l.current_zoom+'"]').addClass("focus")):l.set_zoom_for_selector())},this.set_zoom_for_selector=function(t){t||(t=l.$zoom_factor_selector.filter(".focus"));var e=t.attr("data-zoom-factor");l.set_zoom(e)},this.show_page=function(t){l.got_page(t)||l.$loading_page_message.show(),l.get_page(t),$(".secure-view-page").hide(),l.$preview_item=$("#"+l.page_id(t)),l.$preview_item.show(),"png"==l.preview_as?l.show_img_page(l.current_page):"html"==l.preview_as&&l.show_html_page(l.current_page),l.set_current_page(t)},this.show_img_page=function(t){l.set_zoom(),t+1<=l.page_count&&l.get_page(t+1),t+2<=l.page_count&&l.get_page(t+2),t+3<=l.page_count&&l.get_page(t+3),1<=t-1&&l.get_page(t-1)},this.show_html_page=function(){},this.set_current_page=function(t){l.current_page=t,l.$preview_item=$("#"+l.page_id(t)),$("#secure-view-current-page").val(l.current_page),$("#preview-next-page").attr("disabled",l.current_page==l.page_count),$("#preview-prev-page").attr("disabled",1==l.current_page)},this.show_next_page=function(){var t=l.current_page+1;t>l.page_count||l.show_page(t)},this.show_prev_page=function(){var t=l.current_page-1;t<1||l.show_page(t)},this.page_loaded=function(t){l.$loading_page_message.hide(),l.set_zoom(null,t)},this.got_page=function(t){var e=l.page_id(t);return $("#"+e).length},l.page_id=function(t){return"sv-preview-item-"+l.preview_as+"-"+t},l.get_page=function(t){if(!(t>l.page_count)){var e=l.page_id(t);if(!l.got_page(t)){var n={secure_view:{page:t,"do":"convert_to",preview_as:l.preview_as}},i=l.get_page_path;if(0<i.indexOf("?")?i+="&":i+="?",i+=$.param(n),"png"==l.preview_as)var r=$(
'<img id="'+e+'" src="'+i+'" class="secure-view-page" data-secure-view-page="'+t+'" style="display: none; width: 1px;" draggable="false" />');else if("html"==l.preview_as)r=$('<iframe id="'+e+'" src="'+i+'" class="secure-view-page-iframe" data-secure-view-page="'+t+'" style="display: none;" ></iframe>');else console.log("preview_as not set");l.$pages.append(r),r.on("hover",function(t){t.preventDefault()}),r[0].complete||4==r[0].readyState?l.page_loaded(r):r.on("load",function(){l.page_loaded($(this))}).on("error",function(){l.clean_page(),$(".secure-view-page").hide(),l.show_failure_message("Failed to get the requested page from the server")})}}},l.clear=function(){$(".secure-view-page").remove(),$(".secure-view-page-iframe").remove(),$("#secure-view-page-count").html(""),l.$file_name.html(""),l.clean_page()},l.close=function(t){t||(l.$secure_view.fadeOut(),l.$html.css({overflow:l.initial_html_overflow}),l.$body.css({overflow:l.initial_body_overflow}).removeClass("fixed-overlay"),$(".sv-selected").removeClass("sv-selected")),l.clear(),l.page_count=null,l.preview_as=null,l.$preview_as_selector.removeClass("focus"),l.app_specific&&l.app_specific.close()},this};!function(t,e,n){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e||n)}(function(s){var l=function(h,w,x){var k={invalid:[],getCaret:function(){try{var t,e=0,n=h.get(0),i=document.selection,r=n.selectionStart;return i&&-1===navigator.appVersion.indexOf("MSIE 10")?((t=i.createRange()).moveStart("character",-k.val().length),e=t.text.length):(r||"0"===r)&&(e=r),e}catch(a){}},setCaret:function(t){try{if(h.is(":focus")){var e,n=h.get(0);n.setSelectionRange?n.setSelectionRange(t,t):((e=n.createTextRange()).collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select())}}catch(i){}},events:function(){h.on("keydown.mask",function(t){h.data("mask-keycode",t.keyCode||t.which),h.data("mask-previus-value",h.val()),h.data("mask-previus-caret-pos",k.getCaret()),k.maskDigitPosMapOld=k.maskDigitPosMap}).on(s.jMaskGlobals.useInput?"input.mask":"keyup.mask",k.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){h.keydown().keyup()},100)}).on("change.mask",function(){h.data("changed",!0)}).on("blur.mask",function(){o===k.val()||h.data("changed")||h.trigger("change"),h.data("changed",!1)}).on("blur.mask",function(){o=k.val()}).on("focus.mask",function(t){!0===x.selectOnFocus&&s(t.target).select()}).on("focusout.mask",function(){x.clearIfNotMatch&&!a.test(k.val())&&k.val("")})},getRegexMask:function(){for(var t,e,n,i,r,a,o=[],s=0;s<w.length;s++)(t=C.translation[w.charAt(s)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=t.optional,(i=t.recursive)?(o.push(w.charAt(s)),r={digit:w.charAt(s),pattern:e}):o.push(n||i?e+"?":e)):o.push(w.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return a=o.join(""),r&&(a=a.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(a)},destroyEvents:function(){h.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var e,n=h.is("input")?"val":"text";return 0<arguments.length?(h[n]()!==t&&h[n](t),e=h):e=h[n](),e},calculateCaretPosition:function(){var t=h.data("mask-previus-value")||"",e=k.getMasked(),n=k.getCaret();if(t!==e){var i=h.data("mask-previus-caret-pos")||0,r=e.length,a=t.length,o=0,s=0,l=0,c=0,u=0;for(u=n;u<r&&k.maskDigitPosMap[u];u++)s++;for(u=n-1;0<=u&&k.maskDigitPosMap[u];u--)o++;for(u=n-1;0<=u;u--)k.maskDigitPosMap[u]&&l++;for(u=i-1;0<=u;u--)k.maskDigitPosMapOld[u]&&c++;if(a<n)n=10*r;else if(n<=i&&i!==a){if(!k.maskDigitPosMapOld[n]){var d=n;n-=c-l,n-=o,k.maskDigitPosMap[n]&&(n=d)}}else i<n&&(n+=l-c,n+=s)}return n},behaviour:function(t){t=t||window.event,k.invalid=[];var e=h.data("mask-keycode");if(-1===s.inArray(e,C.byPassKeys)){var n=k.getMasked();k.getCaret();return setTimeout(function(){k.setCaret(k.calculateCaretPosition())},10),k.val(n),k.callbacks(t)}},getMasked:function(t,e){var n,i,r,a=[],o=e===undefined?k.val():e+"",s=0,l=w.length,c=0,u=o.length,d=1,h="push",p=-1,f=0,g=[];for(x.reverse?(h="unshift",d=-1,n=0,s=l-1,c=u-1,i=function(){return-1<s&&-1<c}):(n=l-1,i=function(){return s<l&&c<u});i();){var m=w.charAt(s),v=o.charAt(c),_=C.translation[m];_?(v.match(_.pattern)?(a[h](v),_.recursive&&(-1===p?p=s:s===n&&(s=p-d),n===p&&(s-=d)),s+=d):v===r?(f--,r=undefined):_.optional?(s+=d,c-=d):_.fallback?(a[h](_.fallback),s+=d,c-=d):k.invalid.push({p:c,v:v,e:_.pattern}),c+=d):(t||a[h](m),v===m?(g.push(c),c+=d):(r=m,g.push(c+f),f++),s+=d)}var y=w.charAt(n);l!==u+1||C.translation[y]||a.push(y);var b=a.join("");return k.mapMaskdigitPositions(b,g,u),b},mapMaskdigitPositions:function(t,e,n){var i=x.reverse?t.length-n:0;k.maskDigitPosMap={};for(var r=0;r<e.length;r++)k.maskDigitPosMap[e[r]+i]=1},callbacks:function(t){var e=k.val(),n=e!==o,i=[e,t,h,x],r=function(t,e,n){"function"==typeof x[t]&&e&&x[t].apply(this,n)};r("onChange",!0===n,i),r("onKeyPress",!0===n,i),r("onComplete",e.length===w.length,i),r("onInvalid",0<k.invalid.length,[e,t,h,k.invalid,x])}};h=s(h);var a,C=this,o=k.val();w="function"==typeof w?w(k.val(),undefined,h,x):w,C.mask=w,C.options=x,C.remove=function(){var t=k.getCaret();return k.destroyEvents(),k.val(C.getCleanVal()),k.setCaret(t),h},C.getCleanVal=function(){return k.getMasked(!0)},C.getMaskedVal=function(t){return k.getMasked(!1,t)},C.init=function(t){if(t=t||!1,x=x||{},C.clearIfNotMatch=s.jMaskGlobals.clearIfNotMatch,C.byPassKeys=s.jMaskGlobals.byPassKeys,C.translation=s.extend({},s.jMaskGlobals.translation,x.translation),C=s.extend(!0,{},C,x),a=k.getRegexMask(),t)k.events(),k.val(k.getMasked());else{x.placeholder&&h.attr("placeholder",x.placeholder),h.data("mask")&&h.attr("autocomplete","off");for(var e=0,n=!0;e<w.length;e++){var i=C.translation[w.charAt(e)];if(i&&i.recursive){n=!1;break}}n&&h.attr("maxlength",w.length),k.destroyEvents(),k.events();var r=k.getCaret();k.val(k.getMasked()),k.setCaret(r)}},C.init(!h.is("input"))};s.maskWatchers={};var e=function(){var t=s(this),e={},n="data-mask-",i=t.attr("data-mask");if(t.attr(n+"reverse")&&(e.reverse=!0),t.attr(n+"clearifnotmatch")&&(e.clearIfNotMatch=!0),"true"===t.attr(n+"selectonfocus")&&(e.selectOnFocus=!0),c(t,i,e))return t.data("mask",new l(this,i,e))},c=function(t,e,n){n=n||{};var i=s(t).data("mask"),r=JSON.stringify,a=s(t).val()||s(t).text();try{return"function"==typeof e&&(e=e(a)),"object"!=typeof i||r(i.options)!==r(n)||i.mask!==e}catch(o){}},t=function(t){var e,n=document.createElement("div");return(e=(t="on"+t)in n)||(n.setAttribute(t,"return;"),e="function"==typeof n[t]),n=null,e};s.fn.mask=function(t,e){e=e||{};var n=this.selector,i=s.jMaskGlobals,r=i.watchInterval,a=e.watchInputs||i.watchInputs,o=function(){if(c(this,t,e))return s(this).data("mask",new l(this,t,e))};return s(this).each(o),n&&""!==n&&a&&(clearInterval(s.maskWatchers[n]),s.maskWatchers[n]=setInterval(function(){s(document).find(n).each(o)},r)),this},s.fn.masked=function(t){return this.data("mask").getMaskedVal(t)},s.fn.unmask=function(){return clearInterval(s.maskWatchers[this.selector]),delete s.maskWatchers[this.selector],this.each(function(){var t=s(this).data("mask");t&&t.remove().removeData("mask")})},s.fn.cleanVal=function(){return this.data("mask").getCleanVal()},s.applyDataMask=function(t){((t=t||s.jMaskGlobals.maskElements)instanceof s?t:s(t)).filter(s.jMaskGlobals.dataMaskAttr).each(e)};var n={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&t("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};s.jMaskGlobals=s.jMaskGlobals||{},(n=s.jMaskGlobals=s.extend(!0,{},n,s.jMaskGlobals)).dataMask&&s.applyDataMask(),s.jMaskGlobals.watchDataMask&&setInterval(function(){s.jMaskGlobals.watchDataMask&&s.applyDataMask()},n.watchInterval)},window.jQuery,window.Zepto),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(function(){try{return require("moment")}catch(t){}}()):"function"==typeof define&&define.amd?define(["require"],function(t){return e(function(){try{return t("moment")}catch(t){}}())}):t.Chart=e(t.moment)}(this,function(i){"use strict";function a(t){var e,n,i=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return s==o?e=0:i==s?e=(r-a)/l:r==s?e=2+(a-i)/l:a==s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(o+s)/2,[e,100*(s==o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]}function e(t){var e,n,i=t[0],r=t[1],a=t[2],o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return n=0==s?0:l/s*1e3/10,s==o?e=0:i==s?e=(r-a)/l:r==s?e=2+(a-i)/l:a==s&&(e=4+(i-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,s/255*1e3/10]}function n(t){var e=t[0],n=t[1],i=t[2];return[a(t)[0],1/255*Math.min(e,Math.min(n,i))*100,100*(i=1-1/255*Math.max(e,Math.max(n,i)))]}function o(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]}function s(t){return Rt[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function c(t){var e=l(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116))]}function u(t){var e,n,i,r,a,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[a=255*l,a,a];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var c=0;c<3;c++)(i=o+1/3*-(c-1))<0&&i++,1<i&&i--,a=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[c]=255*a;return r}function d(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,a=e-Math.floor(e),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a));switch(i*=255,r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}}function h(t){var e,n,i,a,o=t[0]/360,s=t[1]/100,l=t[2]/100,c=s+l;switch(1<c&&(s/=c,l/=c),i=6*o-(e=Math.floor(6*o)),0!=(1&e)&&(i=1-i),a=s+i*((n=1-l)-s),e){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function p(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]}function f(t){var e,n,i,r=t[0]/100,a=t[1]/100,o=t[2]/100;return n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,e=.0031308<(e=3.2406*r+-1.5372*a+-.4986*o)?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function m(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]}function v(t){var e,n,i,r,a=t[0],o=t[1],s=t[2];return a<=8?r=(n=100*a/903.3)/100*7.787+16/116:(n=100*Math.pow((a+16)/116,3),r=Math.pow(n/100,1/3)),[e=e/95.047<=.008856?e=95.047*(o/500+r-16/116)/7.787:95.047*Math.pow(o/500+r,3),n,i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function _(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]}function y(t){return f(v(t))}function w(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]}function x(t){return Ft[t]}function k(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(i){r=(i=i[1])[3];for(var a=0;a<e.length;a++)e[a]=parseInt(i[a]+i[a],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(i=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=i[2],i=i[1],a=0;a<e.length;a++)e[a]=parseInt(i.slice(2*a,2*a+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=parseInt(i[a+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=Math.round(2.55*parseFloat(i[a+1]));n=parseFloat(i[4])}else if(i=t.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(e=Yt[i[1]]))return}for(a=0;a<e.length;a++)e[a]=A(e[a],0,255);return n=n||0==n?A(n,0,1):1,e[3]=n,e}}function C(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[A(parseInt(e[1]),0,360),A(parseFloat(e[2]),0,100),A(parseFloat(e[3]),0,100),A(isNaN(n)?1:n,0,1)]}}}function S(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[A(parseInt(e[1]),0,360),A(parseFloat(e[2]),0,100),A(parseFloat(e[3]),0,100),A(isNaN(n)?1:n,0,1)]}}}function T(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function $(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function D(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function A(t,e,n){return Math.min(Math.max(e,t),n)}function M(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}function P(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),0<i.length||(Te.forEach(function(t){delete e[t]}),delete e._chartjs)}}function t(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}function I(t){return t&&void 0!==t.width}function E(t){var e,n,i,r,a;return I(t)?(a=t.width/2,e=t.x-a,n=t.x+a,i=Math.min(t.y,t.base),r=Math.max(t.y,t.base)):(a=t.height/2,e=Math.min(t.x,t.base),n=Math.max(t.x,t.base),i=t.y-a,r=t.y+a),{left:e,top:i,right:n,bottom:r}}function O(t,e,n){return t===e?n:t===n?e:t}function N(t,e,n){var i,r,a,o,s,l,c,u=t.borderWidth,d=(l=(s=t).borderSkipped,c={},l&&(s.horizontal?s.base>s.x&&(l=O(l,"left","right")):s.base<s.y&&(l=O(l,"bottom","top")),c[l]=!0),c);return me.isObject(u)?(i=+u.top||0,r=+u.right||0,a=+u.bottom||0,o=+u.left||0):i=r=a=o=+u||0,{t:d.top||i<0?0:n<i?n:i,r:d.right||r<0?0:e<r?e:r,b:d.bottom||a<0?0:n<a?n:a,l:d.left||o<0?0:e<o?e:o}}function L(t,e,n){var i=null===e,r=null===n,a=!(!t||i&&r)&&E(t);return a&&(i||e>=a.left&&e<=a.right)&&(r||n>=a.top&&n<=a.bottom)}function F(t,e){return Je(t.showLine,e.showLines)}function R(t,e){return t["native"]?{x:t.x,y:t.y}:me.getRelativePosition(t,e)}function j(t,e){var n,i,r,a,o;for(i=0,a=t.data.datasets.length;i<a;++i)if(t.isDatasetVisible(i))for(r=0,o=(n=t.getDatasetMeta(i)).data.length;r<o;++r){var s=n.data[r];s._view.skip||e(s)}}function H(t,e){var n=[];return j(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function B(t,i,r,a){var o=Number.POSITIVE_INFINITY,s=[];return j(t,function(t){if(!r||t.inRange(i.x,i.y)){var e=t.getCenterPoint(),n=a(i,e);n<o?(s=[t],o=n):n===o&&s.push(t)}}),s}function z(t){var r=-1!==t.indexOf("x"),a=-1!==t.indexOf("y");return function(t,e){var n=r?Math.abs(t.x-e.x):0,i=a?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2))}}function W(i,t,e){var n=R(t,i);e.axis=e.axis||"x";var r=z(e.axis),a=e.intersect?H(i,n):B(i,n,!1,r),o=[];return a.length?(i.data.datasets.forEach(function(t,e){if(i.isDatasetVisible(e)){var n=i.getDatasetMeta(e).data[a[0]._index];n&&!n._view.skip&&o.push(n)}}),o):[]}function q(t,e){return me.where(t,function(t){return t.position===e})}function U(t,r){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,e){var n=r?e:t,i=r?t:e;return n.weight===i.weight?n._tmpIndex_-i._tmpIndex_:n.weight-i.weight}),t.forEach(function(t){delete t._tmpIndex_})}function V(t,e){me.each(t,function(t){e[t.position]+=t.isHorizontal()?t.height:t.width})}function Y(t,e){var n=me.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function K(t,e,n){t.addEventListener(e,n,bn)}function X(t,e,n){t.removeEventListener(e,n,bn)}function Q(t,e,n,i,r){return{type:t,chart:e,"native":r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function G(t){var e=document.createElement("div");return e.className=t||"",e}function J(n,i,r){var t,e,a,o,s,l,c,u,d=n[fn]||(n[fn]={}),h=d.resizer=function(t){var e=G(gn),n=G(gn+"-expand"),i=G(gn+"-shrink");n.appendChild(G()),i.appendChild(G()),e.appendChild(n),e.appendChild(i),e._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var r=function(){e._reset(),t()};return K(n,"scroll",r.bind(n,"expand")),K(i,"scroll",r.bind(i,"shrink")),e}((a=!(t=function(){if(d.resizer){var t=r.options.maintainAspectRatio&&n.parentNode,e=t?t.clientWidth:0;i(Q("resize",r)),t&&t.clientWidth<e&&r.canvas&&i(Q("resize",r))}}),o=[],function(){o=Array.prototype.slice.call(arguments),e=e||this,a||(a=!0,me.requestAnimFrame.call(window,function(){a=!1,t.apply(e,o)}))}));l=function(){if(d.resizer){var t=n.parentNode;t&&t!==h.parentNode&&t.insertBefore(h,t.firstChild),h._reset()}},c=(s=n)[fn]||(s[fn]={}),u=c.renderProxy=function(t){t.animationName===vn&&l()},me.each(_n,function(t){K(s,t,u)}),c.reflow=!!s.offsetParent,s.classList.add(mn)}function Z(t){var e,n,i,r=t[fn]||{},a=r.resizer;delete r.resizer,n=(e=t)[fn]||{},(i=n.renderProxy)&&(me.each(_n,function(t){X(e,t,i)}),delete n.renderProxy),e.classList.remove(mn),a&&a.parentNode&&a.parentNode.removeChild(a)}function tt(t,e){return e&&(me.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function et(t){return("string"==typeof t||t instanceof String)&&-1<t.indexOf("\n")?t.split("\n"):t}function nt(t){var e=pe.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Tn(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Tn(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Tn(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Tn(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Tn(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Tn(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Tn(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Tn(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Tn(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function it(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function rt(t){return tt([],et(t))}function at(){return me.merge({},[].slice.call(arguments),{merger:function(t,e,n,i){if("xAxes"===t||"yAxes"===t){var r,a,o,s=n[t].length;for(e[t]||(e[t]=[]),r=0;r<s;++r)o=n[t][r],a=Pn(o.type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),!e[t][r].type||o.type&&o.type!==e[t][r].type?me.merge(e[t][r],[Sn.getScaleDefaults(a),o]):me.merge(e[t][r],o)}else me._merger(t,e,n,i)}})}function ot(){return me.merge({},[].slice.call(arguments),{merger:function(t,e,n,i){var r=e[t]||{},a=n[t];"scales"===t?e[t]=at(r,a):"scale"===t?e[t]=me.merge(r,[Sn.getScaleDefaults(a.type),a]):me._merger(t,e,n,i)}})}function st(t){return"top"===t||"bottom"===t}function lt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function ct(t){this.options=t||{}}function ut(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(t[e].label);return i}function dt(t,e,n){return me.isArray(e)?me.longestText(t,n,e):t.measureText(e).width}function ht(t,e){return me.isFinite(t)&&0<=t?t:e}function pt(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function ft(t){var e=t.ticks;return e.display&&t.display?Gn(e.fontSize,pe.global.defaultFontSize)+2*e.backdropPaddingY:0}function gt(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||r<t?{start:e-n,end:e}:{start:e,end:e+n}}function mt(t){return 0===t||180===t?"center":t<180?"left":"right"}function vt(t,e,n,i){var r,a,o=n.y+i/2;if(me.isArray(e))for(r=0,a=e.length;r<a;++r)t.fillText(e[r],n.x,o),o+=i;else t.fillText(e,n.x,o)}function _t(t,e,n){90===t||270===t?n.y-=e.h/2:(270<t||t<90)&&(n.y-=e.h)}function yt(t){return me.isNumber(t)?t:0}function bt(t,e){return t-e}function wt(t){var e,n,i,r={},a=[];for(e=0,n=t.length;e<n;++e)r[i=t[e]]||(r[i]=!0,a.push(i));return a}function xt(t,e,n,i){var r=function(t,e,n){for(var i,r,a,o=0,s=t.length-1;0<=o&&o<=s;){if(r=t[(i=o+s>>1)-1]||null,a=t[i],!r)return{lo:null,hi:a};if(a[e]<n)o=i+1;else{if(!(r[e]>n))return{lo:r,hi:a};s=i-1}}return{lo:a,hi:null}}(t,e,n),a=r.lo?r.hi?r.lo:t[t.length-2]:t[0],o=r.lo?r.hi?r.hi:t[t.length-1]:t[1],s=o[e]-a[e],l=s?(n-a[e])/s:0,c=(o[i]-a[i])*l;return a[i]+c}function kt(t,e){var n=t._adapter,i=t.options.time,r=i.parser,a=r||i.format,o=e;return"function"==typeof r&&(o=r(o)),me.isFinite(o)||(o="string"==typeof a?n.parse(o,a):n.parse(o)),null!==o?+o:(r||"function"!=typeof a||(o=a(e),me.isFinite(o)||(o=n.parse(o))),o)}function Ct(t,e){if(me.isNullOrUndef(e))return null;var n=t.options.time,i=kt(t,t.getRightValue(e));return null===i||n.round&&(i=+t._adapter.startOf(i,n.round)),i}function St(t){for(var e=si.indexOf(t)+1,n=si.length;e<n;++e)if(oi[si[e]].common)return si[e]}function Tt(t,d,h,e){var n,i=t._adapter,r=t.options,a=r.time,p=a.unit||function(t,e,n,i){var r,a,o,s=si.length;for(r=si.indexOf(t);r<s-1;++r)if(o=(a=oi[si[r]]).steps?a.steps[a.steps.length-1]:ai,a.common&&Math.ceil((n-e)/(o*a.size))<=i)return si[r];return si[s-1]}(a.minUnit,d,h,e),o=St(p),s=ii(a.stepSize,a.unitStepSize),l="week"===p&&a.isoWeekday,c=r.ticks.major.enabled,u=oi[p],f=d,g=h,m=[];for(s||(s=function(t,e,n,i){var r,a,o,s=h-d,l=oi[p],c=l.size,u=l.steps;if(!u)return Math.ceil(s/(i*c));for(r=0,a=u.length;r<a&&(o=u[r],!(Math.ceil(s/(c*o))<=i));++r);return o}(0,0,0,e)),l&&(f=+i.startOf(f,"isoWeek",l),g=+i.startOf(g,"isoWeek",l)),f=+i.startOf(f,l?"day":p),(g=+i.startOf(g,l?"day":p))<h&&(g=+i.add(g,1,p)),n=f,c&&o&&!l&&!a.round&&(n=+i.startOf(n,o),n=+i.add(n,~~((f-n)/(u.size*s))*s,p));n<g;n=+i.add(n,s,p))m.push(+n);return m.push(+n),m}function $t(t,e,n){var i,r=t._model||{},a=r.fill;if(void 0===a&&(a=!!r.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(i=parseFloat(a,10),isFinite(i)&&Math.floor(i)===i)return"-"!==a[0]&&"+"!==a[0]||(i=e+i),!(i===e||i<0||n<=i)&&i;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function Dt(t){var e,n=t.el._model||{},i=t.el._scale||{},r=t.fill,a=null;if(isFinite(r))return null;if("start"===r?a=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?a=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?a=n.scaleZero:i.getBasePosition?a=i.getBasePosition():i.getBasePixel&&(a=i.getBasePixel()),null!=a){if(void 0!==a.x&&void 0!==a.y)return a;if(me.isFinite(a))return{x:(e=i.isHorizontal())?a:null,y:e?null:a}}return null}function At(t,e,n){var i,r=t[e].fill,a=[e];if(!n)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!isFinite(r))return r;if(!(i=t[r]))return!1;if(i.visible)return r;a.push(r),r=i.fill}return!1}function Mt(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),hi[n](t))}function Pt(t){return t&&!t.skip}function It(t,e,n,i,r){var a;if(i&&r){for(t.moveTo(e[0].x,e[0].y),a=1;a<i;++a)me.canvas.lineTo(t,e[a-1],e[a]);for(t.lineTo(n[r-1].x,n[r-1].y),a=r-1;0<a;--a)me.canvas.lineTo(t,n[a],n[a-1],!0)}}function Et(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}function Ot(t,e){var n=new mi({ctx:t.ctx,options:e,chart:t});hn.configure(t,n,e),hn.addBox(t,n),t.legend=n}function Nt(t,e){var n=new yi({ctx:t.ctx,options:e,chart:t});hn.configure(t,n,e),hn.addBox(t,n),t.titleBlock=n}i=i&&i.hasOwnProperty("default")?i["default"]:i;var Lt={rgb2hsl:a,rgb2hsv:e,rgb2hwb:n,rgb2cmyk:o,rgb2keyword:s,rgb2xyz:l,rgb2lab:c,rgb2lch:function(t){return _(c(t))},hsl2rgb:u,hsl2hsv:function(t){var e=t[0],n=t[1]/100,i=t[2]/100;return 0===i?[0,0,0]:[e,2*(n*=(i*=2)<=1?i:2-i)/(i+n)*100,(i+n)/2*100]},hsl2hwb:function(t){return n(u(t))},hsl2cmyk:function(t){return o(u(t))},hsl2keyword:function(t){return s(u(t))},hsv2rgb:d,hsv2hsl:function(t){var e,n,i=t[0],r=t[1]/100,a=t[2]/100;return e=r*a,[i,100*(e=(e/=(n=(2-r)*a)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(t){return n(d(t))},hsv2cmyk:function(t){return o(d(t))},hsv2keyword:function(t){return s(d(t))},hwb2rgb:h,hwb2hsl:function(t){return a(h(t))},hwb2hsv:function(t){return e(h(t))},hwb2cmyk:function(t){return o(h(t))},hwb2keyword:function(t){return s(h(t))},cmyk2rgb:p,cmyk2hsl:function(t){return a(p(t))},cmyk2hsv:function(t){return e(p(t))},cmyk2hwb:function(t){return n(p(t))},cmyk2keyword:function(t){return s(p(t))},keyword2rgb:x,keyword2hsl:function(t){return a(x(t))},keyword2hsv:function(t){return e(x(t))},keyword2hwb:function(t){return n(x(t))},keyword2cmyk:function(t){return o(x(t))},keyword2lab:function(t){return c(x(t))},keyword2xyz:function(t){return l(x(t))},xyz2rgb:f,xyz2lab:m,xyz2lch:function(t){return _(m(t))},lab2xyz:v,lab2rgb:y,lab2lch:_,lch2lab:w,lch2xyz:function(t){return v(w(t))},lch2rgb:function(t){return y(w(t))}},Ft={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Rt={};for(var jt in Ft)Rt[JSON.stringify(Ft[jt])]=jt;var Ht=function(){return new Ut};for(var Bt in Lt){Ht[Bt+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),Lt[e](t)}}(Bt);var zt=/(\w+)2(\w+)/.exec(Bt),Wt=zt[1],qt=zt[2];(Ht[Wt]=Ht[Wt]||{})[qt]=Ht[Bt]=function(i){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var e=Lt[i](t);if("string"==typeof e||void 0===e)return e;for(var n=0;n<e.length;n++)e[n]=Math.round(e[n]);return e}}(Bt)}var Ut=function(){this.convs={}};Ut.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},Ut.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},Ut.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=Ht[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){Ut.prototype[e]=function(t){return this.routeSpace(e,arguments)}});var Vt=Ht,Yt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],
mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Kt={getRgba:k,getHsla:C,getRgb:function(t){var e=k(t);return e&&e.slice(0,3)},getHsl:function(t){var e=C(t);return e&&e.slice(0,3)},getHwb:S,getAlpha:function(t){var e=k(t);return e?e[3]:(e=C(t))?e[3]:(e=S(t))?e[3]:void 0},hexString:function(t,e){e=void 0!==e&&3===t.length?e:t[3];return"#"+M(t[0])+M(t[1])+M(t[2])+(0<=e&&e<1?M(Math.round(255*e)):"")},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?T(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:T,percentString:function(t,e){return e<1||t[3]&&t[3]<1?$(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:$,hslString:function(t,e){return e<1||t[3]&&t[3]<1?D(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:D,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return Xt[t.slice(0,3)]}},Xt={};for(var Qt in Yt)Xt[Yt[Qt]]=Qt;var Gt=function(t){return t instanceof Gt?t:this instanceof Gt?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=Kt.getRgba(t))?this.setValues("rgb",e):(e=Kt.getHsla(t))?this.setValues("hsl",e):(e=Kt.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new Gt(t);var e};Gt.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return Kt.hexString(this.values.rgb)},rgbString:function(){return Kt.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Kt.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Kt.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Kt.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Kt.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Kt.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Kt.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return n<e?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return 7.1<=e?"AAA":4.5<=e?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=t,i=void 0===e?.5:e,r=2*i-1,a=this.alpha()-n.alpha(),o=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,s=1-o;return this.rgb(o*this.red()+s*n.red(),o*this.green()+s*n.green(),o*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new Gt,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],"[object Array]"===(e={}.toString.call(t))?r[a]=t.slice(0):"[object Number]"===e?r[a]=t:console.error("unexpected color value:",t));return n}},Gt.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Gt.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Gt.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},Gt.prototype.setValues=function(t,e){var n,i,r=this.values,a=this.spaces,o=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)r[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[a[t][0]]){var l=a[t];for(n=0;n<t.length;n++)r[t][n]=e[l[n]];s=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(o[t][n],r[t][n])),r[t][n]=Math.round(i);for(var c in a)c!==t&&(r[c]=Vt[t][c](r[t]));return!0},Gt.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},Gt.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:(n===i[e]||(i[e]=n,this.setValues(t,i)),this)},"undefined"!=typeof window&&(window.Color=Gt);var Jt,Zt=Gt,te={noop:function(){},uid:(Jt=0,function(){return Jt++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return te.valueOrDefault(te.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var r,a,o;if(te.isArray(t))if(a=t.length,i)for(r=a-1;0<=r;r--)e.call(n,t[r],r);else for(r=0;r<a;r++)e.call(n,t[r],r);else if(te.isObject(t))for(a=(o=Object.keys(t)).length,r=0;r<a;r++)e.call(n,t[o[r]],o[r])},arrayEquals:function(t,e){var n,i,r,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],a=e[n],r instanceof Array&&a instanceof Array){if(!te.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},clone:function(t){if(te.isArray(t))return t.map(te.clone);if(te.isObject(t)){for(var e={},n=Object.keys(t),i=n.length,r=0;r<i;++r)e[n[r]]=te.clone(t[n[r]]);return e}return t},_merger:function(t,e,n,i){var r=e[t],a=n[t];te.isObject(r)&&te.isObject(a)?te.merge(r,a,i):e[t]=te.clone(a)},_mergerIf:function(t,e,n){var i=e[t],r=n[t];te.isObject(i)&&te.isObject(r)?te.mergeIf(i,r):e.hasOwnProperty(t)||(e[t]=te.clone(r))},merge:function(t,e,n){var i,r,a,o,s,l=te.isArray(e)?e:[e],c=l.length;if(!te.isObject(t))return t;for(i=(n=n||{}).merger||te._merger,r=0;r<c;++r)if(e=l[r],te.isObject(e))for(s=0,o=(a=Object.keys(e)).length;s<o;++s)i(a[s],t,e,n);return t},mergeIf:function(t,e){return te.merge(t,e,{merger:te._mergerIf})},extend:function(n){for(var t=function(t,e){n[e]=t},e=1,i=arguments.length;e<i;++e)te.each(arguments[e],t);return n},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=te.inherits,t&&te.extend(n.prototype,t),n.__super__=e.prototype,n}},ee=te;te.callCallback=te.callback,te.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},te.getValueOrDefault=te.valueOrDefault,te.getValueAtIndexOrDefault=te.valueAtIndexOrDefault;var ne={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return 1<=t?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-ne.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*ne.easeInBounce(2*t):.5*ne.easeOutBounce(2*t-1)+.5}},ie={effects:ne};ee.easingEffects=ne;var re=Math.PI,ae=re/180,oe=2*re,se=re/2,le=re/4,ce=2*re/3,ue={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,r,a){if(a){var o=Math.min(a,r/2,i/2),s=e+o,l=n+o,c=e+i-o,u=n+r-o;t.moveTo(e,l),s<c&&l<u?(t.arc(s,l,o,-re,-se),t.arc(c,l,o,-se,0),t.arc(c,u,o,0,se),t.arc(s,u,o,se,re)):s<c?(t.moveTo(s,n),t.arc(c,l,o,-se,se),t.arc(s,l,o,se,re+se)):l<u?(t.arc(s,l,o,-re,0),t.arc(s,u,o,0,re)):t.arc(s,l,o,-re,re),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,r)},drawPoint:function(t,e,n,i,r,a){var o,s,l,c,u,d=(a||0)*ae;if(!e||"object"!=typeof e||"[object HTMLImageElement]"!==(o=e.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(n)||n<=0)){switch(t.beginPath(),e){default:t.arc(i,r,n,0,oe),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(d)*n,r-Math.cos(d)*n),d+=ce,t.lineTo(i+Math.sin(d)*n,r-Math.cos(d)*n),d+=ce,t.lineTo(i+Math.sin(d)*n,r-Math.cos(d)*n),t.closePath();break;case"rectRounded":c=n-(u=.516*n),s=Math.cos(d+le)*c,l=Math.sin(d+le)*c,t.arc(i-s,r-l,u,d-re,d-se),t.arc(i+l,r-s,u,d-se,d),t.arc(i+s,r+l,u,d,d+se),t.arc(i-l,r+s,u,d+se,d+re),t.closePath();break;case"rect":if(!a){c=Math.SQRT1_2*n,t.rect(i-c,r-c,2*c,2*c);break}d+=le;case"rectRot":s=Math.cos(d)*n,l=Math.sin(d)*n,t.moveTo(i-s,r-l),t.lineTo(i+l,r-s),t.lineTo(i+s,r+l),t.lineTo(i-l,r+s),t.closePath();break;case"crossRot":d+=le;case"cross":s=Math.cos(d)*n,l=Math.sin(d)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s);break;case"star":s=Math.cos(d)*n,l=Math.sin(d)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s),d+=le,s=Math.cos(d)*n,l=Math.sin(d)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l),t.moveTo(i+l,r-s),t.lineTo(i-l,r+s);break;case"line":s=Math.cos(d)*n,l=Math.sin(d)*n,t.moveTo(i-s,r-l),t.lineTo(i+s,r+l);break;case"dash":t.moveTo(i,r),t.lineTo(i+Math.cos(d)*n,r+Math.sin(d)*n)}t.fill(),t.stroke()}}else t.drawImage(e,i-e.width/2,r-e.height/2,e.width,e.height)},_isPointInArea:function(t,e){return t.x>e.left-1e-6&&t.x<e.right+1e-6&&t.y>e.top-1e-6&&t.y<e.bottom+1e-6},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){var r=n.steppedLine;if(r){if("middle"===r){var a=(e.x+n.x)/2;t.lineTo(a,i?n.y:e.y),t.lineTo(a,i?e.y:n.y)}else"after"===r&&!i||"after"!==r&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}else n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}},de=ue;ee.clear=ue.clear,ee.drawRoundedRectangle=function(t){t.beginPath(),ue.roundedRect.apply(ue,arguments)};var he={_set:function(t,e){return ee.merge(this[t]||(this[t]={}),e)}};he._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var pe=he,fe=ee.valueOrDefault,ge={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,r;return ee.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,r=+t.left||0):e=n=i=r=+t||0,{top:e,right:n,bottom:i,left:r,height:e+i,width:r+n}},_parseFont:function(t){var e,n=pe.global,i=fe(t.fontSize,n.defaultFontSize),r={family:fe(t.fontFamily,n.defaultFontFamily),lineHeight:ee.options.toLineHeight(fe(t.lineHeight,n.defaultLineHeight),i),size:i,style:fe(t.fontStyle,n.defaultFontStyle),weight:null,string:""};return r.string=!(e=r)||ee.isNullOrUndef(e.size)||ee.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family,r},resolve:function(t,e,n){var i,r,a;for(i=0,r=t.length;i<r;++i)if(void 0!==(a=t[i])&&(void 0!==e&&"function"==typeof a&&(a=a(e)),void 0!==n&&ee.isArray(a)&&(a=a[n]),void 0!==a))return a}},me=ee,ve=ie,_e=de,ye=ge;me.easing=ve,me.canvas=_e,me.options=ye;var be=function(t){me.extend(this,t),this.initialize.apply(this,arguments)};me.extend(be.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=me.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,r=e._view;return n&&1!==t?(r||(r=e._view={}),i||(i=e._start={}),function(t,e,n,i){var r,a,o,s,l,c,u,d,h,p=Object.keys(n);for(r=0,a=p.length;r<a;++r)if(c=n[o=p[r]],e.hasOwnProperty(o)||(e[o]=c),(s=e[o])!==c&&"_"!==o[0]){if(t.hasOwnProperty(o)||(t[o]=s),(u=typeof c)==typeof(l=t[o]))if("string"===u){if((d=Zt(l)).valid&&(h=Zt(c)).valid){e[o]=h.mix(d,i).rgbString();continue}}else if(me.isFinite(l)&&me.isFinite(c)){e[o]=l+(c-l)*i;continue}e[o]=c}}(i,r,n,t)):(e._view=n,e._start=null),e},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return me.isNumber(this._model.x)&&me.isNumber(this._model.y)}}),be.extend=me.inherits;var we=be,xe=we.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),ke=xe;Object.defineProperty(xe.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(xe.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),pe._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:me.noop,onComplete:me.noop}});var Ce={animations:[],request:null,addAnimation:function(t,e,n,i){var r,a,o=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=n,i||(t.animating=!0),r=0,a=o.length;r<a;++r)if(o[r].chart===t)return void(o[r]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=me.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=me.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){this.advance(),0<this.animations.length&&this.requestAnimationFrame()},advance:function(){for(var t,e,n,i,r=this.animations,a=0;a<r.length;)e=(t=r[a]).chart,n=t.numSteps,i=Math.floor((Date.now()-t.startTime)/t.duration*n)+1,t.currentStep=Math.min(i,n),me.callback(t.render,[e,t],e),me.callback(t.onAnimationProgress,[t],e),t.currentStep>=n?(me.callback(t.onAnimationComplete,[t],e),e.animating=!1,r.splice(a,1)):++a}},Se=me.options.resolve,Te=["push","pop","shift","splice","unshift"],$e=function(t,e){this.initialize(t,e)};me.extend($e.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&P(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,n=this.getMeta(),i=this.getDataset().data||[],r=n.data;for(t=0,e=i.length;t<e;++t)r[t]=r[t]||this.createMetaData(t);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var r,t,e=this,n=e.getDataset(),i=n.data||(n.data=[]);e._data!==i&&(e._data&&P(e._data,e),i&&Object.isExtensible(i)&&(t=e,(r=i)._chartjs?r._chartjs.listeners.push(t):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Te.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),t=i.apply(this,e);return me.each(r._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),t}})}))),e._data=i),e.resyncElements()},update:me.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,r=0;r<i;++r)n[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},removeHoverStyle:function(t){me.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},r=t._model,a=me.getHoverColor;t.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=Se([i.hoverBackgroundColor,e.hoverBackgroundColor,a(r.backgroundColor)],void 0,n),r.borderColor=Se([i.hoverBorderColor,e.hoverBorderColor,a(r.borderColor)],void 0,n),r.borderWidth=Se([i.hoverBorderWidth,e.hoverBorderWidth,r.borderWidth],void 0,n)},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,n=t.data.length,i=e.length;i<n?t.data.splice(i,n-i):n<i&&this.insertElements(n,i-n)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),$e.extend=me.inherits;var De=$e;pe._set("global",{elements:{arc:{backgroundColor:pe.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Ae=we.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=me.getAngleFromPoint(n,{x:t,y:e}),r=i.angle,a=i.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=2*Math.PI;for(;s<r;)r-=2*Math.PI;for(;r<o;)r+=2*Math.PI;var l=o<=r&&r<=s,c=a>=n.innerRadius&&a<=n.outerRadius;return l&&c}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t,e=this._chart.ctx,n=this._view,i=n.startAngle,r=n.endAngle,a="inner"===n.borderAlign?.33:0;e.save(),e.beginPath(),e.arc(n.x,n.y,Math.max(n.outerRadius-a,0),i,r),e.arc(n.x,n.y,n.innerRadius,r,i,!0),e.closePath(),e.fillStyle=n.backgroundColor,e.fill(),n.borderWidth&&("inner"===n.borderAlign?(e.beginPath(),t=a/n.outerRadius,e.arc(n.x,n.y,n.outerRadius,i-t,r+t),n.innerRadius>a?(t=a/n.innerRadius,e.arc(n.x,n.y,n.innerRadius-a,r+t,i-t,!0)):e.arc(n.x,n.y,a,r+Math.PI/2,i-Math.PI/2),e.closePath(),e.clip(),e.beginPath(),e.arc(n.x,n.y,n.outerRadius,i,r),e.arc(n.x,n.y,n.innerRadius,r,i,!0),e.closePath(),e.lineWidth=2*n.borderWidth,e.lineJoin="round"):(e.lineWidth=n.borderWidth,e.lineJoin="bevel"),e.strokeStyle=n.borderColor,e.stroke()),e.restore()}}),Me=me.valueOrDefault,Pe=pe.global.defaultColor;pe._set("global",{elements:{line:{tension:.4,backgroundColor:Pe,borderWidth:3,borderColor:Pe,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Ie=we.extend({draw:function(){var t,e,n,i,r=this._view,a=this._chart.ctx,o=r.spanGaps,s=this._children.slice(),l=pe.global,c=l.elements.line,u=-1;for(this._loop&&s.length&&s.push(s[0]),a.save(),a.lineCap=r.borderCapStyle||c.borderCapStyle,a.setLineDash&&a.setLineDash(r.borderDash||c.borderDash),a.lineDashOffset=Me(r.borderDashOffset,c.borderDashOffset),a.lineJoin=r.borderJoinStyle||c.borderJoinStyle,a.lineWidth=Me(r.borderWidth,c.borderWidth),a.strokeStyle=r.borderColor||l.defaultColor,a.beginPath(),u=-1,t=0;t<s.length;++t)e=s[t],n=me.previousItem(s,t),i=e._view,0===t?i.skip||(a.moveTo(i.x,i.y),u=t):(n=-1===u?n:s[u],i.skip||(u!==t-1&&!o||-1===u?a.moveTo(i.x,i.y):me.canvas.lineTo(a,n._view,e._view),u=t));a.stroke(),a.restore()}}),Ee=me.valueOrDefault,Oe=pe.global.defaultColor;pe._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Oe,borderColor:Oe,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Ne=we.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:t,inXRange:t,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._chart.ctx,i=e.pointStyle,r=e.rotation,a=e.radius,o=e.x,s=e.y,l=pe.global,c=l.defaultColor;e.skip||(void 0===t||me.canvas._isPointInArea(e,t))&&(n.strokeStyle=e.borderColor||c,n.lineWidth=Ee(e.borderWidth,l.elements.point.borderWidth),n.fillStyle=e.backgroundColor||c,me.canvas.drawPoint(n,i,a,o,s,r))}}),Le=pe.global.defaultColor;pe._set("global",{elements:{rectangle:{backgroundColor:Le,borderColor:Le,borderSkipped:"bottom",borderWidth:0}}});var Fe=we.extend({draw:function(){var t,e,n,i,r,a=this._chart.ctx,o=this._view,s=(e=E(t=o),n=e.right-e.left,i=e.bottom-e.top,r=N(t,n/2,i/2),{outer:{x:e.left,y:e.top,w:n,h:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}),l=s.outer,c=s.inner;a.fillStyle=o.backgroundColor,a.fillRect(l.x,l.y,l.w,l.h),l.w===c.w&&l.h===c.h||(a.save(),a.beginPath(),a.rect(l.x,l.y,l.w,l.h),a.clip(),a.fillStyle=o.borderColor,a.rect(c.x,c.y,c.w,c.h),a.fill("evenodd"),a.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return L(this._view,t,e)},inLabelRange:function(t,e){var n=this._view;return I(n)?L(n,t,null):L(n,null,e)},inXRange:function(t){return L(this._view,t,null)},inYRange:function(t){return L(this._view,null,t)},getCenterPoint:function(){var t,e,n=this._view;return I(n)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return I(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),Re={},je=Ae,He=Ie,Be=Ne,ze=Fe;Re.Arc=je,Re.Line=He,Re.Point=Be,Re.Rectangle=ze;var We=me.options.resolve;pe._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var qe=De.extend({dataElementType:Re.Rectangle,initialize:function(){var t;De.prototype.initialize.apply(this,arguments),(t=this.getMeta()).stack=this.getDataset().stack,t.bar=!0},update:function(t){var e,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,n=i.length;e<n;++e)this.updateElement(i[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.getMeta(),a=i.getDataset(),o=i._resolveElementOptions(t,e);t._xScale=i.getScaleForId(r.xAxisID),t._yScale=i.getScaleForId(r.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:a.label,label:i.chart.data.labels[e]},i._updateElementGeometry(t,e,n),t.pivot()},_updateElementGeometry:function(t,e,n){var i=this,r=t._model,a=i._getValueScale(),o=a.getBasePixel(),s=a.isHorizontal(),l=i._ruler||i.getRuler(),c=i.calculateBarValuePixels(i.index,e),u=i.calculateBarIndexPixels(i.index,e,l);r.horizontal=s,r.base=n?o:c.base,r.x=s?n?o:c.head:u.center,r.y=s?u.center:n?o:c.head,r.height=s?u.size:void 0,r.width=s?void 0:u.size},_getStacks:function(t){var e,n,i=this.chart,r=this._getIndexScale().options.stacked,a=void 0===t?i.data.datasets.length:t+1,o=[];for(e=0;e<a;++e)(n=i.getDatasetMeta(e)).bar&&i.isDatasetVisible(e)&&(!1===r||!0===r&&-1===o.indexOf(n.stack)||void 0===r&&(void 0===n.stack||-1===o.indexOf(n.stack)))&&o.push(n.stack);return o},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i},getRuler:function(){var t,e,n=this._getIndexScale(),i=this.getStackCount(),r=this.index,a=n.isHorizontal(),o=a?n.left:n.top,s=o+(a?n.width:n.height),l=[];for(t=0,e=this.getMeta().data.length;t<e;++t)l.push(n.getPixelForValue(null,t,r));return{min:me.isNullOrUndef(n.options.barThickness)?function(t,e){var n,i,r,a,o=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(r=1,a=e.length;r<a;++r)o=Math.min(o,Math.abs(e[r]-e[r-1]));for(r=0,a=s.length;r<a;++r)i=t.getPixelForTick(r),o=0<r?Math.min(o,i-n):o,n=i;return o}(n,l):-1,pixels:l,start:o,end:s,stackCount:i,scale:n}},calculateBarValuePixels:function(t,e){var n,i,r,a,o,s,l=this.chart,c=this.getMeta(),u=this._getValueScale(),d=u.isHorizontal(),h=l.data.datasets,p=+u.getRightValue(h[t].data[e]),f=u.options.minBarLength,g=u.options.stacked,m=c.stack,v=0;if(g||void 0===g&&void 0!==m)for(n=0;n<t;++n)(i=l.getDatasetMeta(n)).bar&&i.stack===m&&i.controller._getValueScaleId()===u.id&&l.isDatasetVisible(n)&&(r=+u.getRightValue(h[n].data[e]),(p<0&&r<0||0<=p&&0<r)&&(v+=r));return a=u.getPixelForValue(v),s=(o=u.getPixelForValue(v+p))-a,void 0!==f&&Math.abs(s)<f&&(s=f,o=0<=p&&!d||p<0&&d?a-f:a+f),{size:s,base:a,head:o,center:o+s/2}},calculateBarIndexPixels:function(t,e,n){var i,r,a,o,s,l,c,u,d,h,p,f,g,m,v,_,y,b=n.scale.options,w="flex"===b.barThickness?(d=e,p=b,g=(h=n).pixels,m=g[d],v=0<d?g[d-1]:null,_=d<g.length-1?g[d+1]:null,y=p.categoryPercentage,null===v&&(v=m-(null===_?h.end-h.start:_-m)),null===_&&(_=m+m-v),f=m-(m-Math.min(v,_))/2*y,{chunk:Math.abs(_-v)/2*y/h.stackCount,ratio:p.barPercentage,start:f}):(i=e,r=n,l=(a=b).barThickness,c=r.stackCount,u=r.pixels[i],me.isNullOrUndef(l)?(o=r.min*a.categoryPercentage,s=a.barPercentage):(o=l*c,s=1),{chunk:o/c,ratio:s,start:u-o/2}),x=this.getStackIndex(t,this.getMeta().stack),k=w.start+w.chunk*x+w.chunk/2,C=Math.min(me.valueOrDefault(b.maxBarThickness,1/0),w.chunk*w.ratio);return{base:k-C/2,head:k+C/2,
center:k,size:C}},draw:function(){var t=this.chart,e=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),r=n.length,a=0;for(me.canvas.clipArea(t.ctx,t.chartArea);a<r;++a)isNaN(e.getRightValue(i.data[a]))||n[a].draw();me.canvas.unclipArea(t.ctx)},_resolveElementOptions:function(t,e){var n,i,r,a=this.chart,o=a.data.datasets[this.index],s=t.custom||{},l=a.options.elements.rectangle,c={},u={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},d=["backgroundColor","borderColor","borderSkipped","borderWidth"];for(n=0,i=d.length;n<i;++n)c[r=d[n]]=We([s[r],o[r],l[r]],u,e);return c}}),Ue=me.valueOrDefault,Ve=me.options.resolve;pe._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}});var Ye=De.extend({dataElementType:Re.Point,update:function(n){var i=this,t=i.getMeta().data;me.each(t,function(t,e){i.updateElement(t,e,n)})},updateElement:function(t,e,n){var i=this,r=i.getMeta(),a=t.custom||{},o=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveElementOptions(t,e),c=i.getDataset().data[e],u=i.index,d=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof c?c:NaN,e,u),h=n?s.getBasePixel():s.getPixelForValue(c,e,u);t._xScale=o,t._yScale=s,t._options=l,t._datasetIndex=u,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:a.skip||isNaN(d)||isNaN(h),x:d,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options,i=me.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Ue(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Ue(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Ue(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveElementOptions:function(t,e){var n,i,r,a=this.chart,o=a.data.datasets[this.index],s=t.custom||{},l=a.options.elements.point,c=o.data[e],u={},d={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},h=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(n=0,i=h.length;n<i;++n)u[r=h[n]]=Ve([s[r],o[r],l[r]],d,e);return u.radius=Ve([s.radius,c?c.r:void 0,o.radius,l.radius],d,e),u}}),Ke=me.options.resolve,Xe=me.valueOrDefault;pe._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)e.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'"></span>'),r[a]&&e.push(r[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(s){var l=s.data;return l.labels.length&&l.datasets.length?l.labels.map(function(t,e){var n=s.getDatasetMeta(0),i=l.datasets[0],r=n.data[e],a=r&&r.custom||{},o=s.options.elements.arc;return{text:t,fillStyle:Ke([a.backgroundColor,i.backgroundColor,o.backgroundColor],void 0,e),strokeStyle:Ke([a.borderColor,i.borderColor,o.borderColor],void 0,e),lineWidth:Ke([a.borderWidth,i.borderWidth,o.borderWidth],void 0,e),hidden:isNaN(i.data[e])||n.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var n,i,r,a=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a]&&(r.data[a].hidden=!r.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return me.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Qe=De.extend({dataElementType:Re.Arc,linkScales:me.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e,n,i=this,r=i.chart,a=r.chartArea,o=r.options,s=a.right-a.left,l=a.bottom-a.top,c=Math.min(s,l),u={x:0,y:0},d=i.getMeta(),h=d.data,p=o.cutoutPercentage,f=o.circumference,g=i._getRingWeight(i.index);if(f<2*Math.PI){var m=o.rotation%(2*Math.PI),v=(m+=2*Math.PI*(m>=Math.PI?-1:m<-Math.PI?1:0))+f,_={x:Math.cos(m),y:Math.sin(m)},y={x:Math.cos(v),y:Math.sin(v)},b=m<=0&&0<=v||m<=2*Math.PI&&2*Math.PI<=v,w=m<=.5*Math.PI&&.5*Math.PI<=v||m<=2.5*Math.PI&&2.5*Math.PI<=v,x=m<=-Math.PI&&-Math.PI<=v||m<=Math.PI&&Math.PI<=v,k=m<=.5*-Math.PI&&.5*-Math.PI<=v||m<=1.5*Math.PI&&1.5*Math.PI<=v,C=p/100,S={x:x?-1:Math.min(_.x*(_.x<0?1:C),y.x*(y.x<0?1:C)),y:k?-1:Math.min(_.y*(_.y<0?1:C),y.y*(y.y<0?1:C))},T={x:b?1:Math.max(_.x*(0<_.x?1:C),y.x*(0<y.x?1:C)),y:w?1:Math.max(_.y*(0<_.y?1:C),y.y*(0<y.y?1:C))},$={width:.5*(T.x-S.x),height:.5*(T.y-S.y)};c=Math.min(s/$.width,l/$.height),u={x:-.5*(T.x+S.x),y:-.5*(T.y+S.y)}}for(e=0,n=h.length;e<n;++e)h[e]._options=i._resolveElementOptions(h[e],e);for(r.borderWidth=i.getMaxBorderWidth(),r.outerRadius=Math.max((c-r.borderWidth)/2,0),r.innerRadius=Math.max(p?r.outerRadius/100*p:0,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),r.offsetX=u.x*r.outerRadius,r.offsetY=u.y*r.outerRadius,d.total=i.calculateTotal(),i.outerRadius=r.outerRadius-r.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-r.radiusLength*g,0),e=0,n=h.length;e<n;++e)i.updateElement(h[e],e,t)},updateElement:function(t,e,n){var i=this,r=i.chart,a=r.chartArea,o=r.options,s=o.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,u=o.rotation,d=o.rotation,h=i.getDataset(),p=n&&s.animateRotate?0:t.hidden?0:i.calculateCircumference(h.data[e])*(o.circumference/(2*Math.PI)),f=n&&s.animateScale?0:i.innerRadius,g=n&&s.animateScale?0:i.outerRadius,m=t._options||{};me.extend(t,{_datasetIndex:i.index,_index:e,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:l+r.offsetX,y:c+r.offsetY,startAngle:u,endAngle:d,circumference:p,outerRadius:g,innerRadius:f,label:me.valueAtIndexOrDefault(h.label,e,r.data.labels[e])}});var v=t._model;n&&s.animateRotate||(v.startAngle=0===e?o.rotation:i.getMeta().data[e-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},calculateTotal:function(){var n,i=this.getDataset(),t=this.getMeta(),r=0;return me.each(t.data,function(t,e){n=i.data[e],isNaN(n)||t.hidden||(r+=Math.abs(n))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return 0<e&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,n,i,r,a,o,s,l,c=0,u=this.chart;if(!t)for(e=0,n=u.data.datasets.length;e<n;++e)if(u.isDatasetVisible(e)){t=(i=u.getDatasetMeta(e)).data,e!==this.index&&(a=i.controller);break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)r=t[e],"inner"!==(o=a?a._resolveElementOptions(r,e):r._options).borderAlign&&(s=o.borderWidth,c=(l=o.hoverBorderWidth)>(c=c<s?s:c)?l:c);return c},setHoverStyle:function(t){var e=t._model,n=t._options,i=me.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=Xe(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Xe(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Xe(n.hoverBorderWidth,n.borderWidth)},_resolveElementOptions:function(t,e){var n,i,r,a=this.chart,o=this.getDataset(),s=t.custom||{},l=a.options.elements.arc,c={},u={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},d=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(n=0,i=d.length;n<i;++n)c[r=d[n]]=Ke([s[r],o[r],l[r]],u,e);return c},_getRingWeightOffset:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e},_getRingWeight:function(t){return Math.max(Xe(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});pe._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var Ge=qe.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Je=me.valueOrDefault,Ze=me.options.resolve,tn=me.canvas._isPointInArea;pe._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var en=De.extend({datasetElementType:Re.Line,dataElementType:Re.Point,update:function(t){var e,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.getScaleForId(r.yAxisID),l=i.getDataset(),c=F(l,i.chart.options);for(c&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=i.index,a._children=o,a._model=i._resolveLineOptions(a),a.pivot()),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(c&&0!==a._model.tension&&i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i,r,a=this,o=a.getMeta(),s=t.custom||{},l=a.getDataset(),c=a.index,u=l.data[e],d=a.getScaleForId(o.yAxisID),h=a.getScaleForId(o.xAxisID),p=o.dataset._model,f=a._resolvePointOptions(t,e);i=h.getPixelForValue("object"==typeof u?u:NaN,e,c),r=n?d.getBasePixel():a.calculatePointY(u,e,c),t._xScale=h,t._yScale=d,t._options=f,t._datasetIndex=c,t._index=e,t._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:f.radius,pointStyle:f.pointStyle,rotation:f.rotation,backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,tension:Je(s.tension,p?p.tension:0),steppedLine:!!p&&p.steppedLine,hitRadius:f.hitRadius}},_resolvePointOptions:function(t,e){var n,i,r,a=this.chart,o=a.data.datasets[this.index],s=t.custom||{},l=a.options.elements.point,c={},u={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},d={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},h=Object.keys(d);for(n=0,i=h.length;n<i;++n)c[r=h[n]]=Ze([s[r],o[d[r]],o[r],l[r]],u,e);return c},_resolveLineOptions:function(t){var e,n,i,r=this.chart,a=r.data.datasets[this.index],o=t.custom||{},s=r.options,l=s.elements.line,c={},u=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","cubicInterpolationMode"];for(e=0,n=u.length;e<n;++e)c[i=u[e]]=Ze([o[i],a[i],l[i]]);return c.spanGaps=Je(a.spanGaps,s.spanGaps),c.tension=Je(a.lineTension,l.tension),c.steppedLine=Ze([o.steppedLine,a.steppedLine,l.stepped]),c},calculatePointY:function(t,e,n){var i,r,a,o=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),c=0,u=0;if(l.options.stacked){for(i=0;i<n;i++)if(r=o.data.datasets[i],"line"===(a=o.getDatasetMeta(i)).type&&a.yAxisID===l.id&&o.isDatasetVisible(i)){var d=Number(l.getRightValue(r.data[e]));d<0?u+=d||0:c+=d||0}var h=Number(l.getRightValue(t));return h<0?l.getPixelForValue(u+h):l.getPixelForValue(c+h)}return l.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,n,i,r,a=this.chart,o=this.getMeta(),s=o.dataset._model,l=a.chartArea,c=o.data||[];if(s.spanGaps&&(c=c.filter(function(t){return!t._model.skip})),"monotone"===s.cubicInterpolationMode)me.splineCurveMonotone(c);else for(e=0,n=c.length;e<n;++e)i=c[e]._model,r=me.splineCurve(me.previousItem(c,e)._model,i,me.nextItem(c,e)._model,s.tension),i.controlPointPreviousX=r.previous.x,i.controlPointPreviousY=r.previous.y,i.controlPointNextX=r.next.x,i.controlPointNextY=r.next.y;if(a.options.elements.line.capBezierPoints)for(e=0,n=c.length;e<n;++e)i=c[e]._model,tn(i,l)&&(0<e&&tn(c[e-1]._model,l)&&(i.controlPointPreviousX=t(i.controlPointPreviousX,l.left,l.right),i.controlPointPreviousY=t(i.controlPointPreviousY,l.top,l.bottom)),e<c.length-1&&tn(c[e+1]._model,l)&&(i.controlPointNextX=t(i.controlPointNextX,l.left,l.right),i.controlPointNextY=t(i.controlPointNextY,l.top,l.bottom)))},draw:function(){var t,e=this.chart,n=this.getMeta(),i=n.data||[],r=e.chartArea,a=i.length,o=0;for(F(this.getDataset(),e.options)&&(t=(n.dataset._model.borderWidth||0)/2,me.canvas.clipArea(e.ctx,{left:r.left,right:r.right,top:r.top-t,bottom:r.bottom+t}),n.dataset.draw(),me.canvas.unclipArea(e.ctx));o<a;++o)i[o].draw(r)},setHoverStyle:function(t){var e=t._model,n=t._options,i=me.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Je(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Je(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Je(n.hoverBorderWidth,n.borderWidth),e.radius=Je(n.hoverRadius,n.radius)}}),nn=me.options.resolve;pe._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)e.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'"></span>'),r[a]&&e.push(r[a]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(o){var s=o.data;return s.labels.length&&s.datasets.length?s.labels.map(function(t,e){var n=o.getDatasetMeta(0),i=s.datasets[0],r=n.data[e].custom||{},a=o.options.elements.arc;return{text:t,fillStyle:nn([r.backgroundColor,i.backgroundColor,a.backgroundColor],void 0,e),strokeStyle:nn([r.borderColor,i.borderColor,a.borderColor],void 0,e),lineWidth:nn([r.borderWidth,i.borderWidth,a.borderWidth],void 0,e),hidden:isNaN(i.data[e])||n.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var n,i,r,a=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var rn=De.extend({dataElementType:Re.Arc,linkScales:me.noop,update:function(t){var e,n,i,r=this,a=r.getDataset(),o=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],c=r._angles=[],u=o.data;for(r._updateRadius(),o.count=r.countVisibleElements(),e=0,n=a.data.length;e<n;e++)l[e]=s,i=r._computeAngle(e),s+=c[e]=i;for(e=0,n=u.length;e<n;++e)u[e]._options=r._resolveElementOptions(u[e],e),r.updateElement(u[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top);e.outerRadius=Math.max(r/2,0),e.innerRadius=Math.max(i.cutoutPercentage?e.outerRadius/100*i.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,n){var i=this,r=i.chart,a=i.getDataset(),o=r.options,s=o.animation,l=r.scale,c=r.data.labels,u=l.xCenter,d=l.yCenter,h=o.startAngle,p=t.hidden?0:l.getDistanceFromCenterForValue(a.data[e]),f=i._starts[e],g=f+(t.hidden?0:i._angles[e]),m=s.animateScale?0:l.getDistanceFromCenterForValue(a.data[e]),v=t._options||{};me.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:u,y:d,innerRadius:0,outerRadius:n?m:p,startAngle:n&&s.animateRotate?h:f,endAngle:n&&s.animateRotate?h:g,label:me.valueAtIndexOrDefault(c,e,c[e])}}),t.pivot()},countVisibleElements:function(){var n=this.getDataset(),t=this.getMeta(),i=0;return me.each(t.data,function(t,e){isNaN(n.data[e])||t.hidden||i++}),i},setHoverStyle:function(t){var e=t._model,n=t._options,i=me.getHoverColor,r=me.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=r(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_resolveElementOptions:function(t,e){var n,i,r,a=this.chart,o=this.getDataset(),s=t.custom||{},l=a.options.elements.arc,c={},u={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},d=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(n=0,i=d.length;n<i;++n)c[r=d[n]]=nn([s[r],o[r],l[r]],u,e);return c},_computeAngle:function(t){var e=this,n=this.getMeta().count,i=e.getDataset(),r=e.getMeta();if(isNaN(i.data[t])||r.data[t].hidden)return 0;var a={chart:e.chart,dataIndex:t,dataset:i,datasetIndex:e.index};return nn([e.chart.options.elements.arc.angle,2*Math.PI/n],a,t)}});pe._set("pie",me.clone(pe.doughnut)),pe._set("pie",{cutoutPercentage:0});var an=Qe,on=me.valueOrDefault,sn=me.options.resolve;pe._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var ln=De.extend({datasetElementType:Re.Line,dataElementType:Re.Point,linkScales:me.noop,update:function(t){var e,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.chart.scale,l=i.getDataset();for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=i.index,a._children=o,a._loop=!0,a._model=i._resolveLineOptions(a),a.pivot(),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i=this,r=t.custom||{},a=i.getDataset(),o=i.chart.scale,s=o.getPointPositionForValue(e,a.data[e]),l=i._resolvePointOptions(t,e),c=i.getMeta().dataset._model,u=n?o.xCenter:s.x,d=n?o.yCenter:s.y;t._scale=o,t._options=l,t._datasetIndex=i.index,t._index=e,t._model={x:u,y:d,skip:r.skip||isNaN(u)||isNaN(d),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:on(r.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolvePointOptions:function(t,e){var n,i,r,a=this.chart,o=a.data.datasets[this.index],s=t.custom||{},l=a.options.elements.point,c={},u={chart:a,dataIndex:e,dataset:o,datasetIndex:this.index},d={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},h=Object.keys(d);for(n=0,i=h.length;n<i;++n)c[r=h[n]]=sn([s[r],o[d[r]],o[r],l[r]],u,e);return c},_resolveLineOptions:function(t){var e,n,i,r=this.chart,a=r.data.datasets[this.index],o=t.custom||{},s=r.options.elements.line,l={},c=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"];for(e=0,n=c.length;e<n;++e)l[i=c[e]]=sn([o[i],a[i],s[i]]);return l.tension=on(a.lineTension,s.tension),l},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,n,i,r,a=this.getMeta(),o=this.chart.chartArea,s=a.data||[];for(e=0,n=s.length;e<n;++e)i=s[e]._model,r=me.splineCurve(me.previousItem(s,e,!0)._model,i,me.nextItem(s,e,!0)._model,i.tension),i.controlPointPreviousX=t(r.previous.x,o.left,o.right),i.controlPointPreviousY=t(r.previous.y,o.top,o.bottom),i.controlPointNextX=t(r.next.x,o.left,o.right),i.controlPointNextY=t(r.next.y,o.top,o.bottom)},setHoverStyle:function(t){var e=t._model,n=t._options,i=me.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=on(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=on(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=on(n.hoverBorderWidth,n.borderWidth),e.radius=on(n.hoverRadius,n.radius)}});pe._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}});var cn={bar:qe,bubble:Ye,doughnut:Qe,horizontalBar:Ge,line:en,polarArea:rn,pie:an,radar:ln,scatter:en},un={modes:{single:function(t,e){var n=R(e,t),i=[];return j(t,function(t){if(t.inRange(n.x,n.y))return i.push(t),i}),i.slice(0,1)},label:W,index:W,dataset:function(t,e,n){var i=R(e,t);n.axis=n.axis||"xy";var r=z(n.axis),a=n.intersect?H(t,i):B(t,i,!1,r);return 0<a.length&&(a=t.getDatasetMeta(a[0]._datasetIndex).data),a},"x-axis":function(t,e){return W(t,e,{intersect:!1})},point:function(t,e){return H(t,R(e,t))},nearest:function(t,e,n){var i=R(e,t);n.axis=n.axis||"xy";var r=z(n.axis);return B(t,i,n.intersect,r)},x:function(t,e,n){var i=R(e,t),r=[],a=!1;return j(t,function(t){t.inXRange(i.x)&&r.push(t),t.inRange(i.x,i.y)&&(a=!0)}),n.intersect&&!a&&(r=[]),r},y:function(t,e,n){var i=R(e,t),r=[],a=!1;return j(t,function(t){t.inYRange(i.y)&&r.push(t),t.inRange(i.x,i.y)&&(a=!0)}),n.intersect&&!a&&(r=[]),r}}};pe._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var dn,hn={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,r=["fullWidth","position","weight"],a=r.length,o=0;o<a;++o)i=r[o],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(e,n,t){function i(e){var t=me.findNextWhere(T,function(t){return t.box===e});if(t)if(t.horizontal){var n={left:Math.max(S.left,m.left),right:Math.max(S.right,m.right),top:0,bottom:0};e.update(e.fullWidth?b:k,w/2,n)}else e.update(t.width,C)}function r(t){t.isHorizontal()?(t.left=t.fullWidth?s:S.left,t.right=t.fullWidth?n-l:S.left+k,t.top=I,t.bottom=I+t.height,I=t.bottom):(t.left=P,t.right=P+t.width,t.top=S.top,t.bottom=S.top+C,P=t.right)}if(e){var a=e.options.layout||{},o=me.options.toPadding(a.padding),s=o.left,l=o.right,c=o.top,u=o.bottom,d=q(e.boxes,"left"),h=q(e.boxes,"right"),p=q(e.boxes,"top"),f=q(e.boxes,"bottom"),g=q(e.boxes,"chartArea");U(d,!0),U(h,!1),U(p,!0),U(f,!1);var m,v=d.concat(h),_=p.concat(f),y=v.concat(_),b=n-s-l,w=t-c-u,x=(n-b/2)/v.length,k=b,C=w,S={top:c,left:s,bottom:u,right:l},T=[];me.each(y,function(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?b:k,w/2),C-=e.height):(e=t.update(x,C),k-=e.width),T.push({horizontal:n,width:e.width,box:t})}),E=y,F=L=N=O=0,me.each(E,function(t){if(t.getPadding){var e=t.getPadding();O=Math.max(O,e.top),N=Math.max(N,e.left),L=Math.max(L,e.bottom),F=Math.max(F,e.right)}}),m={top:O,left:N,bottom:L,right:F},me.each(v,i),V(v,S),me.each(_,i),V(_,S),me.each(v,function(e){var t=me.findNextWhere(T,function(t){return t.box===e}),n={left:0,right:0,top:S.top,bottom:S.bottom};t&&e.update(t.width,C,n)}),V(y,S={top:c,left:s,bottom:u,right:l});var $=Math.max(m.left-S.left,0);S.left+=$,S.right+=Math.max(m.right-S.right,0);var D=Math.max(m.top-S.top,0);S.top+=D,S.bottom+=Math.max(m.bottom-S.bottom,0);var A=t-S.top-S.bottom,M=n-S.left-S.right;M===k&&A===C||(me.each(v,function(t){t.height=A}),me.each(_,function(t){t.fullWidth||(t.width=M)}),C=A,k=M);var P=s+$,I=c+D;me.each(d.concat(p),r),P+=k,I+=C,me.each(h,r),me.each(f,r),e.chartArea={left:S.left,top:S.top,right:S.left+k,bottom:S.top+C},me.each(g,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(k,C)})}var E,O,N,L,F}},pn=(dn=Object.freeze({"default":"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&dn["default"]||dn,fn="$chartjs",gn="chartjs-size-monitor",mn="chartjs-render-monitor",vn="chartjs-render-animation",_n=["animationstart","webkitAnimationStart"],yn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bn=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0},wn={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){var t,e,n;this._loaded||(this._loaded=!0,this.disableCSSInjection||(e=pn,n=(t=this)._style||document.createElement("style"),t._style||(e="/* Chart.js */\n"+e,(t._style=n).setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(e))))},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return this._ensureLoaded(),n&&n.canvas===t?(function(t,e){var n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[fn]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var a=Y(t,"width");void 0!==a&&(t.width=a)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=Y(t,"height");void 0!==a&&(t.height=o)}}(t,e),n):null},releaseContext:function(t){var n=t.canvas;if(n[fn]){var i=n[fn].initial;["height","width"].forEach(function(t){var e=i[t];me.isNullOrUndef(e)?n.removeAttribute(t):n.setAttribute(t,e)}),me.each(i.style||{},function(t,e){n.style[e]=t}),n.width=n.width,delete n[fn]}},addEventListener:function(a,t,o){var e=a.canvas;if("resize"!==t){var n=o[fn]||(o[fn]={});K(e,t,(n.proxies||(n.proxies={}))[a.id+"_"+t]=function(t){var e,n,i,r;o((n=a,i=yn[(e=t).type]||e.type,r=me.getRelativePosition(e,n),Q(i,n,r.x,r.y,e)))})}else J(e,o,a)},removeEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var r=((n[fn]||{}).proxies||{})[t.id+"_"+e];r&&X(i,e,r)}else Z(i)}};me.addEvent=K,me.removeEvent=X;var xn=wn._enabled?wn:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}},kn=me.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},xn);pe._set("global",{plugins:{}});var Cn={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var n=this._plugins;[].concat(t).forEach(function(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,r,a,o,s,l=this.descriptors(t),c=l.length;for(i=0;i<c;++i)if("function"==typeof(s=(a=(r=l[i]).plugin)[e])&&((o=[t].concat(n||[])).push(r.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var i=[],r=[],n=t&&t.config||{},a=n.options&&n.options.plugins||{};return this._plugins.concat(n.plugins||[]).forEach(function(t){if(-1===i.indexOf(t)){var e=t.id,n=a[e];!1!==n&&(!0===n&&(n=me.clone(pe.global.plugins[e])),i.push(t),r.push({plugin:t,options:n||{}}))}}),e.descriptors=r,e.id=this._cacheId,r},_invalidate:function(t){delete t.$plugins}},Sn={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=me.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?me.merge({},[pe.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=me.extend(this.defaults[t],e))},addScalesToLayout:function(e){me.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,hn.addBox(e,t)})}},Tn=me.valueOrDefault;pe._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:me.noop,title:function(t,e){var n="",i=e.labels,r=i?i.length:0;if(0<t.length){var a=t[0];a.label?n=a.label:a.xLabel?n=a.xLabel:0<r&&a.index<r&&(n=i[a.index])}return n},afterTitle:me.noop,beforeBody:me.noop,beforeLabel:me.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),me.isNullOrUndef(t.value)?n+=t.yLabel:n+=t.value,n},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:me.noop,afterBody:me.noop,beforeFooter:me.noop,footer:me.noop,afterFooter:me.noop}}});var $n={average:function(t){if(!t.length)return!1;var e,n,i=0,r=0,a=0;for(e=0,n=t.length;e<n;++e){var o=t[e];if(o&&o.hasValue()){var s=o.tooltipPosition();i+=s.x,r+=s.y,++a}}return{x:i/a,y:r/a}},nearest:function(t,e){var n,i,r,a=e.x,o=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var l=t[n];if(l&&l.hasValue()){var c=l.getCenterPoint(),u=me.distanceBetweenPoints(e,c);u<s&&(s=u,r=l)}}if(r){var d=r.tooltipPosition();a=d.x,o=d.y}return{x:a,y:o}}},Dn=we.extend({initialize:function(){this._model=nt(this._options),this._lastActive=[]},getTitle:function(){var t=this._options.callbacks,e=t.beforeTitle.apply(this,arguments),n=t.title.apply(this,arguments),i=t.afterTitle.apply(this,arguments),r=[];return tt(r=tt(r=tt(r,et(e)),et(n)),et(i))},getBeforeBody:function(){return rt(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,n){var i=this,r=i._options.callbacks,a=[];return me.each(t,function(t){var e={before:[],lines:[],after:[]};tt(e.before,et(r.beforeLabel.call(i,t,n))),tt(e.lines,r.label.call(i,t,n)),tt(e.after,et(r.afterLabel.call(i,t,n))),a.push(e)}),a},getAfterBody:function(){return rt(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this._options.callbacks,e=t.beforeFooter.apply(this,arguments),n=t.footer.apply(this,arguments),i=t.afterFooter.apply(this,arguments),r=[];return tt(r=tt(r=tt(r,et(e)),et(n)),et(i))},update:function(t){var e,n,i,r,a,o,s,l,c,u,d,h,p,f,g,m,v,_,y,b,w,x,k,C=this,S=C._options,T=C._model,$=C._model=nt(S),D=C._active,A=C._data,M={xAlign:T.xAlign,yAlign:T.yAlign},P={x:T.x,y:T.y},I={width:T.width,height:T.height},E={x:T.caretX,y:T.caretY};if(D.length){$.opacity=1;var O=[],N=[];E=$n[S.position].call(C,D,C._eventPosition);var L=[];for(e=0,n=D.length;e<n;++e)L.push((u=c=l=s=o=a=r=void 0,r=(i=D[e])._xScale,a=i._yScale||i._scale,o=i._index,s=i._datasetIndex,c=(l=i._chart.getDatasetMeta(s).controller)._getIndexScale(),u=l._getValueScale(),{xLabel:r?r.getLabelForIndex(o,s):"",yLabel:a?a.getLabelForIndex(o,s):"",label:c?""+c.getLabelForIndex(o,s):"",value:u?""+u.getLabelForIndex(o,s):"",index:o,datasetIndex:s,x:i._model.x,y:i._model.y}));S.filter&&(L=L.filter(function(t){return S.filter(t,A)})),S.itemSort&&(L=L.sort(function(t,e){return S.itemSort(t,e,A)})),me.each(L,function(t){O.push(S.callbacks.labelColor.call(C,t,C._chart)),N.push(S.callbacks.labelTextColor.call(C,t,C._chart))}),$.title=C.getTitle(L,A),
$.beforeBody=C.getBeforeBody(L,A),$.body=C.getBody(L,A),$.afterBody=C.getAfterBody(L,A),$.footer=C.getFooter(L,A),$.x=E.x,$.y=E.y,$.caretPadding=S.caretPadding,$.labelColors=O,$.labelTextColors=N,$.dataPoints=L,I=function(t,e){var n=t._chart.ctx,i=2*e.yPadding,r=0,a=e.body,o=a.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);o+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,c=e.titleFontSize,u=e.bodyFontSize,d=e.footerFontSize;i+=s*c,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=o*u,i+=o?(o-1)*e.bodySpacing:0,i+=l?e.footerMarginTop:0,i+=l*d,i+=l?(l-1)*e.footerSpacing:0;var h=0,p=function(t){r=Math.max(r,n.measureText(t).width+h)};return n.font=me.fontString(c,e._titleFontStyle,e._titleFontFamily),me.each(e.title,p),n.font=me.fontString(u,e._bodyFontStyle,e._bodyFontFamily),me.each(e.beforeBody.concat(e.afterBody),p),h=e.displayColors?u+2:0,me.each(a,function(t){me.each(t.before,p),me.each(t.lines,p),me.each(t.after,p)}),h=0,n.font=me.fontString(d,e._footerFontStyle,e._footerFontFamily),me.each(e.footer,p),{width:r+=2*e.xPadding,height:i}}(this,$),d=$,p=M=function(t,e){var n,i,r,a,o,s=t._model,l=t._chart,c=t._chart.chartArea,u="center",d="center";s.y<e.height?d="top":s.y>l.height-e.height&&(d="bottom");var h=(c.left+c.right)/2,p=(c.top+c.bottom)/2;"center"===d?(n=function(t){return t<=h},i=function(t){return h<t}):(n=function(t){return t<=e.width/2},i=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},a=function(t){return t-e.width-s.caretSize-s.caretPadding<0},o=function(t){return t<=p?"top":"bottom"},n(s.x)?(u="left",r(s.x)&&(u="center",d=o(s.y))):i(s.x)&&(u="right",a(s.x)&&(u="center",d=o(s.y)));var f=t._options;return{xAlign:f.xAlign?f.xAlign:u,yAlign:f.yAlign?f.yAlign:d}}(this,h=I),f=C._chart,g=d.x,m=d.y,v=d.caretSize,_=d.caretPadding,y=d.cornerRadius,b=p.xAlign,w=p.yAlign,x=v+_,k=y+_,"right"===b?g-=h.width:"center"===b&&((g-=h.width/2)+h.width>f.width&&(g=f.width-h.width),g<0&&(g=0)),"top"===w?m+=x:m-="bottom"===w?h.height+x:h.height/2,"center"===w?"left"===b?g+=x:"right"===b&&(g-=x):"left"===b?g-=k:"right"===b&&(g+=k),P={x:g,y:m}}else $.opacity=0;return $.xAlign=M.xAlign,$.yAlign=M.yAlign,$.x=P.x,$.y=P.y,$.width=I.width,$.height=I.height,$.caretX=E.x,$.caretY=E.y,C._model=$,t&&S.custom&&S.custom.call(C,$),C},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,r=this.getCaretPosition(t,e,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(t,e,n){var i,r,a,o,s,l,c=n.caretSize,u=n.cornerRadius,d=n.xAlign,h=n.yAlign,p=t.x,f=t.y,g=e.width,m=e.height;if("center"===h)s=f+m/2,"left"===d?(r=(i=p)-c,a=i,o=s+c,l=s-c):(r=(i=p+g)+c,a=i,o=s-c,l=s+c);else if(i="left"===d?(r=p+u+c)-c:"right"===d?(r=p+g-u-c)-c:(r=n.caretX)-c,a=r+c,"top"===h)s=(o=f)-c,l=o;else{s=(o=f+m)+c,l=o;var v=a;a=i,i=v}return{x1:i,x2:r,x3:a,y1:o,y2:s,y3:l}},drawTitle:function(t,e,n){var i=e.title;if(i.length){t.x=it(e,e._titleAlign),n.textAlign=e._titleAlign,n.textBaseline="top";var r,a,o=e.titleFontSize,s=e.titleSpacing;for(n.fillStyle=e.titleFontColor,n.font=me.fontString(o,e._titleFontStyle,e._titleFontFamily),r=0,a=i.length;r<a;++r)n.fillText(i[r],t.x,t.y),t.y+=o+s,r+1===i.length&&(t.y+=e.titleMarginBottom-s)}},drawBody:function(n,i,r){var a,o=i.bodyFontSize,e=i.bodySpacing,t=i._bodyAlign,s=i.body,l=i.displayColors,c=i.labelColors,u=0,d=l?it(i,"left"):0;r.textAlign=t,r.textBaseline="top",r.font=me.fontString(o,i._bodyFontStyle,i._bodyFontFamily),n.x=it(i,t);var h=function(t){r.fillText(t,n.x+u,n.y),n.y+=o+e};r.fillStyle=i.bodyFontColor,me.each(i.beforeBody,h),u=l&&"right"!==t?"center"===t?o/2+1:o+2:0,me.each(s,function(t,e){a=i.labelTextColors[e],r.fillStyle=a,me.each(t.before,h),me.each(t.lines,function(t){l&&(r.fillStyle=i.legendColorBackground,r.fillRect(d,n.y,o,o),r.lineWidth=1,r.strokeStyle=c[e].borderColor,r.strokeRect(d,n.y,o,o),r.fillStyle=c[e].backgroundColor,r.fillRect(d+1,n.y+1,o-2,o-2),r.fillStyle=a),h(t)}),me.each(t.after,h)}),u=0,me.each(i.afterBody,h),n.y-=e},drawFooter:function(e,n,i){var t=n.footer;t.length&&(e.x=it(n,n._footerAlign),e.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top",i.fillStyle=n.footerFontColor,i.font=me.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),me.each(t,function(t){i.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(t,e,n,i){n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,n.lineWidth=e.borderWidth;var r=e.xAlign,a=e.yAlign,o=t.x,s=t.y,l=i.width,c=i.height,u=e.cornerRadius;n.beginPath(),n.moveTo(o+u,s),"top"===a&&this.drawCaret(t,i),n.lineTo(o+l-u,s),n.quadraticCurveTo(o+l,s,o+l,s+u),"center"===a&&"right"===r&&this.drawCaret(t,i),n.lineTo(o+l,s+c-u),n.quadraticCurveTo(o+l,s+c,o+l-u,s+c),"bottom"===a&&this.drawCaret(t,i),n.lineTo(o+u,s+c),n.quadraticCurveTo(o,s+c,o,s+c-u),"center"===a&&"left"===r&&this.drawCaret(t,i),n.lineTo(o,s+u),n.quadraticCurveTo(o,s,o+u,s),n.closePath(),n.fill(),0<e.borderWidth&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity,a=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(i,e,t,n),i.y+=e.yPadding,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),t.restore())}},handleEvent:function(t){var e,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===t.type?n._active=[]:n._active=n._chart.getElementsAtEventForMode(t,i.mode,i),(e=!me.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}}),An=$n,Mn=Dn;Mn.positioners=An;var Pn=me.valueOrDefault;pe._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var In=function(t,e){return this.construct(t,e),this};me.extend(In.prototype,{construct:function(t,e){var n,i,r=this;(i=(n=(n=e)||{}).data=n.data||{}).datasets=i.datasets||[],i.labels=i.labels||[],n.options=ot(pe.global,pe[n.type],n.options||{}),e=n;var a=kn.acquireContext(t,e),o=a&&a.canvas,s=o&&o.height,l=o&&o.width;r.id=me.uid(),r.ctx=a,r.canvas=o,r.config=e,r.width=l,r.height=s,r.aspectRatio=s?l/s:null,r.options=e.options,r._bufferedRender=!1,(r.chart=r).controller=r,In.instances[r.id]=r,Object.defineProperty(r,"data",{get:function(){return r.config.data},set:function(t){r.config.data=t}}),a&&o?(r.initialize(),r.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return Cn.notify(t,"beforeInit"),me.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),Cn.notify(t,"afterInit"),t},clear:function(){return me.canvas.clear(this),this},stop:function(){return Ce.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,r=n.maintainAspectRatio&&e.aspectRatio||null,a=Math.max(0,Math.floor(me.getMaximumWidth(i))),o=Math.max(0,Math.floor(r?a/r:me.getMaximumHeight(i)));if((e.width!==a||e.height!==o)&&(i.width=e.width=a,i.height=e.height=o,i.style.width=a+"px",i.style.height=o+"px",me.retinaScale(e,n.devicePixelRatio),!t)){var s={width:a,height:o};Cn.notify(e,"resize",[s]),n.onResize&&n.onResize(e,s),e.stop(),e.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;me.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),me.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var o=this,t=o.options,s=o.scales||{},e=[],l=Object.keys(s).reduce(function(t,e){return t[e]=!1,t},{});t.scales&&(e=e.concat((t.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),t.scale&&e.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),me.each(e,function(t){var e=t.options,n=e.id,i=Pn(e.type,t.dtype);st(e.position)!==st(t.dposition)&&(e.position=t.dposition),l[n]=!0;var r=null;if(n in s&&s[n].type===i)(r=s[n]).options=e,r.ctx=o.ctx,r.chart=o;else{var a=Sn.getScaleConstructor(i);if(!a)return;r=new a({id:n,type:i,options:e,ctx:o.ctx,chart:o}),s[r.id]=r}r.mergeTicksOptions(),t.isDefault&&(o.scale=r)}),me.each(l,function(t,e){t||delete s[e]}),o.scales=s,Sn.addScalesToLayout(this)},buildOrUpdateControllers:function(){var a=this,o=[];return me.each(a.data.datasets,function(t,e){var n=a.getDatasetMeta(e),i=t.type||a.config.type;if(n.type&&n.type!==i&&(a.destroyDatasetMeta(e),n=a.getDatasetMeta(e)),n.type=i,n.controller)n.controller.updateIndex(e),n.controller.linkScales();else{var r=cn[n.type];if(void 0===r)throw new Error('"'+n.type+'" is not a chart type.');n.controller=new r(a,e),o.push(n.controller)}},a),o},resetElements:function(){var n=this;me.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.reset()},n)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t,e){var n,i,r=this;if(t&&"object"==typeof t||(t={duration:t,lazy:e}),i=(n=r).options,me.each(n.scales,function(t){hn.removeBox(n,t)}),i=ot(pe.global,pe[n.config.type],i),n.options=n.config.options=i,n.ensureScalesHaveIDs(),n.buildOrUpdateScales(),n.tooltip._options=i.tooltips,n.tooltip.initialize(),Cn._invalidate(r),!1!==Cn.notify(r,"beforeUpdate")){r.tooltip._data=r.data;var a=r.buildOrUpdateControllers();me.each(r.data.datasets,function(t,e){r.getDatasetMeta(e).controller.buildOrUpdateElements()},r),r.updateLayout(),r.options.animation&&r.options.animation.duration&&me.each(a,function(t){t.reset()}),r.updateDatasets(),r.tooltip.initialize(),r.lastActive=[],Cn.notify(r,"afterUpdate"),r._bufferedRender?r._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:r.render(t)}},updateLayout:function(){!1!==Cn.notify(this,"beforeLayout")&&(hn.update(this,this.width,this.height),Cn.notify(this,"afterScaleUpdate"),Cn.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==Cn.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);Cn.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),n={meta:e,index:t};!1!==Cn.notify(this,"beforeDatasetUpdate",[n])&&(e.controller.update(),Cn.notify(this,"afterDatasetUpdate",[n]))},render:function(t,e){var n=this;t&&"object"==typeof t||(t={duration:t,lazy:e});var i=n.options.animation,r=Pn(t.duration,i&&i.duration),a=t.lazy;if(!1!==Cn.notify(n,"beforeRender")){var o=function(t){Cn.notify(n,"afterRender"),me.callback(i&&i.onComplete,[t],n)};if(i&&r){var s=new ke({numSteps:r/16.66,easing:t.easing||i.easing,render:function(t,e){var n=me.easing.effects[e.easing],i=e.currentStep,r=i/e.numSteps;t.draw(n(r),r,i)},onAnimationProgress:i.onProgress,onAnimationComplete:o});Ce.addAnimation(n,s,r,a)}else n.draw(),o(new ke({numSteps:0,chart:n}));return n}},draw:function(t){var e=this;e.clear(),me.isNullOrUndef(t)&&(t=1),e.transition(t),e.width<=0||e.height<=0||!1!==Cn.notify(e,"beforeDraw",[t])&&(me.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.drawDatasets(t),e._drawTooltip(t),Cn.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=0,n=(this.data.datasets||[]).length;e<n;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==Cn.notify(e,"beforeDatasetsDraw",[t])){for(var n=(e.data.datasets||[]).length-1;0<=n;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);Cn.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this.getDatasetMeta(t),i={meta:n,index:t,easingValue:e};!1!==Cn.notify(this,"beforeDatasetDraw",[i])&&(n.controller.draw(e),Cn.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(t){var e=this.tooltip,n={tooltip:e,easingValue:t};!1!==Cn.notify(this,"beforeTooltipDraw",[n])&&(e.draw(),Cn.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return un.modes.single(this,t)},getElementsAtEvent:function(t){return un.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return un.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=un.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return un.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,i=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);i&&(n.unbindEvents(),me.canvas.clear(n),kn.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Cn.notify(n,"destroy"),delete In.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Mn({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this,n=e._listeners={},i=function(){e.eventHandler.apply(e,arguments)};me.each(e.options.events,function(t){kn.addEventListener(e,t,i),n[t]=i}),e.options.responsive&&(i=function(){e.resize()},kn.addEventListener(e,"resize",i),n.resize=i)},unbindEvents:function(){var n=this,t=n._listeners;t&&(delete n._listeners,me.each(t,function(t,e){kn.removeEventListener(n,e,t)}))},updateHoverStyle:function(t,e,n){var i,r,a,o=n?"setHoverStyle":"removeHoverStyle";for(r=0,a=t.length;r<a;++r)(i=t[r])&&this.getDatasetMeta(i._datasetIndex).controller[o](i)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==Cn.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),Cn.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):i&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],"mouseout"===t.type?n.active=[]:n.active=n.getElementsAtEventForMode(t,r.mode,r),me.callback(i.onHover||i.hover.onHover,[t["native"],n.active],n),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(n,t["native"],n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),e=!me.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),In.instances={};var En=In;(In.Controller=In).types={},me.configMerge=ot,me.scaleMerge=at,me.extend(ct.prototype,{formats:lt,parse:lt,format:lt,add:lt,diff:lt,startOf:lt,endOf:lt,_create:function(t){return t}}),ct.override=function(t){me.extend(ct.prototype,t)};var On={_date:ct},Nn={formatters:{values:function(t){return me.isArray(t)?t:""+t},linear:function(t,e,n){var i=3<n.length?n[2]-n[1]:n[1]-n[0];1<Math.abs(i)&&t!==Math.floor(t)&&(i=t-Math.floor(t));var r=me.log10(Math.abs(i)),a="";if(0!==t)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=me.log10(Math.abs(t));a=t.toExponential(Math.floor(o)-Math.floor(r))}else{var s=-1*Math.floor(r);s=Math.max(Math.min(s,20),0),a=t.toFixed(s)}else a="0";return a},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(me.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}},Ln=me.valueOrDefault,Fn=me.valueAtIndexOrDefault;pe._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Nn.formatters.values,minor:{},major:{}}});var Rn=we.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var e in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){me.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,r,a,o,s,l,c=this;for(c.beforeUpdate(),c.maxWidth=t,c.maxHeight=e,c.margins=me.extend({left:0,right:0,top:0,bottom:0},n),c._maxLabelLines=0,c.longestLabelWidth=0,c.longestTextCache=c.longestTextCache||{},c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),s=c.buildTicks()||[],s=c.afterBuildTicks(s)||s,c.beforeTickToLabelConversion(),a=c.convertTicksToLabels(s)||c.ticks,c.afterTickToLabelConversion(),i=0,r=(c.ticks=a).length;i<r;++i)o=a[i],(l=s[i])?l.label=o:s.push(l={label:o,major:!1});return c._ticks=s,c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:function(){me.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){me.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){me.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){me.callback(this.options.beforeDataLimits,[this])},determineDataLimits:me.noop,afterDataLimits:function(){me.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){me.callback(this.options.beforeBuildTicks,[this])},buildTicks:me.noop,afterBuildTicks:function(t){var e=this;return me.isArray(t)&&t.length?me.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=me.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){me.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){me.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){me.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,n=t.options.ticks,i=ut(t._ticks),r=me.options._parseFont(n);e.font=r.string;var a=n.minRotation||0;if(i.length&&t.options.display&&t.isHorizontal())for(var o,s=me.longestText(e,r.string,i,t.longestTextCache),l=s,c=t.getPixelForTick(1)-t.getPixelForTick(0)-6;c<l&&a<n.maxRotation;){var u=me.toRadians(a);if(o=Math.cos(u),Math.sin(u)*s>t.maxHeight){a--;break}a++,l=o*s}t.labelRotation=a},afterCalculateTickRotation:function(){me.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){me.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=ut(t._ticks),i=t.options,r=i.ticks,a=i.scaleLabel,o=i.gridLines,s=t._isVisible(),l=i.position,c=t.isHorizontal(),u=me.options._parseFont,d=u(r),h=i.gridLines.tickMarkLength;if(e.width=c?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:s&&o.drawTicks?h:0,e.height=c?s&&o.drawTicks?h:0:t.maxHeight,a.display&&s){var p=u(a),f=me.options.toPadding(a.padding),g=p.lineHeight+f.height;c?e.height+=g:e.width+=g}if(r.display&&s){var m=me.longestText(t.ctx,d.string,n,t.longestTextCache),v=me.numberOfLabelLines(n),_=.5*d.size,y=t.options.ticks.padding;if(t._maxLabelLines=v,t.longestLabelWidth=m,c){var b=me.toRadians(t.labelRotation),w=Math.cos(b),x=Math.sin(b)*m+d.lineHeight*v+_;e.height=Math.min(t.maxHeight,e.height+x+y),t.ctx.font=d.string;var k,C,S=dt(t.ctx,n[0],d.string),T=dt(t.ctx,n[n.length-1],d.string),$=t.getPixelForTick(0)-t.left,D=t.right-t.getPixelForTick(n.length-1);0!==t.labelRotation?(k="bottom"===l?w*S:w*_,C="bottom"===l?w*_:w*T):(k=S/2,C=T/2),t.paddingLeft=Math.max(k-$,0)+3,t.paddingRight=Math.max(C-D,0)+3}else r.mirror?m=0:m+=y+_,e.width=Math.min(t.maxWidth,e.width+m),t.paddingTop=d.size/2,t.paddingBottom=d.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){me.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(me.isNullOrUndef(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:me.noop,getPixelForValue:me.noop,getValueForPixel:me.noop,getPixelForTick:function(t){var e=this,n=e.options.offset;if(e.isHorizontal()){var i=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(n?0:1),1),r=i*t+e.paddingLeft;return n&&(r+=i/2),e.left+r+(e.isFullWidth()?e.margins.left:0)}var a=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(a/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft;return e.left+n+(e.isFullWidth()?e.margins.left:0)}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:0<t&&0<e?t:0},_autoSkip:function(t){var e,n,i=this,r=i.isHorizontal(),a=i.options.ticks.minor,o=t.length,s=!1,l=a.maxTicksLimit,c=i._tickSize()*(o-1),u=r?i.width-(i.paddingLeft+i.paddingRight):i.height-(i.paddingTop+i.PaddingBottom),d=[];for(u<c&&(s=1+Math.floor(c/u)),l<o&&(s=Math.max(s,1+Math.floor(o/l))),e=0;e<o;e++)n=t[e],1<s&&0<e%s&&delete n.label,d.push(n);return d},_tickSize:function(){var t=this,e=t.isHorizontal(),n=t.options.ticks.minor,i=me.toRadians(t.labelRotation),r=Math.abs(Math.cos(i)),a=Math.abs(Math.sin(i)),o=n.autoSkipPadding||0,s=t.longestLabelWidth+o||0,l=me.options._parseFont(n),c=t._maxLabelLines*l.lineHeight+o||0;return e?s*a<c*r?s/r:c/a:c*a<s*r?c/r:s/a},_isVisible:function(){var t,e,n,i=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(t=0,e=i.data.datasets.length;t<e;++t)if(i.isDatasetVisible(t)&&((n=i.getDatasetMeta(t)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},draw:function($){var D=this,A=D.options;if(D._isVisible()){var t,M,P,I=D.chart,o=D.ctx,e=pe.global.defaultFontColor,s=A.ticks.minor,n=A.ticks.major||s,E=A.gridLines,i=A.scaleLabel,O=A.position,N=0!==D.labelRotation,L=s.mirror,F=D.isHorizontal(),r=me.options._parseFont,a=s.display&&s.autoSkip?D._autoSkip(D.getTicks()):D.getTicks(),l=Ln(s.fontColor,e),c=r(s),R=c.lineHeight,u=Ln(n.fontColor,e),d=r(n),j=s.padding,H=s.labelOffset,B=E.drawTicks?E.tickMarkLength:0,h=Ln(i.fontColor,e),p=r(i),f=me.options.toPadding(i.padding),z=me.toRadians(D.labelRotation),W=[],q=E.drawBorder?Fn(E.lineWidth,0,0):0,U=me._alignPixel;if("top"===O?(t=U(I,D.bottom,q),M=D.bottom-B,P=t-q/2):"bottom"===O?(t=U(I,D.top,q),M=t+q/2,P=D.top+B):"left"===O?(t=U(I,D.right,q),M=D.right-B,P=t-q/2):(t=U(I,D.left,q),M=t+q/2,P=D.left+B),me.each(a,function(t,e){if(!me.isNullOrUndef(t.label)){var n,i,r,a,o,s,l,c,u,d,h,p,f,g,m,v,_=t.label;e===D.zeroLineIndex&&A.offset===E.offsetGridLines?(n=E.zeroLineWidth,i=E.zeroLineColor,r=E.zeroLineBorderDash||[],a=E.zeroLineBorderDashOffset||0):(n=Fn(E.lineWidth,e),i=Fn(E.color,e),r=E.borderDash||[],a=E.borderDashOffset||0);var y=me.isArray(_)?_.length:1,b=(k=D,C=e,S=E.offsetGridLines,T=k.getPixelForTick(C),S&&(1===k.getTicks().length?T-=k.isHorizontal()?Math.max(T-k.left,k.right-T):Math.max(T-k.top,k.bottom-T):T-=0===C?(k.getPixelForTick(1)-T)/2:(T-k.getPixelForTick(C-1))/2),T);if(F){var w=B+j;b<D.left-1e-7&&(i="rgba(0,0,0,0)"),o=l=u=h=U(I,b,n),s=M,c=P,f=D.getPixelForTick(e)+H,"top"===O?(d=U(I,$.top,q)+q/2,p=$.bottom,m=((N?1:.5)-y)*R,v=N?"left":"center",g=D.bottom-w):(d=$.top,p=U(I,$.bottom,q)-q/2,m=(N?0:.5)*R,v=N?"right":"center",g=D.top+w)}else{var x=(L?0:B)+j;b<D.top-1e-7&&(i="rgba(0,0,0,0)"),o=M,l=P,s=c=d=p=U(I,b,n),g=D.getPixelForTick(e)+H,m=(1-y)*R/2,"left"===O?(u=U(I,$.left,q)+q/2,h=$.right,v=L?"left":"right",f=D.right-x):(u=$.left,h=U(I,$.right,q)-q/2,v=L?"right":"left",f=D.left+x)}W.push({tx1:o,ty1:s,tx2:l,ty2:c,x1:u,y1:d,x2:h,y2:p,labelX:f,labelY:g,glWidth:n,glColor:i,glBorderDash:r,glBorderDashOffset:a,rotation:-1*z,label:_,major:t.major,textOffset:m,textAlign:v})}var k,C,S,T}),me.each(W,function(t){var e=t.glWidth,n=t.glColor;if(E.display&&e&&n&&(o.save(),o.lineWidth=e,o.strokeStyle=n,o.setLineDash&&(o.setLineDash(t.glBorderDash),o.lineDashOffset=t.glBorderDashOffset),o.beginPath(),E.drawTicks&&(o.moveTo(t.tx1,t.ty1),o.lineTo(t.tx2,t.ty2)),E.drawOnChartArea&&(o.moveTo(t.x1,t.y1),o.lineTo(t.x2,t.y2)),o.stroke(),o.restore()),s.display){o.save(),o.translate(t.labelX,t.labelY),o.rotate(t.rotation),o.font=t.major?d.string:c.string,o.fillStyle=t.major?u:l,o.textBaseline="middle",o.textAlign=t.textAlign;var i=t.label,r=t.textOffset;if(me.isArray(i))for(var a=0;a<i.length;++a)o.fillText(""+i[a],0,r),r+=R;else o.fillText(i,0,r);o.restore()}}),i.display){var g,m,v=0,_=p.lineHeight/2;if(F)g=D.left+(D.right-D.left)/2,m="bottom"===O?D.bottom-_-f.bottom:D.top+_+f.top;else{var y="left"===O;g=y?D.left+_+f.top:D.right-_-f.top,m=D.top+(D.bottom-D.top)/2,v=y?-.5*Math.PI:.5*Math.PI}o.save(),o.translate(g,m),o.rotate(v),o.textAlign="center",o.textBaseline="middle",o.fillStyle=h,o.font=p.string,o.fillText(i.labelString,0,0),o.restore()}if(q){var b,w,x,k,C=q,S=Fn(E.lineWidth,a.length-1,0);F?(b=U(I,D.left,C)-C/2,w=U(I,D.right,S)+S/2,x=k=t):(x=U(I,D.top,C)-C/2,k=U(I,D.bottom,S)+S/2,b=w=t),o.lineWidth=q,o.strokeStyle=Fn(E.color,0),o.beginPath(),o.moveTo(b,x),o.lineTo(w,k),o.stroke()}}}}),jn=Rn.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,n=e.getLabels();e.minIndex=0,e.maxIndex=n.length-1,void 0!==e.options.ticks.min&&(t=n.indexOf(e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),void 0!==e.options.ticks.max&&(t=n.indexOf(e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=n[e.minIndex],e.max=n[e.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart;return i.getDatasetMeta(e).controller._getValueScaleId()===n.id?n.getRightValue(i.data.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e){var n,i=this,r=i.options.offset,a=Math.max(i.maxIndex+1-i.minIndex-(r?0:1),1);if(null!=t&&(n=i.isHorizontal()?t.x:t.y),void 0!==n||void 0!==t&&isNaN(e)){t=n||t;var o=i.getLabels().indexOf(t);e=-1!==o?o:e}if(i.isHorizontal()){var s=i.width/a,l=s*(e-i.minIndex);return r&&(l+=s/2),i.left+l}var c=i.height/a,u=c*(e-i.minIndex);return r&&(u+=c/2),i.top+u},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,n=e.options.offset,i=Math.max(e._ticks.length-(n?0:1),1),r=e.isHorizontal(),a=(r?e.width:e.height)/i;return t-=r?e.left:e.top,n&&(t-=a/2),(t<=0?0:Math.round(t/a))+e.minIndex},getBasePixel:function(){return this.bottom}}),Hn={position:"bottom"};jn._defaults=Hn;var Bn=me.noop,zn=me.isNullOrUndef,Wn=Rn.extend({getRightValue:function(t){return"string"==typeof t?+t:Rn.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=me.sign(t.min),i=me.sign(t.max);n<0&&i<0?t.max=0:0<n&&0<i&&(t.min=0)}var r=void 0!==e.min||void 0!==e.suggestedMin,a=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),r!==a&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this.options.ticks,n=e.stepSize,i=e.maxTicksLimit;return n?t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(t=this._computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Bn,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,precision:e.precision,stepSize:me.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=function(t,e){var n,i,r,a,o=[],s=t.stepSize,l=s||1,c=t.maxTicks-1,u=t.min,d=t.max,h=t.precision,p=e.min,f=e.max,g=me.niceNum((f-p)/c/l)*l;if(g<1e-14&&zn(u)&&zn(d))return[p,f];(a=Math.ceil(f/g)-Math.floor(p/g))>c&&(g=me.niceNum(a*g/c/l)*l),s||zn(h)?n=Math.pow(10,me._decimalPlaces(g)):(n=Math.pow(10,h),g=Math.ceil(g*n)/n),i=Math.floor(p/g)*g,r=Math.ceil(f/g)*g,s&&(!zn(u)&&me.almostWhole(u/g,g/1e3)&&(i=u),!zn(d)&&me.almostWhole(d/g,g/1e3)&&(r=d)),a=(r-i)/g,a=me.almostEquals(a,Math.round(a),g/1e3)?Math.round(a):Math.ceil(a),i=Math.round(i*n)/n,r=Math.round(r*n)/n,o.push(zn(u)?i:u);for(var m=1;m<a;++m)o.push(Math.round((i+m*g)*n)/n);return o.push(zn(d)?r:d),o}(i,t);t.handleDirectionalChanges(),t.max=me.max(r),t.min=me.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),Rn.prototype.convertTicksToLabels.call(t)}}),qn={position:"left",ticks:{callback:Nn.formatters.linear}},Un=Wn.extend({determineDataLimits:function(){function o(t){return e?t.xAxisID===s.id:t.yAxisID===s.id}var s=this,l=s.options,c=s.chart,t=c.data.datasets,e=s.isHorizontal();s.min=null,s.max=null;var i=l.stacked;if(void 0===i&&me.each(t,function(t,e){if(!i){var n=c.getDatasetMeta(e);c.isDatasetVisible(e)&&o(n)&&void 0!==n.stack&&(i=!0)}}),l.stacked||i){var u={};me.each(t,function(t,e){var i=c.getDatasetMeta(e),n=[i.type,void 0===l.stacked&&void 0===i.stack?e:"",i.stack].join(".");void 0===u[n]&&(u[n]={positiveValues:[],negativeValues:[]});var r=u[n].positiveValues,a=u[n].negativeValues;c.isDatasetVisible(e)&&o(i)&&me.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||(r[e]=r[e]||0,a[e]=a[e]||0,l.relativePoints?r[e]=100:n<0?a[e]+=n:r[e]+=n)})}),me.each(u,function(t){var e=t.positiveValues.concat(t.negativeValues),n=me.min(e),i=me.max(e);s.min=null===s.min?n:Math.min(s.min,n),s.max=null===s.max?i:Math.max(s.max,i)})}else me.each(t,function(t,e){var i=c.getDatasetMeta(e);c.isDatasetVisible(e)&&o(i)&&me.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||(null===s.min?s.min=n:n<s.min&&(s.min=n),null===s.max?s.max=n:n>s.max&&(s.max=n))})});s.min=isFinite(s.min)&&!isNaN(s.min)?s.min:0,s.max=isFinite(s.max)&&!isNaN(s.max)?s.max:1,this.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=me.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},
getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this,n=e.start,i=+e.getRightValue(t),r=e.end-n;return e.isHorizontal()?e.left+e.width/r*(i-n):e.bottom-e.height/r*(i-n)},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=n?e.width:e.height,r=(n?t-e.left:e.bottom-t)/i;return e.start+(e.end-e.start)*r},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}}),Vn=qn;Un._defaults=Vn;var Yn=me.valueOrDefault,Kn={position:"left",ticks:{callback:Nn.formatters.logarithmic}},Xn=Rn.extend({determineDataLimits:function(){function o(t){return e?t.xAxisID===s.id:t.yAxisID===s.id}var s=this,n=s.options,l=s.chart,t=l.data.datasets,e=s.isHorizontal();s.min=null,s.max=null,s.minNotZero=null;var i=n.stacked;if(void 0===i&&me.each(t,function(t,e){if(!i){var n=l.getDatasetMeta(e);l.isDatasetVisible(e)&&o(n)&&void 0!==n.stack&&(i=!0)}}),n.stacked||i){var c={};me.each(t,function(t,e){var r=l.getDatasetMeta(e),a=[r.type,void 0===n.stacked&&void 0===r.stack?e:"",r.stack].join(".");l.isDatasetVisible(e)&&o(r)&&(void 0===c[a]&&(c[a]=[]),me.each(t.data,function(t,e){var n=c[a],i=+s.getRightValue(t);isNaN(i)||r.data[e].hidden||i<0||(n[e]=n[e]||0,n[e]+=i)}))}),me.each(c,function(t){if(0<t.length){var e=me.min(t),n=me.max(t);s.min=null===s.min?e:Math.min(s.min,e),s.max=null===s.max?n:Math.max(s.max,n)}})}else me.each(t,function(t,e){var i=l.getDatasetMeta(e);l.isDatasetVisible(e)&&o(i)&&me.each(t.data,function(t,e){var n=+s.getRightValue(t);isNaN(n)||i.data[e].hidden||n<0||(null===s.min?s.min=n:n<s.min&&(s.min=n),null===s.max?s.max=n:n>s.max&&(s.max=n),0!==n&&(null===s.minNotZero||n<s.minNotZero)&&(s.minNotZero=n))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=ht(e.min,t.min),t.max=ht(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(me.log10(t.min))-1),t.max=Math.pow(10,Math.floor(me.log10(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(me.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(me.log10(t.min))+1):10),null===t.minNotZero&&(0<t.min?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(me.log10(t.max))):t.minNotZero=1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i={min:ht(e.min),max:ht(e.max)},r=t.ticks=function(t,e){var n,i,r=[],a=Yn(t.min,Math.pow(10,Math.floor(me.log10(e.min)))),o=Math.floor(me.log10(e.max)),s=Math.ceil(e.max/Math.pow(10,o));0===a?(n=Math.floor(me.log10(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),r.push(a),a=i*Math.pow(10,n)):(n=Math.floor(me.log10(a)),i=Math.floor(a/Math.pow(10,n)));for(var l=n<0?Math.pow(10,Math.abs(n)):1;r.push(a),10==++i&&(i=1,l=0<=++n?1:l),a=Math.round(i*Math.pow(10,n)*l)/l,n<o||n===o&&i<s;);var c=Yn(t.max,a);return r.push(c),r}(i,t);t.max=me.max(r),t.min=me.min(r),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Rn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(me.log10(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},getPixelForValue:function(t){var e,n,i,r,a,o=this,s=o.options.ticks,l=s.reverse,c=me.log10,u=o._getFirstTickValue(o.minNotZero),d=0;return t=+o.getRightValue(t),l?(i=o.end,r=o.start,a=-1):(i=o.start,r=o.end,a=1),o.isHorizontal()?(e=o.width,n=l?o.right:o.left):(e=o.height,a*=-1,n=l?o.top:o.bottom),t!==i&&(0===i&&(e-=d=Yn(s.fontSize,pe.global.defaultFontSize),i=u),0!==t&&(d+=e/(c(r)-c(i))*(c(t)-c(i))),n+=a*d),n},getValueForPixel:function(t){var e,n,i,r,a=this,o=a.options.ticks,s=o.reverse,l=me.log10,c=a._getFirstTickValue(a.minNotZero);if(s?(n=a.end,i=a.start):(n=a.start,i=a.end),a.isHorizontal()?(e=a.width,r=s?a.right-t:t-a.left):(e=a.height,r=s?t-a.top:a.bottom-t),r!==n){if(0===n){var u=Yn(o.fontSize,pe.global.defaultFontSize);r-=u,e-=u,n=c}r*=l(i)-l(n),r/=e,r=Math.pow(10,l(n)+r)}return r}}),Qn=Kn;Xn._defaults=Qn;var Gn=me.valueOrDefault,Jn=me.valueAtIndexOrDefault,Zn=me.options.resolve,ti={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Nn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},ei=Wn.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=ft(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var r=this,n=r.chart,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;me.each(n.data.datasets,function(t,e){if(n.isDatasetVisible(e)){var i=n.getDatasetMeta(e);me.each(t.data,function(t,e){var n=+r.getRightValue(t);isNaN(n)||i.data[e].hidden||(a=Math.min(n,a),o=Math.max(n,o))})}}),r.min=a===Number.POSITIVE_INFINITY?0:a,r.max=o===Number.NEGATIVE_INFINITY?0:o,r.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/ft(this.options))},convertTicksToLabels:function(){var t=this;Wn.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var e,n,i,r=me.options._parseFont(t.options.pointLabels),a={l:0,r:t.width,t:0,b:t.height-t.paddingTop},o={};t.ctx.font=r.string,t._pointLabelSizes=[];var s,l,c,u=pt(t);for(e=0;e<u;e++){i=t.getPointPosition(e,t.drawingArea+5),s=t.ctx,l=r.lineHeight,c=t.pointLabels[e]||"",n=me.isArray(c)?{w:me.longestText(s,s.font,c),h:c.length*l}:{w:s.measureText(c).width,h:l},t._pointLabelSizes[e]=n;var d=t.getIndexAngle(e),h=me.toDegrees(d)%360,p=gt(h,i.x,n.w,0,180),f=gt(h,i.y,n.h,90,270);p.start<a.l&&(a.l=p.start,o.l=d),p.end>a.r&&(a.r=p.end,o.r=d),f.start<a.t&&(a.t=f.start,o.t=d),f.end>a.b&&(a.b=f.end,o.b=d)}t.setReductions(t.drawingArea,a,o)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(t,e,n){var i=this,r=e.l/Math.sin(n.l),a=Math.max(e.r-i.width,0)/Math.sin(n.r),o=-e.t/Math.cos(n.t),s=-Math.max(e.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=yt(r),a=yt(a),o=yt(o),s=yt(s),i.drawingArea=Math.min(Math.floor(t-(r+a)/2),Math.floor(t-(o+s)/2)),i.setCenterPoint(r,a,o,s)},setCenterPoint:function(t,e,n,i){var r=this,a=r.width-e-r.drawingArea,o=t+r.drawingArea,s=n+r.drawingArea,l=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((o+a)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)},getIndexAngle:function(t){return t*(2*Math.PI/pt(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this.min,e=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:t<0&&e<0?e:0<t&&0<e?t:0)},draw:function(){var a=this,t=a.options,o=t.gridLines,s=t.ticks;if(t.display){var l=a.ctx,c=this.getIndexAngle(0),u=me.options._parseFont(s);(t.angleLines.display||t.pointLabels.display)&&function(t){var e=t.ctx,n=t.options,i=n.angleLines,r=n.gridLines,a=n.pointLabels,o=Gn(i.lineWidth,r.lineWidth),s=Gn(i.color,r.color),l=ft(n);e.save(),e.lineWidth=o,e.strokeStyle=s,e.setLineDash&&(e.setLineDash(Zn([i.borderDash,r.borderDash,[]])),e.lineDashOffset=Zn([i.borderDashOffset,r.borderDashOffset,0]));var c=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),u=me.options._parseFont(a);e.font=u.string,e.textBaseline="middle";for(var d=pt(t)-1;0<=d;d--){if(i.display&&o&&s){var h=t.getPointPosition(d,c);e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(h.x,h.y),e.stroke()}if(a.display){var p=0===d?l/2:0,f=t.getPointPosition(d,c+p+5),g=Jn(a.fontColor,d,pe.global.defaultFontColor);e.fillStyle=g;var m=t.getIndexAngle(d),v=me.toDegrees(m);e.textAlign=mt(v),_t(v,t._pointLabelSizes[d],f),vt(e,t.pointLabels[d]||"",f,u.lineHeight)}}e.restore()}(a),me.each(a.ticks,function(t,e){if(0<e||s.reverse){var n=a.getDistanceFromCenterForValue(a.ticksAsNumbers[e]);if(o.display&&0!==e&&function(t,e,n,i){var r,a=t.ctx,o=e.circular,s=pt(t),l=Jn(e.color,i-1),c=Jn(e.lineWidth,i-1);if((o||s)&&l&&c){if(a.save(),a.strokeStyle=l,a.lineWidth=c,a.setLineDash&&(a.setLineDash(e.borderDash||[]),a.lineDashOffset=e.borderDashOffset||0),a.beginPath(),o)a.arc(t.xCenter,t.yCenter,n,0,2*Math.PI);else{r=t.getPointPosition(0,n),a.moveTo(r.x,r.y);for(var u=1;u<s;u++)r=t.getPointPosition(u,n),a.lineTo(r.x,r.y)}a.closePath(),a.stroke(),a.restore()}}(a,o,n,e),s.display){var i=Gn(s.fontColor,pe.global.defaultFontColor);if(l.font=u.string,l.save(),l.translate(a.xCenter,a.yCenter),l.rotate(c),s.showLabelBackdrop){var r=l.measureText(t).width;l.fillStyle=s.backdropColor,l.fillRect(-r/2-s.backdropPaddingX,-n-u.size/2-s.backdropPaddingY,r+2*s.backdropPaddingX,u.size+2*s.backdropPaddingY)}l.textAlign="center",l.textBaseline="middle",l.fillStyle=i,l.fillText(t,0,-n),l.restore()}}})}}}),ni=ti;ei._defaults=ni;var ii=me.valueOrDefault,ri=Number.MIN_SAFE_INTEGER||-9007199254740991,ai=Number.MAX_SAFE_INTEGER||9007199254740991,oi={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},si=Object.keys(oi),li=Rn.extend({initialize:function(){this.mergeTicksOptions(),Rn.prototype.initialize.call(this)},update:function(){var t=this.options,e=t.time||(t.time={}),n=this._adapter=new On._date(t.adapters.date);return e.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),me.mergeIf(e.displayFormats,n.formats()),Rn.prototype.update.apply(this,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),Rn.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,r,a,o=this,s=o.chart,l=o._adapter,c=o.options.time,u=c.unit||"day",d=ai,h=ri,p=[],f=[],g=[],m=s.data.labels||[];for(t=0,n=m.length;t<n;++t)g.push(Ct(o,m[t]));for(t=0,n=(s.data.datasets||[]).length;t<n;++t)if(s.isDatasetVisible(t))if(r=s.data.datasets[t].data,me.isObject(r[0]))for(f[t]=[],e=0,i=r.length;e<i;++e)a=Ct(o,r[e]),p.push(a),f[t][e]=a;else{for(e=0,i=g.length;e<i;++e)p.push(g[e]);f[t]=g.slice(0)}else f[t]=[];g.length&&(g=wt(g).sort(bt),d=Math.min(d,g[0]),h=Math.max(h,g[g.length-1])),p.length&&(p=wt(p).sort(bt),d=Math.min(d,p[0]),h=Math.max(h,p[p.length-1])),d=Ct(o,c.min)||d,h=Ct(o,c.max)||h,d=d===ai?+l.startOf(Date.now(),u):d,h=h===ri?+l.endOf(Date.now(),u)+1:h,o.min=Math.min(d,h),o.max=Math.max(d+1,h),o._horizontal=o.isHorizontal(),o._table=[],o._timestamps={data:p,datasets:f,labels:g}},buildTicks:function(){var t,e,n,i,r,a,o,s,l,c,u=this,d=u.min,h=u.max,p=u.options,f=p.time,g=[],m=[];switch(p.ticks.source){case"data":g=u._timestamps.data;break;case"labels":g=u._timestamps.labels;break;case"auto":default:g=Tt(u,d,h,u.getLabelCapacity(d))}for("ticks"===p.bounds&&g.length&&(d=g[0],h=g[g.length-1]),d=Ct(u,f.min)||d,h=Ct(u,f.max)||h,t=0,e=g.length;t<e;++t)(n=g[t])>=d&&n<=h&&m.push(n);return u.min=d,u.max=h,u._unit=f.unit||function(t,e,n,i,r){var a,o;for(a=si.length-1;a>=si.indexOf(n);a--)if(o=si[a],oi[o].common&&t._adapter.diff(r,i,o)>=e.length)return o;return si[n?si.indexOf(n):0]}(u,m,f.minUnit,u.min,u.max),u._majorUnit=St(u._unit),u._table=function(t,e,n){if("linear"===p.distribution||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var i,r,a,o,s,l=[],c=[e];for(i=0,r=t.length;i<r;++i)(o=t[i])>e&&o<n&&c.push(o);for(c.push(n),i=0,r=c.length;i<r;++i)s=c[i+1],a=c[i-1],o=c[i],void 0!==a&&void 0!==s&&Math.round((s+a)/2)===o||l.push({time:o,pos:i/(r-1)});return l}(u._timestamps.data,d,h),u._offsets=(i=u._table,r=m,c=l=0,(a=p).offset&&r.length&&(a.time.min||(o=xt(i,"time",r[0],"pos"),l=1===r.length?1-o:(xt(i,"time",r[1],"pos")-o)/2),a.time.max||(s=xt(i,"time",r[r.length-1],"pos"),c=1===r.length?s:(s-xt(i,"time",r[r.length-2],"pos"))/2)),{start:l,end:c}),p.ticks.reverse&&m.reverse(),function(t,e,n){var i,r,a,o,s=[];for(i=0,r=e.length;i<r;++i)a=e[i],o=!!n&&a===+t._adapter.startOf(a,n),s.push({value:a,major:o});return s}(u,m,u._majorUnit)},getLabelForIndex:function(t,e){var n=this,i=n._adapter,r=n.chart.data,a=n.options.time,o=r.labels&&t<r.labels.length?r.labels[t]:"",s=r.datasets[e].data[t];return me.isObject(s)&&(o=n.getRightValue(s)),a.tooltipFormat?i.format(kt(n,o),a.tooltipFormat):"string"==typeof o?o:i.format(kt(n,o),a.displayFormats.datetime)},tickFormatFunction:function(t,e,n,i){var r=this._adapter,a=this.options,o=a.time.displayFormats,s=o[this._unit],l=this._majorUnit,c=o[l],u=+r.startOf(t,l),d=a.ticks.major,h=d.enabled&&l&&c&&t===u,p=r.format(t,i||(h?c:s)),f=h?d:a.ticks.minor,g=ii(f.callback,f.userCallback);return g?g(p,e,n):p},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(t[e].value,e,t));return i},getPixelForOffset:function(t){var e=this,n=e.options.ticks.reverse,i=e._horizontal?e.width:e.height,r=e._horizontal?n?e.right:e.left:n?e.bottom:e.top,a=xt(e._table,"time",t,"pos"),o=i*(e._offsets.start+a)/(e._offsets.start+1+e._offsets.end);return n?r-o:r+o},getPixelForValue:function(t,e,n){var i=null;if(void 0!==e&&void 0!==n&&(i=this._timestamps.datasets[n][e]),null===i&&(i=Ct(this,t)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(t){var e=this.getTicks();return 0<=t&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,r=(n?(t-i)/n:0)*(e._offsets.start+1+e._offsets.start)-e._offsets.end,a=xt(e._table,"pos",r,"time");return e._adapter._create(a)},getLabelWidth:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,i=me.toRadians(e.maxRotation),r=Math.cos(i),a=Math.sin(i);return n*r+ii(e.fontSize,pe.global.defaultFontSize)*a},getLabelCapacity:function(t){var e=this,n=e.options.time.displayFormats.millisecond,i=e.tickFormatFunction(t,0,[],n),r=e.getLabelWidth(i),a=e.isHorizontal()?e.width:e.height,o=Math.floor(a/r);return 0<o?o:1}}),ci={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};li._defaults=ci;var ui={category:jn,linear:Un,logarithmic:Xn,radialLinear:ei,time:li},di={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};On._date.override("function"==typeof i?{_id:"moment",formats:function(){return di},parse:function(t,e){return"string"==typeof t&&"string"==typeof e?t=i(t,e):t instanceof i||(t=i(t)),t.isValid()?t.valueOf():null},format:function(t,e){return i(t).format(e)},add:function(t,e,n){return i(t).add(e,n).valueOf()},diff:function(t,e,n){return i.duration(i(t).diff(i(e))).as(n)},startOf:function(t,e,n){return t=i(t),"isoWeek"===e?t.isoWeekday(n).valueOf():t.startOf(e).valueOf()},endOf:function(t,e){return i(t).endOf(e).valueOf()},_create:function(t){return i(t)}}:{}),pe._set("global",{plugins:{filler:{propagate:!0}}});var hi={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),r=i&&n.isDatasetVisible(e)&&i.dataset._children||[],a=r.length||0;return a?function(t,e){return e<a&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}},pi={id:"filler",afterDatasetsUpdate:function(t,e){var n,i,r,a,o=(t.data.datasets||[]).length,s=e.propagate,l=[];for(i=0;i<o;++i)a=null,(r=(n=t.getDatasetMeta(i)).dataset)&&r._model&&r instanceof Re.Line&&(a={visible:t.isDatasetVisible(i),fill:$t(r,i,o),chart:t,el:r}),n.$filler=a,l.push(a);for(i=0;i<o;++i)(a=l[i])&&(a.fill=At(l,i,s),a.boundary=Dt(a),a.mapper=Mt(a))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var i=t.ctx,r=n.el,a=r._view,o=r._children||[],s=n.mapper,l=a.backgroundColor||pe.global.defaultColor;s&&l&&o.length&&(me.canvas.clipArea(i,t.chartArea),function(t,e,n,i,r,a){var o,s,l,c,u,d,h,p=e.length,f=i.spanGaps,g=[],m=[],v=0,_=0;for(t.beginPath(),o=0,s=p+!!a;o<s;++o)u=n(c=e[l=o%p]._view,l,i),d=Pt(c),h=Pt(u),d&&h?(v=g.push(c),_=m.push(u)):v&&_&&(f?(d&&g.push(c),h&&m.push(u)):(It(t,g,m,v,_),v=_=0,g=[],m=[]));It(t,g,m,v,_),t.closePath(),t.fillStyle=r,t.fill()}(i,o,s,a,l,r._loop),me.canvas.unclipArea(i))}}},fi=me.noop,gi=me.valueOrDefault;pe._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(n){var t=n.data;return me.isArray(t.datasets)?t.datasets.map(function(t,e){return{text:t.label,fillStyle:me.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!n.isDatasetVisible(e),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:e}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var mi=we.extend({initialize:function(t){me.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:fi,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:fi,beforeSetDimensions:fi,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:fi,beforeBuildLabels:fi,buildLabels:function(){var e=this,n=e.options.labels||{},t=me.callback(n.generateLabels,[e.chart],e)||[];n.filter&&(t=t.filter(function(t){return n.filter(t,e.chart.data)})),e.options.reverse&&t.reverse(),e.legendItems=t},afterBuildLabels:fi,beforeFit:fi,fit:function(){var t=this,e=t.options,i=e.labels,n=e.display,r=t.ctx,a=me.options._parseFont(i),o=a.size,s=t.legendHitBoxes=[],l=t.minSize,c=t.isHorizontal();if(c?(l.width=t.maxWidth,l.height=n?10:0):(l.width=n?10:0,l.height=t.maxHeight),n)if(r.font=a.string,c){var u=t.lineWidths=[0],d=0;r.textAlign="left",r.textBaseline="top",me.each(t.legendItems,function(t,e){var n=Et(i,o)+o/2+r.measureText(t.text).width;(0===e||u[u.length-1]+n+i.padding>l.width)&&(d+=o+i.padding,u[u.length-(0<e?0:1)]=i.padding),s[e]={left:0,top:0,width:n,height:o},u[u.length-1]+=n+i.padding}),l.height+=d}else{var h=i.padding,p=t.columnWidths=[],f=i.padding,g=0,m=0,v=o+h;me.each(t.legendItems,function(t,e){var n=Et(i,o)+o/2+r.measureText(t.text).width;0<e&&m+v>l.height-h&&(f+=g+i.padding,p.push(g),m=g=0),g=Math.max(g,n),m+=v,s[e]={left:0,top:0,width:n,height:o}}),f+=g,p.push(g),l.width+=f}t.width=l.width,t.height=l.height},afterFit:fi,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var d=this,h=d.options,p=h.labels,t=pe.global,f=t.defaultColor,g=t.elements.line,m=d.width,v=d.lineWidths;if(h.display){var _,y=d.ctx,e=gi(p.fontColor,t.defaultFontColor),n=me.options._parseFont(p),b=n.size;y.textAlign="left",y.textBaseline="middle",y.lineWidth=.5,y.strokeStyle=e,y.fillStyle=e,y.font=n.string;var w=Et(p,b),x=d.legendHitBoxes,k=d.isHorizontal();_=k?{x:d.left+(m-v[0])/2+p.padding,y:d.top+p.padding,line:0}:{x:d.left+p.padding,y:d.top+p.padding,line:0};var C=b+p.padding;me.each(d.legendItems,function(t,e){var n,i,r,a,o,s=y.measureText(t.text).width,l=w+b/2+s,c=_.x,u=_.y;k?0<e&&c+l+p.padding>d.left+d.minSize.width&&(u=_.y+=C,_.line++,c=_.x=d.left+(m-v[_.line])/2+p.padding):0<e&&u+C>d.top+d.minSize.height&&(c=_.x=c+d.columnWidths[_.line]+p.padding,u=_.y=d.top+p.padding,_.line++),function(t,e,n){if(!(isNaN(w)||w<=0)){y.save();var i=gi(n.lineWidth,g.borderWidth);if(y.fillStyle=gi(n.fillStyle,f),y.lineCap=gi(n.lineCap,g.borderCapStyle),y.lineDashOffset=gi(n.lineDashOffset,g.borderDashOffset),y.lineJoin=gi(n.lineJoin,g.borderJoinStyle),y.lineWidth=i,y.strokeStyle=gi(n.strokeStyle,f),y.setLineDash&&y.setLineDash(gi(n.lineDash,g.borderDash)),h.labels&&h.labels.usePointStyle){var r=w*Math.SQRT2/2,a=t+w/2,o=e+b/2;me.canvas.drawPoint(y,n.pointStyle,r,a,o)}else 0!==i&&y.strokeRect(t,e,w,b),y.fillRect(t,e,w,b);y.restore()}}(c,u,t),x[e].left=c,x[e].top=u,n=t,i=s,a=w+(r=b/2)+c,o=u+r,y.fillText(n.text,a,o),n.hidden&&(y.beginPath(),y.lineWidth=2,y.moveTo(a,o),y.lineTo(a+i,o),y.stroke()),k?_.x+=l+p.padding:_.y+=C})}},_getLegendItemAt:function(t,e){var n,i,r,a=this;if(t>=a.left&&t<=a.right&&e>=a.top&&e<=a.bottom)for(r=a.legendHitBoxes,n=0;n<r.length;++n)if(t>=(i=r[n]).left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height)return a.legendItems[n];return null},handleEvent:function(t){var e,n=this,i=n.options,r="mouseup"===t.type?"click":t.type;if("mousemove"===r){if(!i.onHover&&!i.onLeave)return}else{if("click"!==r)return;if(!i.onClick)return}e=n._getLegendItemAt(t.x,t.y),"click"===r?e&&i.onClick&&i.onClick.call(n,t["native"],e):(i.onLeave&&e!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,t["native"],n._hoveredItem),n._hoveredItem=e),i.onHover&&e&&i.onHover.call(n,t["native"],e))}}),vi={id:"legend",_element:mi,beforeInit:function(t){var e=t.options.legend;e&&Ot(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(me.mergeIf(e,pe.global.legend),n?(hn.configure(t,n,e),n.options=e):Ot(t,e)):n&&(hn.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}},_i=me.noop;pe._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var yi=we.extend({initialize:function(t){me.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:_i,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:_i,beforeSetDimensions:_i,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:_i,beforeBuildLabels:_i,buildLabels:_i,afterBuildLabels:_i,beforeFit:_i,fit:function(){var t=this,e=t.options,n=e.display,i=t.minSize,r=me.isArray(e.text)?e.text.length:1,a=me.options._parseFont(e),o=n?r*a.lineHeight+2*e.padding:0;t.isHorizontal()?(i.width=t.maxWidth,i.height=o):(i.width=o,i.height=t.maxHeight),t.width=i.width,t.height=i.height},afterFit:_i,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=t.options;if(n.display){var i,r,a,o=me.options._parseFont(n),s=o.lineHeight,l=s/2+n.padding,c=0,u=t.top,d=t.left,h=t.bottom,p=t.right;e.fillStyle=me.valueOrDefault(n.fontColor,pe.global.defaultFontColor),e.font=o.string,t.isHorizontal()?(r=d+(p-d)/2,a=u+l,i=p-d):(r="left"===n.position?d+l:p-l,a=u+(h-u)/2,i=h-u,c=Math.PI*("left"===n.position?-.5:.5)),e.save(),e.translate(r,a),e.rotate(c),e.textAlign="center",e.textBaseline="middle";var f=n.text;if(me.isArray(f))for(var g=0,m=0;m<f.length;++m)e.fillText(f[m],0,g,i),g+=s;else e.fillText(f,0,0,i);e.restore()}}}),bi={},wi=pi,xi=vi,ki={id:"title",_element:yi,beforeInit:function(t){var e=t.options.title;e&&Nt(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(me.mergeIf(e,pe.global.title),n?(hn.configure(t,n,e),n.options=e):Nt(t,e)):n&&(hn.removeBox(t,n),delete t.titleBlock)}};for(var Ci in bi.filler=wi,bi.legend=xi,bi.title=ki,En.helpers=me,function(){function u(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function d(t){return null!=t&&"none"!==t}function e(t,e,n){var i=document.defaultView,r=me._getParentNode(t),a=i.getComputedStyle(t)[e],o=i.getComputedStyle(r)[e],s=d(a),l=d(o),c=Number.POSITIVE_INFINITY;return s||l?Math.min(s?u(a,t,n):c,l?u(o,r,n):c):"none"}me.where=function(t,e){if(me.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return me.each(t,function(t){e(t)&&n.push(t)}),n},me.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,r=t.length;i<r;++i)if(e.call(n,t[i],i,t))return i;return-1},me.findNextWhere=function(t,e,n){me.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var r=t[i];if(e(r))return r}},me.findPreviousWhere=function(t,e,n){me.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;0<=i;i--){var r=t[i];if(e(r))return r}},me.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},me.almostEquals=function(t,e,n){return Math.abs(t-e)<n},me.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&t<n+e},me.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},me.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},me.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:0<t?1:-1},me.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e},me.toRadians=function(t){return t*(Math.PI/180)},me.toDegrees=function(t){return t*(180/Math.PI)},me._decimalPlaces=function(t){if(me.isFinite(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}},me.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},me.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},me.aliasPixel=function(t){return t%2==0?0:.5},me._alignPixel=function(t,e,n){var i=t.currentDevicePixelRatio,r=n/2;return Math.round((e-r)*i)/i+r},me.splineCurve=function(t,e,n,i){var r=t.skip?e:t,a=e,o=n.skip?e:n,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),c=s/(s+l),u=l/(s+l),d=i*(c=isNaN(c)?0:c),h=i*(u=isNaN(u)?0:u);return{previous:{x:a.x-d*(o.x-r.x),y:a.y-d*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}},me.EPSILON=Number.EPSILON||1e-14,me.splineCurveMonotone=function(t){var e,n,i,r,a,o,s,l,c,u=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),d=u.length;for(e=0;e<d;++e)if(!(i=u[e]).model.skip){if(n=0<e?u[e-1]:null,(r=e<d-1?u[e+1]:null)&&!r.model.skip){var h=r.model.x-i.model.x;i.deltaK=0!==h?(r.model.y-i.model.y)/h:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(e=0;e<d-1;++e)i=u[e],r=u[e+1],i.model.skip||r.model.skip||(me.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(a=i.mK/i.deltaK,o=r.mK/i.deltaK,(l=Math.pow(a,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),i.mK=a*s*i.deltaK,r.mK=o*s*i.deltaK)));for(e=0;e<d;++e)(i=u[e]).model.skip||(n=0<e?u[e-1]:null,r=e<d-1?u[e+1]:null,n&&!n.model.skip&&(c=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-c,i.model.controlPointPreviousY=i.model.y-c*i.mK),r&&!r.model.skip&&(c=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+c,i.model.controlPointNextY=i.model.y+c*i.mK))},me.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},me.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},me.niceNum=function(t,e){var n=Math.floor(me.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},me.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},me.getRelativePosition=function(t,e){var n,i,r=t.originalEvent||t,a=t.target||t.srcElement,o=a.getBoundingClientRect(),s=r.touches;s&&0<s.length?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(me.getStyle(a,"padding-left")),c=parseFloat(me.getStyle(a,"padding-top")),u=parseFloat(me.getStyle(a,"padding-right")),d=parseFloat(me.getStyle(a,"padding-bottom")),h=o.right-o.left-l-u,p=o.bottom-o.top-c-d;return{x:n=Math.round((n-o.left-l)/h*a.width/e.currentDevicePixelRatio),y:i=Math.round((i-o.top-c)/p*a.height/e.currentDevicePixelRatio)}},me.getConstraintWidth=function(t){return e(t,"max-width","clientWidth")},me.getConstraintHeight=function(t){return e(t,"max-height","clientHeight")},me._calculatePadding=function(t,e,n){return-1<(e=me.getStyle(t,e)).indexOf("%")?n*parseInt(e,10)/100:parseInt(e,10)},me._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},me.getMaximumWidth=function(t){var e=me._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,i=n-me._calculatePadding(e,"padding-left",n)-me._calculatePadding(e,"padding-right",n),r=me.getConstraintWidth(t);return isNaN(r)?i:Math.min(i,r)},me.getMaximumHeight=function(t){var e=me._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,i=n-me._calculatePadding(e,"padding-top",n)-me._calculatePadding(e,"padding-bottom",n),r=me.getConstraintHeight(t);return isNaN(r)?i:Math.min(i,r)},me.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},me.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=t.canvas,r=t.height,a=t.width;i.height=r*n,i.width=a*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=a+"px")}},me.fontString=function(t,e,n){return e+" "+t+"px "+n},me.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.font=t;var o=0;me.each(n,function(t){null!=t&&!0!==me.isArray(t)?o=me.measureText(e,r,a,o,t):me.isArray(t)&&me.each(t,function(t){null==t||me.isArray(t)||(o=me.measureText(e,r,a,o,t))})});var s=a.length/2;if(s>n.length){for(var l=0;l<s;l++)delete r[a[l]];a.splice(0,s)}return o},me.measureText=function(t,e,n,i,r){var a=e[r];return a||(a=e[r]=t.measureText(r).width,n.push(r)),i<a&&(i=a),i},me.numberOfLabelLines=function(t){var e=1;return me.each(t,function(t){me.isArray(t)&&t.length>e&&(e=t.length)}),e},me.color=Zt?function(t){return t instanceof CanvasGradient&&(t=pe.global.defaultColor),Zt(t)}:function(t){return console.error("Color.js not found!"),t},me.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:me.color(t).saturate(.5).darken(.1).rgbString()}}(),En._adapters=On,En.Animation=ke,En.animationService=Ce,En.controllers=cn,En.DatasetController=De,En.defaults=pe,En.Element=we,En.elements=Re,En.Interaction=un,En.layouts=hn,En.platform=kn,En.plugins=Cn,En.Scale=Rn,En.scaleService=Sn,En.Ticks=Nn,En.Tooltip=Mn,En.helpers.each(ui,function(t,e){
En.scaleService.registerScaleType(e,t,t._defaults)}),bi)bi.hasOwnProperty(Ci)&&En.plugins.register(bi[Ci]);En.platform.initialize();var Si=En;return"undefined"!=typeof window&&(window.Chart=En),(En.Chart=En).Legend=bi.legend._element,En.Title=bi.title._element,En.pluginService=En.plugins,En.PluginBase=En.Element.extend({}),En.canvasHelpers=En.helpers.canvas,En.layoutService=En.layouts,En.LinearScaleBase=Wn,En.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(n){En[n]=function(t,e){return new En(t,En.helpers.merge(e||{},{type:n.charAt(0).toLowerCase()+n.slice(1)}))}}),Si}),_fpa={templates:{},partials:{},app:{},state:{},version:"0",remote_request:null,remote_request_block:null,result_target:function(t){var e=$(t).attr("data-result-target");return e&&1<e.length?e:null},ajax_working:function(t){try{$(t).addClass("ajax-running").removeClass("ajax-canceled");var e=_fpa.result_target(t);e&&$(e).addClass("ajax-running")}catch(n){}},ajax_done:function(t){try{$(t).removeClass("ajax-running").removeClass("ajax-canceled");var e=_fpa.result_target(t);e&&$(e).removeClass("ajax-running").removeClass("ajax-canceled")}catch(n){}_fpa.remote_request=null},ajax_canceled:function(t){try{$(t).removeClass("ajax-running").addClass("ajax-canceled");var e=_fpa.result_target(t);e&&$(e).removeClass("ajax-running").addClass("ajax-canceled")}catch(n){}_fpa.remote_request=null},compile_templates:function(){$("script.handlebars-partial").each(function(){var t=$(this).attr("id");t=t.replace("-partial","");var e=Handlebars.compile($(this).html());Handlebars.registerPartial(t,e),_fpa.partials[t]=e}),$("script.handlebars-template").each(function(){var t=$(this).attr("id"),e=$(this).html();_fpa.templates[t]=Handlebars.compile(e)})},send_ajax_request:function(t,a){a||(a={}),a.url=t,$.rails.ajax(a).done(function(t,e,n){var i=$(".temp-ajax-requester");0===i.length&&0===(i=$("a.temp-ajax-requester")).length&&(i=$('<a data-remote="true" class="hidden temp-ajax-requester">background</a>'),$("body").append(i));var r=a.try_app_callback;r&&(i[0].app_callback=r),(r=a.try_app_post_callback)&&(i[0].app_post_callback=r),$.rails.fire(i,"ajax:success",[t,e,n])})},view_template:function(t,e,n,i){var r=t;if(!t.hasClass("view-template-created")&&!t.parent().hasClass("view-template-created")){e||console.log("no template_name provided"),_fpa.ajax_working(t),i&&i.position||t.html("");var a=_fpa.templates[e];a||console.log("template for "+e+" was not found"),i||(i={}),n.code&&(n._code_flag={},n._code_flag[n.code]=!0),_fpa.do_preprocessors(e,t,n),_fpa.form_utils.get_general_selections(n);var o=a(n);o=$(o).addClass("view-template-created");var s=t;if(i.position&&0===i.position.indexOf("before")){var l=t;0<i.position.indexOf("parent")&&(l=t.parent());var c=(s=o).attr("id");0<(d=$("#"+c)).length?d.replaceWith(s):l.before(s),r=s,t.html("")}else if(i.position&&0===i.position.indexOf("after")){var u=t;0<i.position.indexOf("parent")&&(u=t.parent());var d;c=(s=o).attr("id");0<(d=$("#"+c)).length?d.replaceWith(s):u.after(s),t.html(""),r=s}else s=o,t.attr("id")&&t.attr("id")==s.attr("id")?t.replaceWith(s):t.html(o);window.setTimeout(function(){_fpa.do_postprocessors(e,r,n),_fpa.reset_page_size(),_fpa.ajax_done(t)},1)}},reset_page_size:function(){},inherit_from:function(t,e){function n(){}return n.prototype=t,$.extend(n.prototype,e),n.prototype},try_app_callback:function(t){t[0].app_callback&&(t[0].app_callback(t[0]),t[0].app_callback=null)},try_app_post_callback:function(t){t[0].app_post_callback&&(t[0].app_post_callback(t[0]),t[0].app_post_callback=null)},do_preprocessors:function(t,e,n){var i=!1;t&&(t=t.replace(/-/g,"_"),_fpa.preprocessors[t]&&(_fpa.preprocessors[t](e,n),i=!0)),_fpa.preprocessors["default"](e,n,i)},do_postprocessors:function(t,e,n){var i=!1;t&&(t=t.replace(/-/g,"_"),_fpa.postprocessors[t]&&(_fpa.postprocessors[t](e,n),i=!0)),_fpa.postprocessors["default"](e,n,i)},handle_remotes:function(){var t="form[data-remote='true'], a, btn";$(document).on("click",t,function(){$(this).attr("disabled")||$(this).is(":visible")&&!$(this).hasClass("keep-notices")&&_fpa.clear_flash_notices()}).on("ajax:before",t,function(t){if(t.target==t.currentTarget){var e=$(this);if(_fpa.remote_request=null,_fpa.remote_request_block=e,$(this).hasClass("prevent-on-collapse")&&!$(this).hasClass("collapsed"))return t.preventDefault(),!1;if($(this).hasClass("one-time-only-ajax")){if($(this).hasClass("one-time-only-fired"))return t.preventDefault(),!1;$(this).addClass("one-time-only-fired")}return _fpa.preprocessors.before_all(e),_fpa.ajax_working(e),_fpa.form_utils.set_field_errors(e),$(this).find("[data-only-for]").each(function(){var t=$(this).attr("data-only-for"),e=!0;$(t).each(function(){var t=$(this).val();null!==t&&""!==t&&(e=!1)}),e&&$(this).removeClass("has-value").val("")}),!0}}).on("ajax:beforeSend",t,function(t,e){_fpa.remote_request=e}).on("ajax:success",t,function(o,u,t,e){_fpa.status.session.reset_timeout();var n=$(this);u=e.responseJSON;if($(this).is(":visible")&&!$(this).hasClass("keep-notices")&&_fpa.clear_flash_notices(),_fpa.ajax_done(n),_fpa.try_app_callback($(this)),u){var i,r,a,s,l,c=!1;if(u.flash_message_only)return void _fpa.flash_notice(u.flash_message_only);i=$(this).attr("data-result-target");var d=n.attr("data-use-alt-result-key");if(u.multiple_results&&u.original_item)a=u.multiple_results,s=u.original_item,(l={})[s.item_type]=s;else{for(a in u)if(u.hasOwnProperty(a)&&"_control"!=a)break;d&&d!=a?(u[d]=u[a],s=u[d],delete u[a]):s=u[a],r=!!(l=u).multiple_results}var h=!1;"true"===$(this).attr("data-result-target-force")&&(h=!0),i&&(h||r||null===s||s._created||s._merged||0===$('[data-sub-item="'+a+'"], [data-sub-list="'+a+'"] [data-sub-item]').length||0<$(this).parents("[data-result-target-for-child]").length)&&(c=!0);var p={};if(c){var f=$("body"),g=$(this).parents("[data-result-target-for-child]").first();1==g.length&&(i=g.attr("data-result-target-for-child"),f=$(this).parents("[data-template]"));var m=f.find(i);m.hasClass("new-block")&&(m.hasClass("new-after-parent")?p.position="after parent":m.hasClass("new-before-parent")?p.position="before parent":m.hasClass("new-below")?p.position="after":m.hasClass("new-after")?p.position="after":p.position="before");var v=$(this).attr("data-template");m.each(function(){var t=v,e=$(this).attr("form-res-template");e&&""!==e&&(t=e),t||console.log("Warning: data-template for this triggering element was not found"),_fpa.view_template($(this),t,l,p),_fpa.try_app_post_callback($(this))})}if(!h)for(var _ in n.hasClass("new-block")&&n.html(""),u)if(u.hasOwnProperty(_)){var y={},b=u[_],w=$('[data-sub-item="'+_+'"], [data-sub-list="'+_+'"] [data-sub-item], [data-item-class="'+_+'"]');y[_]=b,w.each(function(){var t=y,e=$(this).attr("data-sub-id"),n=$(this).attr("data-sub-item"),i=$(this).attr("data-item-class");if(e&&(n||i)){t=null;var r=$(this).attr("data-sub-for");r||(r="id");var a=$(this).attr("data-sub-for-root");if(a)u[a]&&(l=u)[a]===+e&&l[n]&&(t={},t=l);else if(b&&b[r]){l=b;var o=d;o||(o=l.item_type.underscore()),l[r]===+e&&(o===n?(t={})[n]=l:o===i&&((t={})[i]=l,t[n]=l))}else if(b)for(var s in b){var l=b[s];l&&"string"!=typeof l&&l[r]===+e&&l.item_type===n&&((t={})[n]=l)}}if(t){var c=$(this).attr("data-template");c||console.log("WARN: no data-template template name found"),_fpa.view_template($(this),c,t),_fpa.try_app_post_callback($(this))}})}}else{var x=function(t,e){var n=t.attr("data-result-position");"replace"==n?t.replaceWith(e):"before"==n?t.before(e):"after"==n?t.after(e):(t.html(e),t.removeClass("hidden"),t.show())},k=$(e.responseText);$(".query-error").remove();var C=0;u||(u={});var S=$(this);if(k.find("[data-result]").each(function(){var e=$(this),t=e.attr("data-result"),n=e.find("form"),i=$(o.currentTarget).parents("[data-form-container]");if("true"===S.attr("data-target-force")){var r=S.attr("data-target");r&&""!==r||console.log("Failed due to no data-target attribute being set when data-target-force is true and the result is an HTML block");var a=$(r);o.stopPropagation()}else{if(1==n.length&&1==i.length)if(i.attr("data-subscription")==t)a=i;else a=i.find('[data-subscription="'+t+'"]');else a=$('[data-subscription="'+t+'"]');0===a.length&&console.log('WARN: [data-subscription="'+t+'"] returns no targets')}1==n.length&&(u.form_data=_fpa.form_utils.data_from_form(n)),{}[t]=e,a.each(function(){var t=$(this).attr("data-preprocessor");_fpa.do_preprocessors(t,$(this),u),x($(this),e),_fpa.do_postprocessors(t,$(this),u),C++})}),0===C){var T=$(this).attr("data-result-target");if(T){var D=$(this).attr("data-preprocessor");_fpa.do_preprocessors(D,$(T),u),x($(T),k),_fpa.do_postprocessors(D,$(T),u)}}}$(".view-template-created").removeClass("view-template-created")}).on("ajax:error",function(t,e,n,i){var r=$(this);_fpa.clear_flash_notices(),_fpa.ajax_done(r);var a=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n.replace(/_/g," ")+" "+t[n]);return e.join(" \n")};if("abort"!=n){var o=e.responseJSON;if(422===e.status){if(_fpa.form_utils.set_field_errors($(".ajax-running"),o),o){var s="<p>Could not complete action:</p>";s+=a(o)}else s='<p>Could not complete action. Please <a href="#" onclick="window.location.reload(); return false;">refresh the page</a> and try again.</p>';_fpa.flash_notice(s,"warning")}else o?(s=a(o),_fpa.flash_notice(s,"danger")):e.responseText&&"<"!=e.responseText[0]?_fpa.flash_notice(e.responseText,"danger"):_fpa.flash_notice("An error occurred.","danger")}_fpa.postprocessors.after_error(r,n,i),$(".ajax-running").removeClass("ajax-running")}).addClass("attached")},cancel_remote:function(){_fpa.remote_request&&(console.log("Cancel requested"),_fpa.remote_request.abort(),_fpa.ajax_canceled(_fpa.remote_request_block),_fpa.remote_request_block=null,_fpa.remote_request=null)},flash_notice:function(t,e){if(e||(e="info"),t&&""!=t)if(0<t.indexOf("password is not correct. Account has been locked."))window.location.href="";else{var n='<div class="alert alert-'+e+'" role="alert">';if(n+='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',"error"==e||"danger"==e)n+=$("<div/>").text(t).html().replace(/\n/g,"<br/>");else n+=t.replace(/\n/g,"<br/>");n+="</div>",$(".flash").append(n),_fpa.timed_flash_fadeout()}},timed_flash_fadeout:function(){window.setTimeout(function(){$(".alert-info").fadeOut(1e3)},6e3)},clear_flash_notices:function(t){t=t?".alert-"+t:"",$(".flash div.alert"+t).remove()},show_modal:function(t,e,n){var i=$("#primary-modal"),r=i.find(".modal-title"),a=i.find(".modal-body");return r.html(""),a.html(""),e&&r.html(e),t&&a.html(t),n&&"md"==n?$(".modal-dialog").removeClass("modal-lg").addClass("modal-md"):n?$(".modal-dialog").removeClass("modal-md").addClass("modal-lg"):$(".modal-dialog").removeClass("modal-lg").removeClass("modal-md"),i.on("hidden.bs.modal",function(){$(".modal-body").html("");var t=$(".refresh-item-on-modal-close").first();t.length&&(t.parents(".common-template-item").last().find("a.refresh-item").click(),t.removeClass("refresh-item-on-modal-close"))}),i.modal("show"),i},get_item_by:function(t,e,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r[t]==n)return r}},get_items_by:function(t,e,n){var i=[];for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];a[t]==n&&i.push(a)}return i},get_items_as_hash_by:function(t,e,n,i){var r={};for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];o[t]==n&&(r[o[i]]=o)}return r},preprocessors:{},loaded:{}},_fpa.secure_view=new SecureView,_fpa.activity_logs={selected_parent:function(t,e){$(".activity-log-list .alr-new-block.has-records").addClass("hidden");var n=document.querySelectorAll(".activity-log-sub-list .sub-list-item .list-group");if($(n).is(":visible")){for(var i,r=0;i=n[r];r++){var a=i.parentNode;i.getAttribute("data-item-id")==e.item_id?(a.classList.add("item-highlight"),a.classList.add("selected-item")):(a.classList.remove("item-highlight"),a.classList.remove("selected-item")),a.classList.remove("linked-item-highlight")}$("#activity-logs-master-"+e.master_id+"- [data-item-id]").removeClass("item-highlight selected-item"),$("#activity-logs-master-"+e.master_id+'- [data-item-id="'+e.item_id+'"]').addClass("item-highlight selected-item")}},unselect_all:function(t,e){_fpa.activity_logs.selected_parent(t,{master_id:e})},show_main_block:function(t,e){_fpa.form_utils.format_block(t),_fpa.activity_logs.selected_parent(t,{item_id:e.item_id,rec_type:e.rec_type,item_data:e.item_data,master_id:e.master_id}),_fpa.activity_logs.handle_creatables(t,e)},show_log_block:function(t,e){_fpa.form_utils.format_block(t),$(".activity-log-list .alr-new-block").addClass("hidden");var n,i=e;for(var r in e)if(e.hasOwnProperty(r)&&"_control"!=r){n=e[r];break}"object"==typeof n&&n.hasOwnProperty("master_id")&&(i=n),_fpa.activity_logs.handle_creatables(t,e),t.parents(".activity-log-list").find(".common-template-item").not("[data-sub-id="+i.id+"]").each(function(){$(this).hasClass("prevent-edit")&&($(this).find("a.edit-entity").remove(),$(this).find(".new-block").remove(),$(this).find("a.add-item-button").remove())}),$(".activity-log-list .new-block").addClass("has-records"),_fpa.activity_logs.selected_parent(t,{item_id:i.item_id,rec_type:i.rec_type,item_data:i.item_data,master_id:i.master_id}),window.setTimeout(function(){_fpa.activity_logs.handle_save_action(t,e)},100);var a=t.parents(".activity-logs-item-block").first().find(".activity-log-sub-list").attr("data-sub-list");if(i._updated&&a){var o="/masters/"+i.master_id+"/"+a+".js";_fpa.send_ajax_request(o)}_fpa.postprocessors.info_update_handler(t,i)},get_object_data:function(t){if(t.item_types=t.multiple_results,!t.item_types){if(!t.item_type)for(var e in t){if(t.hasOwnProperty(e))if(t[e].item_type){t=t[e];break}}t.item_types=_fpa.utils.pluralize(t.item_type)}return t},handle_creatables:function(t,e){if(e._control)var n=e._control;else n=e;if(obj_data=_fpa.activity_logs.get_object_data(e),n&&n.creatables)for(var i in n.creatables)if(n.creatables.hasOwnProperty(i)){var r=n.creatables[i],a='.activity-logs-generic-block[data-sub-id="'+obj_data.master_id+'"][data-sub-item="'+obj_data.item_types+'"] a.add-item-button[data-extra-log-type="'+i+'"]',o=$(a),s=o.hasClass("hide-unless-creatable");r?s?o.show():o.attr("disabled",!1):s?o.hide():o.attr("disabled",!0)}},handle_save_action:function(t,e){var n;if(e._control){if(obj_data=_fpa.activity_logs.get_object_data(e),obj_data._created)(i=obj_data._control)||(i=e._control),i&&i.save_action&&(n=i.save_action.on_create);else if(obj_data._updated){var i;(i=obj_data._control)||(i=e._control),i&&i.save_action&&(n=i.save_action.on_update)}if("object"==typeof n){if(n.create_next_creatable){var r='.activity-logs-generic-block[data-sub-id="'+obj_data.master_id+'"][data-sub-item="'+obj_data.item_types+'"] a.add-item-button[data-extra-log-type]';$(r).not("[disabled]").first().click()}if(n.show_panel){var a=$('.master-panel[data-master-id="'+obj_data.master_id+'"] a[data-panel-tab="'+n.show_panel+'"]').click();window.setTimeout(function(){$(a.attr("data-target")).collapse("show")},10)}if(n.hide_panel){a=$('.master-panel[data-master-id="'+obj_data.master_id+'"] a[data-panel-tab="'+n.hide_panel+'"]');window.setTimeout(function(){$(a.attr("data-target")).collapse("hide")},10)}}}}},_fpa.preprocessors={before_all:function(t){if(_fpa.masters.get_results_block().removeClass("search-status-abort search-status-error search-status-done"),_fpa.form_utils.date_inputs_to_iso(t),_fpa.form_utils.unmask_inputs(t),t.is("form")){var e=t.parents(".common-template-item, .new-block").not(".no-processed-scroll");e.hasClass("new-block")&&(e=e.parent()),$(".postprocessed-scroll-here").removeClass("postprocessed-scroll-here"),e.addClass("postprocessed-scroll-here")}t.parent().find('[data-preprocessor="embedded_report"]').not("er-attached").on("ajax:success",function(){$(this).addClass("refresh-item-on-modal-close")}).addClass("er-attached")},"default":function(){}},_fpa.postprocessors={"default":function(i,t,e){var n;for(n in _fpa.processor_handlers.form_setup($("form")),_fpa.masters.get_results_block().addClass("search-status-done"),$("body").hasClass("fixed-overlay")||($("body").hasClass("user_page")&&$("body").hasClass("show")&&0==$("#master_results_block #results-accordion").length?($("body").addClass("table-results"),$("html").css({overflow:"hidden"}),_fpa.reports.window_scrolling()):($("body").removeClass("table-results"),$("html").css({overflow:"auto"}),_fpa.reports.reset_window_scrolling())),e||_fpa.form_utils.format_block(i),$(".format-block-on-expand").not(".attached-expander-format").on("shown.bs.collapse",function(){_fpa.form_utils.format_block($(this))}).addClass("attached-expander-format"),i.hasClass("new-block")&&!i.is(":visible")&&(i.show(),window.setTimeout(function(){_fpa.form_utils.format_block(i)},200)),i.find(".select-ref-to-record").not(".attached-handler").change(function(){var t=$(this).val(),e=$(this).parents("form").first(),n=e.siblings().not(".new_select_reference").first();t&&""!=t?(e.find(".submit-action-container").removeClass("hidden"),n.slideUp("fast")):(e.find(".submit-action-container").addClass("hidden"),n.slideDown("fast"))}).addClass("attached-handler"),t)if(t.hasOwnProperty(n)&&"_control"!=n)break;var r=t[n];if(r&&(r._created||r._updated)){var a=r.referenced_from;if(a&&0<a.length)for(var o in a)a.hasOwnProperty(o)&&a[o].from_record_type_us&&_fpa.send_ajax_request("/masters/"+a[o].from_record_master_id+"/"+a[o].from_record_type_us.replace("__","/")+"s/"+a[o].from_record_id)}if(t.form_data){var s=t.form_data,l=i.find("[data-attr-name][data-object-name]");for(var c in l.on("change",function(){var t=$(this),e=t.attr("data-object-name"),n=t.attr("data-attr-name");"checkbox"==t.attr("type")?s[e][n]=t.is(":checked"):s[e][n]=t.val(),_fpa.show_if.methods.show_items(i,s[e])}),s)s.hasOwnProperty(c)&&_fpa.show_if.methods.show_items(i,s[c])}else if(r)if(r.length){for(o=0;o<r.length;o++)if(r[o]&&r[o].item_type){var u=r[o],d=u.item_type;u.option_type&&"default"!=u.option_type&&(d+="_"+u.option_type);var h=i.find('.common-template-item[data-sub-item="'+d+'"][data-sub-id="'+u.id+'"]');_fpa.show_if.methods.show_items(h,u)}}else _fpa.show_if.methods.show_items(i,r);var p=$(".postprocessed-scroll-here");if(0<p.length){p.removeClass("postprocessed-scroll-here");var f=p.get(0).getBoundingClientRect();!(0<=f.top&&f.top<=$(window).height()/2)&&window.setTimeout(function(){p.hasClass("prevent-scroll")||_fpa.utils.scrollTo(p,200,-50)},300)}i.find(".on-postprocess-click").not(".auto-clicked, .ajax-running").addClass("auto-clicked").each(function(){var t=$(this);window.setTimeout(function(){t.click()})})},modal_pi_search_results_template:function(t){window.setTimeout(function(){_fpa.form_utils.format_block(t),_fpa.masters.switch_id_on_click(t),_fpa.form_utils.on_open_click(t)},30),$("a.modal-expander").click(function(t){t.preventDefault();var e=$(this).attr("href");$(e).on("shown.bs.collapse",function(){_fpa.form_utils.format_block($(this)),_fpa.utils.scrollTo($(this),200,-50),$(this).off("shown.bs.collapse")})}).addClass("attached-me-click")},search_action_template:function(t,e){if("MSID"==e.search_action){var n=$('.advanced-form-selections [data-toggle="collapse"]').not(".collapsed, .prevent-list-collapse").attr("data-target");if(n&&""!=n)$(n).collapse()}},master_main_template:function(t,e){_fpa.form_utils.format_block(t),_fpa.postprocessors.show_external_links(t,e),_fpa.postprocessors.tracker_notes_handler(t),_fpa.postprocessors.tracker_item_link_hander(t),_fpa.postprocessors.tracker_events_handler(t),_fpa.postprocessors.extras_panel_handler(t),t.addClass("loaded-master-main")},search_results_template:function(t,n){_fpa.masters.switch_id_on_click(t),n.masters&&n.masters.length<5&&(_fpa.form_utils.format_block(t),_fpa.postprocessors.show_external_links(t,n),_fpa.postprocessors.tracker_notes_handler(t),_fpa.postprocessors.tracker_item_link_hander(t)),n.masters&&1===n.masters.length&&(_fpa.postprocessors.tracker_events_handler(t),_fpa.postprocessors.extras_panel_handler(t)),n.masters&&0<n.masters.length&&(_fpa.state.masters=_fpa.state.masters||{},n.masters.forEach(function(t){t&&t.id&&(_fpa.state.masters[t.id]=Object.assign({},t),_fpa.state.masters[t.id].player_infos&&(_fpa.state.masters[t.id].player_info=_fpa.state.masters[t.id].player_infos[0],_fpa.state.masters[t.id].item=_fpa.state.masters[t.id].embedded_item))})),$("a.master-expander").click(function(t){t.preventDefault();var e=$(this).attr("data-target");$(e).on("shown.bs.collapse",function(){$(".selected-result").removeClass("selected-result"),$("#"+$(this).attr("aria-labelledby")).addClass("selected-result"),_fpa.form_utils.format_block($(this)),_fpa.postprocessors.show_external_links($(this),n),_fpa.postprocessors.tracker_notes_handler($(this)),_fpa.postprocessors.tracker_item_link_hander($(this)),_fpa.postprocessors.tracker_events_handler($(this)),_fpa.postprocessors.extras_panel_handler($(this)),_fpa.utils.scrollTo($(this),200,-50),$(this).off("shown.bs.collapse")})}).addClass("attached-me-click");var e=$("#msid_list").html(),i=$("#master_id_list").html();i&&1<i.replace(/ /g,"").length?(document.title="FPHS results",window.history.pushState({html:"/masters/search?utf8=\u2713&nav_q_id="+i,pageTitle:document.title},"","/masters/search?utf8=\u2713&nav_q_id="+i)):e&&1<e.replace(/ /g,"").length?(document.title="FPHS results",window.history.pushState({html:"/masters/search?utf8=\u2713&nav_q="+e,pageTitle:document.title},"","/masters/search?utf8=\u2713&nav_q="+e)):(document.title="FPHS results",window.history.pushState({html:"/masters/search",pageTitle:document.title},"","/masters/search"))},show_external_links:function(t,r){t.find(".external-links").each(function(){var t,e=$(this).attr("data-master-id");if(t=r.player_info?{player_infos:[r.player_info]}:_fpa.get_item_by("id",r.masters,e)){var n=t.player_infos[0],i=_fpa.templates["external-links-template"](n);$(this).html(i)}})},extras_panel_handler:function(t){_fpa.form_utils.on_open_click(t)},item_flags_result_template:function(t,e){if(_fpa.form_utils.format_block(t),e.item_flags.update_action){var n="#trackers-"+e.item_flags.master_id,i=$('a.open-tracker[data-target="'+n+'"]');i&&i[0]&&(i[0].app_callback=function(){$(n).collapse("show")}),i.trigger("click.rails")}},info_update_handler:function(t,e){if(_fpa.form_utils.format_block(t),e.update_action){var n=e.master_id,i="#trackers-"+n;window.setTimeout(function(){var t=$('a.open-tracker[data-target="'+i+'"]');t&&t[0]&&(t[0].app_callback=function(){$(i).collapse("show")},t.trigger("click.rails"))},10),_fpa.form_utils.on_open_click($("#master-"+n+"-main-container"),500)}},player_info_result_template:function(t,e){var n=e;e.player_info&&(n=e.player_info),_fpa.postprocessors.info_update_handler(t,n),_fpa.postprocessors.show_external_links(t.parents(".panel").first(),e)},address_result_template:function(t,e){var n=e;e.address&&(n=e.address),_fpa.postprocessors.info_update_handler(t,n)},player_contact_result_template:function(t,e){var n=e;e.player_contact&&(n=e.player_contact),_fpa.postprocessors.info_update_handler(t,n)},address_edit_form:function(e){_fpa.form_utils.format_block(e),$("#address_zip").mask("00000-9999",{translation:{0:{pattern:/\d/},0:{pattern:/\d/,optional:!0}}});var t=function(t){t&&"US"!==t&&""!==t?(e.find(".list-group-item.address-region").slideDown(),e.find(".list-group-item.address-postal_code").slideDown(),e.find(".list-group-item.address-zip").slideUp(),e.find(".list-group-item.address-state").slideUp(),e.find("#address_zip").val(""),e.find("#address_state").val("")):(e.find(".list-group-item.address-region").slideUp(),e.find(".list-group-item.address-postal_code").slideUp(),e.find(".list-group-item.address-zip").slideDown(),e.find(".list-group-item.address-state").slideDown(),e.find("#address_region").val(""),e.find("#address_postal_code").val(""))};e.find("#address_country").change(function(){t($(this).val())}),window.setTimeout(function(){t($("#address_country").val())},10)},player_contact_edit_form:function(t){_fpa.form_utils.format_block(t)},flash_template:function(){_fpa.timed_flash_fadeout()},after_error:function(t,e){if("abort"==e)_fpa.masters.get_results_block().html('<h3  class="text-center"><span class="glyphicon glyphicon-pause search-canceled" data-toggle="popover" data-trigger="click hover" data-content="search paused while new entries are added"></span></h3>').addClass("search-status-abort"),$(".search-canceled").popover();else{e&&e,_fpa.masters.get_results_block().addClass("search-status-error"),_fpa.processor_handlers.form_setup(t)}}},_fpa.processor_handlers={form_setup:function(t){_fpa.form_utils.setup_datepickers(t),_fpa.form_utils.mask_inputs(t)},label_changes:function(t){t.find(".address-state_name small").each(function(){$(this).html("state")}),t.find(".address-country_name small").each(function(){$(this).html("country")}),t.find(".address-source_name small").each(function(){$(this).html("source")}),t.find(".player-info-source_name small").each(function(){$(this).html("source")})}},_fpa.postprocessors_activity_logs={},_fpa.preprocessors_activity_logs={},_fpa.activity_logs.generate_postprocessors=function(r,t){var a="",e=r.length;if(a="y"==r[e-1]?r[e-2]+"ies":r+"s",_fpa.postprocessors_activity_logs["activity_log__"+a+"_main_result_template"]=function(t,e){_fpa.activity_logs.show_main_block(t,e)},_fpa.preprocessors_activity_logs["activity_log__"+a+"_main_result_template"]=function(t,e){_fpa.preprocessors.activity_log_show_log_block(t,e)},_fpa.postprocessors_activity_logs["activity_log__"+r+"_primary_result_template"]=function(t,e){_fpa.activity_logs.show_log_block(t,e)},_fpa.postprocessors_activity_logs["activity_log__"+r+"_blank_log_result_template"]=function(t,e){_fpa.activity_logs.show_log_block(t,e)},t)for(k in t)t.hasOwnProperty(k)&&(_fpa.postprocessors_activity_logs["activity_log__"+r+"_"+t[k].name+"_result_template"]=function(t,e){_fpa.activity_logs.show_log_block(t,e)},_fpa.preprocessors_activity_logs["activity_log__"+r+"_"+t[k].name+"_result_template"]=function(t,e){_fpa.preprocessors.activity_log_show_log_block(t,e)});_fpa.postprocessors_activity_logs["open_activity_log__"+r]=function(t,e,n){var i=t.attr("data-master-id");_fpa.send_ajax_request("/masters/"+i+"/activity_log/"+a,{try_app_callback:function(){if(0===$(n).length){var t=r.replace(/_/g,"-");n=n.replace(t,t+"-blank-log")}window.setTimeout(function(){var t=_fpa.utils.jump_to_linked_item(n);_fpa.activity_logs.unselect_all(t,i)},1e3)}})},_fpa.postprocessors_activity_logs["sub_list_"+r+"_result_template"]=function(t,e){var n=null;for(n in e)break;e[n].rec_type&&r!=e[n].item_type+"_"+e[n].rec_type&&t.hide(),_fpa.form_utils.format_block(t)},$.extend(_fpa.postprocessors,_fpa.postprocessors_activity_logs),$.extend(_fpa.preprocessors,_fpa.preprocessors_activity_logs)},_fpa.preprocessors.activity_log_edit_form=function(t){$(".activity-log-list .new-block").each(function(){$(this).hide().html("")}),t.show()},_fpa.preprocessors.activity_log_show_log_block=function(t,e){var n;if(e.multiple_results)n=e[e.multiple_results];else for(var i in e)if(e.hasOwnProperty(i)&&"_control"!=i){n=[e[i]];break}for(var r=0;r<n.length;r++){var a,o=n[r];if(o.creatable_model_references){a=!0;for(var s in o.creatable_model_references)if(o.creatable_model_references.hasOwnProperty(s)&&o.creatable_model_references[s])for(var l in o.creatable_model_references[s])o.creatable_model_references[s].hasOwnProperty(l)&&(a="many"!=o.creatable_model_references[s][l])}o._show_embedded_as_single_item=o.model_references&&1==o.model_references.length&&a}},_fpa.postprocessors_model_refs={model_references_item:function(t){_fpa.form_utils.setup_data_toggles(t)}},$.extend(_fpa.postprocessors,_fpa.postprocessors_model_refs),_fpa.postprocessors_nfs_store={refresh_container_if_needed:function(r){var t=r.find(".file-processing-tag");if(t.length){if(!t.is(":visible"))return;window.setTimeout(function(){var t=r.parents(".browse-container"),e=t.first().find(".refresh-container-list").not('[disabled="disabled"]');if(_fpa.utils.inViewport(r)&&0!=e.length){var n=t.attr("data-refresh-count");if(!n||parseInt(n)<6){if(n)i=parseInt(n)+1;else var i=1;t.attr("data-refresh-count",i),e.click()}}else _fpa.postprocessors_nfs_store.refresh_container_if_needed(r)},1e4)}},nfs_store_browse_list_results:function(n){var i=n.parents(".nfs-store-container-block").first();i.fs_browser=_nfs_store.fs_browser,setTimeout(function(){i.fs_browser(i),_fpa.postprocessors_nfs_store.refresh_container_if_needed(n);var t=n.find(".container-browser").attr("data-container-writable"),e=i.find(".fileinput-button");"false"==t?(e.hide(),i.parents(".upload-dropzone").removeClass("upload-dropzone").addClass("upload-dropzone-disabled")):(e.show(),i.parents(".upload-dropzone-disabled").removeClass("upload-dropzone-disabled").addClass("upload-dropzone")),_fpa.form_utils.format_block(n)},100)},filestore_classification_block:function(n){_fpa.form_utils.format_block(n),window.setTimeout(function(){var t=n.get(0).getBoundingClientRect(),e=.9*$(window).height();!(0<=t.top&&t.bottom<=e)&&$.scrollTo(n,{offset:-(e-t.height)})},100)},filestore_classification_stored_file_result_template:function(t,e){_fpa.form_utils.format_block(t);var n=e.nfs_store__manage__stored_file.nfs_store_container_id;$('[data-result="filestore-classification-stored-file-edit-form--'+n+'"]').remove()},filestore_classification_archived_file_result_template:function(t,e){_fpa.form_utils.format_block(t);var n=e.nfs_store__manage__archived_file.nfs_store_container_id;$('[data-result="filestore-classification-archived-file-edit-form--'+n+'"]').remove()}},$.extend(_fpa.postprocessors,_fpa.postprocessors_nfs_store),_fpa.preprocessors_reports={report_edit_form:function(){$(".report-item-edit").find(".report-edit-cancel").click()},embedded_report:function(){var t='<div id="modal_results_block" class=""></div>';_fpa.show_modal(t,null,!0)}},_fpa.postprocessors_reports={table_cell_types:{trackers:{protocols:"protocol_id",sub_processes:"sub_process_id",protocol_events:"protocol_event_id",users:"user_id"},tracker_history:{protocols:"protocol_id",sub_processes:"sub_process_id",protocol_events:"protocol_event_id",users:"user_id"},masters:{accuracy_scores:"rank"},player_infos:{accuracy_scores:"rank",users:"user_id"},player_contacts:{"general_selections-item_type+player_contacts_rank":"rank",users:"user_id"},addresses:{"general_selections-item_type+addresses_rank":"rank",users:"user_id"}},embedded_report:function(t,e){_fpa.postprocessors_reports.reports_form(t,e),t.find('input[type="submit"].auto-run').click()},reports_form:function(t){_fpa.form_utils.format_block(t),_fpa.masters.get_results_block().html(""),_fpa.masters.handle_search_form(t.find("form")),t.find("a.btn[data-attribute]").click(function(t){t.preventDefault();var e=$(this).attr("data-attribute"),n=$("#search_attrs_"+e),i=n.val();0<i.length&&(i+="\n");var r=$("#multiple_attrs_"+e);i+=r.val(),n.val(i),r.val(""),n.change(),r.change()}),t.find("form").not(".attached-complete-listener").on("ajax:complete",function(){$("#search_attrs__filter_previous_").attr("checked",!1),$("#filter_on_block").html("")}).addClass("attached-complete-listener");var e,n=$("#search_attrs__filter_previous_").not(".attached-click-listener");1===n.length&&n.is(":checked")&&(window.setTimeout(function(){$("a#get_filter_previous").click()},100),e=!0),n.on("change",function(){return $("#search_attrs__filter_previous_").is(":checked")?window.setTimeout(function(){$("a#get_filter_previous").click()},100):$("#filter_on_block").html(""),!1}).addClass("attached-click-listener"),e||t.find('input[type="submit"].auto-run').click()},reports_result:function(i,o){if(o){var t=$(".result-count").html(),e=$('.count-only [data-col-type="result_count"]').not(".report-el-was-from-new");1===e.length&&(t=e.html()),t=parseInt(t),o.count={count:t,show_count:t};var n=_fpa.templates["search-count-template"](o);$(".search_count_reports").html(n)}window.setTimeout(function(){var t=_fpa.postprocessors_reports.table_cell_types;if(o.count&&0!=o.count.count){for(var e in $(".postprocessed-scroll-here").removeClass("postprocessed-scroll-here").addClass("prevent-scroll"),_fpa.reports.report_position_buttons("go-to-results"),$("td a.edit-entity").click(function(){$(".item-selected").removeClass("item-selected"),$(this).parents("tr").first().addClass("item-selected")}),$('td[data-col-type="master_id"]').on("click",function(){window.open("/masters/"+$(this).html().trim(),"_blank"),$(".item-selected").removeClass("item-selected"),$(this).addClass("item-selected")}).addClass("hover-link"),$('td[data-col-type="msid"]').on("click",function(){window.open("/masters/"+$(this).html().trim()+"?type=msid","_blank"),$(
".item-selected").removeClass("item-selected"),$(this).addClass("item-selected")}).addClass("hover-link"),t)if(t.hasOwnProperty(e)){var n=t[e];if(0<$('td[data-col-table="'+e+'"]').length)for(var r in n)if(n.hasOwnProperty(r)){col_types=t[e];var a=col_types[r];_fpa.set_definition(r,function(){var i=_fpa.cache(r);$('td[data-col-table="'+e+'"][data-col-type="'+a+'"]').each(function(){var t=$(this),e=t.html(),n=_fpa.get_item_by("value",i,e);n&&null!=n.value||(n=_fpa.get_item_by("id",i,e)),n&&t.append(" <em>"+n.name+"</em>")})})}}_fpa.reports.results_subsearch(i),_fpa.reports.results_perform_action_link(i),_fpa.reports.results_select_items_for_form(i),_fpa.form_utils.setup_tablesorter($("#report-results-block")),i.find(".expandable").not(".attached-exp").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_expandable($(this))}).addClass("attached-exp"),$("prevent-scroll").removeClass("prevent-scroll")}else _fpa.reports.report_position_buttons("go-to-form")},50),window.setTimeout(function(){$('td[data-col-type$="_when"], td[data-col-type$=" when"], td[data-col-type$="_date"], td[data-col-type$=" date"], td[data-col-type="date"]').each(function(){var t=null,e=$(this).html();"Invalid Date"==e?t="":e&&""!=e&&(t=_fpa.utils.YMDtoLocale(e)),$(this).html(t)}),$('td[data-col-type$="_at"], td[data-col-type$=" at"]').each(function(){var t=null,e=$(this).html();"Invalid Date"==e?t="":e&&""!=e&&(t=_fpa.utils.YMDtimeToLocale(e)),$(this).html(t)})},500)},report_edit_form:function(e){var t=e.find("form"),n=t.attr("id"),i=e.find("tr"),r=t.attr("data-object-id");if(r)var a=$("tr#report-item-"+r);else a=$("tr#report-item-new");a.after(i),a.hide();var o=e.find("input");i.find(".report-edit-btn-cell").append(o),i.find("input, select, textarea, button").each(function(){$(this).attr("form",n)}),_fpa.form_utils.format_block(i),_fpa.utils.scrollTo(i,200,-50),i.find("#report-edit-cancel").click(function(t){t.preventDefault(),a.show(),i.remove(),e.html("")})},edit_report_result:function(t,e){$("#report-edit-").html("");var n=e.report_item.id;if(0==(i=$("#report-item-"+n)).length){var i;i=(i=$("#report-item-new")).after(i.clone());var r=e.report_item.id;i.attr("id","report-item-"+r);var a=i.find("a.edit-entity"),o=a.attr("href");a.attr("href",o.replace("new",r)),i.find(".report-new-item-btn").remove(),n=""}for(var s in e.report_item)e.report_item.hasOwnProperty(s)&&i.find('[data-col-type="'+s+'"]').first().html(e.report_item[s]);i.show(),$("tr#report-item-edit-"+n).remove(),$("tr#report-item-new").show()}},$.extend(_fpa.postprocessors,_fpa.postprocessors_reports),$.extend(_fpa.preprocessors,_fpa.preprocessors_reports),_fpa.postprocessors_trackers={tracker_opener:function(t){var e=t.find(".open-tracker.collapsed");1===e.length&&"0"!==e.find(".tracker-count").html()&&e.trigger("click")},tracker_events_handler:function(t){_fpa.postprocessors.tracker_opener(t),window.setTimeout(function(){_fpa.set_definition("protocol_events",function(){var o=_fpa.cache("protocol_events"),s=!0;t.find(".tracker-event_name[data-event-id]").each(function(){var t=$(this).attr("data-event-id"),e=_fpa.get_item_by("id",o,t);s&&e&&e.milestone&&0<=e.milestone.indexOf("always-notify-user")&&(_fpa.show_modal(e.description,e.name),s=!1)}),t.find(".latest-tracker-history").each(function(){var t=$(this),e=t.attr("data-lth-event-milestone");if(e&&0<=e.indexOf("notify-user")){var n=t.attr("data-lth-event"),i=t.attr("data-lth-event-id"),r=_fpa.get_item_by("id",o,i);if(r&&s){var a=t.attr("data-lth-protocol")+" - "+t.attr("data-lth-process")+": "+n;_fpa.show_modal(r.description,a)}}})})},500)},tracker_notes_handler:function(){var t=$("td.tracker-notes .cell-holder, td.tracker-history-notes .cell-holder");_fpa.utils.make_readable_notes_expandable(t)},tracker_item_link_hander:function(r){$(".item-highlight").removeClass("item-highlight"),r.find("a.tracker-link-to-item").not(".link-attached").click(function(t){t.preventDefault();var e=$(this).attr("href");if(!_fpa.utils.jump_to_linked_item(e)){var n=$(this).attr("data-call-if-needed");if(n){var i=n.split(".");i[1]?_fpa[i[0]]&&_fpa[i[0]][i[1]]?_fpa[i[0]][i[1]]($(this),r,e):console.log("call_if_needed not found: "+i):_fpa[i[0]]?_fpa[i[0]]($(this),r,e):console.log("call_if_needed not found: "+i)}}}).addClass("link-attached"),r.find(".tracker-event_name[data-event-id], .tracker-history-event_name[data-event-id]").not(".te-desc-attached").each(function(){_fpa.set_definition("protocol_events",function(){var t=$(this),e=t.attr("data-event-id"),n=_fpa.cache("protocol_events"),i=_fpa.get_item_by("id",n,e);if(i&&i.description){var r='<span class="glyphicon glyphicon-info-sign tracker-event-description" data-toggle="popover" title="'+i.name+'" data-content="'+i.description+'"></span>';$(r).appendTo(t.find(".cell-holder")).popover({trigger:"click hover"})}})}).addClass("te-desc-attached")},tracker_histories_result_template:function(t){_fpa.form_utils.format_block(t),_fpa.postprocessors.tracker_notes_handler(t),_fpa.postprocessors.tracker_item_link_hander(t)},tracker_chron_result_template:function(t){_fpa.form_utils.format_block(t),_fpa.postprocessors.tracker_notes_handler(t),_fpa.postprocessors.tracker_item_link_hander(t)},tracker_tree_result_template:function(t){_fpa.form_utils.format_block(t),_fpa.postprocessors.tracker_notes_handler(t),_fpa.postprocessors.tracker_item_link_hander(t)},tracker_result_template:function(t,a){if(_fpa.form_utils.format_block(t),_fpa.postprocessors.tracker_notes_handler(t),_fpa.postprocessors.tracker_item_link_hander(t),a.tracker&&a.tracker._created){var e=$("#tracker-count-"+a.tracker.master_id),n=parseInt(e.html());null!=n&&n++,e.html(n)}var i=$("table.tracker-chron-results");if(1!==i.length){if(a.tracker&&(a.tracker._created||a.tracker._merged)&&a.tracker.record_type&&0==a.tracker.record_type.indexOf("ActivityLog::"))$("#tracker-"+a.tracker.master_id+"-"+a.tracker.id+' a[data-master-id="'+a.tracker.master_id+'"][data-record-id="'+a.tracker.record_id+'"]').click();a.tracker&&(a.tracker._created||a.tracker._updated)&&_fpa.set_definition("protocol_events",function(){var t=a.tracker.protocol_event_id,e=_fpa.cache("protocol_events"),n=_fpa.get_item_by("id",e,t);if($("#latest-tracker-history-"+a.tracker.master_id).attr("data-lth-event-milestone",""),n){var i=n.milestone;if(i&&0<=i.indexOf("notify-user")){var r=a.tracker.protocol_name+" - "+a.tracker.sub_process_name+": "+n.name;_fpa.show_modal(n.description,r)}}})}else i.find('a[data-template="tracker-tree-result-template"]').click()},tracker_edit_form:function(r){_fpa.form_utils.format_block(r);var t=function(t,e){var n=r.find("#tracker_event_date");if(n.parents("div").first().show(),n.hasClass("attached-datepicker"))var i=(new Date).asLocale();else i=(new Date).asYMD();e?(n.val(i),$("#tracker_notes").val("")):_fpa.form_utils.setup_datepickers(r)};r.find("#tracker_protocol_event_id, #tracker_sub_process_id").change(function(){t($(this),!0)}).each(function(){t($(this))}),r.find("#tracker_protocol_id").change(function(){r.find("#tracker_sub_process_id").focus().click()}),r.find("#tracker_sub_process_id").change(function(){r.find("#tracker_protocol_event_id").focus().click()})}},$.extend(_fpa.postprocessors,_fpa.postprocessors_trackers),_fpa.cache=function(t){t=_fpa.cache_name(t);var e=localStorage.getItem(t);return e=JSON.parse(e)},_fpa.cache_name=function(t){return t+"--"+_fpa.version},_fpa.set_definition=function(t,i){var e=function(n){$.ajax("/definitions/"+n,{success:function(t){var e=t;_fpa.set_cache(n,e),!1,i&&i()}})};try{_fpa.cache(t)?i&&i():e(t)}catch(n){e(t)}},_fpa.set_cache=function(t,e){var n=t+"--";for(var i in t=_fpa.cache_name(t),localStorage)localStorage.hasOwnProperty(i)&&0===i.indexOf(n)&&(localStorage.removeItem(i),console.log("removed cache item: "+i));e=JSON.stringify(e),localStorage.setItem(t,e)},_fpa.form_utils={set_field_errors:function(t,e){if(e){var n;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],a=t.find("[data-attr-name='"+i.underscore()+"']").parent();if(1<a.length&&(a=a.parents(".list-group-item").first()),1==a.length){n||(n=a),a.addClass("has-error");var o=i.replace(/_/g," ");a.hasClass("showed-caption-before")&&(o="Entry"),r=o+" "+r;var s=$('<p class="help-block error-help">'+r+"</p>");a.append(s),delete e[i],e.form="has errors. Check the highlighted fields."}}n&&_fpa.utils.jump_to_linked_item(n,-300)}else $(".has-error").each(function(){$(this).find(".error-help").remove()}).removeClass("has-error")},clear_content:function(t){t.removeClass("in"),t.html("")},toggle_expandable:function(t){t.hasClass("expanded")?t.removeClass("expanded"):t.addClass("expanded")},highlight_tracker_history_item:function(t,e){e=_fpa.utils.get_data_attribs($(t)),window.setTimeout(function(){$(e.tracker_history_item).addClass("item-highlight")},1e3)},toggle_on_click_call:function(t,e){e||(e=t.attr("data-on-click-call"));var n=e.split("."),i=_fpa[n[0]][n[1]];e&&i?i(t,_fpa.utils.get_data_attribs(t)):console.log("no data-on-click-call value or function set")},toggle_on_click_show:function(t){for(var e,n=t.attr("data-on-click-show").split(","),i=_fpa.utils.get_data_attribs(t),r=0;e=n[r];r++){var a=(e=e.trim()).split("@");0==(t=$(a[1])).length&&console.log("the target provided to toggle_on_click_show does not exist: "+a[1]),_fpa.view_template(t,a[0],i)}},on_open_click:function(t,n){t.find('.on-open-click a[data-remote="true"], .on-open-click a[data-target]').not(".auto-clicked").addClass("auto-clicked").each(function(){var t=$(this),e=n;e||(e=(e=t.attr("data-open-priority"))?parseInt(e):20),window.setTimeout(function(){t.click()},e)})},unmask_inputs:function(t){t.find("input[data-unmask='number'].is-masked").each(function(){var t=$(this).cleanVal();t&&$(this).val(t)}).removeClass("is-masked")},date_inputs_to_iso:function(t){var e=t.find("input.date-is-local");0<e.length&&e.each(function(){var t=$(this).val();if(t||""!=t){var e=_fpa.utils.parseLocaleDate(t).asYMD();e&&$(this).val(e)}}).removeClass("date-is-local")},data_from_form:function(t){var e=t.find("[data-attr-name][data-object-name]"),r={},a=null;e.each(function(){var t=$(this),e=t.attr("data-object-name"),n=t.attr("data-attr-name");if("option_type"==n)if((a=t.val())&&""!=a)var i=e+"_"+a;else i=null;r[e]||(r[e]={item_type:e},r[e].full_option_type=i),t[0]&&"radio"==t[0].type?t.is(":checked")&&(r[e][n]=t.val()):t[0]&&"checkbox"==t[0].type?t.is(":checked")&&(r[e][n]=!0):r[e][n]=t.val()});var n=t.find("[data-item-id]").attr("data-item-id");for(var i in r)r.hasOwnProperty(i)&&(r[i].id||(r[i].id=n));return r},get_general_selections:function(a){if(a)if(a.multiple_results)_fpa.form_utils.get_general_selections(a[a.multiple_results]);else if(a.length)for(var t=0;t<a.length;t++)_fpa.form_utils.get_general_selections(a[t]);else{if(!a.item_type){var e;for(e in a)if(a.hasOwnProperty(e)&&"_control"!=e)break;var n=a[e];if(!n)return;a=n}a.embedded_item&&_fpa.form_utils.get_general_selections(a.embedded_item);var i=a.item_type?"-item_type+"+a.item_type:"",o="general_selections"+(i+=a.extra_log_type?"-extra_log_type+"+a.extra_log_type:"");_fpa.set_definition(o,function(){var t=_fpa.cache(o);for(var e in a._general_selections={},a)if(a.hasOwnProperty(e)){if("activity_log"==a.model_data_type)var n=a.item_type+"_"+e;else n=a.item_type+"s_"+e;var i=_fpa.get_items_as_hash_by("item_type",t,n,"value");for(var r in i)break;r&&(a._general_selections[e]=i)}})}},setup_typeahead:function(t,e,n,i,r){"string"==typeof e&&(e=_fpa.cache(e));var a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:e}),o={hint:!0,highlight:!0,minLength:1,autoselect:!0};for(var s in r||(r={}),o)o.hasOwnProperty(s)&&(s in r||(r[s]=o[s]));var l={name:n,source:a};i&&(l.limit=i),$(t).typeahead(r,l).on("keypress",function(t){if(13==t.keyCode){var e=$(this).attr("data-next-field");e&&$(e).focus();var n=$(this).val();n&&""!=n&&$(this).addClass("has-value")}})},caption_before_substitutions:function(a,o){a.find(".caption-before").not(".cb_subs_done").each(function(){var i=$(this).html();if(i&&!(i.length<1)){var t=i.match(/{{[0-9a-zA-z_\.]+}}/g);if(t&&!(t.length<1)){var r={};if(o&&o.master_id){var e=o.master_id;(r=Object.assign({},o)).user_preference||(r.user_preference=_fpa.user_prefs)}else e=a.parents(".master-panel").first().attr("data-master-id");var n=_fpa.state.masters[e];n&&(r=Object.assign(r,n)),t.forEach(function(t){var e=t.replace("{{","").replace("}}","").split("."),n=null;e[0]&&(n=r[e[0]]),n&&e[1]&&(n=n[e[1]]),null==n&&(n="(?)"),n='<em class="all_caps">'+n+"</em>",i=i.replace(t,n)}),$(this).html(i)}}}).addClass("cb_subs_done")},resize_labels:function(t,e,n){t||(t=$(document));var i=t.find('.list-group:visible, .view-object[aria-expanded="true"]');n||(i=i.not(".attached-resize-labels")),i.each(function(){var o=$(this);_fpa.processor_handlers&&_fpa.processor_handlers.label_changes&&_fpa.processor_handlers.label_changes(o),window.setTimeout(function(){var e=0,t=o.find(".list-group-item.result-field-container, .list-group-item.result-notes-container, .list-group-item.edit-field-container, .list-group-item.caption-before").not(".all-fields-caption"),n=!1;t.each(function(){var t=$(this).hasClass("caption-before")&&!$(this).hasClass("caption-before-keep-label");n&&!t&&$(this).find("small, label").not(".radio-label").remove(),n=t});var i=o.find(".list-group-item.result-field-container, .list-group-item.edit-field-container").not(".is-heading, .is-sub-heading, .is-minor-heading, .is-full-width, .is-combo, .record-meta, .edit-form-header, .has-caption-before"),r=i.find("small, label").not(".radio-label");r.addClass("label-resizer").css({whiteSpace:"nowrap",width:"auto",minWidth:"none",marginLeft:"inherit"});var a=i.first().parent().width();r.each(function(){if($(this).is(":visible")){var t=$(this).width();e<t&&(e=t)}}),.5*a<e&&(e=.5*a),10<e&&(0===i.parents("form").length?(i.css({paddingLeft:e+30}).addClass("labels-resized"),r.css({minWidth:e,width:e,marginLeft:-e-14,whiteSpace:"normal"}).addClass("list-small-label")):r.css({minWidth:e+6,width:e+6,whiteSpace:"normal"}).addClass("list-small-label")),i.addClass("done-label-resize")},1),o.addClass("attached-resize-labels")})},setup_has_value_inputs:function(t){t||(t=$(document));var e=function(t){""!=t.val()?t.addClass("has-value"):t.removeClass("has-value")};t.find("input, select").not(".attached-has-value").on("change",function(){e($(this))}).each(function(){e($(this))}).addClass("attached-has-value")},setup_chosen:function(t){t||(t=$(document)),t.find("select[multiple]").not(".attached-chosen").each(function(){var t=$(this);window.setTimeout(function(){t.chosen({width:"100%",placeholder_text_multiple:"no tags selected"}).addClass("attached-chosen")},1)})},organize_common_templates:function(t){t.find(".common-template-item").each(function(){$(this).parents(".common-template-list").first().hasClass("row")&&!$(this).hasClass("alt-width")&&$(this).addClass("col-md-8 col-lg-6")})},filtered_selector:function(t){t||(t=$(document));var e=t.find("select[data-filters-selector]").not(".attached-filter"),a=function(t){var e=t.attr("data-filters-selector");if(e){var n=$(e);if(0!==n.length){var i=t.val();n.find("option[data-filter-id]").removeClass("filter-option-show").hide();var r=n.find('option[data-filter-id="'+i+'"]').addClass("filter-option-show").show();n.attr("data-parent-filter-id",i),0===r.length?n.find('option[value=""]').html("-none-"):n.find('option[value=""]').html("-select-"),n.each(function(){$(this).find("option:selected").attr("data-filter-id")!=i&&($(this).val(null).removeClass("has-value"),i&&$(this).addClass("prevent-submit")),a($(this))})}}};e.each(function(){a($(this))}).on("change",function(){a($(this))}).addClass("attached-filter")},setup_form_filtered_select:function(t){t.find("select[data-filters-select]").not(".filters-select-attached").each(function(){var e=$(this),n=e.attr("data-filters-select");e.on("change",function(){var t=e.val();$(n+" optgroup[data-group-num]").hide(),$(n+' optgroup[data-group-num="'+t+'"]').show()});var t=e.val();$(n+" optgroup[label]").each(function(){if(!$(this).attr("data-group-num")){var t=$(this).attr("label").split("/",2),e=t.length-1,n=0;$(this).attr("label",t[e]),$(this).attr("data-group-num",t[n])}}).hide(),$(n+' optgroup[data-group-num="'+t+'"]').show()}).addClass("filters-select-attached")},setup_tablesorter:function(t){t||(t=$(document));var e=t.find(".tablesorter").not(".attached-tablesorter");window.setTimeout(function(){e.each(function(){var t=$(this),e=0,n={};t.find("thead tr:first th").each(function(){$(this).hasClass("no-sort")&&($(this).attr("title",null),$(this).attr("aria-label",null),n[e]={sorter:!1}),e++}),t.tablesorter({dateFormat:"yyyy-mm-dd",headers:n}).addClass("attached-tablesorter")})},100)},setup_bootstrap_items:function(t){t||(t=$(document)),t.find('[data-toggle~="tooltip"]').not(".attached_bs").tooltip().addClass("attached_bs"),t.find('[data-toggle~="popover"]').not(".attached_bs").popover().addClass("attached_bs"),t.find('[data-show-popover="auto"]').not(".attached_bs").popover("show").addClass("attached_bs"),t.find(".dropdown-toggle").not(".attached_bs").dropdown().addClass("attached_bs"),t.find("table").each(function(){var t=$(this).attr("class");null!=t&&""!==t||$(this).addClass("table")})},setup_data_toggles:function(e){e||(e=$(document)),e.find('[data-toggle~="clear"]').not(".attached-datatoggle-clear").on("click",function(){if(!$(this).attr("disabled")){var t=$(this).attr("data-target"),e=$(t).html("");e.hasClass("collapse")?e.removeClass("in"):e.addClass("hidden")}}).addClass("attached-datatoggle-clear"),e.find('[data-toggle~="unhide"]').not(".attached-datatoggle-uh").on("click",function(){if(!$(this).attr("disabled")){var t=$(this).attr("data-target");$(t).removeClass("hidden")}}).addClass("attached-datatoggle-uh"),e.find('[data-toggle~="uncollapse"]').not(".attached-datatoggle-uncoll").on("click",function(){if(!$(this).attr("disabled")){var t=$(this).attr("data-target");$(t).collapse("show")}}).addClass("attached-datatoggle-uncoll"),e.find("a.scroll-to-master").not(".attached-datatoggle-stm").on("click",function(){var t;$(this).attr("disabled")||(t=e.hasClass("panel-collapse")?e:e.parents(".panel-collapse").first(),_fpa.utils.scrollTo(t,100,-60))}).addClass("attached-datatoggle-stm"),e.find('[data-toggle~="scrollto-target"]').not(".attached-datatoggle-stt").on("click",function(){if(!$(this).attr("disabled")){var t=$(this).attr("data-target");_fpa.utils.jump_to_linked_item(t)}}).addClass("attached-datatoggle-stt"),e.find('[data-prevent-on-collapse="true"]').not(".attached-prevent-on-collapse").on("click",function(t){$(this).attr("disabled")||$(this).hasClass("collapse")||t.preventDefault()}).addClass("attached-prevent-on-collapse"),e.find('[data-toggle~="scrollto-result"], [data-toggle~="scrollto-target"], [data-toggle~="collapse"].scroll-to-expanded, [data-toggle~="uncollapse"].always-scroll-to-expanded ').not(".attached-datatoggle-str").on("click",function(){if(!$(this).attr("disabled")&&!($(this).hasClass("scroll-to-expanded")&&!$(this).hasClass("collapsed")||$(this).hasClass("no-scroll-on-collapse"))){var e,t=$(this).parents("[data-form-container]");if((e=1==t.length?t.attr("data-form-container"):$(this).attr("data-target"))&&""!=e||(e=$(this).attr("data-result-target")),e){var n=0,i=function(){var t=$(e).get(0);if(!t){if(10<n)return;return n++,void window.setTimeout(function(){i()},250)}if(!(t=t.getBoundingClientRect()).height)return n++,void window.setTimeout(function(){i()},250);!(0<=t.top&&t.bottom<$(window).height())&&_fpa.utils.scrollTo(e,200,-100)};window.setTimeout(function(){i()},250)}}}).addClass("attached-datatoggle-str"),e.find('[data-toggle~="expandable"]').not(".attached-datatoggle-exp").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_expandable($(this))}).addClass("attached-datatoggle-exp"),e.find("[data-on-click-call]").not(".attached-toggle_on_click_call").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_on_click_call($(this))}).addClass("attached-toggle_on_click_call"),e.find("[data-result-callback]").not(".attached-toggle_on_result_callback").on("click",function(){if(!$(this).attr("disabled")){var t=$(this).attr("data-result-callback").split(".");t[1]?$(this)[0].app_callback=_fpa[t[0]][t[1]]:$(this)[0].app_callback=_fpa[t[0]]}}).addClass("attached-toggle_on_result_callback"),e.find("[data-on-click-show]").not(".attached-toggle_on_click_show").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_on_click_show($(this))}).addClass("attached-toggle_on_click_show"),e.find('[data-toggle~="clear-content"]').not(".attached-datatoggle-cc").on("click",function(){if(!$(this).attr("disabled")){var t=$(this).attr("data-target");_fpa.form_utils.clear_content($(t))}}).addClass("attached-datatoggle-cc"),e.find("[data-toggle-caret]").not(".attached-toggle_caret").on("click",function(){if($(this).hasClass("glyphicon-triangle-bottom")){var t=$(this);$(this).removeClass("glyphicon-triangle-bottom"),$(this).addClass("glyphicon-triangle-top");var e=(n=$(this).attr("data-target"))&&$(n);window.setTimeout(function(){t.attr("disabled",!0),e&&e.find(".list-group-item").length&&_fpa.form_utils.format_block(e.parent())},10)}else{var n;t=$(this);$(this).addClass("glyphicon-triangle-bottom"),$(this).removeClass("glyphicon-triangle-top"),(n=$(this).attr("data-result-target"))&&$(n).html(""),window.setTimeout(function(){t.attr("disabled",!1)},10)}}).addClass("attached-toggle_caret")},mask_inputs:function(t){t.find("[pattern]").each(function(){var t=$(this).attr("pattern");t&&""!=t||$(this).removeAttr("pattern")}),t.find("[pattern]").not('.attached-datatoggle-pattern, [type="password"]').each(function(){var t,e=$(this).attr("pattern"),n=$(this).attr("type"),i=$(this).attr("data-mask");i&&""!==i||!e||""===e||("text"!=n&&"datepicker"!=n&&"date"!=n&&($(this).attr("type","text"),$(this).attr("data-unmask",n)),t=_fpa.masker.mask_from_pattern(e),$(this).attr("data-mask",t.mask),$(this).addClass("is-masking"),$(this).mask(t.mask,{translation:t.translation,reverse:t.reverse}),$(this).addClass("is-masked"),$(this).removeClass("is-masking"))}).addClass("attached-datatoggle-pattern"),t.find("[pattern].attached-datatoggle-pattern").not(".is-masked").each(function(){var t=$(this),e=t.val();if(e&&""!==e){var n=t.masked(e);t.val(n)}}).addClass("is-masked"),t.find("input.time-entry").not("is-time-masked").each(function(){$(this).timepicker({timeFormat:"h:mm p",interval:15,minTime:"12:00am",maxTime:"11:59pm",startTime:"12:00am",dynamic:!0,dropdown:!0,scrollbar:!0})})},setup_datepickers:function(t){t.find('input[type="date"]').each(function(){"date"==$(this).prop("type")&&($(this).prop("type","datepicker"),$(this).addClass("force-datepicker")),$(this).attr("type","datepicker")}),t.find('input[type="datepicker"]').not(".date-is-local").each(function(){var t=$(this).val();if(t&&""!=t){var e=_fpa.utils.YMDtoLocale(t);$(this).val(e)}$(this).addClass("date-is-local")}),t.find('input.force-datepicker, input[type="datepicker"]').not(".attached-datepicker").each(function(){$(this).datepicker({startView:2,clearBtn:!0,autoclose:!0,todayHighlight:!0,todayBtn:"linked",format:_fpa.user_prefs.date_format}),$(this).on("click",function(){$(this).datepicker("show")}),$(this).on("keypress",function(){$(this).datepicker("hide")}),$(this).mask("09/09/0000",{translation:_fpa.masker.translation,placeholder:"__/__/____"}),$(this).addClass("attached-datepicker date-is-local")})},setup_extra_actions:function(t){t.find(".collapse").not(".attached-force-collapse").each(function(){var t=$(this);t.on("show.bs.collapse",function(){t.removeClass("hidden")}),t.on("shown.bs.collapse",function(){t.removeClass("hidden")}),t.on("hide.bs.collapse",function(){})}).addClass("attached-force-collapse"),t.find("[data-add-icon]").not(".attached-add-icon").each(function(){var t=$(this).attr("data-add-icon"),n=$(this).attr("title");$(this).attr("title",null);var e=$(this).attr("data-show-modal");if(e){var i=$('<a class="add-icon glyphicon glyphicon-'+t+'" href="#" data-show-modal="'+e+'"></a>');$(this).append(i),i.click(function(t){t.preventDefault();var e=$(this).attr("data-show-modal");_fpa.show_modal($(e).html(),n)})}else{i=$('<a data-toggle="popover" data-content="'+n+'" class="add-icon glyphicon glyphicon-'+t+'"></a>');$(this).append(i),i.popover({trigger:"hover click",placement:"bottom"})}}).addClass("attached-add-icon");var e=t,s=e.attr("data-sort-desc");if(s||(e=e.children().first()).length&&(s=e.attr("data-sort-desc")),s||(e=(e=e.find("[data-sub-list]")).children().first()).length&&(s=e.attr("data-sort-desc")),s){var n=e.parent();n.find("[data-sort-desc]").sort(function(t,e){var n=$(e).find("["+s+"]").attr(s),i=$(t).find("["+s+"]").attr(s);if(null==n&&(n=$(e).attr(s)),null==i&&(i=$(t).attr(s)),n){var r=n.split("--");null==r[1]&&(r[1]=""),n=_fpa.utils.ISOdatetoTimestamp(r[0])+r[1]}if(i){var a=i.split("--");null==a[1]&&(a[1]=""),i=_fpa.utils.ISOdatetoTimestamp(a[0])+a[1]}if(null==i||""==i)return-1;if(null==n||""==n)return 1;var o=parseFloat(i);return i==o&&(i=o),n==(o=parseFloat(n))&&(n=o),i<n?1:n<i?-1:0}).prependTo(n)}t.find("input,select,checkbox,textarea").not('[type="submit"],.form-control,.ff').addClass("form-control input-sm ff"),t.find(".typeahead").css({width:"100%"}),t.find("form").not(".form-formatted").addClass("form-inline"),t.find("textarea.auto-grow").not(".attached-auto-grow").each(function(){$(this).on("keypress, change",function(){$(this).get(0).style.height="5px",$(this).get(0).style.height=$(this).get(0).scrollHeight+5+"px"})}).addClass("attached-auto-grow"),t.find("input.college-input.typeahead").not(".attached-college_ta").each(function(){var t=$(this);_fpa.set_definition("colleges",function(){_fpa.form_utils.setup_typeahead(t,"colleges","colleges")})}).addClass("attached-college_ta"),t.find('[data-format-date-local="true"]').not(".formatted-date-local").each(function(){var t=$(this).html();t=t.replace(" UTC","Z").replace(" ","T");var e=_fpa.utils.YMDtoLocale(t);$(this).html(e)}).addClass("formatted-date-local")},setup_contact_field_mask:function(a){var t=function(t,e){if("string"==typeof t)var n=t,i=!0;else{n=t.val();e=a.find('input[data-attr-name="data"]')}if("phone"===n?e.mask("(000)000-0000 nn",{translation:{0:{pattern:/\d/},n:{pattern:/.*/,recursive:!0,optional:!0}}}).attr("type","text"):"email"===n?e.unmask().attr("type","email"):e.unmask().attr("type","text"),!i){var r=_fpa.utils.translate(n,"field_labels");r=r?_fpa.utils.capitalize(r):"Data",e.parent().find("label").not(".radio-label").html(r)}},e=a.find(".rec_type_has_phone, .rec_type_has_email").change(function(){t($(this))});t(e),a.find(".is_phone").each(function(){t("phone",$(this))}),a.find(".is_email").each(function(){t("email",$(this))})},setup_textarea_autogrow:function(e){e.find("textarea").each(function(){var t=$(this)[0],e=new Autogrow(t);t.style.resize="none",t.style.boxSizing="content-box",$(this).click(function(){$(this).hasClass("done-auto-grow")||($(this).addClass("done-auto-grow"),e.autogrowFn())})}),setTimeout(function(){var t=e.find(".notes-block .list-group-item strong, .notes-block  .panel-body, .al-shrinkable > ul.list-group");_fpa.utils.make_readable_notes_expandable(t,100,_fpa.form_utils.resize_children)},10)},setup_filestore:function(t){t.find(".browse-container").not(".nfs-store-setup").each(function(){var t=$(this),e=$(this).attr("data-container-use-secure-view");if(null!=e&&""!=e&&"false"!=e&&"download_files"!=e){var n={},i=e.split(",");for(var r in i)n[i[r]]=!0;var a=null;0<=i.indexOf("view_files_as_image")?a="png":0<=i.indexOf("view_files_as_html")&&(a="html");$(this).html();_fpa.secure_view.setup_links($(this),"a.browse-filename",{allow_actions:n,set_preview_as:a})}null!=e&&""!=e&&"false"!=e||$(this).find("a.browse-filename").on("click",function(t){t.preventDefault()}),window.setTimeout(function(){t.find(".refresh-container-list").click(),(t.nfs_store_uploader=_nfs_store.uploader)(t)},10)}).addClass("nfs-store-setup")},setup_e_signature:function(t,e){var n=t.find(".e-signature-container");e||(n=n.not(".e-signature-setup")),n.each(function(){var n=this;$(n).find(".e-sign-print-frame").not(".click-ev-attached").on("click",function(){$(n).find(".e_signature_document_iframe")[0].contentWindow.print()}).addClass("click-ev-attached"),window.setTimeout(function(){var t=$(n).find(".e_signature_document").val(),e=$(n).find(".e_signature_document_iframe");e.attr("srcdoc",t),window.setTimeout(function(){var t=e[0].contentDocument.body;t?e.height(t.offsetHeight+50):e.height(500)},200)},10)}).addClass("e-signature-setup")},setup_error_clear:function(t){t.on("change",".has-error .form-control",function(){var t=$(this).parent();t.removeClass("has-error"),t.find(".error-help").remove()})},resize_children:function(a,t){var e=function(){var i=-1,r=-1,t=a.parents(".resize-children").parent();0<t.length&&(a=t),a.find(".resize-children").each(function(){$(this).find("ul.list-group").each(function(){0==$(this).parents("ul.list-group").length&&$(this).first().parent().css({minHeight:"1px"})}),$(this).find(".common-template-item, .new-block").not(".resized-width, .model-reference-new-block").each(function(){var t=$(this),e=$(this).parents(".dynamic-container");0<e.length&&(t=e);var n=0<t.find(".in-form-dialog").length,i=0<t.find("#e_signature_document").length,r=t.find(".list-group-item.caption-before, .list-group-item.dialog-before");if(i||0!=r.length){var a=r.filter(":visible");if(a&&0<a.length)var o=a.last().position().top+a.last().outerHeight()-a.first().position().top;else o=0;if(800<o||n||i){var s=_fpa.layout.item_blocks.regular,l=0;r.each(function(){var t=$(this).height();l<t&&(l=t)}),60<l||n||i?(s=i?_fpa.layout.item_blocks.e_signature:_fpa.layout.item_blocks.wide,t.first().removeClass(_fpa.layout.item_blocks.regular),t.addClass(s).addClass("resized-width"),_fpa.form_utils.resize_labels(t,null,!0)):t.hasClass("new-block")&&(t.first().removeClass(_fpa.layout.item_blocks.wide),t.first().removeClass(_fpa.layout.item_blocks.e_signature),t.addClass(_fpa.layout.item_blocks.regular))}}})}),a.find(".resize-children").each(function(){$(this).find("ul.list-group").each(function(){if(!(0<$(this).parents("ul.list-group").length)){var t=$(this).parent();if(t.offset().top>i){if(1<r)var e=0;a.find(".ready-to-resize").each(function(){$(this).removeClass("ready-to-resize").css({minHeight:r+e}),e++}),r=1,i=t.offset().top}var n=t.addClass("ready-to-resize").height();r<n&&(r=n)}}),1<r&&a.find(".ready-to-resize").removeClass("ready-to-resize").css({minHeight:r})})};t?e():window.setTimeout(function(){e()},100)},format_block:function(t){t||(console.log("format_block was provided no block."),t=$(document)),t.hasClass("list-group")&&(t=t.parent()),t.addClass("formatting-block"),_fpa.form_utils.setup_chosen(t),_fpa.form_utils.setup_has_value_inputs(t),_fpa.form_utils.organize_common_templates(t),_fpa.form_utils.resize_labels(t),_fpa.form_utils.filtered_selector(t),_fpa.form_utils.setup_tablesorter(t),_fpa.form_utils.setup_bootstrap_items(t),_fpa.form_utils.setup_data_toggles(t),_fpa.form_utils.setup_extra_actions(t),_fpa.form_utils.setup_datepickers(t),_fpa.form_utils.mask_inputs(t),_fpa.form_utils.setup_textarea_autogrow(t),_fpa.form_utils.setup_contact_field_mask(t),_fpa.form_utils.setup_filestore(t),_fpa.form_utils.setup_e_signature(t),_fpa.form_utils.setup_error_clear(t),_fpa.form_utils.resize_children(t),t.removeClass("formatting-block")}},_fpa.loaded["default"]=function(){_fpa.timed_flash_fadeout(),_fpa.form_utils.format_block(),$("#nav_q").on("keypress",function(){$("#nav_q_pro_id").val(""),$("#nav_q_id").val("")}).on("change",function(){var t=$(this).val();t&&""!=t&&$("form.navbar-form").submit()}),$("#nav_q_pro_id").on("keypress",function(){$("#nav_q").val(""),$("#nav_q_id").val("")}).on("change",function(){var t=$(this).val();t&&""!=t&&$("form.navbar-form").submit()}),$("#nav_q_id").on("keypress",function(){$("#nav_q").val(""),$("#nav_q_pro_id").val("")}).on("change",function(){var t=$(this).val();t&&""!=t&&$("form.navbar-form").submit()}),$("#use_app_type_select").on("change",function(){window.location.href="/masters/search?use_app_type="+$(this).val()}),$(document).on("click","a[disabled], btn[disabled]",function(t){t.preventDefault()});_fpa.loaded[_fpa.status.controller]&&_fpa.loaded[_fpa.status.controller](),window.onbeforeprint=_fpa.printing.beforePrintHandler,window.onafterprint=_fpa.printing.afterPrintHandler,window.matchMedia("print").addListener(function(t){t.matches&&_fpa.printing.beforePrintHandler()}),window.matchMedia("screen").addListener(function(t){t.matches&&_fpa.printing.afterPrintHandler()}),$("#print-action").click(function(){_fpa.printing.appPrintHandler()});var t=window.location.hash
;if(!t&&!$("body.sessions").length){var e=_fpa.cache("login-redirect-hash");t=e&&e.hash,_fpa.set_cache("login-redirect-hash",{})}t&&5<t.length&&($("body.sessions").length?_fpa.set_cache("login-redirect-hash",{hash:t}):window.setTimeout(function(){console.log("Jumping to linked target based on hash"),_fpa.utils.jump_to_linked_item(t,null,{no_highlight:!0})},1e3))},_fpa.masker={},_fpa.masker.mask_from_pattern=function(t){for(var e="",n="",i="",r="",a="",o=!1,s=!1,l=/^\{(\d+),?(\d*)?\}/,c=/^\(.+\)\?/,u=0;u<t.length;u++){var d=t[u];"escape"!==n?"."===d?(n="char",i="W",r="X",a="Y"):"\\"===d?n="escape":"("===d?(n="startblock",t.substring(u).match(c)&&(s=!0)):s&&")"===d?n="endblock":s&&"?"===d?s=!(n="endopt"):"+"===d?(n="char",!0,"T"===prev_vopt?r="U":"B"===prev_vopt?r="D":"9"===prev_vopt&&(r="#"),i=r):"*"===d?(n="char",!0,"T"===prev_vopt?r="R":"B"===prev_vopt?r="C":"9"===prev_vopt&&(r="*"),i=r):(n="char",r=i=d):"escape"===n&&("d"===d?(n="char",i="0",r="9",a="*",o=!0):"D"===d?(n="char",i="S",r="T",a="R"):(n="char",r=i=d));var h=t.substring(u+1).match(l);if("char"===n){if(times=1,opttimes=0,recursive=0,h&&(r1=h[1],r2=h[2],r1&&h[0].indexOf(",")<0?times=parseInt(r1):r1&&!r2&&(times=parseInt(r1),recursive=1),"0"===r1&&r2&&(opttimes=parseInt(r2),times=0),"0"!==r1&&r2&&(times=parseInt(r1),opttimes=parseInt(r2)-parseInt(r1)),u+=h[0].length),o){recursive&&(e+=a);for(p=0;p<times;p++)e+=s?r:i;for(p=0;p<opttimes;p++)e+=r}else{for(var p=0;p<times;p++)e+=s?r:i;for(var p=0;p<opttimes;p++)e+=r;recursive&&(e+=a)}prev_s=n,prev_v=i,prev_vopt=r,r=i=n=""}}return{mask:e,reverse:!1,translation:_fpa.masker.translation}},_fpa.masker.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},"*":{pattern:/\d/,optional:!0,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},B:{pattern:/[a-zA-Z0-9]/,optional:!0},C:{pattern:/[a-zA-Z0-9]/,optional:!0,recursive:!0},D:{pattern:/[a-zA-Z0-9]/,recursive:!0},S:{pattern:/[a-zA-Z]/},T:{pattern:/[a-zA-Z]/,optional:!0},R:{pattern:/[a-zA-Z]/,optional:!0,recursive:!0},U:{pattern:/[a-zA-Z]/,recursive:!0},W:{pattern:/./},X:{pattern:/./,optional:!0},Y:{pattern:/./,optional:!0,recursive:!0},Z:{pattern:/./,recursive:!0}},_fpa.printing={waitForLoadingToComplete:function(t,e){e||(e=1e3),console.log("waiting for loading to complete"),window.setTimeout(function(){0<$(".ajax-running, .formatting-block").length?_fpa.printing.waitForLoadingToComplete(t,e):window.setTimeout(function(){t()},e)},e)},appPrintHandler:function(){return _fpa.printing.appPrintTriggered=!0,$(".print-preparing").show(),window.setTimeout(function(){$(".details-tabs a.collapsed").each(function(){$(this).click()})},10),_fpa.printing.waitForLoadingToComplete(function(){$(".print-preparing").hide(),window.print(),window.setTimeout(function(){_fpa.printing.appPrintTriggered=!1},1e3)}),!0},beforePrintHandler:function(){var t=$(".activity-logs-generic-block, .section-panel");0!=t.length&&(_fpa.printing.appPrintTriggered?t.each(function(){_fpa.form_utils.resize_children($(this),!0)}):alert("To ensure all data loads correctly cancel printing use the Print option in the application menu bar"))},afterPrintHandler:function(){$(".activity-logs-generic-block, .section-panel").each(function(){_fpa.form_utils.resize_children($(this))})}},_fpa.session=function(t){if(t)return this.default_timeout=t+this.tick/1e3,this.start_counting(!0),this},_fpa.session.prototype={default_timeout:null,last_reset:null,tick:1e4,alarm_time:120,alarmed:null,time_now:function(){return(new Date).getTime()/1e3},alarm_bell:function(){var t=this.time_passed()>this.default_timeout-this.alarm_time&&!this.alarmed;return t&&(this.alarmed=!0),t},reset_timeout:function(){console.log("reset_timeout to "+this.default_timeout+" seconds"),window.localStorage.setItem("session_last_reset",this.time_now()),this.alarmed=null},start_counting:function(t){t&&this.reset_timeout();var e=this;window.setTimeout(function(){e.count_down()},this.tick)},count_down:function(){if(this.time_passed()>this.default_timeout)console.log("timed out!"),window.location.href="/";else{if(this.alarm_bell()){console.log("Session will timeout in "+this.alarm_time);var t="<p>Your session will time out in "+Math.round(this.alarm_time/60)+' minutes.</p><p><a href="/pages/version.json" onclick="_fpa.status.session.reset_timeout(); _fpa.clear_flash_notices();" data-remote="true" class="btn btn-warning">Continue working</a> to continue working</a> or <a href="/users/sign_out"  data-method="delete" class="btn btn-default">logout</a></p>';_fpa.flash_notice(t,"warning")}this.start_counting()}},time_passed:function(){var t=window.localStorage.getItem("session_last_reset");return t=t?parseInt(t):0,this.time_now()-t}},_fpa.show_if={forms:{}},_fpa.show_if.methods={show_items:function(i,t){if(i&&t){t.embedded_item&&_fpa.show_if.methods.show_items(i,t.embedded_item);var e=t.item_type,n=t.full_option_type;if(!n&&t.option_type&&"default"!=t.option_type&&(n=e+"_"+t.option_type),n||(n=e),e){var r=_fpa.show_if.forms[n];if(r)for(var a in r)r.hasOwnProperty(a)&&_fpa.show_if.methods.show_item(i,t,e,a,n);window.setTimeout(function(){_fpa.form_utils.setup_e_signature(i,!0);var t=$(".dialog-made-visible");if(t.length){var e=$(window).height(),n=t.first().get(0).getBoundingClientRect();!(0<=n.top&&n.top<=e/2)&&$(document).scrollTo(t.first(),200,{offset:-.2*e}),t.removeClass("dialog-made-visible")}},250)}}},show_item:function(t,e,n,i,r){var a=_fpa.show_if.forms[r];if(a){var o=a[i],s=_fpa.show_if.methods.calc_conditions(o,e),l="."+r.hyphenate()+"-"+i,c="."+n.hyphenate()+"-"+i,u=[".list-group-item.caption-before"+l,".list-group-item.dialog-before"+l,".list-group-item.result-field-container"+l,".list-group-item.result-notes-container"+l,".list-group-item.edit-field-container"+c,".list-group-item.caption-before"+c].join(", "),d=t.find(u);if(s){var h=d.is(":visible");if(d.show(),!h)d.find(".in-form-dialog-btn:visible").click(),d.filter(".dialog-before").first().addClass("dialog-made-visible")}else d.hide()}},calc_conditions:function(t,e){var n=["all","any","not_all","not_any"],i=!0;for(var r in t){var a=t;for(var o in t.hasOwnProperty(r)&&0<=n.indexOf(r)?a=t[r]:r="all",a)if(a.hasOwnProperty(o)){var s=e[o],l=a[o];if(null==l)l=[l];else if("string"==typeof l)l=[l];else if("boolean"==typeof l)l=[l,l?"yes":"no"];else if("number"==typeof l)l=[l];else if("object"==typeof l)for(var c=0;c<l.length;c++)!0===l[c]&&l.push("yes"),!1===l[c]&&l.push("no");if("all"==r)i=i&&l.includes(s);else if("not_all"==r){if(!l.includes(s)){i=!0;break}i=!1}else if("any"==r){if(i=l.includes(s))break}else if("not_any"==r&&l.includes(s)){i=!1;break}}}return i}},_fpa.utils={},_fpa.utils.jump_to_linked_item=function(t,e,n){var i=r;if(null==e&&(e=-50),null==n&&(n={}),$(".item-highlight, .linked-item-highlight").removeClass("item-highlight linked-item-highlight"),t instanceof jQuery||t&&!(t.length<2)){var r=$(t);if(r&&0!=r.length)return r=r.first(),"#body-top"==t||n.no_highlight||r.addClass("item-highlight linked-item-highlight"),r.is(":visible")||(r.parents(".collapse").collapse("show"),r.hasClass("collapse")&&$('[data-toggle="collapse"][data-target="'+t+'"]:visible').first().click()),_fpa.utils.inViewport(r,!0)||_fpa.utils.scrollTo(r,200,e),i}},_fpa.utils.inViewport=function(t,e){e=e?2:1;var n=t.get(0).getBoundingClientRect();return 0<=n.top&&n.top<=$(window).height()/e},_fpa.utils.scrollTo=function(t,e,n){$.scrollTo(t,e,{offset:n})},_fpa.utils.pluralize=function(t){return"y"==t[t.length-1]?t=t.slice(0,-1)+"ies":t+="s",t},_fpa.utils.make_readable_notes_expandable=function(t,e,n){e||(e=40),t.not(".attached-expandable").each(function(){$(this).height()>e?$(this).click(function(){window.getSelection().toString()||(_fpa.form_utils.toggle_expandable($(this)),n&&n(t,$(this)))}).addClass("expandable").attr("title","click to expand / shrink"):$(this).addClass("not-expandable")}).addClass("attached-expandable")},_fpa.utils.show_modal_results=function(){var t='<div id="modal_results_block" class=""></div>';_fpa.show_modal(t,"",!0)},_fpa.utils.get_data_attribs=function(t){for(var e,n={},i=0,r=t.get(0).attributes,a=r.length;i<a;i++){n[(e=r[i]).nodeName.replace("data-","").underscore()]=e.value}return n},_fpa.utils.capitalize=function(t){var e="";null!=t&&t.replace?e=/.+@.+\..+/.test(t)?t:t.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}):e=t;return e},_fpa.utils.nl2br=function(t){var e=((t=Handlebars.Utils.escapeExpression(t))+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2");return new Handlebars.SafeString(e)},String.prototype.capitalize=function(){return _fpa.utils.capitalize(this)},String.prototype.underscore=function(){return this.replace(/[^a-zA-z0-9]/g,"_")},String.prototype.hyphenate=function(){return this.replace(/_/g,"-")},String.prototype.pathify=function(){return this.replace(/__/g,"/")},_fpa.utils.is_blank=function(t){return null===t||""===t},_fpa.utils.html_entity_map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_fpa.utils.escape_html=function(t){return String(t).replace(/[&<>"']/g,function(t){return _fpa.html_entity_map[t]})},_fpa.utils.ISOdatetoTimestamp=function(t){if(null==t)return null;if("number"==typeof t)return t;if(0<=t.indexOf("t")&&0<=t.indexOf("z")||0<=t.indexOf("T")&&0<=t.indexOf("Z")||0<=t.indexOf("t")&&0<=t.indexOf("+")||0<=t.indexOf("T")&&0<=t.indexOf("+")){var e=new Date(Date.parse(t));return e?e.getTime().toFixed(0):t}return t},_fpa.utils.YMDtoLocale=function(t){if(0<=t.indexOf("t")&&0<=t.indexOf("z")||0<=t.indexOf("T")&&0<=t.indexOf("Z")||15<t.length)var e=_fpa.utils.isoDateStringToLocale(t);else e=_fpa.utils.isoDateStringToLocale(t);return"Invalid Date"==e&&(e=t),e},_fpa.utils.YMDtimeToLocale=function(t){if(0<=t.indexOf("t")&&0<=t.indexOf("z")||0<=t.indexOf("T")&&0<=t.indexOf("Z")||15<t.length)var e=_fpa.utils.isoDateTimeStringToLocale(t);else e=_fpa.utils.isoDateTimeStringToLocale(t);return"Invalid Date"==e&&(e=t),e},_fpa.utils.parseLocaleDate=function(t){if(""==(t=t.trim()))return"";var e=t.substring(6,10)+"-"+t.substring(0,2)+"-"+t.substring(3,5)+"T00:00:00Z";return new Date(e)},Date.prototype.asLocale=function(){return _fpa.utils.isoDateStringToLocale(this.toISOString())},_fpa.utils.isoDateStringToLocale=function(t){return""==(t=t.trim())?"":t.substring(5,7)+"/"+t.substring(8,10)+"/"+t.substring(0,4)},_fpa.utils.isoDateTimeStringToLocale=function(t){return""==(t=t.trim())?"":t.substring(5,7)+"/"+t.substring(8,10)+"/"+t.substring(0,4)+" "+t.substring(11,19)},Date.prototype.asYMD=function(){var t=this,e=("0"+t.getUTCDate()).slice(-2),n=("0"+(t.getUTCMonth()+1)).slice(-2);return t.getUTCFullYear()+"-"+n+"-"+e},_fpa.utils.translate=function(t,e){if(_fpa.locale_t&&_fpa.locale_t[e]){var n=_fpa.locale_t.field_names[t];if(n)return t=n}return t},_fpa.utils.pretty_print=function(t,e){return null===t||""===t?"":(t&&8<=t.length&&t.match(/^\d\d\d\d-\d\d-\d\d.*/)&&(0<=t.indexOf("t")&&0<=t.indexOf("z")||0<=t.indexOf("T")&&0<=t.indexOf("Z")?(n=new Date(Date.parse(t)),i=!0):(n=new Date(Date.parse(t+"T00:00:00Z")),i=!1)),void 0!==n&&n&&"Invalid Date"!=n?i?(n=new Date(n.getTime()+6e4*n.getTimezoneOffset())).toLocaleDateString():new Date(t).toLocaleDateString(undefined,{timeZone:"UTC"}):e.return_string?null===t||t instanceof String||t instanceof Number||"object"!=typeof t?e.capitalize&&(!t||t.length<30)?_fpa.utils.capitalize(t):_fpa.utils.nl2br(t):0<Object.keys(t).length?t:null:null);var n,i},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(T,$){function D(){return new Date(Date.UTC.apply(Date,arguments))}function x(){var t=new Date;return D(t.getFullYear(),t.getMonth(),t.getDate())}function a(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function t(t,e){return function(){return e!==$&&T.fn.datepicker.deprecated(e),this[t].apply(this,arguments)}}function c(t){return t&&!isNaN(t.getTime())}function u(t,e){function n(t,e){return e.toLowerCase()}var i=T(t).data(),r={},a=new RegExp("^"+e.toLowerCase()+"([A-Z])");for(var o in e=new RegExp("^"+e.toLowerCase()),i)e.test(o)&&(r[o.replace(a,n)]=i[o]);return r}function d(t){var n={};if(A[t]||(t=t.split("-")[0],A[t])){var i=A[t];return T.each(o,function(t,e){e in i&&(n[e]=i[e])}),n}}var e,n=(e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-e&&this[n].valueOf()-e<864e5)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(T.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new n;return t.replace(this),t}},function(){var t=[];return t.push.apply(t,arguments),T.extend(t,e),t}),k=function(t,e){T.data(t,"datepicker",this),this._process_options(e),this.dates=new n,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=T(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=T(M.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(n){return T.each(M.viewModes,function(t,e){if(n===t||-1!==T.inArray(n,e.names))return n=t,!1}),n},_resolveDaysOfWeek:function(t){return T.isArray(t)||(t=t.split(/[,\s]*/)),T.map(t,Number)},_check_template:function(t){try{return t!==$&&""!==t&&((t.match(/[<>]/g)||[]).length<=0||0<T(t).length)}catch(e){return!1}},_process_options:function(t){this._o=T.extend({},this._o,t);var e=this.o=T.extend({},this._o),n=e.language;A[n]||(n=n.split("-")[0],A[n]||(n=p.language)),e.language=n,e.startView=this._resolveViewName(e.startView),e.minViewMode=this._resolveViewName(e.minViewMode),e.maxViewMode=this._resolveViewName(e.maxViewMode),e.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,e.startView)),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var i=M.parseFormat(e.format);e.startDate!==-Infinity&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=M.parseDate(e.startDate,i,e.language,e.assumeNearbyYear):e.startDate=-Infinity),e.endDate!==Infinity&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=M.parseDate(e.endDate,i,e.language,e.assumeNearbyYear):e.endDate=Infinity),e.daysOfWeekDisabled=this._resolveDaysOfWeek(e.daysOfWeekDisabled||[]),e.daysOfWeekHighlighted=this._resolveDaysOfWeek(e.daysOfWeekHighlighted||[]),e.datesDisabled=e.datesDisabled||[],T.isArray(e.datesDisabled)||(e.datesDisabled=e.datesDisabled.split(",")),e.datesDisabled=T.map(e.datesDisabled,function(t){return M.parseDate(t,i,e.language,e.assumeNearbyYear)});var r=String(e.orientation).toLowerCase().split(/\s+/g),a=e.orientation.toLowerCase();if(r=T.grep(r,function(t){return/^auto|left|right|top|bottom$/.test(t)}),e.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===r.length)switch(r[0]){case"top":case"bottom":e.orientation.y=r[0];break;case"left":case"right":e.orientation.x=r[0]}else a=T.grep(r,function(t){return/^left|right$/.test(t)}),e.orientation.x=a[0]||"auto",a=T.grep(r,function(t){return/^top|bottom$/.test(t)}),e.orientation.y=a[0]||"auto";else;if(e.defaultViewDate instanceof Date||"string"==typeof e.defaultViewDate)e.defaultViewDate=M.parseDate(e.defaultViewDate,i,e.language,e.assumeNearbyYear);else if(e.defaultViewDate){var o=e.defaultViewDate.year||(new Date).getFullYear(),s=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=D(o,s,l)}else e.defaultViewDate=x()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,n,i,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(n=$,i=t[r][1]):3===t[r].length&&(n=t[r][1],i=t[r][2]),e.on(i,n)},_unapplyEvents:function(t){for(var e,n,i,r=0;r<t.length;r++)e=t[r][0],2===t[r].length?(i=$,n=t[r][1]):3===t[r].length&&(i=t[r][1],n=t[r][2]),e.off(n,i)},_buildEvents:function(){var t={keyup:T.proxy(function(t){-1===T.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:T.proxy(this.keydown,this),paste:T.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=T.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:T.proxy(this.show,this)}]]:this._events=[[this.element,{click:T.proxy(this.show,this),keydown:T.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:T.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:T.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":T.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:T.proxy(this.click,this)}],[this.picker,".prev, .next",{click:T.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:T.proxy(this.dayCellClick,this)}],[T(window),{resize:T.proxy(this.place,this)}],[T(document),{"mousedown touchstart":T.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var n=e||this.dates.get(-1),i=this._utc_to_local(n);this.element.trigger({type:t,date:i,viewMode:this.viewMode,dates:T.map(this.dates,this._utc_to_local),format:T.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return M.formatDate(n,e,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&T(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var e;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==T.inArray("text/plain",t.originalEvent.clipboardData.types))e=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;e=window.clipboardData.getData("Text")}this.setDate(e),this.update(),t.preventDefault()},_utc_to_local:function(t){if(!t)return t;var e=new Date(t.getTime()+6e4*t.getTimezoneOffset());return e.getTimezoneOffset()!==t.getTimezoneOffset()&&(e=new Date(t.getTime()+6e4*e.getTimezoneOffset())),e},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&D(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return T.map(this.dates,this._utc_to_local)},getUTCDates:function(){return T.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==$?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(t){var e=T.isArray(t)?t:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(t){var e=T.isArray(t)?t:arguments;return this.setDates.apply(this,T.map(e,this._utc_to_local)),this},setDate:t("setDates"),setUTCDate:t("setUTCDates"),remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(e){e===$&&(e=this.o.format);var n=this.o.language;return T.map(this.dates,function(t){return M.formatDate(t,e,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),e=this.picker.outerHeight(),n=10,i=T(this.o.container),r=i.width(),a="body"===this.o.container?T(document).scrollTop():i.scrollTop(),o=i.offset(),s=[0];this.element.parents().each(function(){var t=T(this).css("z-index");"auto"!==t&&0!==Number(t)&&s.push(Number(t))});var l=Math.max.apply(Math,s)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=c.left-o.left,p=c.top-o.top;"body"!==this.o.container&&(p+=a),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=t-d)):c.left<0?(this.picker.addClass("datepicker-orient-left"),h-=c.left-n):r<h+t?(this.picker.addClass("datepicker-orient-right"),h+=d-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var f=this.o.orientation.y;if("auto"===f&&(f=-a+p-e<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+f),"top"===f?p-=e+parseInt(this.picker.css("padding-top")):p+=u,this.o.rtl){var g=r-(h+d);this.picker.css({top:p,right:g,zIndex:l})}else this.picker.css({top:p,left:h,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),n=[],e=!1;return arguments.length?(T.each(arguments,T.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),e=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=T.map(n,T.proxy(function(t){return M.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=T.grep(n,T.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),e?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&e&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow',-1!==T.inArray(t,this.o.daysOfWeekDisabled)&&(e+=" disabled"),e+='">'+A[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;n++)e+='<span class="month'+(t&&t.getMonth()===n?" focused":"")+'">'+A[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=T.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],n=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),r=x();return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<i?e.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>i)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&a(t,r)&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),this.dateWithinRange(t)||e.push("disabled"),this.dateIsDisabled(t)&&e.push("disabled","disabled-date"),-1!==T.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&e.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==T.inArray(t.valueOf(),this.range)&&e.push("selected"),t.valueOf()===this.range[0]&&e.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&e.push("range-end")),e},_fill_yearsView:function(t,e,n,i,r,a,o){for(var s,l,c,u="",d=n/10,h=this.picker.find(t),p=Math.floor(i/n)*n,f=p+9*d,g=Math.floor(this.viewDate.getFullYear()/d)*d,m=T.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/d)*d}),v=p-d;v<=f+d;v+=d)s=[e],l=null,v===p-d?s.push("old"):v===f+d&&s.push("new"),-1!==T.inArray(v,m)&&s.push("active"),(v<r||a<v)&&s.push("disabled"),v===g&&s.push("focused"),o!==T.noop&&((c=o(new Date(v,0,1)))===$?c={}:"boolean"==typeof c?c={enabled:c}:"string"==typeof c&&(c={classes:c}),!1===c.enabled&&s.push("disabled"),c.classes&&(s=s.concat(c.classes.split(/\s+/))),c.tooltip&&(l=c.tooltip)),u+='<span class="'+s.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+v+"</span>";h.find(".datepicker-switch").text(p+"-"+f),h.find("td").html(u)},fill:function(){var t,e,n=new Date(this.viewDate),r=n.getUTCFullYear(),i=n.getUTCMonth(),a=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,o=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,c=A[this.o.language].today||A.en.today||"",u=A[this.o.language].clear||A.en.clear||"",d=A[this.o.language].titleFormat||A.en.titleFormat;if(!isNaN(r)&&!isNaN(i)){this.picker.find(".datepicker-days .datepicker-switch").text(M.formatDate(n,d,this.o.language)),this.picker.find("tfoot .today").text(c).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(u).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var h=D(r,i,0),p=h.getUTCDate();h.setUTCDate(p-(h.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(h);h.getUTCFullYear()<100&&f.setUTCFullYear(h.getUTCFullYear()),f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var g,m,v=[];h.valueOf()<f;){if((g=h.getUTCDay())===this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var _=new Date(+h+(this.o.weekStart-g-7)%7*864e5),y=new Date(Number(_)+(11-_.getUTCDay())%7*864e5),b=new Date(Number(b=D(y.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),w=(y-b)/864e5/7+1;v.push('<td class="cw">'+w+"</td>")}(m=this.getClassNames(h)).push("day");var x=h.getUTCDate();this.o.beforeShowDay!==T.noop&&((e=this.o.beforeShowDay(this._utc_to_local(h)))===$?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&m.push("disabled"),e.classes&&(m=m.concat(e.classes.split(/\s+/))),e.tooltip&&(t=e.tooltip),e.content&&(x=e.content)),m=T.isFunction(T.uniqueSort)?T.uniqueSort(m):T.unique(m),v.push('<td class="'+m.join(" ")+'"'+(t?' title="'+t+'"':"")+' data-date="'+h.getTime().toString()+'">'+x+"</td>"),t=null,g===this.o.weekEnd&&v.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(v.join(""));var k=A[this.o.language].monthsTitle||A.en.monthsTitle||"Months",C=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?k:r).end().find("tbody span").removeClass("active");if(T.each(this.dates,function(t,e){e.getUTCFullYear()===r&&C.eq(e.getUTCMonth()).addClass("active")}),(r<a||s<r)&&C.addClass("disabled"),r===a&&C.slice(0,o).addClass("disabled"),r===s&&C.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==T.noop){var S=this;T.each(C,function(t,e){var n=new Date(r,t,1),i=S.o.beforeShowMonth(n);i===$?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1!==i.enabled||T(e).hasClass("disabled")||T(e).addClass("disabled"),i.classes&&T(e).addClass(i.classes),i.tooltip&&T(e).prop("title",i.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,r,a,s,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,r,a,s,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,r,a,s,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),a=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,o=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,c=1;switch(this.viewMode){case 0:t=i<=a&&r<=o,e=s<=i&&l<=r;break;case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:t=Math.floor(i/c)*c<=a,e=Math.floor(i/c)*c+c>=s}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(t){var e,n,i,r;t.preventDefault(),t.stopPropagation(),(e=T(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass("today")&&!e.hasClass("day")&&(this.setViewMode(0),this._setDate(x(),"linked"===this.o.todayBtn?null:"view")),e.hasClass("clear")&&this.clearDates(),e.hasClass("disabled")||(e.hasClass("month")||e.hasClass("year")||e.hasClass("decade")||e.hasClass("century"))&&(this.viewDate.setUTCDate(1),(n=1)===this.viewMode?(r=e.parent().find("span").index(e),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r)):(r=0,i=Number(e.text()),this.viewDate.setUTCFullYear(i)),this._trigger(M.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(D(i,r,n)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){var e=T(t.currentTarget).data("date"),n=new Date(e);this.o.updateViewDate&&(n.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),
n.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(n)},navArrowsClick:function(t){var e=T(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(e*=12*M.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,e),this._trigger(M.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(e):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!c(t))return this.o.defaultViewDate;if(!e)return t;var n,i,r=new Date(t.valueOf()),a=r.getUTCDate(),o=r.getUTCMonth(),s=Math.abs(e);if(e=0<e?1:-1,1===s)i=-1===e?function(){return r.getUTCMonth()===o}:function(){return r.getUTCMonth()!==n},n=o+e,r.setUTCMonth(n),n=(n+12)%12;else{for(var l=0;l<s;l++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(a),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--a),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(t){return-1!==T.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||0<T.grep(this.o.datesDisabled,function(t){return a(e,t)}).length},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,n,i=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+M.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var h=function(t,e){T.data(t,"datepicker",this),this.element=T(t),this.inputs=T.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,this.keepEmptyValues=e.keepEmptyValues,delete e.keepEmptyValues,r.call(T(this.inputs),e).on("changeDate",T.proxy(this.dateUpdated,this)),this.pickers=T.map(this.inputs,function(t){return T.data(t,"datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=T.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var n=T.map(this.dates,function(t){return t.valueOf()});T.each(this.pickers,function(t,e){e.setRange(n)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=T.data(t.target,"datepicker");if(n!==$){var i=n.getUTCDate(),r=this.keepEmptyValues,e=T.inArray(t.target,this.inputs),a=e-1,o=e+1,s=this.inputs.length;if(-1!==e){if(T.each(this.pickers,function(t,e){e.getUTCDate()||e!==n&&r||e.setUTCDate(i)}),i<this.dates[a])for(;0<=a&&i<this.dates[a];)this.pickers[a--].setUTCDate(i);else if(i>this.dates[o])for(;o<s&&i>this.dates[o];)this.pickers[o++].setUTCDate(i);this.updateDates(),delete this.updating}}}},destroy:function(){T.map(this.pickers,function(t){t.destroy()}),T(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var i=T.fn.datepicker,r=function(o){var s,l=Array.apply(null,arguments);if(l.shift(),this.each(function(){var t=T(this),e=t.data("datepicker"),n="object"==typeof o&&o;if(!e){var i=u(this,"date"),r=d(T.extend({},p,i,n).language),a=T.extend({},p,r,i,n);t.hasClass("input-daterange")||a.inputs?(T.extend(a,{inputs:a.inputs||t.find("input").toArray()}),e=new h(this,a)):e=new k(this,a),t.data("datepicker",e)}"string"==typeof o&&"function"==typeof e[o]&&(s=e[o].apply(e,l))}),s===$||s instanceof k||s instanceof h)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+o+" function)");return s};T.fn.datepicker=r;var p=T.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:T.noop,beforeShowMonth:T.noop,beforeShowYear:T.noop,beforeShowDecade:T.noop,beforeShowCentury:T.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},o=T.fn.datepicker.locale_opts=["format","rtl","weekStart"];T.fn.datepicker.Constructor=k;var A=T.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},M={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(t,e,n,i){function r(t,e){return!0===e&&(e=10),t<100&&(t+=2e3)>(new Date).getFullYear()+e&&(t-=100),t}function a(){var t=this.slice(0,o[c].length),e=o[c].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!t)return $;if(t instanceof Date)return t;if("string"==typeof e&&(e=M.parseFormat(e)),e.toValue)return e.toValue(t,e,n);var o,s,l,c,u,d={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},h={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(t in h&&(t=h[t]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(t)){for(o=t.match(/([\-+]\d+)([dmwy])/gi),t=new Date,c=0;c<o.length;c++)s=o[c].match(/([\-+]\d+)([dmwy])/i),l=Number(s[1]),u=d[s[2].toLowerCase()],t=k.prototype[u](t,l);return k.prototype._zero_utc_time(t)}o=t&&t.match(this.nonpunctuation)||[];var p,f,g={},m=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(t,e){return t.setUTCFullYear(i?r(e,i):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};v.yy=v.yyyy,v.M=v.MM=v.mm=v.m,v.dd=v.d,t=x();var _=e.parts.slice();if(o.length!==_.length&&(_=T(_).filter(function(t,e){return-1!==T.inArray(e,m)}).toArray()),o.length===_.length){var y,b,w;for(c=0,y=_.length;c<y;c++){if(p=parseInt(o[c],10),s=_[c],isNaN(p))switch(s){case"MM":f=T(A[n].months).filter(a),p=T.inArray(f[0],A[n].months)+1;break;case"M":f=T(A[n].monthsShort).filter(a),p=T.inArray(f[0],A[n].monthsShort)+1}g[s]=p}for(c=0;c<m.length;c++)(w=m[c])in g&&!isNaN(g[w])&&(b=new Date(t),v[w](b,g[w]),isNaN(b)||(t=b))}return t},formatDate:function(t,e,n){if(!t)return"";if("string"==typeof e&&(e=M.parseFormat(e)),e.toDisplay)return e.toDisplay(t,e,n);var i={d:t.getUTCDate(),D:A[n].daysShort[t.getUTCDay()],DD:A[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:A[n].monthsShort[t.getUTCMonth()],MM:A[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,t=[];for(var r=T.extend([],e.separators),a=0,o=e.parts.length;a<=o;a++)r.length&&t.push(r.shift()),t.push(i[e.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+p.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+p.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};M.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+M.headTemplate+"<tbody></tbody>"+M.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+M.headTemplate+M.contTemplate+M.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+M.headTemplate+M.contTemplate+M.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+M.headTemplate+M.contTemplate+M.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+M.headTemplate+M.contTemplate+M.footTemplate+"</table></div></div>",T.fn.datepicker.DPGlobal=M,T.fn.datepicker.noConflict=function(){return T.fn.datepicker=i,this},T.fn.datepicker.version="1.7.1",T.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},T(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=T(this);e.data("datepicker")||(t.preventDefault(),r.call(e,"show"))}),T(function(){r.call(T('[data-provide="datepicker-inline"]'))})}),Handlebars.registerHelper("format_sage_id",function(t){var e=t.substring(0,3)+" "+t.substring(3,6)+" "+t.substring(6,10);return new Handlebars.SafeString(e)}),Handlebars.registerHelper("uppercase",function(t){return new Handlebars.SafeString(t.toUpperCase())}),Handlebars.registerHelper("pattern_mask",function(t,e){var n=$('<span class="dynamic-span-mask">'+e+"</span>"),i=_fpa.masker.mask_from_pattern(t);n.mask(i.mask,{translation:i.translation,reverse:i.reverse});var r=n.html();return new Handlebars.SafeString(r.toUpperCase())}),function(t,e){"object"==typeof exports?module.exports=e(require("handlebars")):"function"==typeof define&&define.amd?define(["handlebars"],e):t.HandlebarsHelpersRegistry=e(t.Handlebars)}(this,function(n){var i=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t=function(){this.expressions=[]};t.prototype.add=function(t,e){this.expressions[t]=e},t.prototype.call=function(t,e,n){if(!this.expressions.hasOwnProperty(t))throw new Error('Unknown operator "'+t+'"');return this.expressions[t](e,n)};var a=new t;a.add("not",function(t,e){return t!=e}),a.add(">",function(t,e){return e<t}),a.add("<",function(t,e){return t<e}),a.add(">=",function(t,e){return e<=t}),a.add("<=",function(t,e){return t<=e}),a.add("===",function(t,e){return t===e}),a.add("!==",function(t,e){return t!==e}),a.add("in",function(t,e){return i(e)||(e=e.split(",")),-1!==e.indexOf(t)}),a.add("!in",function(t,e){return i(e)||(e=e.split(",")),-1===e.indexOf(t)}),a.add("includes",function(t,e){if(t){new RegExp(e);return-1!==t.search(e)}}),a.add("typeof",function(t,e){if(e)return"object"==e?null!==t&&!(t instanceof String)&&!(t instanceof Number)&&!(t instanceof Date)&&"object"==typeof t&&Object.keys(t).length:typeof t==e});var e=function(){var t=arguments,e=t[0],n=t[1],i=t[2],r=t[3];return 2==t.length?(r=t[1],e?r.fn(this):r.inverse(this)):3==t.length?(i=t[1],r=t[2],e==i?r.fn(this):r.inverse(this)):a.call(n,e,i)?r.fn(this):r.inverse(this)},r=function(t,e,n){return t&&-1!==t.indexOf(e)?n.fn(this):n.inverse(this)};return n.registerHelper("is",e),n.registerHelper("contains",r),n.registerHelper("split",function(t,e){var n="";if(!t)return n;for(var i in t)n+="<"+e+">"+t[i]+"</"+e+">";return n}),n.registerHelper("if_all",function(){for(var t=[].slice.apply(arguments),e=t.pop(),n=e.fn,i=0;i<t.length;++i)if(!t[i]){n=e.inverse;break}return n(this)}),n.registerHelper("caption_before_substitutions",function(t,e){var n=e.fn(this),i=$(n);return _fpa.form_utils.caption_before_substitutions(i,t),i[0].outerHTML}),n.registerHelper("join",function(t,e){return t.join(e)}),n.registerHelper("replace",function(t,e,n,i){var r;if(!e||""==e)return t;if(null!=t){i.hasOwnProperty("name")||(r=i);var a=new RegExp(e,r);return t.replace(a,n)}}),n.registerHelper("was",function(t,e){return t||0===t?e.fn(this):e.inverse(this)}),n.registerHelper("has",function(t,e){return this.hasOwnProperty(t)?e.fn(this):e.inverse(this)}),n.registerHelper("includes",function(t,e){if(t){new RegExp(e);return-1!==t.search(e)}}),n.registerHelper("with_content",function(t,e,n,i){return with_content(t,e,n,i)}),n.registerHelper("stringify",function(t){return JSON.stringify(t,undefined,4)}),n.registerHelper("plain_object",function(t){return t}),n.registerHelper("typeof",function(t){return typeof t}),n.registerHelper("nl2br",function(t){return _fpa.utils.nl2br(t)}),n.registerHelper("quoteattr",function(t){var e=!1;return e=e?"&#13;":"\n",(""+t).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,e).replace(/[\r\n]/g,e)}),n.registerHelper("timestamp",function(t){if(t)return _fpa.utils.ISOdatetoTimestamp(t)}),n.registerHelper("get",function(t,e,n,i){if(t&&e){var r=t[e.toString()];return n&&r?(r=r[n],i&&r?r[i]:r):r}}),n.registerHelper("date_time",function(t){if(t){var e=new Date(Date.parse(t)).toLocaleString();return new n.SafeString(e)}e=(new Date).toLocaleString();return new n.SafeString(e)}),n.registerHelper("format_10_digit_external_id",function(t){var e=(t=""+t).substring(0,3)+" "+t.substring(3,6)+" "+t.substring(6,10);return new n.SafeString(e)}),n.registerHelper("fpa_state_item",function(t,e,n){var i=_fpa.state[t];return i&&e&&(i=i[e]),i&&n&&!n.hash&&(i=i[n]),i}),n.registerHelper("pad_start",function(t,e,n){return String(t).padStart(e,n)}),n.registerHelper("simple_log",function(t){console.log(t)}),n.registerHelper("log",function(){console.log(["Values:"].concat(Array.prototype.slice.call(arguments,0,-1)))}),n.registerHelper("debug",function(){console.log("Context:",this),console.log(["Values:"].concat(Array.prototype.slice.call(arguments,0,-1)))}),n.registerHelper("filter",function(t,e,n){var i,r,a,o;r="";var s=e.split(",");for(a=0,o=s.length;a<o;a++)i=t[s[a]],r+=n.fn(i,{data:{key:s[a]}});return r}),n.registerHelper("local_date",function(t,e,n){if(null===t||""===t)return e;var i=t,r=new Date(Date.parse(t+"T00:00:00Z"));return r&&"Invalid Date"!=r?new Date(i).toLocaleDateString(undefined,{timeZone:"UTC"}):n.hash.return_string?t:e}),n.registerHelper("underscore",function(t){return t?t.toLowerCase().replace(/ /g,"_"):null}),n.registerHelper("pretty_string",function(t,e){return e&&!e.hash&&(e.hash={}),_fpa.utils.pretty_print(t,e.hash)}),n.registerHelper("local_time",function(t,e){if(t&&""!=t&&t.length){if(e&&!e.hash&&(e.hash={}),1<(n=t.toString()).toLowerCase().indexOf("pm")||1<n.toLowerCase().indexOf("am"))return n;var n=new Date(n);return new Date(n.getTime()+6e4*n.getTimezoneOffset()).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}}),n.registerHelper("capitalize",function(t){return _fpa.utils.capitalize(t)}),n.registerHelper("hyphenate",function(t){if(t)return t.hyphenate()}),n.registerHelper("pathify",function(t){if(t)return t.pathify()}),n.registerHelper("pluralize",function(t){if(t)return"y"==t[t.length-1]?t.substring(0,t.length-1)+"ies":t+"s"}),n.registerHelper("substring",function(t,e,n){if(null!=t){if(t.toString&&(t=t.toString()),!t.substring)return t;var i=document.createElement("textarea");return i.innerHTML=t,(t=i.value).length>n+10&&(t=t.substring(e,n),t+="(...)"),t}}),n.registerHelper("one_decimal",function(t){return t.toFixed(1)}),n.registerHelper("pretty_print",function(t){return JSON.stringify(t,null,2)}),n.registerHelper("pretty_print_html",function(t){return JSON.stringify(t,null,"<div>  ")}),n.registerHelper("humanize",function(t){if(t)return(t=_fpa.utils.translate(t,"field_labels")).replace(/_/g," ")}),n.registerHelper("in",function(t,e,n,i){return 0<=n.split(",").indexOf(e)?i.fn(t):i.inverse(t)}),a}),_fpa.masters={max_results:100,get_results_block:function(){return $("#embed_results_block,#master_results_block").last()},switch_id_on_click:function(t){t.find(".switch_id").not("attached-switch-click").click(function(t){t.preventDefault();var e=$(this).parent(),n=e.find("span.alt_id"),i=e.find("span.master_id");n.is(":visible")?(n.hide(),i.show(),$(this).attr("title","switch to Master ID")):(i.hide(),n.show(),$(this).attr("title","switch to alternative ID"))}).addClass("attached-switch-click")},handle_search_form:function(t){t.each(function(){var n=$(this);n.find("input, select, textarea").not(".no-auto-submit, .tt-input, .attached-change").on("change",function(){_fpa.cancel_remote();var t=$(this).attr("data-only-for"),e=($(this).val(),!0);t&&$(t).each(function(){var t=$(this);null===t.val()||""===t.val()||t.hasClass("prevent-submit")||(e=!1)}),t&&e||window.setTimeout(function(){n.find('input[type="submit"].auto-submitter').click()},1),$(".prevent-submit").removeClass("prevent-submit")}).addClass("attached-change"),n.find("input.tt-input").not(".attached-change").on("blur",function(){window.setTimeout(function(){n.find('input[type="submit"].auto-submitter').click()},1)}).addClass("attached-change"),n.find('input[type="submit"]').click(function(){var t=$(this).val(),e=!1;"csv"!==t&&"json"!==t||(e=!0);var n=$(this).parents("form").first();n.data("remote",!e).attr("target",e?t:null),n.find('input[name="part"]').val(e?"":"results"),e&&$("#master_results_block").html('<h3 class="text-center">Exported '+t+"</h3>")})}).on("keypress",function(){_fpa.cancel_remote()}).on("submit",function(){$(this).data("remote")&&_fpa.masters.get_results_block().html('<h3 class="text-center"><span class="glyphicon glyphicon-search search-running"></span></h3>')})},set_fields_to_search:function(){var e=$(".search_master");_fpa.masters.handle_search_form(e),$(".clear-fields").not(".attached-clear-fields").on("click",function(t){$(this).attr("disabled")||(t.preventDefault(),e.find("input, select").not('[type="submit"], [type="hidden"]').val(null).removeClass("has-value"),$("select[multiple]").trigger("chosen:updated"),$("#master_results_block").html('<h3 class="text-center"></h3>'),$("#search_count_simple").html(""),$("#search_count").html(""))}).addClass("attached-clear-fields"),$("#master_not_tracker_histories_attributes_0_sub_process_id").not(".attached-force-notice").on("change",function(){var t=$(this).val();t&&""!==t?($("#search_count").html(""),$("#master_results_block").html('<h3 class="text-center">Select any event to search for a protocol/category never having the selected process</h3>'),$(".tsf-any-event-not").addClass("has-warning").one("change",function(){$(this).removeClass("has-warning")}),$(".tsf-any-event-not select").focus()):$(this).parents("form").submit()}).addClass("attached-force-notice"),$("#master_not_trackers_attributes_0_sub_process_id").not(".attached-force-notice").on("change",function(){var t=$(this).val();t&&""!==t?($("#search_count").html(""),$("#master_results_block").html('<h3 class="text-center">Select current event to search for a protocol/category not currently in the selected process</h3>'),$(".tsf-current-event-not").addClass("has-warning").one("change",function(){$(this).removeClass("has-warning")}),$(".tsf-current-event-not select").focus()):$(this).parents("form").submit()}).addClass("attached-force-notice")}},_fpa.loaded.masters=function(){_fpa.masters.set_fields_to_search(),$("#expand-adv-form").click(function(){$("#master_results_block").html("")}),$("form").not(".navbar-form").find("input, select").on("keypress change",function(){$('.navbar-form input[type="text"]').removeClass("has-value").val("")}),$("form.new_master").on("submit",function(){_fpa.preprocessors.before_all($(this))})},_fpa.loaded.reports=function(){_fpa.postprocessors.reports_form($(".report-criteria")),$(".postprocessed-scroll-here").removeClass("postprocessed-scroll-here").addClass("prevent-scroll"),1==$("#editable_data").length&&1<=$(".report-criteria-fields").length&&$('input[type="submit"][value="table"]').click()},_fpa.reports={window_scrolling:function(){$("html").on("wheel",function(t){0<t.originalEvent.deltaY&&(_fpa.reports.report_position_buttons("go-to-results"),_fpa.reports.reset_window_scrolling())})},reset_window_scrolling:function(){$("html").off("wheel")},report_position_buttons:function(t){var e=$(".show-results-btn"),n=$(".back-to-search-form-btn");0==e.length&&0==n.length||(e.not(".has-rsf-clicks").click(function(t){t.preventDefault(),_fpa.reports.report_position_buttons("go-to-results")}).addClass("has-rsf-clicks"),n.not(".has-rsf-clicks").click(function(t){t.preventDefault(),_fpa.reports.report_position_buttons("go-to-form")}).addClass("has-rsf-clicks"),"go-to-results"==t?(e.hide(),n.show(),_fpa.reports.reset_window_scrolling(),$.scrollTo("#report-results-block",200)):"go-to-form"==t&&(e.show(),n.hide(),_fpa.reports.window_scrolling(),$.scrollTo("#body-top",200)))},results_subsearch:function(t){t.find('td[data-col-type^="search_reports_"]').not(".attached_report_search").each(function(){var t=$(this).attr("data-col-type");if(!$(this).hasClass("attached_report_search")&&t.match(/search_reports_[0-9]+_.+/)){var e=t.split("_",4),n=e[3],i=e[2],r=$(this).html(),a=$('<a href="'+("/reports/"+i+".json?&search_attrs["+n+"]="+r+"&commit=search")+'" data-remote="true" data-result-target="#modal_results_block" data-result-target-force="true" data-template="modal-pi-search-results-template" title="click to search">'+$(this).html()+"</a>");$(this).html(a),$(this).addClass("attached_report_search"),a.click(function(){var t='<div id="modal_results_block" class=""></div>';_fpa.show_modal(t,"Search results for "+r,!0)})}})},results_perform_action_link:function(t){t.find('td[data-col-type^="perform action:"]').not(".attached_report_search").each(function(){var t=$(this).attr("data-col-type").split(":",2)[1],e=$(this).html();if(e&&""!=e){var n=JSON.parse(e),i=n.perform_action;delete n.perform_action,n.label&&(t=n.label,delete n.label);var r={};for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];0<=i.indexOf("!"+a)?i=i.replace("!"+a,o):r[a]=o}var s='<a href="'+i+"?"+$.param(r)+'" target="report-perform-action">'+t+"</a>";$(this).html(s)}})},results_select_items_for_form:function(t){var o,s;if(t.find('td[data-col-type^="chart:"]').not(".attached_report_chart").each(function(){var t=$(this).parent(),e=$(this).attr("data-col-type"),n=$(this).html();if(n&&""!=n){for(var i=n.match(/colval\.[a-zA-Z0-9_]+/g),r=0;r<i.length;r++){var a=i[r],o=a.split(".")[1],s=t.find('td[data-col-type="'+o+'"]').html();s=s?s.trim():null,n=n.replace(a,s)}var l=JSON.parse(n);l.options=l.options||{};var c=l.label,u=l,d=l.width,h=l.height;if(d||h)var p=!0;d=d||100,h=h||100,l.options.responsive=!p;var f=$('<canvas width="'+d+'" height="'+h+'"></canvas>');$(this).html(f);var g=$(this).find("canvas"),m=(new Chart(g,u),$('th[data-col-type="'+e+'"]').not(".added-chart-legend"));if(0<m.length)m.find("p.table-header-col-type").html(c),m.addClass("no-sort added-chart-legend")}}).addClass("attached_report_chart"),t.find('td[data-col-type^="select items:"]').not(".attached_report_search").each(function(){o=$(this).attr("data-col-type"),s=o.split(":",3);var t=$(this).html();if(t&&""!=t){var e=JSON.parse(t),n=e.field_name,i=e.value,r=$('<input type="checkbox" class="report-file-selector" name="'+n+'"/>');r.val(JSON.stringify(i));var a=r;$(this).html(a)}}),s){var e=s[1].trim();if(s[2])var n=s[2].trim();var i=$("#report-container").attr("data-report-id");if("download files"==e)var r=$('<form id="itemselection-for-report" method="post" action="/nfs_store/downloads/multi" target="download_files"><input type="hidden" name="nfs_store_download[container_id]" value="multi"></form>');else if("add to list"==e)r=$('<form id="itemselection-for-report" method="post" action="/reports/'+i+'/add_to_list.json" class="report-add-to-list" data-remote="true"><input type="hidden" name="add_to_list[list_name]" value="'+n+'"></form>');else if("remove from list"==e){r=$('<form id="itemselection-for-report" method="post" action="/reports/'+i+'/remove_from_list.json" class="report-remove-from-list" data-remote="true"><input type="hidden" name="remove_from_list[list_name]" value="'+n+'"></form>');var a=$('[data-result="#report-embedded"]');0==a.length&&(a=$("body")),a.find("#report_query_form").addClass("keep-notices"),r.on("ajax:success",function(){a.find("#report-form-submit-btn").addClass("keep-notices").click()})}var l='<span class="report-files-actions"><input type="checkbox" id="report-select-all-files"><label for="report-select-all-files">select all</label> <input type="submit" value="'+e+'" class="btn btn-primary"/></span>',c=$("table.report-table");r.insertBefore(c),c.appendTo($("#itemselection-for-report")),$(document).on("change","#report-select-all-files",function(){var t=$(".report-file-selector");$(this).is(":checked")?t.attr("checked",!0):t.attr("checked",null)}),c.find("thead th").each(function(){$(this).find("p:first").html()==o&&($(this).addClass("no-sort"),$(this).append(l))})}},run_autos:function(t){t||(t=".report-auto"),$(t).each(function(){var o=$(this),t=o.attr("data-report-id");_fpa.ajax_working(o),$.ajax({url:"/reports/"+t+".json?search_attrs=_use_defaults_",success:function(t){var e,n;if(_fpa.ajax_done(o),t&&t.search_attributes)for(var i in n="",t.search_attributes)if(t.search_attributes.hasOwnProperty(i)&&"ids_filter_previous"!==i){var r=t.search_attributes[i];n+='<div class="report-search-attr"><span class="attr-label">'+i+'</span><span class="attr-val">'+_fpa.utils.pretty_print(r,{return_string:!0})+"</span></div>"}if(t&&t.results&&t.results[0]){var a=t.results.length;e=1==a?a+" result":a+" results"}else e="-";o.find(".report-measure").html(e),n&&o.find(".report-search-attr").html(n)}})})}};var SecureViewAppSpecific=function(){var i=this;this.setup=function(t){return this.secure_view=t,this.$show_files=$("#sv-extra-actions-show_files"),this.$show_files.not(".sv-added-click-ev").on("click",function(t){var e=i.secure_view.$owner_el,n=e;n.hasClass("sv-file-listing")?i.close_folder():(n.addClass("sv-file-listing"),$(this).addClass("glyphicon-folder-close"),$(this).removeClass("glyphicon-folder-open"),e.find("a.refresh-container-list").attr("disabled",!0)),t.preventDefault()}).addClass("sv-added-click-ev"),this.close_folder(),this},this.close=function(){this.close_folder()},this.close_folder=function(){this.secure_view.$owner_el.removeClass("sv-file-listing"),this.$show_files.addClass("glyphicon-folder-open"),this.$show_files.removeClass("glyphicon-folder-close"),this.secure_view.$owner_el.find("a.refresh-container-list").attr("disabled",!1)}};