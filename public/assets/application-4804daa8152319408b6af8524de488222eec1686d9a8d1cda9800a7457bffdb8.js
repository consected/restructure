if(function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";function m(e,t,n){var i,r=(t=t||ae).createElement("script");if(r.text=e,n)for(i in be)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function g(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?he[pe.call(e)]||"object":typeof e}function o(e){var t=!!e&&"length"in e&&e.length,n=g(e);return!ve(e)&&!ye(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function c(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function t(e,n,i){return ve(n)?ke.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?ke.grep(e,function(e){return e===n!==i}):"string"!=typeof n?ke.grep(e,function(e){return-1<de.call(n,e)!==i}):ke.filter(n,e,i)}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var n={};return ke.each(e.match(Ne)||[],function(e,t){n[t]=!0}),n}function d(e){return e}function h(e){throw e}function l(e,t,n,i){var r;try{e&&ve(r=e.promise)?r.call(e).done(t).fail(n):e&&ve(r=e.then)?r.call(e,t,n):t.apply(undefined,[e].slice(i))}catch(e){n.apply(undefined,[e])}}function i(){ae.removeEventListener("DOMContentLoaded",i),C.removeEventListener("load",i),ke.ready()}function r(e,t){return t.toUpperCase()}function p(e){return e.replace(Me,"ms-").replace(He,r)}function s(){this.expando=ke.expando+s.uid++}function a(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Be.test(e)?JSON.parse(e):e)}function f(e,t,n){var i;if(n===undefined&&1===e.nodeType)if(i="data-"+t.replace(Ue,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=a(n)}catch(r){}qe.set(e,t,n)}else n=undefined;return n}function _(e,t,n,i){var r,s,a=20,o=i?function(){return i.cur()}:function(){return ke.css(e,t,"")},l=o(),c=n&&n[3]||(ke.cssNumber[t]?"":"px"),u=(ke.cssNumber[t]||"px"!==c&&+l)&&We.exec(ke.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)ke.style(e,t,u+c),(1-s)*(1-(s=o()/l||.5))<=0&&(a=0),u/=s;u*=2,ke.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function v(e){var t,n=e.ownerDocument,i=e.nodeName,r=Qe[i];return r||(t=n.body.appendChild(n.createElement(i)),r=ke.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),Qe[i]=r)}function y(e,t){for(var n,i,r=[],s=0,a=e.length;s<a;s++)(i=e[s]).style&&(n=i.style.display,t?("none"===n&&(r[s]=Fe.get(i,"display")||null,r[s]||(i.style.display="")),""===i.style.display&&Ke(i)&&(r[s]=v(i))):"none"!==n&&(r[s]="none",Fe.set(i,"display",n)));for(s=0;s<a;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}function b(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],t===undefined||t&&c(e,t)?ke.merge([e],n):n}function w(e,t){for(var n=0,i=e.length;n<i;n++)Fe.set(e[n],"globalEval",!t||Fe.get(t[n],"globalEval"))}function k(e,t,n,i,r){for(var s,a,o,l,c,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((s=e[p])||0===s)if("object"===g(s))ke.merge(h,s.nodeType?[s]:s);else if(nt.test(s)){for(a=a||d.appendChild(t.createElement("div")),o=(Je.exec(s)||["",""])[1].toLowerCase(),l=Ze[o]||Ze._default,a.innerHTML=l[1]+ke.htmlPrefilter(s)+l[2],u=l[0];u--;)a=a.lastChild;ke.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(t.createTextNode(s));for(d.textContent="",p=0;s=h[p++];)if(i&&-1<ke.inArray(s,i))r&&r.push(s);else if(c=ke.contains(s.ownerDocument,s),a=b(d.appendChild(s),"script"),c&&w(a),n)for(u=0;s=a[u++];)Ge.test(s.type||"")&&n.push(s);return d}function x(){return!0}function $(){return!1}function T(){try{return ae.activeElement}catch(e){}}function S(e,t,n,i,r,s){var a,o;if("object"==typeof t){for(o in"string"!=typeof n&&(i=i||n,n=undefined),t)S(e,o,n,i,t[o],s);return e}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=$;else if(!r)return e;return 1===s&&(a=r,(r=function(e){return ke().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=ke.guid++)),e.each(function(){ke.event.add(this,t,r,i,n)})}function D(e,t){return c(e,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")&&ke(e).children("tbody")[0]||e}function E(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function A(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function P(e,t){var n,i,r,s,a,o,l,c;if(1===t.nodeType){if(Fe.hasData(e)&&(s=Fe.access(e),a=Fe.set(t,s),c=s.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)ke.event.add(t,r,c[r][n]);qe.hasData(e)&&(o=qe.access(e),l=ke.extend({},o),qe.set(t,l))}}function I(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Xe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function N(n,i,r,s){i=ce.apply([],i);var e,t,a,o,l,c,u=0,d=n.length,h=d-1,p=i[0],f=ve(p);if(f||1<d&&"string"==typeof p&&!_e.checkClone&&ct.test(p))return n.each(function(e){var t=n.eq(e);f&&(i[0]=p.call(this,e,t.html())),N(t,i,r,s)});if(d&&(t=(e=k(i,n[0].ownerDocument,!1,n,s)).firstChild,1===e.childNodes.length&&(e=t),t||s)){for(o=(a=ke.map(b(e,"script"),E)).length;u<d;u++)l=e,u!==h&&(l=ke.clone(l,!0,!0),o&&ke.merge(a,b(l,"script"))),r.call(n[u],l,u);if(o)for(c=a[a.length-1].ownerDocument,ke.map(a,A),u=0;u<o;u++)l=a[u],Ge.test(l.type||"")&&!Fe.access(l,"globalEval")&&ke.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?ke._evalUrl&&ke._evalUrl(l.src):m(l.textContent.replace(ut,""),c,l))}return n}function O(e,t,n){for(var i,r=t?ke.filter(t,e):e,s=0;null!=(i=r[s]);s++)n||1!==i.nodeType||ke.cleanData(b(i)),i.parentNode&&(n&&ke.contains(i.ownerDocument,i)&&w(b(i,"script")),i.parentNode.removeChild(i));return e}function j(e,t,n){var i,r,s,a,o=e.style;return(n=n||ht(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ke.contains(e.ownerDocument,e)||(a=ke.style(e,t)),!_e.pixelBoxStyles()&&dt.test(a)&&pt.test(t)&&(i=o.width,r=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=i,o.minWidth=r,o.maxWidth=s)),a!==undefined?a+"":a}function L(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function M(e){if(e in yt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=vt.length;n--;)if((e=vt[n]+t)in yt)return e}function H(e){var t=ke.cssProps[e];return t||(t=ke.cssProps[e]=M(e)||e),t}function R(e,t,n){var i=We.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function F(e,t,n,i,r,s){var a="width"===t?1:0,o=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=ke.css(e,n+Ve[a],!0,r)),i?("content"===n&&(l-=ke.css(e,"padding"+Ve[a],!0,r)),"margin"!==n&&(l-=ke.css(e,"border"+Ve[a]+"Width",!0,r))):(l+=ke.css(e,"padding"+Ve[a],!0,r),"padding"!==n?l+=ke.css(e,"border"+Ve[a]+"Width",!0,r):o+=ke.css(e,"border"+Ve[a]+"Width",!0,r));return!i&&0<=s&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-o-.5))),l}function q(e,t,n){var i=ht(e),r=j(e,t,i),s="border-box"===ke.css(e,"boxSizing",!1,i),a=s;if(dt.test(r)){if(!n)return r;r="auto"}return a=a&&(_e.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===ke.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(r=parseFloat(r)||0)+F(e,t,n||(s?"border":"content"),a,i,r)+"px"}function B(e,t,n,i,r){return new B.prototype.init(e,t,n,i,r)}function U(){wt&&(!1===ae.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(U):C.setTimeout(U,ke.fx.interval),ke.fx.tick())}function z(){return C.setTimeout(function(){bt=undefined}),bt=Date.now()}function W(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=Ve[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function V(e,t,n){for(var i,r=(Q.tweeners[t]||[]).concat(Q.tweeners["*"]),s=0,a=r.length;s<a;s++)if(i=r[s].call(n,t,e))return i}function K(e,t,n){var i,r,s,a,o,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&Ke(e),g=Fe.get(e,"fxshow");for(i in n.queue||(null==(a=ke._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,ke.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],Ct.test(r)){if(delete t[i],s=s||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||g[i]===undefined)continue;m=!0}p[i]=g&&g[i]||ke.style(e,i)}if((l=!ke.isEmptyObject(t))||!ke.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Fe.get(e,"display")),"none"===(u=ke.css(e,"display"))&&(c?u=c:(y([e],!0),c=e.style.display||c,u=ke.css(e,"display"),y([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===ke.css(e,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=Fe.access(e,"fxshow",{display:c}),s&&(g.hidden=!m),m&&y([e],!0),h.done(function(){for(i in m||y([e]),Fe.remove(e,"fxshow"),p)ke.style(e,i,p[i])})),l=V(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}function Y(e,t){var n,i,r,s,a;for(n in e)if(r=t[i=p(n)],s=e[n],Array.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),(a=ke.cssHooks[i])&&"expand"in a)for(n in s=a.expand(s),delete e[i],s)n in e||(e[n]=s[n],t[n]=r);else t[i]=r}function Q(s,e,t){var n,a,i=0,r=Q.prefilters.length,o=ke.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=bt||z(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return o.notifyWith(s,[c,n,t]),n<1&&r?t:(r||o.notifyWith(s,[c,1,0]),o.resolveWith(s,[c]),!1)},c=o.promise({elem:s,props:ke.extend({},e),opts:ke.extend(!0,{specialEasing:{},easing:ke.easing._default},t),originalProperties:e,originalOptions:t,startTime:bt||z(),duration:t.duration,tweens:[],createTween:function(e,t){var n=ke.Tween(s,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?(o.notifyWith(s,[c,1,0]),o.resolveWith(s,[c,e])):o.rejectWith(s,[c,e]),this}}),u=c.props;for(Y(u,c.opts.specialEasing);i<r;i++)if(n=Q.prefilters[i].call(c,s,u,c.opts))return ve(n.stop)&&(ke._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return ke.map(u,V,c),ve(c.opts.start)&&c.opts.start.call(s,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),ke.fx.timer(ke.extend(l,{elem:s,anim:c,queue:c.opts.queue})),c}function X(e){return(e.match(Ne)||[]).join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function G(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Ne)||[]}function Z(n,e,i,r){var t;if(Array.isArray(e))ke.each(e,function(e,t){i||Lt.test(n)?r(n,t):Z(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,r)});else if(i||"object"!==g(e))r(n,e);else for(t in e)Z(n+"["+t+"]",e[t],i,r)}function ee(s){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(Ne)||[];if(ve(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(s[n]=s[n]||[]).unshift(t)):(s[n]=s[n]||[]).push(t)}}function te(t,r,s,a){function o(e){var i;return l[e]=!0,ke.each(t[e]||[],function(e,t){var n=t(r,s,a);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(r.dataTypes.unshift(n),o(n),!1)}),i}var l={},c=t===Yt;return o(r.dataTypes[0])||!l["*"]&&o("*")}function ne(e,t){var n,i,r=ke.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&ke.extend(!0,e,i),e}function ie(e,t,n){for(var i,r,s,a,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){l.unshift(r);break}if(l[0]in n)s=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}a||(a=r)}s=s||a}if(s)return s!==l[0]&&l.unshift(s),n[s]}function re(e,t,n,i){var r,s,a,o,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(s=u.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(a=c[l+" "+s]||c["* "+s]))for(r in c)if((o=r.split(" "))[1]===s&&(a=c[l+" "+o[0]]||c["* "+o[0]])){!0===a?a=c[r]:!0!==c[r]&&(s=o[0],u.unshift(o[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}var se=[],ae=C.document,oe=Object.getPrototypeOf,le=se.slice,ce=se.concat,ue=se.push,de=se.indexOf,he={},pe=he.toString,fe=he.hasOwnProperty,me=fe.toString,ge=me.call(Object),_e={},ve=function ve(e){return"function"==typeof e&&"number"!=typeof e.nodeType},ye=function ye(e){return null!=e&&e===e.window},be={type:!0,src:!0,noModule:!0},we="3.3.1",ke=function(e,t){return new ke.fn.init(e,t)},xe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;ke.fn=ke.prototype={jquery:we,constructor:ke,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=ke.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return ke.each(this,e)},map:function(n){return this.pushStack(ke.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ue,sort:se.sort,splice:se.splice},ke.extend=ke.fn.extend=function(e){var t,n,i,r,s,a,o=e||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[l]||{},l++),"object"==typeof o||ve(o)||(o={}),l===c&&(o=this,l--);l<c;l++)if(null!=(t=arguments[l]))for(n in t)i=o[n],o!==(r=t[n])&&(u&&r&&(ke.isPlainObject(r)||(s=Array.isArray(r)))?(s?(s=!1,a=i&&Array.isArray(i)?i:[]):a=i&&ke.isPlainObject(i)?i:{},o[n]=ke.extend(u,a,r)):r!==undefined&&(o[n]=r));return o},ke.extend({expando:"jQuery"+(we+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==pe.call(e))&&(!(t=oe(e))||"function"==typeof(n=fe.call(t,"constructor")&&t.constructor)&&me.call(n)===ge)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,i=0;if(o(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(xe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(o(Object(e))?ke.merge(n,"string"==typeof e?[e]:e):ue.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:de.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,s=e.length,a=!n;r<s;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,s=0,a=[];if(o(e))for(i=e.length;s<i;s++)null!=(r=t(e[s],s,n))&&a.push(r);else for(s in e)null!=(r=t(e[s],s,n))&&a.push(r);return ce.apply([],a)},guid:1,support:_e}),"function"==typeof Symbol&&(ke.fn[Symbol.iterator]=se[Symbol.iterator]),ke.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){he["[object "+t+"]"]=t.toLowerCase()});var Ce=function(n){function b(e,t,n,i){var r,s,a,o,l,c,u,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:q)!==N&&I(t),t=t||N,j)){if(11!==h&&(l=_e.exec(e)))if(r=l[1]){if(9===h){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(d&&(a=d.getElementById(r))&&R(t,a)&&a.id===r)return n.push(a),n}else{if(l[2])return G.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&k.getElementsByClassName&&t.getElementsByClassName)return G.apply(n,t.getElementsByClassName(r)),n}if(k.qsa&&!V[e+" "]&&(!L||!L.test(e))){if(1!==h)d=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((o=t.getAttribute("id"))?o=o.replace(we,ke):t.setAttribute("id",o=F),s=(c=T(e)).length;s--;)c[s]="#"+o+" "+m(c[s]);u=c.join(","),d=ve.test(e)&&f(t.parentNode)||t}if(u)try{return G.apply(n,d.querySelectorAll(u)),n}catch(p){}finally{o===F&&t.removeAttribute("id")}}}return D(e.replace(oe,"$1"),t,n,i)}function e(){function n(e,t){return i.push(e+" ")>x.cacheLength&&delete n[i.shift()],n[e+" "]=t}var i=[];return n}function l(e){return e[F]=!0,e}function r(e){var t=N.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=t}function c(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function i(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function s(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function a(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Ce(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function o(a){return l(function(s){return s=+s,l(function(e,t){for(var n,i=a([],e.length,s),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function m(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function d(o,e,t){var l=e.dir,c=e.next,u=c||l,d=t&&"parentNode"===u,h=U++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||d)return o(e,t,n);return!1}:function(e,t,n){var i,r,s,a=[B,h];if(n){for(;e=e[l];)if((1===e.nodeType||d)&&o(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||d)if(r=(s=e[F]||(e[F]={}))[e.uniqueID]||(s[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[l]||e;else{if((i=r[u])&&i[0]===B&&i[1]===h)return a[2]=i[2];if((r[u]=a)[2]=o(e,t,n))return!0}return!1}}function h(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function v(e,t,n){for(var i=0,r=t.length;i<r;i++)b(e,t[i],n);return n}function w(e,t,n,i,r){for(var s,a=[],o=0,l=e.length,c=null!=t;o<l;o++)(s=e[o])&&(n&&!n(s,i,r)||(a.push(s),c&&t.push(o)));return a}function y(p,f,m,g,_,e){return g&&!g[F]&&(g=y(g)),_&&!_[F]&&(_=y(_,e)),l(function(e,t,n,i){var r,s,a,o=[],l=[],c=t.length,u=e||v(f||"*",n.nodeType?[n]:n,[]),d=!p||!e&&f?u:w(u,o,p,n,i),h=m?_||(e?p:c||g)?[]:t:d;if(m&&m(d,h,n,i),g)for(r=w(h,l),g(r,[],n,i),s=r.length;s--;)(a=r[s])&&(h[l[s]]=!(d[l[s]]=a));if(e){if(_||p){if(_){for(r=[],s=h.length;s--;)(a=h[s])&&r.push(d[s]=a);_(null,h=[],r,i)}for(s=h.length;s--;)(a=h[s])&&-1<(r=_?ee(e,a):o[s])&&(e[r]=!(t[r]=a))}}else h=w(h===t?h.splice(c,h.length):h),_?_(null,t,h,i):G.apply(t,h)})}function p(e){for(var r,t,n,i=e.length,s=x.relative[e[0].type],a=s||x.relative[" "],o=s?1:0,l=d(function(e){return e===r},a,!0),c=d(function(e){return-1<ee(r,e)},a,!0),u=[function(e,t,n){var i=!s&&(n||t!==E)||((r=t).nodeType?l(e,t,n):c(e,t,n));return r=null,i}];o<i;o++)if(t=x.relative[e[o].type])u=[d(h(u),t)];else{if((t=x.filter[e[o].type].apply(null,e[o].matches))[F]){for(n=++o;n<i&&!x.relative[e[n].type];n++);return y(1<o&&h(u),1<o&&m(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(oe,"$1"),t,o<n&&p(e.slice(o,n)),n<i&&p(e=e.slice(n)),n<i&&m(e))}u.push(t)}return h(u)}function g(g,_){var v=0<_.length,y=0<g.length,e=function(e,t,n,i,r){var s,a,o,l=0,c="0",u=e&&[],d=[],h=E,p=e||y&&x.find.TAG("*",r),f=B+=null==h?1:Math.random()||.1,m=p.length;for(r&&(E=t===N||t||r);c!==m&&null!=(s=p[c]);c++){if(y&&s){for(a=0,t||s.ownerDocument===N||(I(s),n=!j);o=g[a++];)if(o(s,t||N,n)){i.push(s);break}r&&(B=f)}v&&((s=!o&&s)&&l--,e&&u.push(s))}if(l+=c,v&&c!==l){for(a=0;o=_[a++];)o(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=X.call(i));d=w(d)}G.apply(i,d),r&&!e&&0<d.length&&1<l+_.length&&b.uniqueSort(i)}return r&&(B=f,E=h),u};return v?l(e):e}var _,k,x,C,$,T,S,D,E,A,P,I,N,O,j,L,M,H,R,F="sizzle"+1*new Date,q=n.document,B=0,U=0,z=e(),W=e(),V=e(),K=function(e,t){return e===t&&(P=!0),0},Y={}.hasOwnProperty,Q=[],X=Q.pop,J=Q.push,G=Q.push,Z=Q.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),oe=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(se),he=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ke=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},xe=function(){I()},Ce=d(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{G.apply(Q=Z.call(q.childNodes),q.childNodes),Q[q.childNodes.length].nodeType}catch($e){G={apply:Q.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(_ in k=b.support={},$=b.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},I=b.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:q;return i!==N&&9===i.nodeType&&i.documentElement&&(O=(N=i).documentElement,j=!$(N),q!==N&&(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),k.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=r(function(e){return e.appendChild(N.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=ge.test(N.getElementsByClassName),k.getById=r(function(e){return O.appendChild(e).id=F,!N.getElementsByName||!N.getElementsByName(F).length}),k.getById?(x.filter.ID=function(e){var t=e.replace(ye,be);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&j){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var n=e.replace(ye,be);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&j){var n,i,r,s=t.getElementById(e);if(s){if((n=s.getAttributeNode("id"))&&n.value===e)return[s];for(r=t.getElementsByName(e),i=0;s=r[i++];)if((n=s.getAttributeNode("id"))&&n.value===e)return[s]}return[]}}),x.find.TAG=k.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):k.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"!==e)return s;for(;n=s[r++];)1===n.nodeType&&i.push(n);return i},x.find.CLASS=k.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&j)return t.getElementsByClassName(e)},M=[],L=[],(k.qsa=ge.test(N.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||L.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=N.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(k.matchesSelector=ge.test(H=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){k.disconnectedMatch=H.call(e,"*"),H.call(e,"[s!='']:x"),M.push("!=",se)}),L=L.length&&new RegExp(L.join("|")),M=M.length&&new RegExp(M.join("|")),t=ge.test(O.compareDocumentPosition),R=t||ge.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},K=t?function(e,t){if(e===t)return P=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!k.sortDetached&&t.compareDocumentPosition(e)===n?e===N||e.ownerDocument===q&&R(q,e)?-1:t===N||t.ownerDocument===q&&R(q,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return P=!0,0;var n,i=0,r=e.parentNode,s=t.parentNode,a=[e],o=[t];if(!r||!s)return e===N?-1:t===N?1:r?-1:s?1:A?ee(A,e)-ee(A,t):0;if(r===s)return c(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)o.unshift(n);for(;a[i]===o[i];)i++;return i?c(a[i],o[i]):a[i]===q?-1:o[i]===q?1:0}),N},b.matches=function(e,t){return b(e,null,null,t)},b.matchesSelector=function(e,t){if((e.ownerDocument||e)!==N&&I(e),t=t.replace(ue,"='$1']"),k.matchesSelector&&j&&!V[t+" "]&&(!M||!M.test(t))&&(!L||!L.test(t)))try{var n=H.call(e,t);if(n||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch($e){}return 0<b(t,N,null,[e]).length},b.contains=function(e,t){return(e.ownerDocument||e)!==N&&I(e),R(e,t)},b.attr=function(e,t){(e.ownerDocument||e)!==N&&I(e);var n=x.attrHandle[t.toLowerCase()],i=n&&Y.call(x.attrHandle,t.toLowerCase())?n(e,t,!j):undefined;return i!==undefined?i:k.attributes||!j?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},b.escape=function(e){return(e+"").replace(we,ke)},b.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},b.uniqueSort=function(e){var t,n=[],i=0,r=0;if(P=!k.detectDuplicates,A=!k.sortStable&&e.slice(0),e.sort(K),P){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return A=null,e},C=b.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},(x=b.selectors={cacheLength:50,createPseudo:l,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||b.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&b.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=b.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(ae," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,e,t,m,g){var _="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===e;return 1===m&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,s,a,o,l,c=_!==v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),h=!n&&!y,p=!1;if(u){if(_){for(;c;){for(a=e;a=a[c];)if(y?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===f&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(p=(o=(i=(r=(s=(a=u)[F]||(a[F]={}))[a.uniqueID]||(s[a.uniqueID]={}))[f]||[])[0]===B&&i[1])&&i[2],a=o&&u.childNodes[o];a=++o&&a&&a[c]||(p=o=0)||l.pop();)if(1===a.nodeType&&++p&&a===e){r[f]=[B,o,p];break}}else if(h&&(p=o=(i=(r=(s=(a=e)[F]||(a[F]={}))[a.uniqueID]||(s[a.uniqueID]={}))[f]||[])[0]===B&&i[1]),!1===p)for(;(a=++o&&a&&a[c]||(p=o=0)||l.pop())&&((y?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++p||(h&&((r=(s=a[F]||(a[F]={}))[a.uniqueID]||(s[a.uniqueID]={}))[f]=[B,p]),a!==e)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(e,s){var t,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||b.error("unsupported pseudo: "+e);return a[F]?a(s):1<a.length?(t=[e,e,"",s],x.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var n,i=a(e,s),r=i.length;r--;)e[n=ee(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:l(function(e){var i=[],r=[],o=S(e.replace(oe,"$1"));return o[F]?l(function(e,t,n,i){for(var r,s=o(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,o(i,null,n,r),i[0]=null,!r.pop()}}),has:l(function(t){return function(e){return 0<b(t,e).length}}),contains:l(function(t){return t=t.replace(ye,be),function(e){return-1<(e.textContent||e.innerText||C(e)).indexOf(t)}}),lang:l(function(n){return he.test(n||"")||b.error("unsupported lang: "+n),n=n.replace(ye,be).toLowerCase(),function(e){var t;do{if(t=j?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===O},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(
t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=i(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=s(_);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,T=b.tokenize=function(e,t){var n,i,r,s,a,o,l,c=W[e+" "];if(c)return t?0:c.slice(0);for(a=e,o=[],l=x.preFilter;a;){for(s in n&&!(i=le.exec(a))||(i&&(a=a.slice(i[0].length)||a),o.push(r=[])),n=!1,(i=ce.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(oe," ")}),a=a.slice(n.length)),x.filter)!(i=pe[s].exec(a))||l[s]&&!(i=l[s](i))||(n=i.shift(),r.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?b.error(e):W(e,o).slice(0)},S=b.compile=function(e,t){var n,i=[],r=[],s=V[e+" "];if(!s){for(t||(t=T(e)),n=t.length;n--;)(s=p(t[n]))[F]?i.push(s):r.push(s);(s=V(e,g(r,i))).selector=e}return s},D=b.select=function(e,t,n,i){var r,s,a,o,l,c="function"==typeof e&&e,u=!i&&T(e=c.selector||e);if(n=n||[],1===u.length){if(2<(s=u[0]=u[0].slice(0)).length&&"ID"===(a=s[0]).type&&9===t.nodeType&&j&&x.relative[s[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ye,be),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=pe.needsContext.test(e)?0:s.length;r--&&(a=s[r],!x.relative[o=a.type]);)if((l=x.find[o])&&(i=l(a.matches[0].replace(ye,be),ve.test(s[0].type)&&f(t.parentNode)||t))){if(s.splice(r,1),!(e=i.length&&m(s)))return G.apply(n,i),n;break}}return(c||S(e,u))(i,t,!j,n,!t||ve.test(e)&&f(t.parentNode)||t),n},k.sortStable=F.split("").sort(K).join("")===F,k.detectDuplicates=!!P,I(),k.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),b}(C);ke.find=Ce,ke.expr=Ce.selectors,ke.expr[":"]=ke.expr.pseudos,ke.uniqueSort=ke.unique=Ce.uniqueSort,ke.text=Ce.getText,ke.isXMLDoc=Ce.isXML,ke.contains=Ce.contains,ke.escapeSelector=Ce.escape;var $e=function(e,t,n){for(var i=[],r=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&ke(e).is(n))break;i.push(e)}return i},Te=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Se=ke.expr.match.needsContext,De=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;ke.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ke.find.matchesSelector(i,e)?[i]:[]:ke.find.matches(e,ke.grep(t,function(e){return 1===e.nodeType}))},ke.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(ke(e).filter(function(){for(t=0;t<i;t++)if(ke.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)ke.find(e,r[t],n);return 1<i?ke.uniqueSort(n):n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&Se.test(e)?ke(e):e||[],!1).length}});var Ee,Ae=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ke.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Ee,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):ve(e)?n.ready!==undefined?n.ready(e):e(ke):ke.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Ae.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof ke?t[0]:t,ke.merge(this,ke.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),De.test(i[1])&&ke.isPlainObject(t))for(i in t)ve(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=ae.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=ke.fn,Ee=ke(ae);var Pe=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};ke.fn.extend({has:function(e){var t=ke(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(ke.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,s=[],a="string"!=typeof e&&ke(e);if(!Se.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ke.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(1<s.length?ke.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?de.call(ke(e),this[0]):de.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ke.uniqueSort(ke.merge(this.get(),ke(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ke.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return $e(e,"parentNode")},parentsUntil:function(e,t,n){return $e(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return $e(e,"nextSibling")},prevAll:function(e){return $e(e,"previousSibling")},nextUntil:function(e,t,n){return $e(e,"nextSibling",n)},prevUntil:function(e,t,n){return $e(e,"previousSibling",n)},siblings:function(e){return Te((e.parentNode||{}).firstChild,e)},children:function(e){return Te(e.firstChild)},contents:function(e){return c(e,"iframe")?e.contentDocument:(c(e,"template")&&(e=e.content||e),ke.merge([],e.childNodes))}},function(i,r){ke.fn[i]=function(e,t){var n=ke.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=ke.filter(t,n)),1<this.length&&(Ie[i]||ke.uniqueSort(n),Pe.test(i)&&n.reverse()),this.pushStack(n)}});var Ne=/[^\x20\t\r\n\f]+/g;ke.Callbacks=function(i){i="string"==typeof i?u(i):ke.extend({},i);var r,e,t,n,s=[],a=[],o=-1,l=function(){for(n=n||i.once,t=r=!0;a.length;o=-1)for(e=a.shift();++o<s.length;)!1===s[o].apply(e[0],e[1])&&i.stopOnFalse&&(o=s.length,e=!1);i.memory||(e=!1),r=!1,n&&(s=e?[]:"")},c={add:function(){return s&&(e&&!r&&(o=s.length-1,a.push(e)),function n(e){ke.each(e,function(e,t){ve(t)?i.unique&&c.has(t)||s.push(t):t&&t.length&&"string"!==g(t)&&n(t)})}(arguments),e&&!r&&l()),this},remove:function(){return ke.each(arguments,function(e,t){for(var n;-1<(n=ke.inArray(t,s,n));)s.splice(n,1),n<=o&&o--}),this},has:function(e){return e?-1<ke.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return n=a=[],s=e="",this},disabled:function(){return!s},lock:function(){return n=a=[],e||r||(s=e=""),this},locked:function(){return!!n},fireWith:function(e,t){return n||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),r||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!t}};return c},ke.extend({Deferred:function(e){var s=[["notify","progress",ke.Callbacks("memory"),ke.Callbacks("memory"),2],["resolve","done",ke.Callbacks("once memory"),ke.Callbacks("once memory"),0,"resolved"],["reject","fail",ke.Callbacks("once memory"),ke.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var r=arguments;return ke.Deferred(function(i){ke.each(s,function(e,t){var n=ve(r[t[4]])&&r[t[4]];o[t[1]](function(){var e=n&&n.apply(this,arguments);e&&ve(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){function c(s,a,o,l){return function(){var n=this,i=arguments,t=function(){var e,t;if(!(s<u)){if((e=o.apply(n,i))===a.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,ve(t)?l?t.call(e,c(u,a,d,l),c(u,a,h,l)):(u++,t.call(e,c(u,a,d,l),c(u,a,h,l),c(u,a,d,a.notifyWith))):(o!==d&&(n=undefined,i=[e]),(l||a.resolveWith)(n,i))}},r=l?t:function(){try{t()}catch(e){ke.Deferred.exceptionHook&&ke.Deferred.exceptionHook(e,r.stackTrace),u<=s+1&&(o!==h&&(n=undefined,i=[e]),a.rejectWith(n,i))}};s?r():(ke.Deferred.getStackHook&&(r.stackTrace=ke.Deferred.getStackHook()),C.setTimeout(r))}}var u=0;return ke.Deferred(function(e){s[0][3].add(c(0,e,ve(i)?i:d,e.notifyWith)),s[1][3].add(c(0,e,ve(t)?t:d)),s[2][3].add(c(0,e,ve(n)?n:h))}).promise()},promise:function(e){return null!=e?ke.extend(e,a):a}},o={};return ke.each(s,function(e,t){var n=t[2],i=t[5];a[t[1]]=n.add,i&&n.add(function(){r=i},s[3-e][2].disable,s[3-e][3].disable,s[0][2].lock,s[0][3].lock),n.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?undefined:this,arguments),this},o[t[0]+"With"]=n.fireWith}),a.promise(o),e&&e.call(o,o),o},when:function(e){var n=arguments.length,t=n,i=Array(t),r=le.call(arguments),s=ke.Deferred(),a=function(t){return function(e){i[t]=this,r[t]=1<arguments.length?le.call(arguments):e,--n||s.resolveWith(i,r)}};if(n<=1&&(l(e,s.done(a(t)).resolve,s.reject,!n),"pending"===s.state()||ve(r[t]&&r[t].then)))return s.then();for(;t--;)l(r[t],a(t),s.reject);return s.promise()}});var Oe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ke.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&Oe.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},ke.readyException=function(e){C.setTimeout(function(){throw e})};var je=ke.Deferred();ke.fn.ready=function(e){return je.then(e)["catch"](function(e){ke.readyException(e)}),this},ke.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--ke.readyWait:ke.isReady)||(ke.isReady=!0)!==e&&0<--ke.readyWait||je.resolveWith(ae,[ke])}}),ke.ready.then=je.then,"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll?C.setTimeout(ke.ready):(ae.addEventListener("DOMContentLoaded",i),C.addEventListener("load",i));var Le=function(e,t,n,i,r,s,a){var o=0,l=e.length,c=null==n;if("object"===g(n))for(o in r=!0,n)Le(e,t,o,n[o],!0,s,a);else if(i!==undefined&&(r=!0,ve(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(ke(e),n)})),t))for(;o<l;o++)t(e[o],n,a?i:i.call(e[o],o,t(e[o],n)));return r?e:c?t.call(e):l?t(e[0],n):s},Me=/^-ms-/,He=/-([a-z])/g,Re=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Re(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[p(t)]=n;else for(i in t)r[p(i)]=t[i];return r},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][p(t)]},access:function(e,t,n){return t===undefined||t&&"string"==typeof t&&n===undefined?this.get(e,t):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,i=e[this.expando];if(i!==undefined){if(t!==undefined){n=(t=Array.isArray(t)?t.map(p):(t=p(t))in i?[t]:t.match(Ne)||[]).length;for(;n--;)delete i[t[n]]}(t===undefined||ke.isEmptyObject(i))&&(e.nodeType?e[this.expando]=undefined:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!ke.isEmptyObject(t)}};var Fe=new s,qe=new s,Be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ue=/[A-Z]/g;ke.extend({hasData:function(e){return qe.hasData(e)||Fe.hasData(e)},data:function(e,t,n){return qe.access(e,t,n)},removeData:function(e,t){qe.remove(e,t)},_data:function(e,t,n){return Fe.access(e,t,n)},_removeData:function(e,t){Fe.remove(e,t)}}),ke.fn.extend({data:function(n,e){var t,i,r,s=this[0],a=s&&s.attributes;if(n!==undefined)return"object"==typeof n?this.each(function(){qe.set(this,n)}):Le(this,function(e){var t;if(s&&e===undefined)return(t=qe.get(s,n))!==undefined?t:(t=f(s,n))!==undefined?t:void 0;this.each(function(){qe.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=qe.get(s),1===s.nodeType&&!Fe.get(s,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(i=a[t].name).indexOf("data-")&&(i=p(i.slice(5)),f(s,i,r[i]));Fe.set(s,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){qe.remove(this,e)})}}),ke.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Fe.get(e,t),n&&(!i||Array.isArray(n)?i=Fe.access(e,t,ke.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=ke.queue(e,t),i=n.length,r=n.shift(),s=ke._queueHooks(e,t),a=function(){ke.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,a,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Fe.get(e,n)||Fe.access(e,n,{empty:ke.Callbacks("once memory").add(function(){Fe.remove(e,[t+"queue",n])})})}}),ke.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?ke.queue(this[0],t):n===undefined?this:this.each(function(){var e=ke.queue(this,t,n);ke._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ke.dequeue(this,t)})},dequeue:function(e){return this.each(function(){ke.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=ke.Deferred(),s=this,a=this.length,o=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";a--;)(n=Fe.get(s[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(t)}});var ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,We=new RegExp("^(?:([+-])=|)("+ze+")([a-z%]*)$","i"),Ve=["Top","Right","Bottom","Left"],Ke=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ke.contains(e.ownerDocument,e)&&"none"===ke.css(e,"display")},Ye=function(e,t,n,i){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];for(s in r=n.apply(e,i||[]),t)e.style[s]=a[s];return r},Qe={};ke.fn.extend({show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ke(this)?ke(this).show():ke(this).hide()})}});var Xe=/^(?:checkbox|radio)$/i,Je=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ge=/^$|^module$|\/(?:java|ecma)script/i,Ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td;var et,tt,nt=/<|&#?\w+;/;et=ae.createDocumentFragment().appendChild(ae.createElement("div")),(tt=ae.createElement("input")).setAttribute("type","radio"),tt.setAttribute("checked","checked"),tt.setAttribute("name","t"),et.appendChild(tt),_e.checkClone=et.cloneNode(!0).cloneNode(!0).lastChild.checked,et.innerHTML="<textarea>x</textarea>",_e.noCloneChecked=!!et.cloneNode(!0).lastChild.defaultValue;var it=ae.documentElement,rt=/^key/,st=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,at=/^([^.]*)(?:\.(.+)|)/;ke.event={global:{},add:function(t,e,n,i,r){var s,a,o,l,c,u,d,h,p,f,m,g=Fe.get(t);if(g)for(n.handler&&(n=(s=n).handler,r=s.selector),r&&ke.find.matchesSelector(it,r),n.guid||(n.guid=ke.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==ke&&ke.event.triggered!==e.type?ke.event.dispatch.apply(t,arguments):undefined}),c=(e=(e||"").match(Ne)||[""]).length;c--;)p=m=(o=at.exec(e[c])||[])[1],f=(o[2]||"").split(".").sort(),p&&(d=ke.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=ke.event.special[p]||{},u=ke.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ke.expr.match.needsContext.test(r),namespace:f.join(".")},s),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(p,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),ke.event.global[p]=!0)},remove:function(e,t,n,i,r){var s,a,o,l,c,u,d,h,p,f,m,g=Fe.hasData(e)&&Fe.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(Ne)||[""]).length;c--;)if(p=m=(o=at.exec(t[c])||[])[1],f=(o[2]||"").split(".").sort(),p){for(d=ke.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;s--;)u=h[s],!r&&m!==u.origType||n&&n.guid!==u.guid||o&&!o.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||ke.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)ke.event.remove(e,p+t[c],n,i,!0);ke.isEmptyObject(l)&&Fe.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,s,a,o=ke.event.fix(e),l=new Array(arguments.length),c=(Fe.get(this,"events")||{})[o.type]||[],u=ke.event.special[o.type]||{};for(l[0]=o,t=1;t<arguments.length;t++)l[t]=arguments[t];if(o.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,o)){for(a=ke.event.handlers.call(this,o,c),t=0;(r=a[t++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,n=0;(s=r.handlers[n++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(s.namespace)||(o.handleObj=s,o.data=s.data,(i=((ke.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))!==undefined&&!1===(o.result=i)&&(o.preventDefault(),o.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,o),o.result}},handlers:function(e,t){var n,i,r,s,a,o=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(s=[],a={},n=0;n<l;n++)a[r=(i=t[n]).selector+" "]===undefined&&(a[r]=i.needsContext?-1<ke(r,this).index(c):ke.find(r,this,null,[c]).length),a[r]&&s.push(i);s.length&&o.push({elem:c,handlers:s})}return c=this,l<t.length&&o.push({elem:c,handlers:t.slice(l)}),o},addProp:function(t,e){Object.defineProperty(ke.Event.prototype,t,{enumerable:!0,configurable:!0,get:ve(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[ke.expando]?e:new ke.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&c(this,"input"))return this.click(),!1},_default:function(e){return c(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},ke.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},ke.Event=function(e,t){if(!(this instanceof ke.Event))return new ke.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?x:$,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&ke.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[ke.expando]=!0},ke.Event.prototype={constructor:ke.Event,isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=x,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=x,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=x,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},ke.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&rt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&t!==undefined&&st.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},ke.event.addProp),ke.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,s){ke.event.special[e]={delegateType:s,bindType:s,handle:function(e){var t,n=this,i=e.relatedTarget,r=e.handleObj;return i&&(i===n||ke.contains(n,i))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=s),t}}}),ke.fn.extend({on:function(e,t,n,i){return S(this,e,t,n,i)},one:function(e,t,n,i){return S(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ke(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=$),this.each(function(){ke.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this}});var ot=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,lt=/<script|<style|<link/i,ct=/checked\s*(?:[^=]|=\s*.checked.)/i,ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ke.extend({htmlPrefilter:function(e){return e.replace(ot,"<$1></$2>")},clone:function(e,t,n){var i,r,s,a,o=e.cloneNode(!0),l=ke.contains(e.ownerDocument,e);if(!(_e.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ke.isXMLDoc(e)))for(a=b(o),i=0,r=(s=b(e)).length;i<r;i++)I(s[i],a[i]);if(t)if(n)for(s=s||b(e),a=a||b(o),i=0,r=s.length;i<r;i++)P(s[i],a[i]);else P(e,o);return 0<(a=b(o,"script")).length&&w(a,!l&&b(e,"script")),o},cleanData:function(e){for(var t,n,i,r=ke.event.special,s=0;(n=e[s])!==undefined;s++)if(Re(n)){if(t=n[Fe.expando]){if(t.events)for(i in t.events)r[i]?ke.event.remove(n,i):ke.removeEvent(n,i,t.handle);n[Fe.expando]=undefined}n[qe.expando]&&(n[qe.expando]=undefined)}}}),ke.fn.extend({detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Le(this,function(e){return e===undefined?ke.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return N(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||D(this,e).appendChild(e)})},prepend:function(){return N(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=D(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(ke.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return ke.clone(this,e,t)})},html:function(e){return Le(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!lt.test(e)&&!Ze[(Je.exec(e)||["",""])[1].toLowerCase()]){e=ke.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(ke.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return N(this,arguments,function(e){var t=this.parentNode;ke.inArray(this,n)<0&&(ke.cleanData(b(this)),t&&t.replaceChild(e,this))},n)}}),ke.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){ke.fn[e]=function(e){for(var t,n=[],i=ke(e),r=i.length-1,s=0;s<=r;s++)t=s===r?this:this.clone(!0),ke(i[s])[a](t),ue.apply(n,t.get());return this.pushStack(n)}});var dt=new RegExp("^("+ze+")(?!px)[a-z%]+$","i"),ht=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},pt=new RegExp(Ve.join("|"),"i");!function(){function e(){if(l){o.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(o).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,a=12===t(e.marginLeft),l.style.right="60%",s=36===t(e.right),i=36===t(e.width),l.style.position="absolute",r=36===l.offsetWidth||"absolute",it.removeChild(o),l=null}}function t(e){return Math.round(parseFloat(e))}var n,i,r,s,a,o=ae.createElement("div"),l=ae.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",_e.clearCloneStyle="content-box"===l.style.backgroundClip,ke.extend(_e,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),r}}))}();var ft=/^(none|table(?!-c[ea]).+)/,mt=/^--/,gt={position:"absolute",visibility:"hidden",display:"block"},_t={letterSpacing:"0",fontWeight:"400"},vt=["Webkit","Moz","ms"],yt=ae.createElement("div").style;ke.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=j(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a,o=p(t),l=mt.test(t),c=e.style;if(l||(t=H(o)),a=ke.cssHooks[t]||ke.cssHooks[o],n===undefined)return a&&"get"in a&&(r=a.get(e,!1,i))!==undefined?r:c[t];"string"===(s=typeof n)&&(r=We.exec(n))&&r[1]&&(n=_(e,t,r),s="number"),null!=n&&n==n&&("number"===s&&(n+=r&&r[3]||(ke.cssNumber[o]?"":"px")),_e.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&(n=a.set(e,n,i))===undefined||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,s,a,o=p(t);return mt.test(t)||(t=H(o)),(a=ke.cssHooks[t]||ke.cssHooks[o])&&"get"in a&&(r=a.get(e,!0,n)),r===undefined&&(r=j(e,t,i)),"normal"===r&&t in _t&&(r=_t[t]),""===n||n?(s=parseFloat(r),!0===n||isFinite(s)?s||0:r):r}}),ke.each(["height","width"],function(e,o){ke.cssHooks[o]={get:function(e,t,n){if(t)return!ft.test(ke.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?q(e,o,n):Ye(e,gt,function(){return q(e,o,n)})},set:function(e,t,n){var i,r=ht(e),s="border-box"===ke.css(e,"boxSizing",!1,r),a=n&&F(e,o,n,s,r);return s&&_e.scrollboxSize()===r.position&&(a-=Math.ceil(e["offset"+o[0].toUpperCase()+o.slice(1)]-parseFloat(r[o])-F(e,o,"border",!1,r)-.5)),a&&(i=We.exec(t))&&"px"!==(i[3]||"px")&&(e.style[o]=t,t=ke.css(e,o)),R(e,t,a)}}}),ke.cssHooks.marginLeft=L(_e.reliableMarginLeft,function(e,t){if(t)return(parseFloat(j(e,"marginLeft"))||e.getBoundingClientRect().left-Ye(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),ke.each({margin:"",padding:"",border:"Width"},function(r,s){ke.cssHooks[r+s]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+Ve[t]+s]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(ke.cssHooks[r+s].set=R)}),ke.fn.extend({css:function(e,t){return Le(this,function(e,t,n){var i,r,s={},a=0;if(Array.isArray(t)){for(i=ht(e),r=t.length;a<r;a++)s[t[a]]=ke.css(e,t[a],!1,i);return s}return n!==undefined?ke.style(e,t,n):ke.css(e,t)},e,t,1<arguments.length)}}),(ke.Tween=B).prototype={constructor:B,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||ke.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(ke.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=ke.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=ke.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){ke.fx.step[e.prop]?ke.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[ke.cssProps[e.prop]]&&!ke.cssHooks[e.prop]?e.elem[e.prop]=e.now:ke.style(e.elem,e.prop,e.now+e.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ke.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},ke.fx=B.prototype.init,ke.fx.step={};var bt,wt,kt,xt,Ct=/^(?:toggle|show|hide)$/,$t=/queueHooks$/;ke.Animation=ke.extend(Q,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return _(n.elem,e,We.exec(t),n),n}]},tweener:function(e,t){ve(e)?(t=e,e=["*"]):e=e.match(Ne);for(var n,i=0,r=e.length;i<r;i++)n=e[i],Q.tweeners[n]=Q.tweeners[n]||[],Q.tweeners[n].unshift(t)},prefilters:[K],prefilter:function(e,t){t?Q.prefilters.unshift(e):Q.prefilters.push(e)}}),ke.speed=function(e,t,n){var i=e&&"object"==typeof e?ke.extend({},e):{complete:n||!n&&t||ve(e)&&e,duration:e,easing:n&&t||t&&!ve(t)&&t};return ke.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in ke.fx.speeds?i.duration=ke.fx.speeds[i.duration]:i.duration=ke.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ve(i.old)&&i.old.call(this),i.queue&&ke.dequeue(this,i.queue)},i},ke.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ke).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=ke.isEmptyObject(t),s=ke.speed(e,n,i),a=function(){var e=Q(this,ke.extend({},t),s);(r||Fe.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(r,e,s){var a=function(e){var t=e.stop;delete e.stop,t(s)};return"string"!=typeof r&&(s=e,e=r,r=undefined),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=ke.timers,i=Fe.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&$t.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(s),e=!1,n.splice(t,1));!e&&s||ke.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Fe.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=ke.timers,s=n?n.length:0;for(t.finish=!0,ke.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),ke.each(["toggle","show","hide"],function(e,i){var r=ke.fn[i];ke.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(W(i,!0),e,t,n)}}),ke.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){ke.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),ke.timers=[],ke.fx.tick=function(){var e,t=0,n=ke.timers;for(bt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||ke.fx.stop(),bt=undefined},ke.fx.timer=function(e){ke.timers.push(e),ke.fx.start()},ke.fx.interval=13,ke.fx.start=function(){wt||(wt=!0,U())},ke.fx.stop=function(){wt=null},ke.fx.speeds={slow:600,fast:200,_default:400},ke.fn.delay=function(i,e){return i=ke.fx&&ke.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,i);t.stop=function(){C.clearTimeout(n)}})},kt=ae.createElement("input"),xt=ae.createElement("select").appendChild(
ae.createElement("option")),kt.type="checkbox",_e.checkOn=""!==kt.value,_e.optSelected=xt.selected,(kt=ae.createElement("input")).value="t",kt.type="radio",_e.radioValue="t"===kt.value;var Tt,St=ke.expr.attrHandle;ke.fn.extend({attr:function(e,t){return Le(this,ke.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){ke.removeAttr(this,e)})}}),ke.extend({attr:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof e.getAttribute?ke.prop(e,t,n):(1===s&&ke.isXMLDoc(e)||(r=ke.attrHooks[t.toLowerCase()]||(ke.expr.match.bool.test(t)?Tt:undefined)),n!==undefined?null===n?void ke.removeAttr(e,t):r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=ke.find.attr(e,t))?undefined:i)},attrHooks:{type:{set:function(e,t){if(!_e.radioValue&&"radio"===t&&c(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(Ne);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),Tt={set:function(e,t,n){return!1===t?ke.removeAttr(e,n):e.setAttribute(n,n),n}},ke.each(ke.expr.match.bool.source.match(/\w+/g),function(e,t){var a=St[t]||ke.find.attr;St[t]=function(e,t,n){var i,r,s=t.toLowerCase();return n||(r=St[s],St[s]=i,i=null!=a(e,t,n)?s:null,St[s]=r),i}});var Dt=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;ke.fn.extend({prop:function(e,t){return Le(this,ke.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[ke.propFix[e]||e]})}}),ke.extend({prop:function(e,t,n){var i,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&ke.isXMLDoc(e)||(t=ke.propFix[t]||t,r=ke.propHooks[t]),n!==undefined?r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ke.find.attr(e,"tabindex");return t?parseInt(t,10):Dt.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),_e.optSelected||(ke.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),ke.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ke.propFix[this.toLowerCase()]=this}),ke.fn.extend({addClass:function(t){var e,n,i,r,s,a,o,l=0;if(ve(t))return this.each(function(e){ke(this).addClass(t.call(this,e,J(this)))});if((e=G(t)).length)for(;n=this[l++];)if(r=J(n),i=1===n.nodeType&&" "+X(r)+" "){for(a=0;s=e[a++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");r!==(o=X(i))&&n.setAttribute("class",o)}return this},removeClass:function(t){var e,n,i,r,s,a,o,l=0;if(ve(t))return this.each(function(e){ke(this).removeClass(t.call(this,e,J(this)))});if(!arguments.length)return this.attr("class","");if((e=G(t)).length)for(;n=this[l++];)if(r=J(n),i=1===n.nodeType&&" "+X(r)+" "){for(a=0;s=e[a++];)for(;-1<i.indexOf(" "+s+" ");)i=i.replace(" "+s+" "," ");r!==(o=X(i))&&n.setAttribute("class",o)}return this},toggleClass:function(r,t){var s=typeof r,a="string"===s||Array.isArray(r);return"boolean"==typeof t&&a?t?this.addClass(r):this.removeClass(r):ve(r)?this.each(function(e){ke(this).toggleClass(r.call(this,e,J(this),t),t)}):this.each(function(){var e,t,n,i;if(a)for(t=0,n=ke(this),i=G(r);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else r!==undefined&&"boolean"!==s||((e=J(this))&&Fe.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===r?"":Fe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+X(J(n))+" ").indexOf(t))return!0;return!1}});var At=/\r/g;ke.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=ve(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,ke(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=ke.map(t,function(e){return null==e?"":e+""})),(i=ke.valHooks[this.type]||ke.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,t,"value")!==undefined||(this.value=t))})):t?(i=ke.valHooks[t.type]||ke.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&(e=i.get(t,"value"))!==undefined?e:"string"==typeof(e=t.value)?e.replace(At,""):null==e?"":e:void 0}}),ke.extend({valHooks:{option:{get:function(e){var t=ke.find.attr(e,"value");return null!=t?t:X(ke.text(e))}},select:{get:function(e){var t,n,i,r=e.options,s=e.selectedIndex,a="select-one"===e.type,o=a?null:[],l=a?s+1:r.length;for(i=s<0?l:a?s:0;i<l;i++)if(((n=r[i]).selected||i===s)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(t=ke(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,s=ke.makeArray(t),a=r.length;a--;)((i=r[a]).selected=-1<ke.inArray(ke.valHooks.option.get(i),s))&&(n=!0);return n||(e.selectedIndex=-1),s}}}}),ke.each(["radio","checkbox"],function(){ke.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<ke.inArray(ke(e).val(),t)}},_e.checkOn||(ke.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),_e.focusin="onfocusin"in C;var Pt=/^(?:focusinfocus|focusoutblur)$/,It=function(e){e.stopPropagation()};ke.extend(ke.event,{trigger:function(e,t,n,i){var r,s,a,o,l,c,u,d,h=[n||ae],p=fe.call(e,"type")?e.type:e,f=fe.call(e,"namespace")?e.namespace.split("."):[];if(s=d=a=n=n||ae,3!==n.nodeType&&8!==n.nodeType&&!Pt.test(p+ke.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),l=p.indexOf(":")<0&&"on"+p,(e=e[ke.expando]?e:new ke.Event(p,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=null==t?[e]:ke.makeArray(t,[e]),u=ke.event.special[p]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!ye(n)){for(o=u.delegateType||p,Pt.test(o+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(n.ownerDocument||ae)&&h.push(a.defaultView||a.parentWindow||C)}for(r=0;(s=h[r++])&&!e.isPropagationStopped();)d=s,e.type=1<r?o:u.bindType||p,(c=(Fe.get(s,"events")||{})[e.type]&&Fe.get(s,"handle"))&&c.apply(s,t),(c=l&&s[l])&&c.apply&&Re(s)&&(e.result=c.apply(s,t),!1===e.result&&e.preventDefault());return e.type=p,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(h.pop(),t)||!Re(n)||l&&ve(n[p])&&!ye(n)&&((a=n[l])&&(n[l]=null),ke.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,It),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,It),ke.event.triggered=undefined,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){var i=ke.extend(new ke.Event,n,{type:e,isSimulated:!0});ke.event.trigger(i,null,t)}}),ke.fn.extend({trigger:function(e,t){return this.each(function(){ke.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return ke.event.trigger(e,t,n,!0)}}),_e.focusin||ke.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){ke.event.simulate(i,e.target,ke.event.fix(e))};ke.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=Fe.access(e,i);t||e.addEventListener(n,r,!0),Fe.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Fe.access(e,i)-1;t?Fe.access(e,i,t):(e.removeEventListener(n,r,!0),Fe.remove(e,i))}}});var Nt=C.location,Ot=Date.now(),jt=/\?/;ke.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(n){t=undefined}return t&&!t.getElementsByTagName("parsererror").length||ke.error("Invalid XML: "+e),t};var Lt=/\[\]$/,Mt=/\r?\n/g,Ht=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;ke.param=function(e,t){var n,i=[],r=function(e,t){var n=ve(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!ke.isPlainObject(e))ke.each(e,function(){r(this.name,this.value)});else for(n in e)Z(n,e[n],t,r);return i.join("&")},ke.fn.extend({serialize:function(){return ke.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ke.prop(this,"elements");return e?ke.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ke(this).is(":disabled")&&Rt.test(this.nodeName)&&!Ht.test(e)&&(this.checked||!Xe.test(e))}).map(function(e,t){var n=ke(this).val();return null==n?null:Array.isArray(n)?ke.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}});var Ft=/%20/g,qt=/#.*$/,Bt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,zt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Wt=/^(?:GET|HEAD)$/,Vt=/^\/\//,Kt={},Yt={},Qt="*/".concat("*"),Xt=ae.createElement("a");Xt.href=Nt.href,ke.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt.href,type:"GET",isLocal:zt.test(Nt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ke.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,ke.ajaxSettings),t):ne(ke.ajaxSettings,e)},ajaxPrefilter:ee(Kt),ajaxTransport:ee(Yt),ajax:function(e,t){function n(e,t,n,i){var r,s,a,o,l,c=t;f||(f=!0,p&&C.clearTimeout(p),u=undefined,h=i||"",k.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(o=ie(g,k,n)),o=re(g,o,k,r),r?(g.ifModified&&((l=k.getResponseHeader("Last-Modified"))&&(ke.lastModified[d]=l),(l=k.getResponseHeader("etag"))&&(ke.etag[d]=l)),204===e||"HEAD"===g.type?c="nocontent":304===e?c="notmodified":(c=o.state,s=o.data,r=!(a=o.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),k.status=e,k.statusText=(t||c)+"",r?y.resolveWith(_,[s,c,k]):y.rejectWith(_,[k,c,a]),k.statusCode(w),w=undefined,m&&v.trigger(r?"ajaxSuccess":"ajaxError",[k,g,r?s:a]),b.fireWith(_,[k,c]),m&&(v.trigger("ajaxComplete",[k,g]),--ke.active||ke.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var u,d,h,i,p,r,f,m,s,a,g=ke.ajaxSetup({},t),_=g.context||g,v=g.context&&(_.nodeType||_.jquery)?ke(_):ke.event,y=ke.Deferred(),b=ke.Callbacks("once memory"),w=g.statusCode||{},o={},l={},c="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(f){if(!i)for(i={};t=Ut.exec(h);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return f?h:null},setRequestHeader:function(e,t){return null==f&&(e=l[e.toLowerCase()]=l[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==f&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(f)k.always(e[k.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||c;return u&&u.abort(t),n(0,t),this}};if(y.promise(k),g.url=((e||g.url||Nt.href)+"").replace(Vt,Nt.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(Ne)||[""],null==g.crossDomain){r=ae.createElement("a");try{r.href=g.url,r.href=r.href,g.crossDomain=Xt.protocol+"//"+Xt.host!=r.protocol+"//"+r.host}catch(x){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=ke.param(g.data,g.traditional)),te(Kt,g,t,k),f)return k;for(s in(m=ke.event&&g.global)&&0==ke.active++&&ke.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Wt.test(g.type),d=g.url.replace(qt,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Ft,"+")):(a=g.url.slice(d.length),g.data&&(g.processData||"string"==typeof g.data)&&(d+=(jt.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(d=d.replace(Bt,"$1"),a=(jt.test(d)?"&":"?")+"_="+Ot+++a),g.url=d+a),g.ifModified&&(ke.lastModified[d]&&k.setRequestHeader("If-Modified-Since",ke.lastModified[d]),ke.etag[d]&&k.setRequestHeader("If-None-Match",ke.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&k.setRequestHeader("Content-Type",g.contentType),k.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Qt+"; q=0.01":""):g.accepts["*"]),g.headers)k.setRequestHeader(s,g.headers[s]);if(g.beforeSend&&(!1===g.beforeSend.call(_,k,g)||f))return k.abort();if(c="abort",b.add(g.complete),k.done(g.success),k.fail(g.error),u=te(Yt,g,t,k)){if(k.readyState=1,m&&v.trigger("ajaxSend",[k,g]),f)return k;g.async&&0<g.timeout&&(p=C.setTimeout(function(){k.abort("timeout")},g.timeout));try{f=!1,u.send(o,n)}catch(x){if(f)throw x;n(-1,x)}}else n(-1,"No Transport");return k},getJSON:function(e,t,n){return ke.get(e,t,n,"json")},getScript:function(e,t){return ke.get(e,undefined,t,"script")}}),ke.each(["get","post"],function(e,r){ke[r]=function(e,t,n,i){return ve(t)&&(i=i||n,n=t,t=undefined),ke.ajax(ke.extend({url:e,type:r,dataType:i,data:t,success:n},ke.isPlainObject(e)&&e))}}),ke._evalUrl=function(e){return ke.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ke.fn.extend({wrapAll:function(e){var t;return this[0]&&(ve(e)&&(e=e.call(this[0])),t=ke(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return ve(n)?this.each(function(e){ke(this).wrapInner(n.call(this,e))}):this.each(function(){var e=ke(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=ve(t);return this.each(function(e){ke(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){ke(this).replaceWith(this.childNodes)}),this}}),ke.expr.pseudos.hidden=function(e){return!ke.expr.pseudos.visible(e)},ke.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},ke.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},Gt=ke.ajaxSettings.xhr();_e.cors=!!Gt&&"withCredentials"in Gt,_e.ajax=Gt=!!Gt,ke.ajaxTransport(function(s){var a,o;if(_e.cors||Gt&&!s.crossDomain)return{send:function(e,t){var n,i=s.xhr();if(i.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(n in s.xhrFields)i[n]=s.xhrFields[n];for(n in s.mimeType&&i.overrideMimeType&&i.overrideMimeType(s.mimeType),s.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(a=o=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Jt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=a(),o=i.onerror=i.ontimeout=a("error"),i.onabort!==undefined?i.onabort=o:i.onreadystatechange=function(){4===i.readyState&&C.setTimeout(function(){a&&o()})},a=a("abort");try{i.send(s.hasContent&&s.data||null)}catch(r){if(a)throw r}},abort:function(){a&&a()}}}),ke.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),ke.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return ke.globalEval(e),e}}}),ke.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),ke.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(e,t){i=ke("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),ae.head.appendChild(i[0])},abort:function(){r&&r()}}});var Zt,en=[],tn=/(=)\?(?=&|$)|\?\?/;ke.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ke.expando+"_"+Ot++;return this[e]=!0,e}}),ke.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,s,a=!1!==e.jsonp&&(tn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ve(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(tn,"$1"+i):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||ke.error(i+" was not called"),s[0]},e.dataTypes[0]="json",r=C[i],C[i]=function(){s=arguments},n.always(function(){r===undefined?ke(C).removeProp(i):C[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,en.push(i)),s&&ve(r)&&r(s[0]),s=r=undefined}),"script"}),_e.createHTMLDocument=((Zt=ae.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Zt.childNodes.length),ke.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(_e.createHTMLDocument?((i=(t=ae.implementation.createHTMLDocument("")).createElement("base")).href=ae.location.href,t.head.appendChild(i)):t=ae),s=!n&&[],(r=De.exec(e))?[t.createElement(r[1])]:(r=k([e],t,s),s&&s.length&&ke(s).remove(),ke.merge([],r.childNodes)));var i,r,s},ke.fn.load=function(e,t,n){var i,r,s,a=this,o=e.indexOf(" ");return-1<o&&(i=X(e.slice(o)),e=e.slice(0,o)),ve(t)?(n=t,t=undefined):t&&"object"==typeof t&&(r="POST"),0<a.length&&ke.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){s=arguments,a.html(i?ke("<div>").append(ke.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,s||[e.responseText,t,e])})}),this},ke.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ke.fn[t]=function(e){return this.on(t,e)}}),ke.expr.pseudos.animated=function(t){return ke.grep(ke.timers,function(e){return t===e.elem}).length},ke.offset={setOffset:function(e,t,n){var i,r,s,a,o,l,c=ke.css(e,"position"),u=ke(e),d={};"static"===c&&(e.style.position="relative"),o=u.offset(),s=ke.css(e,"top"),l=ke.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(s+l).indexOf("auto")?(a=(i=u.position()).top,r=i.left):(a=parseFloat(s)||0,r=parseFloat(l)||0),ve(t)&&(t=t.call(e,n,ke.extend({},o))),null!=t.top&&(d.top=t.top-o.top+a),null!=t.left&&(d.left=t.left-o.left+r),"using"in t?t.using.call(e,d):u.css(d)}},ke.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){ke.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===ke.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===ke.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=ke(e).offset()).top+=ke.css(e,"borderTopWidth",!0),r.left+=ke.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-ke.css(i,"marginTop",!0),left:t.left-r.left-ke.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===ke.css(e,"position");)e=e.offsetParent;return e||it})}}),ke.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var s="pageYOffset"===r;ke.fn[t]=function(e){return Le(this,function(e,t,n){var i;if(ye(e)?i=e:9===e.nodeType&&(i=e.defaultView),n===undefined)return i?i[r]:e[t];i?i.scrollTo(s?i.pageXOffset:n,s?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),ke.each(["top","left"],function(e,n){ke.cssHooks[n]=L(_e.pixelPosition,function(e,t){if(t)return t=j(e,n),dt.test(t)?ke(e).position()[n]+"px":t})}),ke.each({Height:"height",Width:"width"},function(a,o){ke.each({padding:"inner"+a,content:o,"":"outer"+a},function(i,s){ke.fn[s]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return Le(this,function(e,t,n){var i;return ye(e)?0===s.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):n===undefined?ke.css(e,t,r):ke.style(e,t,n,r)},o,n?e:undefined,n)}})}),ke.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){ke.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),ke.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ke.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),ke.proxy=function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),ve(e)?(i=le.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(le.call(arguments)))}).guid=e.guid=e.guid||ke.guid++,r):undefined},ke.holdReady=function(e){e?ke.readyWait++:ke.ready(!0)},ke.isArray=Array.isArray,ke.parseJSON=JSON.parse,ke.nodeName=c,ke.isFunction=ve,ke.isWindow=ye,ke.camelCase=p,ke.type=g,ke.now=Date.now,ke.isNumeric=function(e){var t=ke.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ke});var nn=C.jQuery,rn=C.$;return ke.noConflict=function(e){return C.$===ke&&(C.$=rn),e&&C.jQuery===ke&&(C.jQuery=nn),ke},e||(C.jQuery=C.$=ke),ke}),function(u,l){"use strict";var c;u.rails!==l&&u.error("jquery-ujs has already been loaded!");var e=u(document);u.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return u("meta[name=csrf-token]").attr("content")},csrfParam:function(){return u("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=c.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){u('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(e,t,n){var i=u.Event(t);return e.trigger(i,n),!1!==i.result},confirm:function(e){return confirm(e)},ajax:function(e){return u.ajax(e)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==l&&!1!==e.data("remote")},handleRemote:function(i){var e,t,n,r,s,a;if(c.fire(i,"ajax:before")){if(r=i.data("with-credentials")||null,s=i.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType,i.is("form")){e=i.data("ujs:submit-button-formmethod")||i.attr("method"),t=i.data("ujs:submit-button-formaction")||i.attr("action"),n=u(i[0]).serializeArray();var o=i.data("ujs:submit-button");o&&(n.push(o),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(c.inputChangeSelector)?(e=i.data("method"),t=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(c.buttonClickSelector)?(e=i.data("method")||"get",t=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(e=i.data("method"),t=c.href(i),n=i.data("params")||null);return a={type:e||"GET",data:n,dataType:s,beforeSend:function(e,t){if(t.dataType===l&&e.setRequestHeader("accept","*/*;q=0.5, "+t.accepts.script),!c.fire(i,"ajax:beforeSend",[e,t]))return!1;i.trigger("ajax:send",e)},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:c.isCrossDomain(t)},r&&(a.xhrFields={withCredentials:r}),t&&(a.url=t),c.ajax(a)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(e){var t=c.href(e),n=e.data("method"),i=e.attr("target"),r=c.csrfToken(),s=c.csrfParam(),a=u('<form method="post" action="'+t+'"></form>'),o='<input name="_method" value="'+n+'" type="hidden" />';s===l||r===l||c.isCrossDomain(t)||(o+='<input name="'+s+'" value="'+r+'" type="hidden" />'),i&&a.attr("target",i),a.hide().append(o).appendTo("body"),a.submit()},formElements:function(e,t){return e.is("form")?u(e[0].elements).filter(t):e.find(t)},disableFormElements:function(e){c.formElements(e,c.disableSelector).each(function(){c.disableFormElement(u(this))})},disableFormElement:function(e){var t,n;t=e.is("button")?"html":"val",(n=e.data("disable-with"))!==l&&(e.data("ujs:enable-with",e[t]()),e[t](n)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(e){c.formElements(e,c.enableSelector).each(function(){c.enableFormElement(u(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")!==l&&(e[t](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,n=e.data("confirm"),i=!1;if(!n)return!0;if(c.fire(e,"confirm")){try{i=c.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}t=c.fire(e,"confirm:complete",[i])}return i&&t},blankInputs:function(e,t,n){var i,r,s,a=u(),o=t||"input,textarea",l=e.find(o),c={};return l.each(function(){(i=u(this)).is("input[type=radio]")?(s=i.attr("name"),c[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(r=e.find('input[type=radio][name="'+s+'"]'),a=a.add(r)),c[s]=s)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(a=a.add(i))}),!!a.length&&a},nonBlankInputs:function(e,t){return c.blankInputs(e,t,!0)},stopEverything:function(e){return u(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(e){var t=e.data("disable-with");t!==l&&(e.data("ujs:enable-with",e.html()),e.html(t)),e.bind("click.railsDisable",function(e){return c.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==l&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},c.fire(e,"rails:attachBindings")&&(u.ajaxPrefilter(function(e,t,n){e.crossDomain||c.CSRFProtection(n)}),u(window).on("pageshow.rails",function(){u(u.rails.enableSelector).each(function(){var e=u(this);e.data("ujs:disabled")&&u.rails.enableFormElement(e)}),u(u.rails.linkDisableSelector).each(function(){var e=u(this);e.data("ujs:disabled")&&u.rails.enableElement(e)})}),e.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(u(this))}),e.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(u(this))}),e.on("click.rails",c.linkClickSelector,function(e){var t=u(this),n=t.data("method"),i=t.data("params"),r=e.metaKey||e.ctrlKey;if(!c.allowAction(t))return c.stopEverything(e);if(!r&&t.is(c.linkDisableSelector)&&c.disableElement(t),c.isRemote(t)){if(r&&(!n||"GET"===n)&&!i)return!0;var s=c.handleRemote(t);return!1===s?c.enableElement(t):s.fail(function(){c.enableElement(t)}),!1}return n?(c.handleMethod(t),!1):void 0}),e.on("click.rails",c.buttonClickSelector,function(e){var t=u(this);if(!c.allowAction(t)||!c.isRemote(t))return c.stopEverything(e);t.is(c.buttonDisableSelector)&&c.disableFormElement(t);var n=c.handleRemote(t);return!1===n?c.enableFormElement(t):n.fail(function(){c.enableFormElement(t)}),!1}),e.on("change.rails",c.inputChangeSelector,function(e){var t=u(this);return c.allowAction(t)&&c.isRemote(t)?(c.handleRemote(t),!1):c.stopEverything(e)}),e.on("submit.rails",c.formSubmitSelector,function(e){var t,n,i=u(this),r=c.isRemote(i);if(!c.allowAction(i))return c.stopEverything(e);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((t=c.blankInputs(i,c.requiredInputSelector,!1))&&c.fire(i,"ajax:aborted:required",[t]))return c.stopEverything(e)}else i.data("ujs:formnovalidate-button",l);if(r){if(n=c.nonBlankInputs(i,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(i)},13);var s=c.fire(i,"ajax:aborted:file",[n]);return s||setTimeout(function(){c.enableFormElements(i)},13),s}return c.handleRemote(i),!1}setTimeout(function(){c.disableFormElements(i)},13)}),e.on("click.rails",c.formInputClickSelector,function(e){var t=u(this);if(!c.allowAction(t))return c.stopEverything(e);var n=t.attr("name"),i=n?{name:n,value:t.val()}:null,r=t.closest("form");0===r.length&&(r=u("#"+t.attr("form"))),r.data("ujs:submit-button",i),r.data("ujs:formnovalidate-button",t.attr("formnovalidate")),r.data("ujs:submit-button-formaction",t.attr("formaction")),r.data("ujs:submit-button-formmethod",t.attr("formmethod"))}),e.on("ajax:send.rails",c.formSubmitSelector,function(e){this===e.target&&c.disableFormElements(u(this))}),e.on("ajax:complete.rails",c.formSubmitSelector,function(e){this===e.target&&c.enableFormElements(u(this))}),u(function(){c.refreshCSRFTokens()}))}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(s){"use strict";function e(n){return this.each(function(){var e=s(this),t=e.data("bs.alert");t||e.data("bs.alert",t=new a(this)),"string"==typeof n&&t[n].call(e)})}var t='[data-dismiss="alert"]',a=function(e){s(e).on("click",t,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(e){function t(){r.detach().trigger("closed.bs.alert").remove()}var n=s(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=s("#"===i?[]:i);e&&e.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(e=s.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),s.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",t).emulateTransitionEnd(a.TRANSITION_DURATION):t())};var n=s.fn.alert;s.fn.alert=e,s.fn.alert.Constructor=a,s.fn.alert.noConflict=function(){return s.fn.alert=n,this},s(document).on("click.bs.alert.data-api",t,a.prototype.close)}(jQuery),function(s){"use strict";function n(i){return this.each(function(){var e=s(this),t=e.data("bs.button"),n="object"==typeof i&&i;t||e.data("bs.button",t=new r(this,n)),"toggle"==i?t.toggle():i&&t.setState(i)})}var r=function(e,t){this.$element=s(e),this.options=s.extend({},r.DEFAULTS,t),this.isLoading=!1};r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(s.proxy(function(){n[i](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(t).attr(t,t).prop(t,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(t).removeAttr(t).prop(t,!1))},this),0)},r.prototype.toggle=function(){var e=!0,t=this.$element.closest(
'[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var e=s.fn.button;s.fn.button=n,s.fn.button.Constructor=r,s.fn.button.noConflict=function(){return s.fn.button=e,this},s(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var t=s(e.target).closest(".btn");n.call(t,"toggle"),s(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),t.is("input,button")?t.trigger("focus"):t.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){s(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(d){"use strict";function a(r){return this.each(function(){var e=d(this),t=e.data("bs.carousel"),n=d.extend({},h.DEFAULTS,e.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;t||e.data("bs.carousel",t=new h(this,n)),"number"==typeof r?t.to(r):i?t[i]():n.interval&&t.pause().cycle()})}var h=function(e,t){this.$element=d(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},h.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},h.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(n<e?"next":"prev",this.$items.eq(e))},h.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(e,t){var n=this.$element.find(".item.active"),i=t||this.getItemForDirection(e,n),r=this.interval,s="next"==e?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var o=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:o,direction:s});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:o,direction:s});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,n.addClass(s),i.addClass(s),n.one("bsTransitionEnd",function(){i.removeClass([e,s].join(" ")).addClass("active"),n.removeClass(["active",s].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var e=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=e,this};var t=function(e){var t,n=d(this),i=d(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=d.extend({},i.data(),n.data()),s=n.attr("data-slide-to");s&&(r.interval=!1),a.call(i,r),s&&i.data("bs.carousel").to(s),e.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",t).on("click.bs.carousel.data-api","[data-slide-to]",t),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var e=d(this);a.call(e,e.data())})})}(jQuery),function(o){"use strict";function l(e){var t=e.attr("data-target");t||(t=(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""));var n=t&&o(t);return n&&n.length?n:e.parent()}function s(i){i&&3===i.which||(o(t).remove(),o(c).each(function(){var e=o(this),t=l(e),n={relatedTarget:this};t.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&o.contains(t[0],i.target)||(t.trigger(i=o.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(e.attr("aria-expanded","false"),t.removeClass("open").trigger(o.Event("hidden.bs.dropdown",n)))))}))}function e(n){return this.each(function(){var e=o(this),t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new i(this)),"string"==typeof n&&t[n].call(e)})}var t=".dropdown-backdrop",c='[data-toggle="dropdown"]',i=function(e){o(e).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(e){var t=o(this);if(!t.is(".disabled, :disabled")){var n=l(t),i=n.hasClass("open");if(s(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&o(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(o(this)).on("click",s);var r={relatedTarget:this};if(n.trigger(e=o.Event("show.bs.dropdown",r)),e.isDefaultPrevented())return;t.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(o.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var t=o(this);if(e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled")){var n=l(t),i=n.hasClass("open");if(!i&&27!=e.which||i&&27==e.which)return 27==e.which&&n.find(c).trigger("focus"),t.trigger("click");var r=" li:not(.disabled):visible a",s=n.find(".dropdown-menu"+r);if(s.length){var a=s.index(e.target);38==e.which&&0<a&&a--,40==e.which&&a<s.length-1&&a++,~a||(a=0),s.eq(a).trigger("focus")}}}};var n=o.fn.dropdown;o.fn.dropdown=e,o.fn.dropdown.Constructor=i,o.fn.dropdown.noConflict=function(){return o.fn.dropdown=n,this},o(document).on("click.bs.dropdown.data-api",s).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",c,i.prototype.toggle).on("keydown.bs.dropdown.data-api",c,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(s){"use strict";function a(i,r){return this.each(function(){var e=s(this),t=e.data("bs.modal"),n=s.extend({},o.DEFAULTS,e.data(),"object"==typeof i&&i);t||e.data("bs.modal",t=new o(this,n)),"string"==typeof i?t[i](r):n.show&&t.show(r)})}var o=function(e,t){this.options=t,this.$body=s(document.body),this.$element=s(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,s.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};o.VERSION="3.3.7",o.TRANSITION_DURATION=300,o.BACKDROP_TRANSITION_DURATION=150,o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},o.prototype.show=function(n){var i=this,e=s.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',s.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){s(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=s.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),e&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var t=s.Event("shown.bs.modal",{relatedTarget:n});e?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(o.TRANSITION_DURATION):i.$element.trigger("focus").trigger(t)}))},o.prototype.hide=function(e){e&&e.preventDefault(),e=s.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),s(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),s.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",s.proxy(this.hideModal,this)).emulateTransitionEnd(o.TRANSITION_DURATION):this.hideModal())},o.prototype.enforceFocus=function(){s(document).off("focusin.bs.modal").on("focusin.bs.modal",s.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",s.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},o.prototype.resize=function(){this.isShown?s(window).on("resize.bs.modal",s.proxy(this.handleUpdate,this)):s(window).off("resize.bs.modal")},o.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(e){var t=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=s.support.transition&&n;if(this.$backdrop=s(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",s.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){t.removeBackdrop(),e&&e()};s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},o.prototype.handleUpdate=function(){this.adjustDialog()},o.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},o.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},o.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},o.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},o.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},o.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var e=s.fn.modal;s.fn.modal=a,s.fn.modal.Constructor=o,s.fn.modal.noConflict=function(){return s.fn.modal=e,this},s(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=s(this),n=t.attr("href"),i=s(t.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":s.extend({remote:!/#/.test(n)&&n},i.data(),t.data());t.is("a")&&e.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),a.call(i,r,this)})}(jQuery),function(m){"use strict";function e(i){return this.each(function(){var e=m(this),t=e.data("bs.tooltip"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.tooltip",t=new g(this,n)),"string"==typeof i&&t[i]())})}var g=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};g.VERSION="3.3.7",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(e,t,n){if(this.enabled=!0,this.type=e,this.$element=m(t),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&m(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var s=i[r];if("click"==s)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",o="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(e){return(e=m.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},g.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&m.each(this._options,function(e,t){i[e]!=t&&(n[e]=t)}),n},g.prototype.enter=function(e){var t=e instanceof this.constructor?e:m(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),m(e.currentTarget).data("bs."+this.type,t)),e instanceof m.Event&&(t.inState["focusin"==e.type?"focus":"hover"]=!0),t.tip().hasClass("in")||"in"==t.hoverState)t.hoverState="in";else{if(clearTimeout(t.timeout),t.hoverState="in",!t.options.delay||!t.options.delay.show)return t.show();t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)}},g.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},g.prototype.leave=function(e){var t=e instanceof this.constructor?e:m(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),m(e.currentTarget).data("bs."+this.type,t)),e instanceof m.Event&&(t.inState["focusout"==e.type?"focus":"hover"]=!1),!t.isInStateTrue()){if(clearTimeout(t.timeout),t.hoverState="out",!t.options.delay||!t.options.delay.hide)return t.hide();t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)}},g.prototype.show=function(){var e=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var t=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!t)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,o=a.test(s);o&&(s=s.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(o){var d=s,h=this.getPosition(this.$viewport);s="bottom"==s&&l.bottom+u>h.bottom?"top":"top"==s&&l.top-u<h.top?"bottom":"right"==s&&l.right+c>h.width?"left":"left"==s&&l.left-c<h.left?"right":s,i.removeClass(d).addClass(s)}var p=this.getCalculatedOffset(s,l,c,u);this.applyPlacement(p,s);var f=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==e&&n.leave(n)};m.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(g.TRANSITION_DURATION):f()}},g.prototype.applyPlacement=function(e,t){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,m.offset.setOffset(n[0],m.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),n.addClass("in");var o=n[0].offsetWidth,l=n[0].offsetHeight;"top"==t&&l!=r&&(e.top=e.top+r-l);var c=this.getViewportAdjustedDelta(t,e,o,l);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(t),d=u?2*c.left-i+o:2*c.top-r+l,h=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][h],u)},g.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},g.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},g.prototype.hide=function(e){function t(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,i=m(this.$tip),r=m.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",t).emulateTransitionEnd(g.TRANSITION_DURATION):t(),this.hoverState=null,this},g.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],n="BODY"==t.tagName,i=t.getBoundingClientRect();null==i.width&&(i=m.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&t instanceof window.SVGElement,s=n?{top:0,left:0}:r?null:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},o=n?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},i,a,o,s)},g.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},g.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var o=t.top-s-a.scroll,l=t.top+s-a.scroll+i;o<a.top?r.top=a.top-o:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-s,u=t.left+s+n;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},g.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},g.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(e){var t=this;e&&((t=m(e.currentTarget).data("bs."+this.type))||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),m(e.currentTarget).data("bs."+this.type,t))),e?(t.inState.click=!t.inState.click,t.isInStateTrue()?t.enter(t):t.leave(t)):t.tip().hasClass("in")?t.leave(t):t.enter(t)},g.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var t=m.fn.tooltip;m.fn.tooltip=e,m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=t,this}}(jQuery),function(r){"use strict";function e(i){return this.each(function(){var e=r(this),t=e.data("bs.popover"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.popover",t=new s(this,n)),"string"==typeof i&&t[i]())})}var s=function(e,t){this.init("popover",e,t)};if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");s.VERSION="3.3.7",s.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),s.prototype=r.extend({},r.fn.tooltip.Constructor.prototype),(s.prototype.constructor=s).prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},s.prototype.hasContent=function(){return this.getTitle()||this.getContent()},s.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=r.fn.popover;r.fn.popover=e,r.fn.popover.Constructor=s,r.fn.popover.noConflict=function(){return r.fn.popover=t,this}}(jQuery),function(o){"use strict";function t(n){return this.each(function(){var e=o(this),t=e.data("bs.tab");t||e.data("bs.tab",t=new a(this)),"string"==typeof n&&t[n]()})}var a=function(e){this.element=o(e)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var e=this.element,t=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=t.find(".active:last a"),r=o.Event("hide.bs.tab",{relatedTarget:e[0]}),s=o.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),e.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=o(n);this.activate(e.closest("li"),t),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(e,t,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=t.find("> .active"),s=n&&o.support.transition&&(r.length&&r.hasClass("fade")||!!t.find("> .fade").length);r.length&&s?r.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),r.removeClass("in")};var e=o.fn.tab;o.fn.tab=t,o.fn.tab.Constructor=a,o.fn.tab.noConflict=function(){return o.fn.tab=e,this};var n=function(e){e.preventDefault(),t.call(o(this),"show")};o(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var e=l(this),t=e.data("bs.affix"),n="object"==typeof i&&i;t||e.data("bs.affix",t=new c(this,n)),"string"==typeof i&&t[i]()})}var c=function(e,t){this.options=l.extend({},c.DEFAULTS,t),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=s.top)&&"bottom":!(r+a<=e-i)&&"bottom";var o=null==this.affixed,l=o?r:s.top;return null!=n&&r<=n?"top":null!=i&&e-i<=l+(o?a:t)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),t=this.options.offset,n=t.top,i=t.bottom,r=Math.max(l(document).height(),l(document.body).height());"object"!=typeof t&&(i=n=t),"function"==typeof n&&(n=t.top(this.$element)),"function"==typeof i&&(i=t.bottom(this.$element));var s=this.getState(r,e,n,i);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var a="affix"+(s?"-"+s:""),o=l.Event(a+".bs.affix");if(this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:r-e-i})}};var e=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=e,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var e=l(this),t=e.data();t.offset=t.offset||{},null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom),null!=t.offsetTop&&(t.offset.top=t.offsetTop),n.call(e,t)})})}(jQuery),function(a){"use strict";function r(e){var t,n=e.attr("data-target")||(t=e.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function o(i){return this.each(function(){var e=a(this),t=e.data("bs.collapse"),n=a.extend({},l.DEFAULTS,e.data(),"object"==typeof i&&i);!t&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),t||e.data("bs.collapse",t=new l(this,n)),"string"==typeof i&&t[i]()})}var l=function(e,t){this.$element=a(e),this.options=a.extend({},l.DEFAULTS,t),this.$trigger=a('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&(e=t.data("bs.collapse"))&&e.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){t&&t.length&&(o.call(t,"hide"),e||t.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return r.call(this);var s=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(r,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][s])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=a.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[t](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(e,t){var n=a(t);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var e=a.fn.collapse;a.fn.collapse=o,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=a(this);t.attr("data-target")||e.preventDefault();var n=r(t),i=n.data("bs.collapse")?"toggle":t.data();o.call(n,i)})}(jQuery),function(s){"use strict";function r(e,t){this.$body=s(document.body),this.$scrollElement=s(e).is(document.body)?s(window):s(e),this.options=s.extend({},r.DEFAULTS,t),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s.proxy(this.process,this)),this.refresh(),this.process()}function t(i){return this.each(function(){var e=s(this),t=e.data("bs.scrollspy"),n="object"==typeof i&&i;t||e.data("bs.scrollspy",t=new r(this,n)),"string"==typeof i&&t[i]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var e=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),s.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=s(this),t=e.data("target")||e.attr("href"),n=/^#./.test(t)&&s(t);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,
t]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},r.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=t)return a!=(e=s[s.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=s[e]&&t>=r[e]&&(r[e+1]===undefined||t<r[e+1])&&this.activate(s[e])},r.prototype.activate=function(e){this.activeTarget=e,this.clear();var t=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=s(t).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){s(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var e=s.fn.scrollspy;s.fn.scrollspy=t,s.fn.scrollspy.Constructor=r,s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=e,this},s(window).on("load.bs.scrollspy.data-api",function(){s('[data-spy="scroll"]').each(function(){var e=s(this);t.call(e,e.data())})})}(jQuery),function(i){"use strict";function e(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return{end:t[n]};return!1}i.fn.emulateTransitionEnd=function(e){var t=!1,n=this;return i(this).one("bsTransitionEnd",function(){t=!0}),setTimeout(function(){t||i(n).trigger(i.support.transition.end)},e),this},i(function(){i.support.transition=e(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(e){if(i(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t,n){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(e){return t.Bloodhound=n(e)}):"object"==typeof exports?module.exports=n(require("jquery")):t.Bloodhound=n(jQuery)}(this,function(p){var f=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:p.isArray,isFunction:p.isFunction,isObject:p.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof p},toStr:function t(e){return f.isUndefined(e)||null===e?"":e+""},bind:p.proxy,each:function(e,n){function t(e,t){return n(t,e)}p.each(e,t)},map:p.map,filter:p.grep,every:function(n,i){var r=!0;return n?(p.each(n,function(e,t){if(!(r=i.call(null,t,e,n)))return!1}),!!r):r},some:function(n,i){var r=!1;return n?(p.each(n,function(e,t){if(r=i.call(null,t,e,n))return!1}),!!r):r},mixin:p.extend,identity:function(e){return e},clone:function(e){return p.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function n(e){function t(){return String(e)}return p.isFunction(e)?e:t},defer:function(e){setTimeout(e,0)},debounce:function(r,s,a){var o,l;return function(){var e,t,n=this,i=arguments;return e=function(){o=null,a||(l=r.apply(n,i))},t=a&&!o,clearTimeout(o),o=setTimeout(e,s),t&&(l=r.apply(n,i)),l}},throttle:function(n,i){var r,s,a,o,l,c;return l=0,c=function(){l=new Date,a=null,o=n.apply(r,s)},function(){var e=new Date,t=i-(e-l);return r=this,s=arguments,t<=0?(clearTimeout(a),a=null,l=e,o=n.apply(r,s)):a||(a=setTimeout(c,t)),o}},stringify:function(e){return f.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),l="0.11.1",m=function(){"use strict";function e(e){return(e=f.toStr(e))?e.split(/\s+/):[]}function t(e){return(e=f.toStr(e))?e.split(/\W+/):[]}function n(r){return function t(e){return e=f.isArray(e)?e:[].slice.call(arguments,0),function i(t){var n=[];return f.each(e,function(e){n=n.concat(r(f.toStr(t[e])))}),n}}}return{nonword:t,whitespace:e,obj:{nonword:n(t),whitespace:n(e)}}}(),s=function(){"use strict";function e(e){this.maxSize=f.isNumber(e)?e:100,this.reset(),this.maxSize<=0&&(this.set=this.get=p.noop)}function t(){this.head=this.tail=null}function r(e,t){this.key=e,this.val=t,this.prev=this.next=null}return f.mixin(e.prototype,{set:function s(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new r(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function n(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function i(){this.size=0,this.hash={},this.list=new t}}),f.mixin(t.prototype,{add:function a(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function o(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),e}(),a=function(){"use strict";function e(e,t){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+f.escapeRegExChars(this.prefix)),this.ls=t||a,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(e){return JSON.stringify(f.isUndefined(e)?null:e)}function n(e){return p.parseJSON(e)}function s(e){var t,n,i=[],r=a.length;for(t=0;t<r;t++)(n=a.key(t)).match(e)&&i.push(n.replace(e,""));return i}var a;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(o){a=null}return f.mixin(e.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=f.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(o){"QuotaExceededError"===o.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),n(this.ls.getItem(this._prefix(e)))},set:function(e,t,n){return f.isNumber(n)?this._safeSet(this._ttlKey(e),r(i()+n)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),r(t))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=s(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var t=n(this.ls.getItem(this._ttlKey(e)));return!!(f.isNumber(t)&&i()>t)}}),e}(),g=function(){"use strict";function e(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=!1===e.cache?new s(0):t}var l=0,c={},u=6,t=new s(10);return e.setMaxPendingRequests=function n(e){u=e},e.resetCache=function i(){t.reset()},f.mixin(e.prototype,{_fingerprint:function r(e){return(e=e||{}).url+e.type+p.param(e.data||{})},_get:function(e,t){function n(e){t(null,e),o._cache.set(s,e)}function i(){t(!0)}function r(){l--,delete c[s],o.onDeckRequestArgs&&(o._get.apply(o,o.onDeckRequestArgs),o.onDeckRequestArgs=null)}var s,a,o=this;s=this._fingerprint(e),this.cancelled||s!==this.lastReq||((a=c[s])?a.done(n).fail(i):l<u?(l++,c[s]=this._send(e).done(n).fail(i).always(r)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,t){var n,i;t=t||p.noop,e=f.isString(e)?{url:e}:e||{},i=this._fingerprint(e),this.cancelled=!1,this.lastReq=i,(n=this._cache.get(i))?t(null,n):this._get(e,t)},cancel:function(){this.cancelled=!0}}),e}(),_=window.SearchIndex=function(){"use strict";function e(e){(e=e||{}).datumTokenizer&&e.queryTokenizer||p.error("datumTokenizer and queryTokenizer are both required"),this.identify=e.identify||f.stringify,this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function n(e){return e=f.filter(e,function(e){return!!e}),e=f.map(e,function(e){return e.toLowerCase()})}function a(){var e={};return e[c]=[],e[l]={},e}function i(e){for(var t={},n=[],i=0,r=e.length;i<r;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}function o(e,t){var n=0,i=0,r=[];e=e.sort(),t=t.sort();for(var s=e.length,a=t.length;n<s&&i<a;)e[n]<t[i]?n++:(e[n]>t[i]||(r.push(e[n]),n++),i++);return r}var l="c",c="i";return f.mixin(e.prototype,{bootstrap:function t(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var s=this;e=f.isArray(e)?e:[e],f.each(e,function(e){var r,t;s.datums[r=s.identify(e)]=e,t=n(s.datumTokenizer(e)),f.each(t,function(e){var t,n,i;for(t=s.trie,n=e.split("");i=n.shift();)(t=t[l][i]||(t[l][i]=a()))[c].push(r)})})},get:function r(e){var t=this;return f.map(e,function(e){return t.datums[e]})},search:function u(e){var t,s,a=this;return t=n(this.queryTokenizer(e)),f.each(t,function(e){var t,n,i,r;if(s&&0===s.length)return!1;for(t=a.trie,n=e.split("");t&&(i=n.shift());)t=t[l][i];if(!t||0!==n.length)return!(s=[]);r=t[c].slice(0),s=s?o(s,r):r}),s?f.map(i(s),function(e){return a.datums[e]}):[]},all:function s(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function d(){this.datums={},this.trie=a()},serialize:function h(){return{datums:this.datums,trie:this.trie}}}),e}(),v=function(){"use strict";function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new a(e.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},f.mixin(e.prototype,{_settings:function t(){return{url:this.url,type:"GET",dataType:"json"}},store:function i(e){this.cache&&(this.storage.set(n.data,e,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function r(){var e,t={};return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,r.transform(e))}var i,r=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function s(){return this.storage.clear(),this}}),e}(),y=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new g({cache:e.cache,limiter:e.limiter,transport:e.transport})}return f.mixin(e.prototype,{_settings:function t(){return{url:this.url,type:"GET",dataType:"json"}},get:function s(e,n){function t(e,t){n(e?[]:r.transform(t))}var i,r=this;if(n)return e=e||"",i=this.prepare(e,this._settings()),this.transport.get(i,t)},cancelLastRequest:function n(){this.transport.cancel()}}),e}(),b=function(){"use strict";function i(e){var t;return e?(t={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:f.identity,transform:f.identity,transport:null},e=f.isString(e)?{url:e}:e,!(e=f.mixin(t,e)).url&&p.error("prefetch requires url to be set"),e.transform=e.filter||e.transform,e.cacheKey=e.cacheKey||e.url,e.thumbprint=l+e.thumbprint,e.transport=e.transport?a(e.transport):p.ajax,e):null}function r(e){var t;if(e)return t={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:f.identity,transport:null},e=f.isString(e)?{url:e}:e,!(e=f.mixin(t,e)).url&&p.error("remote requires url to be set"),e.transform=e.filter||e.transform,e.prepare=n(e),e.limiter=s(e),e.transport=e.transport?a(e.transport):p.ajax,delete e.replace,delete e.wildcard,delete e.rateLimitBy,delete e.rateLimitWait,e}function n(e){function t(e,t){return t.url=s(t.url,e),t}function n(e,t){return t.url=t.url.replace(a,encodeURIComponent(e)),t}function i(e,t){return t}var r,s,a;return r=e.prepare,s=e.replace,a=e.wildcard,r||(r=s?t:e.wildcard?n:i)}function s(e){function t(t){return function n(e){return f.debounce(e,t)}}function n(t){return function n(e){return f.throttle(e,t)}}var i,r,s;return i=e.limiter,r=e.rateLimitBy,s=e.rateLimitWait,i||(i=/^throttle$/i.test(r)?n(s):t(s)),i}function a(r){return function s(e){function t(e){f.defer(function(){i.resolve(e)})}function n(e){f.defer(function(){i.reject(e)})}var i=p.Deferred();return r(e,t,n),i}}return function o(e){var t,n;return t={initialize:!0,identify:f.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(e=f.mixin(t,e||{})).datumTokenizer&&p.error("datumTokenizer is required"),!e.queryTokenizer&&p.error("queryTokenizer is required"),n=e.sorter,e.sorter=n?function(e){return e.sort(n)}:f.identity,e.local=f.isFunction(e.local)?e.local():e.local,e.prefetch=i(e.prefetch),e.remote=r(e.remote),e}}();return function(){"use strict";function e(e){e=b(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new y(e.remote):null,this.prefetch=e.prefetch?new v(e.prefetch):null,this.index=new _({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),!1!==e.initialize&&this.initialize()}var t;return t=window&&window.Bloodhound,e.noConflict=function n(){return window&&(window.Bloodhound=t),e},e.tokenizers=m,f.mixin(e.prototype,{__ttAdapter:function r(){function e(e,t,n){return i.search(e,t,n)}function t(e,t){return i.search(e,t)}var i=this;return this.remote?e:t},_loadPrefetch:function s(){function e(e,t){if(e)return n.reject();i.add(t),i.prefetch.store(i.index.serialize()),n.resolve()}var n,t,i=this;return n=p.Deferred(),this.prefetch?(t=this.prefetch.fromCache())?(this.index.bootstrap(t),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function i(){function e(){t.add(t.local)}var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(e),this.initPromise},initialize:function i(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function a(e){return this.index.add(e),this},get:function o(e){return e=f.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function l(e,t,i){function n(e){var n=[];f.each(e,function(t){!f.some(r,function(e){return s.identify(t)===s.identify(e)})&&n.push(t)}),i&&i(n)}var r,s=this;return r=this.sorter(this.index.search(e)),t(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(e,n):this.remote&&this.remote.cancelLastRequest(),this},all:function c(){return this.index.all()},clear:function u(){return this.index.reset(),this},clearPrefetchCache:function d(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function h(){return g.resetCache(),this},ttAdapter:function r(){return this.__ttAdapter()}}),e}()}),function(e,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(R){var F=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:R.isArray,isFunction:R.isFunction,isObject:R.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof R},toStr:function t(e){return F.isUndefined(e)||null===e?"":e+""},bind:R.proxy,each:function(e,n){function t(e,t){return n(t,e)}R.each(e,t)},map:R.map,filter:R.grep,every:function(n,i){var r=!0;return n?(R.each(n,function(e,t){if(!(r=i.call(null,t,e,n)))return!1}),!!r):r},some:function(n,i){var r=!1;return n?(R.each(n,function(e,t){if(r=i.call(null,t,e,n))return!1}),!!r):r},mixin:R.extend,identity:function(e){return e},clone:function(e){return R.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function n(e){function t(){return String(e)}return R.isFunction(e)?e:t},defer:function(e){setTimeout(e,0)},debounce:function(r,s,a){var o,l;return function(){var e,t,n=this,i=arguments;return e=function(){o=null,a||(l=r.apply(n,i))},t=a&&!o,clearTimeout(o),o=setTimeout(e,s),t&&(l=r.apply(n,i)),l}},throttle:function(n,i){var r,s,a,o,l,c;return l=0,c=function(){l=new Date,a=null,o=n.apply(r,s)},function(){var e=new Date,t=i-(e-l);return r=this,s=arguments,t<=0?(clearTimeout(a),a=null,l=e,o=n.apply(r,s)):a||(a=setTimeout(c,t)),o}},stringify:function(e){return F.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),$=function(){"use strict";function e(e){var t,n;return n=F.mixin({},a,e),{css:(t={css:s(),classes:n,html:i(n),selectors:r(n)}).css,html:t.html,classes:t.classes,selectors:t.selectors,mixin:function(e){F.mixin(e,t)}}}function i(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function r(e){var n={};return F.each(e,function(e,t){n[t]="."+e}),n}function s(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return F.isMsie()&&F.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var a={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return e}(),T=function(){"use strict";function e(e){e&&e.el||R.error("EventBus initialized without el"),this.$el=R(e.el)}var i,n;return i="typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},F.mixin(e.prototype,{_trigger:function(e,t){var n;return n=R.Event(i+e),(t=t||[]).unshift(n),this.$el.trigger.apply(this.$el,t),n},before:function(e){var t;return t=[].slice.call(arguments,1),this._trigger("before"+e,t).isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=n[e])&&this._trigger(t,[].slice.call(arguments,1))}}),e}(),D=function(){"use strict";function i(e,t,n,i){var r;if(!n)return this;for(t=t.split(l),n=i?o(n,i):n,this._callbacks=this._callbacks||{};r=t.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][e].push(n);return this}function e(e,t,n){return i.call(this,"async",e,t,n)}function t(e,t,n){return i.call(this,"sync",e,t,n)}function n(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function r(e){var t,n,i,r,s;if(!this._callbacks)return this;for(e=e.split(l),i=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)r=a(n.sync,this,[t].concat(i)),s=a(n.async,this,[t].concat(i)),r()&&c(s);return this}function a(i,r,s){function e(){for(var e,t=0,n=i.length;!e&&t<n;t+=1)e=!1===i[t].apply(r,s);return!e}return e}function s(){return window.setImmediate?function t(e){setImmediate(function(){e()})}:function n(e){setTimeout(function(){e()},0)}}function o(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,c=s();return{onSync:t,onAsync:e,off:n,trigger:r}}(),x=function(o){"use strict";function t(e,t,n){for(var i,r=[],s=0,a=e.length;s<a;s++)r.push(F.escapeRegExChars(e[s]));return i=n?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",t?new RegExp(i):new RegExp(i,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function i(r){function e(e){var t,n,i;return(t=a.exec(e.data))&&(i=o.createElement(r.tagName),r.className&&(i.className=r.className),(n=e.splitText(t.index)).splitText(t[0].length),i.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(i,n)),!!t}function s(e,t){for(var n,i=3,r=0;r<e.childNodes.length;r++)(n=e.childNodes[r]).nodeType===i?r+=t(n)?1:0:s(n,t)}var a;(r=F.mixin({},n,r)).node&&r.pattern&&(r.pattern=F.isArray(r.pattern)?r.pattern:[r.pattern],a=t(r.pattern,r.caseSensitive,r.wordsOnly),s(r.node,e))}}(window.document),q=function(){"use strict";function n(e,t){(e=e||{}).input||R.error("input is missing"),t.mixin(this),this.$hint=R(e.hint),this.$input=R(e.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=F.noop)}function i(e){return R('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function s(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return F.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},F.mixin(n.prototype,D,{_onBlur:function e(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function t(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function o(e){var t=a[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function l(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function c(e,t){var n;switch(e){case"up":case"down":n=!s(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function u(e,t){var n;switch(e){case"tab":n=!s(t);break;default:n=!0}return n},_checkLanguageDirection:function d(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function h(e,t){var n,i;i=!!(n=r(e,this.query))&&this.query.length!==e.length,this.query=e,t||n?!t&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,t,n,i,r=this;return e=F.bind(this._onBlur,this),t=F.bind(this._onFocus,this),n=F.bind(this._onKeydown,this),i=F.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",t).on("keydown.tt",n),!F.isMsie()||9<F.isMsie()?this.$input.on("input.tt",i):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){a[e.which||e.keyCode]||F.defer(F.bind(r._onInput,r,e))}),this},focus:function p(){this.$input.focus()},blur:function f(){this.$input.blur()},getLangDir:function m(){return this.dir},getQuery:function g(){return this.query||""},setQuery:function h(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function _(){return this.query!==this.queryWhenFocused},getInputValue:function v(){return this.$input.val()},setInputValue:function y(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function b(){this.setInputValue(this.query)},getHint:function w(){return this.$hint.val()},setHint:function k(e){this.$hint.val(e)},clearHint:function x(){this.setHint("")},clearHintIfInvalid:function C(){var e,t,n;n=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),!(""!==e&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function $(){return this.$input.is(":focus")},hasOverflow:function T(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,t,n;return e=this.$input.val().length,t=this.$input[0].selectionStart,F.isNumber(t)?t===e:!document.selection||((n=document.selection.createRange()).moveStart("character",-e),e===n.text.length)},destroy:function S(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=R("<div>")}}),n}(),w=function(){"use strict";function e(e,t){(e=e||{}).templates=e.templates||{},e.templates.notFound=e.templates.notFound||e.templates.empty,e.source||R.error("missing source"),e.node||R.error("missing node"),e.name&&!r(e.name)&&R.error("invalid dataset name: "+e.name),t.mixin(this),this.highlight=!!e.highlight,this.name=e.name||s(),this.limit=e.limit||5,this.displayFn=n(e.display||e.displayKey),this.templates=i(e.templates,this.displayFn),this.source=e.source.__ttAdapter?e.source.__ttAdapter():e.source,this.async=F.isUndefined(e.async)?2<this.source.length:!!e.async,this._resetLastSuggestion(),this.$el=R(e.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function e(e){return e[t]}return t=t||F.stringify,F.isFunction(t)?t:e}function i(e,t){function n(e){return R("<div>").text(t(e))}return{notFound:e.notFound&&F.templatify(e.notFound),pending:e.pending&&F.templatify(e.pending),header:e.header&&F.templatify(e.header),footer:e.footer&&F.templatify(e.footer),suggestion:e.suggestion||n}}function r(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var o,s;return o={val:"tt-selectable-display",obj:"tt-selectable-object"},s=F.getIdGenerator(),e.extractData=function a(e){var t=R(e);return t.data(o.obj)?{val:t.data(o.val)||"",obj:t.data(o.obj)||null}:null},F.mixin(e.prototype,D,{_overwrite:function l(e,t){(t=t||[]).length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function c(e,t){(t=t||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function u(e,t){var n;n=this._getSuggestionsFragment(e,t),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function d(e,t){var n,i;i=(n=this._getSuggestionsFragment(e,t)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function h(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function p(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function t(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function f(i,e){var r,s=this;return r=document.createDocumentFragment(),F.each(e,function a(e){var t,n;n=s._injectQuery(i,e),t=R(s.templates.suggestion(n)).data(o.obj,e).data(o.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(t[0])}),this.highlight&&x({className:this.classes.highlight,node:r,pattern:i}),R(r)},_getFooter:function m(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function g(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function _(){this.$lastSuggestion=R()},_injectQuery:function v(e,t){return F.isObject(t)?F.mixin({_query:e},t):t},update:function y(t){function e(e){s||(s=!0,e=(e||[]).slice(0,i.limit),a=e.length,i._overwrite(t,e),a<i.limit&&i.async&&i.trigger("asyncRequested",t))}function n(e){e=e||[],!r&&a<i.limit&&(i.cancel=R.noop,a+=e.length,i._append(t,e.slice(0,i.limit-a)),i.async&&i.trigger("asyncReceived",t))}var i=this,r=!1,s=!1,a=0;this.cancel(),this.cancel=function o(){r=!0,i.cancel=R.noop,i.async&&i.trigger("asyncCanceled",t)},this.source(t,e,n),!s&&e([])},cancel:R.noop,clear:function b(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function w(){return this.$el.is(":empty")},destroy:function k(){this.$el=R("<div>")}}),e}(),S=function(){"use strict";function e(e,n){function t(e){var t=i.$node.find(e.node).first();return e.node=t.length?t:R("<div>").appendTo(i.$node),new w(e,n)}var i=this;(e=e||{}).node||R.error("node is required"),n.mixin(this),this.$node=R(e.node),this.query=null,this.datasets=F.map(e.datasets,t)}return F.mixin(e.prototype,D,{_onSelectableClick:function t(e){this.trigger("selectableClicked",R(e.currentTarget))},_onRendered:function r(e,t,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,i)},_onCleared:function n(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function i(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function s(){function e(e){return e.isEmpty()}return F.every(this.datasets,e)},_getSelectables:function a(){return this.$node.find(this.selectors.selectable)},_removeCursor:function o(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function l(e){var t,n,i,r;n=(t=e.position().top)+e.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(i+t):r<n&&this.$node.scrollTop(i+(n-r))},bind:function(){var e,t=this;return e=F.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),F.each(this.datasets,function(e){e.onSync("asyncRequested",t._propagate,t).onSync("asyncCanceled",t._propagate,t).onSync("asyncReceived",t._propagate,t).onSync("rendered",t._onRendered,t).onSync("cleared",t._onCleared,t)}),this},isOpen:function c(){return this.$node.hasClass(this.classes.open)},open:function u(){this.$node.addClass(this.classes.open)},close:function d(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function h(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function p(e){var t,n,i;return n=this.getActiveSelectable(),t=this._getSelectables(),-1===(i=(i=((i=(n?t.index(n):-1)+e)+1)%(t.length+1)-1)<-1?t.length-1:i)?null:t.eq(i)},setCursor:function f(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function m(e){return e&&e.length?w.extractData(e):null},getActiveSelectable:function g(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function _(){var e=this._getSelectables().first();return e.length?e:null},update:function v(t){function e(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,F.each(this.datasets,e)),n},empty:function y(){function e(e){e.clear()}F.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function b(){function e(e){e.destroy()}this.$node.off(".tt"),this.$node=R("<div>"),F.each(this.datasets,e)}}),e}(),E=function(){"use strict";function e(){S.apply(this,[].slice.call(arguments,0))}var t=S.prototype;return F.mixin(e.prototype,S.prototype,{open:function n(){return!this._allDatasetsEmpty()&&this._show(),t.open.apply(this,[].slice.call(arguments,0))},close:function i(){return this._hide(),t.close.apply(this,[].slice.call(arguments,0))},_onRendered:function r(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function s(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function a(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),t.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function o(){this.$node.hide()},_show:function l(){this.$node.css("display","block")}}),e}(),A=function(){"use strict";function e(e,t){var n,i,r,s,a,o,l,c,u,d,h;(e=e||{}).input||R.error("missing input"),e.menu||R.error("missing menu"),e.eventBus||R.error("missing event bus"),t.mixin(this),this.eventBus=e.eventBus,this.minLength=F.isNumber(e.minLength)?e.minLength:1,this.input=e.input,this.menu=e.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),
this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),n=p(this,"activate","open","_onFocused"),i=p(this,"deactivate","_onBlurred"),r=p(this,"isActive","isOpen","_onEnterKeyed"),s=p(this,"isActive","isOpen","_onTabKeyed"),a=p(this,"isActive","_onEscKeyed"),o=p(this,"isActive","open","_onUpKeyed"),l=p(this,"isActive","open","_onDownKeyed"),c=p(this,"isActive","isOpen","_onLeftKeyed"),u=p(this,"isActive","isOpen","_onRightKeyed"),d=p(this,"_openIfActive","_onQueryChanged"),h=p(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",n,this).onSync("blurred",i,this).onSync("enterKeyed",r,this).onSync("tabKeyed",s,this).onSync("escKeyed",a,this).onSync("upKeyed",o,this).onSync("downKeyed",l,this).onSync("leftKeyed",c,this).onSync("rightKeyed",u,this).onSync("queryChanged",d,this).onSync("whitespaceChanged",h,this).onSync("langDirChanged",this._onLangDirChanged,this)}function p(n){var e=[].slice.call(arguments,1);return function(){var t=[].slice.call(arguments);F.each(e,function(e){return n[e].apply(n,t)})}}return F.mixin(e.prototype,{_hacks:function t(){var r,s;r=this.input.$input||R("<div>"),s=this.menu.$node||R("<div>"),r.on("blur.tt",function(e){var t,n,i;t=document.activeElement,n=s.is(t),i=0<s.has(t).length,F.isMsie()&&(n||i)&&(e.preventDefault(),e.stopImmediatePropagation(),F.defer(function(){r.focus()}))}),s.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function n(e,t){this.select(t)},_onDatasetCleared:function i(){this._updateHint()},_onDatasetRendered:function r(e,t,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,t)},_onAsyncRequested:function s(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function a(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function o(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function l(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function c(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function u(e,t){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&t.preventDefault()},_onTabKeyed:function d(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function h(){this.close()},_onUpKeyed:function f(){this.moveCursor(-1)},_onDownKeyed:function m(){this.moveCursor(1)},_onLeftKeyed:function g(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function _(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function v(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function y(){this._updateHint()},_onLangDirChanged:function b(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function w(){this.isActive()&&this.open()},_minLengthMet:function k(e){return(e=F.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function x(){var e,t,n,i,r,s;e=this.menu.getTopSelectable(),t=this.menu.getSelectableData(e),n=this.input.getInputValue(),!t||F.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(i=q.normalizeQuery(n),r=F.escapeRegExChars(i),(s=new RegExp("^(?:"+r+")(.+$)","i").exec(t.val))&&this.input.setHint(n+s[1]))},isEnabled:function C(){return this.enabled},enable:function $(){this.enabled=!0},disable:function T(){this.enabled=!1},isActive:function S(){return this.active},activate:function D(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function E(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function A(){return this.menu.isOpen()},open:function P(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function I(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function N(e){this.input.setQuery(F.toStr(e))},getVal:function O(){return this.input.getQuery()},select:function j(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj))&&(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0)},autocomplete:function L(e){var t,n;return t=this.input.getQuery(),!(!((n=this.menu.getSelectableData(e))&&t!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function M(e){var t,n,i,r;return t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),r=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(t))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function H(){this.input.destroy(),this.menu.destroy()}}),e}();!function(){"use strict";function i(e,n){e.each(function(){var e,t=R(this);(e=t.data(_.typeahead))&&n(e,t)})}function f(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(n(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function m(e,t){e.data(_.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(n){}return e}function n(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function r(n){var e,t;e=n.data(_.www),t=n.parent().filter(e.selectors.wrapper),F.each(n.data(_.attrs),function(e,t){F.isUndefined(e)?n.removeAttr(t):n.attr(t,e)}),n.removeData(_.typeahead).removeData(_.www).removeData(_.attr).removeClass(e.classes.input),t.length&&(n.detach().insertAfter(t),t.remove())}function g(e){var t;return(t=F.isJQuery(e)||F.isElement(e)?R(e).first():[]).length?t:null}var e,_,t;e=R.fn.typeahead,_={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},t={initialize:function s(d,h){function e(){var e,t,n,i,r,s,a,o,l,c,u;F.each(h,function(e){e.highlight=!!d.highlight}),e=R(this),t=R(p.html.wrapper),n=g(d.hint),i=g(d.menu),r=!1!==d.hint&&!n,s=!1!==d.menu&&!i,r&&(n=f(e,p)),s&&(i=R(p.html.menu).css(p.css.menu)),n&&n.val(""),e=m(e,p),(r||s)&&(t.css(p.css.wrapper),e.css(r?p.css.input:p.css.inputWithNoHint),e.wrap(t).parent().prepend(r?n:null).append(s?i:null)),u=s?E:S,a=new T({el:e}),o=new q({hint:n,input:e},p),l=new u({node:i,datasets:h},p),c=new A({input:o,menu:l,eventBus:a,minLength:d.minLength},p),e.data(_.www,p),e.data(_.typeahead,c)}var p;return h=F.isArray(h)?h:[].slice.call(arguments,1),p=$((d=d||{}).classNames),this.each(e)},isEnabled:function a(){var t;return i(this.first(),function(e){t=e.isEnabled()}),t},enable:function o(){return i(this,function(e){e.enable()}),this},disable:function l(){return i(this,function(e){e.disable()}),this},isActive:function c(){var t;return i(this.first(),function(e){t=e.isActive()}),t},activate:function u(){return i(this,function(e){e.activate()}),this},deactivate:function d(){return i(this,function(e){e.deactivate()}),this},isOpen:function h(){var t;return i(this.first(),function(e){t=e.isOpen()}),t},open:function p(){return i(this,function(e){e.open()}),this},close:function v(){return i(this,function(e){e.close()}),this},select:function y(e){var t=!1,n=R(e);return i(this.first(),function(e){t=e.select(n)}),t},autocomplete:function b(e){var t=!1,n=R(e);return i(this.first(),function(e){t=e.autocomplete(n)}),t},moveCursor:function w(t){var n=!1;return i(this.first(),function(e){n=e.moveCursor(t)}),n},val:function k(t){var n;return arguments.length?(i(this,function(e){e.setVal(t)}),this):(i(this.first(),function(e){n=e.getVal()}),n)},destroy:function x(){return i(this,function(e,t){r(t),e.destroy()}),this}},R.fn.typeahead=function(e){return t[e]?t[e].apply(this,[].slice.call(arguments,1)):t.initialize.apply(this,arguments)},R.fn.typeahead.noConflict=function C(){return R.fn.typeahead=e,this}}()}),function(e){"object"==typeof module&&"object"==typeof module.exports?e(require("jquery"),window,document):"undefined"!=typeof jQuery&&e(jQuery,window,document)}(function(h,e,p){!function(){function c(e,t,n){return new Array(n+1-e.length).join(t)+e}function l(e,t,n){if(1!==arguments.length)return 3===arguments.length?new Date(0,0,0,e,t,n):2===arguments.length?new Date(0,0,0,e,t,0):new Date(0,0,0);var i=e;return"string"==typeof i&&(i=h.fn.timepicker.parseTime(i)),new Date(0,0,0,i.getHours(),i.getMinutes(),i.getSeconds())}var u,d;h.TimePicker=function(){var t=this;t.container=h(".ui-timepicker-container"),t.ui=t.container.find(".ui-timepicker"),0===t.container.length&&(t.container=h("<div></div>").addClass("ui-timepicker-container").addClass("ui-timepicker-hidden ui-helper-hidden").appendTo("body").hide(),t.ui=h("<div></div>").addClass("ui-timepicker").addClass("ui-widget ui-widget-content ui-menu").addClass("ui-corner-all").appendTo(t.container),t.viewport=h("<ul></ul>").addClass("ui-timepicker-viewport").appendTo(t.ui),"1.4.2"<=h.fn.jquery&&t.ui.delegate("a","mouseenter.timepicker",function(){t.activate(!1,h(this).parent())}).delegate("a","mouseleave.timepicker",function(){t.deactivate(!1)}).delegate("a","click.timepicker",function(e){e.preventDefault(),t.select(!1,h(this).parent())}))},h.TimePicker.count=0,h.TimePicker.instance=function(){return h.TimePicker._instance||(h.TimePicker._instance=new h.TimePicker),h.TimePicker._instance},h.TimePicker.prototype={keyCode:{ALT:18,BLOQ_MAYUS:20,CTRL:17,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SHIFT:16,TAB:9,UP:38},_items:function(e,t){var n,i,r=this,s=h("<ul></ul>"),a=null;for(-1===e.options.timeFormat.indexOf("m")&&e.options.interval%60!=0&&(e.options.interval=60*Math.max(Math.round(e.options.interval/60),1)),n=t?l(t):e.options.startTime?l(e.options.startTime):l(e.options.startHour,e.options.startMinutes),i=new Date(n.getTime()+864e5);n<i;)r._isValidTime(e,n)&&(a=h("<li>").addClass("ui-menu-item").appendTo(s),h("<a>").addClass("ui-corner-all").text(h.fn.timepicker.formatTime(e.options.timeFormat,n)).appendTo(a),a.data("time-value",n)),n=new Date(n.getTime()+60*e.options.interval*1e3);return s.children()},_isValidTime:function(e,t){var n=null,i=null;return t=l(t),null!==e.options.minTime?n=l(e.options.minTime):null===e.options.minHour&&null===e.options.minMinutes||(n=l(e.options.minHour,e.options.minMinutes)),null!==e.options.maxTime?i=l(e.options.maxTime):null===e.options.maxHour&&null===e.options.maxMinutes||(i=l(e.options.maxHour,e.options.maxMinutes)),null!==n&&null!==i?n<=t&&t<=i:null!==n?n<=t:null===i||t<=i},_hasScroll:function(){var e="undefined"!=typeof this.ui.prop?"prop":"attr";return this.ui.height()<this.ui[e]("scrollHeight")},_move:function(e,t,n){var i=this;if(i.closed()&&i.open(e),i.active){var r=i.active[t+"All"](".ui-menu-item").eq(0);r.length?i.activate(e,r):i.activate(e,i.viewport.children(n))}else i.activate(e,i.viewport.children(n))},register:function(e,t){var n=this,i={};i.element=h(e),i.element.data("TimePicker")||(i.options=h.metadata?h.extend({},t,i.element.metadata()):h.extend({},t),i.widget=n,h.extend(i,{next:function(){return n.next(i)},previous:function(){return n.previous(i)},first:function(){return n.first(i)},last:function(){return n.last(i)},selected:function(){return n.selected(i)},open:function(){return n.open(i)},close:function(){return n.close(i)},closed:function(){return n.closed(i)},destroy:function(){return n.destroy(i)},parse:function(e){return n.parse(i,e)},format:function(e,t){return n.format(i,e,t)},getTime:function(){return n.getTime(i)},setTime:function(e,t){return n.setTime(i,e,t)},option:function(e,t){return n.option(i,e,t)}}),n._setDefaultTime(i),n._addInputEventsHandlers(i),i.element.data("TimePicker",i))},_setDefaultTime:function(e){"now"===e.options.defaultTime?e.setTime(l(new Date)):e.options.defaultTime&&e.options.defaultTime.getFullYear?e.setTime(l(e.options.defaultTime)):e.options.defaultTime&&e.setTime(h.fn.timepicker.parseTime(e.options.defaultTime))},_addInputEventsHandlers:function(t){var n=this;t.element.bind("keydown.timepicker",function(e){switch(e.which||e.keyCode){case n.keyCode.ENTER:case n.keyCode.NUMPAD_ENTER:e.preventDefault(),n.closed()?t.element.trigger("change.timepicker"):n.select(t,n.active);break;case n.keyCode.UP:t.previous();break;case n.keyCode.DOWN:t.next();break;default:n.closed()||t.close(!0)}}).bind("focus.timepicker",function(){t.open()}).bind("blur.timepicker",function(){setTimeout(function(){t.element.data("timepicker-user-clicked-outside")&&t.close()})}).bind("change.timepicker",function(){t.closed()&&t.setTime(h.fn.timepicker.parseTime(t.element.val()))})},select:function(e,t){var n=this,i=!1===e?n.instance:e;n.setTime(i,h.fn.timepicker.parseTime(t.children("a").text())),n.close(i,!0)},activate:function(e,t){var n=this;if((!1===e?n.instance:e)===n.instance){if(n.deactivate(),n._hasScroll()){var i=t.offset().top-n.ui.offset().top,r=n.ui.scrollTop(),s=n.ui.height();i<0?n.ui.scrollTop(r+i):s<=i&&n.ui.scrollTop(r+i-s+t.height())}n.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-item").end()}},deactivate:function(){var e=this;e.active&&(e.active.children("a").removeClass("ui-state-hover").removeAttr("id"),e.active=null)},next:function(e){return(this.closed()||this.instance===e)&&this._move(e,"next",".ui-menu-item:first"),e.element},previous:function(e){return(this.closed()||this.instance===e)&&this._move(e,"prev",".ui-menu-item:last"),e.element},first:function(e){return this.instance===e&&(this.active&&0===this.active.prevAll(".ui-menu-item").length)},last:function(e){return this.instance===e&&(this.active&&0===this.active.nextAll(".ui-menu-item").length)},selected:function(e){return this.instance===e&&this.active?this.active:null},open:function(t){var n=this,i=t.getTime(),e=t.options.dynamic&&i;if(!t.options.dropdown)return t.element;switch(t.element.data("timepicker-event-namespace",Math.random()),h(p).bind("click.timepicker-"+t.element.data("timepicker-event-namespace"),function(e){t.element.get(0)===e.target?t.element.data("timepicker-user-clicked-outside",!1):t.element.data("timepicker-user-clicked-outside",!0).blur()}),(t.rebuild||!t.items||e)&&(t.items=n._items(t,e?i:null)),(t.rebuild||n.instance!==t||e)&&(h.fn.jquery<"1.4.2"?(n.viewport.children().remove(),n.viewport.append(t.items),n.viewport.find("a").bind("mouseover.timepicker",function(){n.activate(t,h(this).parent())}).bind("mouseout.timepicker",function(){n.deactivate(t)}).bind("click.timepicker",function(e){e.preventDefault(),n.select(t,h(this).parent())})):(n.viewport.children().detach(),n.viewport.append(t.items))),t.rebuild=!1,n.container.removeClass("ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners").show(),t.options.theme){case"standard":n.container.addClass("ui-timepicker-standard");break;case"standard-rounded-corners":n.container.addClass("ui-timepicker-standard ui-timepicker-corners")}n.container.hasClass("ui-timepicker-no-scrollbar")||t.options.scrollbar||(n.container.addClass("ui-timepicker-no-scrollbar"),n.viewport.css({paddingRight:40}));var r=n.container.outerHeight()-n.container.height(),s=t.options.zindex?t.options.zindex:t.element.offsetParent().css("z-index"),a=t.element.offset();n.container.css({top:a.top+t.element.outerHeight(),left:a.left}),n.container.show(),n.container.css({left:t.element.offset().left,height:n.ui.outerHeight()+r,width:t.element.outerWidth(),zIndex:s,cursor:"default"});var o=n.container.width()-(n.ui.outerWidth()-n.ui.width());return n.ui.css({width:o}),n.viewport.css({width:o}),t.items.css({width:o}),n.instance=t,i?t.items.each(function(){var e=h(this);return(h.fn.jquery<"1.4.2"?h.fn.timepicker.parseTime(e.find("a").text()):e.data("time-value")).getTime()!==i.getTime()||(n.activate(t,e),!1)}):n.deactivate(t),t.element},close:function(e){var t=this;return t.instance===e&&(t.container.addClass("ui-helper-hidden ui-timepicker-hidden").hide(),t.ui.scrollTop(0),t.ui.children().removeClass("ui-state-hover")),h(p).unbind("click.timepicker-"+e.element.data("timepicker-event-namespace")),e.element},closed:function(){return this.ui.is(":hidden")},destroy:function(e){return this.close(e,!0),e.element.unbind(".timepicker").data("TimePicker",null)},parse:function(e,t){return h.fn.timepicker.parseTime(t)},format:function(e,t,n){return n=n||e.options.timeFormat,h.fn.timepicker.formatTime(n,t)},getTime:function(e){var t=this,n=h.fn.timepicker.parseTime(e.element.val());return n instanceof Date&&!t._isValidTime(e,n)?null:n instanceof Date&&e.selectedTime?e.format(n)===e.format(e.selectedTime)?e.selectedTime:n:n instanceof Date?n:null},setTime:function(e,t,n){var i=this,r=e.selectedTime;if("string"==typeof t&&(t=e.parse(t)),t&&t.getMinutes&&i._isValidTime(e,t)){if(t=l(t),e.selectedTime=t,e.element.val(e.format(t,e.options.timeFormat)),n)return e}else e.selectedTime=null;return null===r&&null===e.selectedTime||(e.element.trigger("time-change",[t]),h.isFunction(e.options.change)&&e.options.change.apply(e.element,[t])),e.element},option:function(t,e,n){if(void 0===n)return t.options[e];var i,r,s=t.getTime();"string"==typeof e?(i={})[e]=n:i=e,r=["minHour","minMinutes","minTime","maxHour","maxMinutes","maxTime","startHour","startMinutes","startTime","timeFormat","interval","dropdown"],h.each(i,function(e){t.options[e]=i[e],t.rebuild=t.rebuild||-1<h.inArray(e,r)}),t.rebuild&&t.setTime(s)}},h.TimePicker.defaults={timeFormat:"hh:mm p",minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:null,startMinutes:null,startTime:null,interval:30,dynamic:!0,theme:"standard",zindex:null,dropdown:!0,scrollbar:!1,change:function(){}},h.TimePicker.methods={chainable:["next","previous","open","close","destroy","setTime"]},h.fn.timepicker=function(t){if("string"==typeof t){var e,n,i=Array.prototype.slice.call(arguments,1);return n=this[e="option"===t&&2<arguments.length?"each":-1!==h.inArray(t,h.TimePicker.methods.chainable)?"each":"map"](function(){var e=h(this).data("TimePicker");if("object"==typeof e)return e[t].apply(e,i)}),"map"===e&&1===this.length?h.makeArray(n).shift():"map"===e?h.makeArray(n):n}if(1===this.length&&this.data("TimePicker"))return this.data("TimePicker");var r=h.extend({},h.TimePicker.defaults,t);return this.each(function(){h.TimePicker.instance().register(this,r)})},h.fn.timepicker.formatTime=function(e,t){var n=t.getHours(),i=n%12,r=t.getMinutes(),s=t.getSeconds(),a={hh:c((0===i?12:i).toString(),"0",2),HH:c(n.toString(),"0",2),mm:c(r.toString(),"0",2),ss:c(s.toString(),"0",2),h:0===i?12:i,H:n,m:r,s:s,p:11<n?"PM":"AM"},o=e,l="";for(l in a)a.hasOwnProperty(l)&&(o=o.replace(new RegExp(l,"g"),a[l]));return o=o.replace(new RegExp("a","g"),11<n?"pm":"am")},h.fn.timepicker.parseTime=(d=(u=[[/^(\d+)$/,"$1"],[/^:(\d)$/,"$10"],[/^:(\d+)/,"$1"],[/^(\d):([7-9])$/,"0$10$2"],[/^(\d):(\d\d)$/,"$1$2"],[/^(\d):(\d{1,})$/,"0$1$20"],[/^(\d\d):([7-9])$/,"$10$2"],[/^(\d\d):(\d)$/,"$1$20"],[/^(\d\d):(\d*)$/,"$1$2"],[/^(\d{3,}):(\d)$/,"$10$2"],[/^(\d{3,}):(\d{2,})/,"$1$2"],[/^(\d):(\d):(\d)$/,"0$10$20$3"],[/^(\d{1,2}):(\d):(\d\d)/,"$10$2$3"]]).length,function(e){var t=l(new Date),n=!1,i=!1,r=!1,s=!1,a=!1;if(void 0===e||!e.toLowerCase)return null;e=e.toLowerCase(),i=!(n=/a/.test(e))&&/p/.test(e),e=e.replace(/[^0-9:]/g,"").replace(/:+/g,":");for(var o=0;o<d;o+=1)if(u[o][0].test(e)){e=e.replace(u[o][0],u[o][1]);break}return 1===(e=e.replace(/:/g,"")).length?r=e:2===e.length?r=e:3===e.length||5===e.length?(r=e.substr(0,1),s=e.substr(1,2),a=e.substr(3,2)):(4===e.length||5<e.length)&&(r=e.substr(0,2),s=e.substr(2,2),a=e.substr(4,2)),0<e.length&&e.length<5&&(e.length<3&&(s=0),a=0),!1!==r&&!1!==s&&!1!==a&&(r=parseInt(r,10),s=parseInt(s,10),a=parseInt(a,10),n&&12===r?r=0:i&&r<12&&(r+=12),24<r?6<=e.length?h.fn.timepicker.parseTime(e.substr(0,5)):h.fn.timepicker.parseTime(e+"0"+(n?"a":"")+(i?"p":"")):(t.setHours(r,s,a),t))})}()}),function(){var l,t,i,a,r=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,n=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};(a=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,r,s,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),a=[],i=0,r=(s=e.childNodes).length;i<r;i++)n=s[i],a.push(this.add_option(n,t,e.disabled));return a},e.prototype.add_option=function(e,t,n){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:!0===n?n:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,n;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}()).select_to_array=function(e){var t,n,i,r,s;for(n=new a,i=0,r=(s=e.childNodes).length;i<r;i++)t=s[i],n.add_node(t);return n.parsed},t=function(){function n(e,t){this.form_field=e,this.options=null!=t?t:{},this.label_click_handler=r(this.label_click_handler,this),n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},n.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},n.prototype.label_click_handler=function(e){return this.is_multiple?this.container_mousedown(e):this.activate_field()},n.prototype.results_option_build=function(e){var t,n,i,r,s,a,o;for(t="",s=r=0,a=(o=this.results_data).length;s<a&&((i="")!==(i=(n=o[s]).group?this.result_add_group(n):this.result_add_option(n))&&(r++,t+=i),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(r>=this.max_shown_results));s++);return t},n.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},n.prototype.result_add_group=function(e){var t,n;return(e.search_match||e.group_match)&&0<e.active_options?((t=[]).push("group-result"),e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},n.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},n.prototype.reset_single_select_options=function(){var e,t,n,i,r;for(r=[],t=0,n=(i=this.results_data).length;t<n;t++)(e=i[t]).selected?r.push(e.selected=!1):r.push(void 0);return r},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var e,t,n,i,r,s,a,o,l,c,u,d;for(this.no_results_clear(),r=0,e=(a=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=this.get_search_regex(e),t=this.get_highlight_regex(e),c=0,u=(d=this.results_data).length;c<u;c++)(n=d[c]).search_match=!1,s=null,this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(0===(s=this.results_data[n.group_array_index]).active_options&&s.search_match&&(r+=1),s.active_options+=1),n.search_text=n.group?n.label:n.html,n.group&&!this.group_search||(n.search_match=this.search_string_match(n.search_text,i),n.search_match&&!n.group&&(r+=1),n.search_match?(a.length&&(o=n.search_text.search(t),l=n.search_text.substr(0,o+a.length)+"</em>"+n.search_text.substr(o+a.length),n.search_text=l.substr(0,o)+"<em>"+l.substr(o)),null!=s&&(s.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),r<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(e){var t,n;return t=this.search_contains?"":"^",n=this.case_sensitive_search?"":"i",new RegExp(t+e,n)},n.prototype.get_highlight_regex=function(e){var t,n;return t=this.search_contains?"":"\\b",n=this.case_sensitive_search?"":"i",new RegExp(t+e,n)},n.prototype.search_string_match=function(e,t){var n,i,r,s;if(t.test(e))return!0;if(this.enable_split_word_search&&(0<=e.indexOf(" ")||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" ")).length)for(r=0,s=i.length;r<s;r++)if(n=i[r],t.test(n))return!0},n.prototype.choices_count=function(){var e,t,n;if(null!=this.selected_option_count)return this.selected_option_count;for(e=this.selected_option_count=0,t=(n=this.form_field.options).length;e<t;e++)n[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(e){if(e.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:e.preventDefault(),this.results_showing&&this.result_select(e);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},n.prototype.clipboard_event_checker=function(){var e=this;if(!this.is_disabled)return setTimeout(function(){return e.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},n.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},n.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},n.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},n.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},n.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},n.prototype.get_multi_html=function(){
return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},n.prototype.get_no_results_html=function(e){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+e+"</span>\n</li>"},n.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}(),(l=jQuery).fn.extend({chosen:function(n){return t.browser_is_supported()?this.each(function(){var e,t;t=(e=l(this)).data("chosen"),"destroy"!==n?t instanceof i||e.data("chosen",new i(this,n)):t instanceof i&&t.destroy()}):this}}),i=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.setup=function(){return this.form_field_jq=l(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},e.prototype.set_up_html=function(){var e,t;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),t={"class":e.join(" "),title:this.form_field.title},this.form_field.id.length&&(t.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=l("<div />",t),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},e.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},e.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){t.container_mousedown(e)}),this.container.bind("touchend.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.close_field(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},e.prototype.destroy=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.unbind("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_field)},e.prototype.container_mousedown=function(e){var t;if(!this.is_disabled)return!e||"mousedown"!==(t=e.type)&&"touchstart"!==t||this.results_showing||e.preventDefault(),null!=e&&l(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||l(e.target)[0]!==this.selected_item[0]&&!l(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),l(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},e.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},e.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},e.prototype.close_field=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},e.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(e){var t;return(t=l(e.target).closest(".chosen-container")).length&&this.container[0]===t[0]?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=a.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},e.prototype.result_do_highlight=function(e){var t,n,i,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),(i=parseInt(this.search_results.css("maxHeight"),10))+(r=this.search_results.scrollTop())<=(t=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<t-i?t-i:0);if(n<r)return this.search_results.scrollTop(n)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},e.prototype.update_results_content=function(e){return this.search_results.html(e)},e.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},e.prototype.set_tab_index=function(){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},e.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.bind("click.chosen",this.label_click_handler)},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(e){var t;if((t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first()).length)return this.result_highlight=t,this.result_select(e),this.search_field.focus()},e.prototype.search_results_mouseover=function(e){var t;if(t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first())return this.result_do_highlight(t)},e.prototype.search_results_mouseout=function(e){if(l(e.target).hasClass("active-result"))return this.result_clear_highlight()},e.prototype.choice_build=function(e){var t,n,i=this;return t=l("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?t.addClass("search-choice-disabled"):((n=l("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index})).bind("click.chosen",function(e){return i.choice_destroy_link_click(e)}),t.append(n)),this.search_container.before(t)},e.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(l(e.target))},e.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},e.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(e){var t,n;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(n=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),this.is_multiple&&(!this.hide_results_on_select||e.metaKey||e.ctrlKey)||(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},e.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},e.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},e.prototype.get_search_field_value=function(){return this.search_field.val()},e.prototype.get_search_text=function(){return this.escape_html(l.trim(this.get_search_field_value()))},e.prototype.escape_html=function(e){return l("<div/>").text(e).html()},e.prototype.winnow_results_set_highlight=function(){var e,t;if(null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},e.prototype.no_results=function(e){var t;return t=this.get_no_results_html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},e.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.search_field_scale=function(){var e,t,n,i,r,s,a,o;if(this.is_multiple){for(i={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},a=0,o=(r=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;a<o;a++)i[n=r[a]]=this.search_field.css(n);return(t=l("<div />").css(i)).text(this.get_search_field_value()),l("body").append(t),s=t.width()+25,t.remove(),e=this.container.outerWidth(),s=Math.min(e-10,s),this.search_field.width(s)}},e.prototype.trigger_form_field_change=function(e){return this.form_field_jq.trigger("input",e),this.form_field_jq.trigger("change",e)},e}()}.call(this),function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(n){function i(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var r={};return i.m=n,i.c=r,i.p="",i(0)}([function(e,t,n){"use strict";function i(){var n=h();return n.compile=function(e,t){return l.compile(e,t,n)},n.precompile=function(e,t){return l.precompile(e,t,n)},n.AST=a["default"],n.Compiler=l.Compiler,n.JavaScriptCompiler=c["default"],n.Parser=o.parser,n.parse=o.parse,n}var r=n(1)["default"];t.__esModule=!0;var s=r(n(2)),a=r(n(35)),o=n(36),l=n(41),c=r(n(42)),u=r(n(39)),d=r(n(34)),h=s["default"].create,p=i();p.create=i,d["default"](p),p.Visitor=u["default"],p["default"]=p,t["default"]=p,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,n){"use strict";function i(){var t=new a.HandlebarsEnvironment;return c.extend(t,a),t.SafeString=o["default"],t.Exception=l["default"],t.Utils=c,t.escapeExpression=c.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var r=n(3)["default"],s=n(1)["default"];t.__esModule=!0;var a=r(n(4)),o=s(n(21)),l=s(n(6)),c=r(n(5)),u=r(n(22)),d=s(n(34)),h=i();h.create=i,d["default"](h),h["default"]=h,t["default"]=h,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},t.__esModule=!0},function(e,t,n){"use strict";function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},o.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var r=n(1)["default"];t.__esModule=!0,t.HandlebarsEnvironment=i;var s=n(5),a=r(n(6)),o=n(10),l=n(18),c=r(n(20)),u="4.0.10";t.VERSION=u;var d=7;t.COMPILER_REVISION=d;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=h;var p="[object Object]";i.prototype={constructor:i,logger:c["default"],log:c["default"].log,registerHelper:function m(e,t){if(s.toString.call(e)===p){if(t)throw new a["default"]("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function g(e){delete this.helpers[e]},registerPartial:function _(e,t){if(s.toString.call(e)===p)s.extend(this.partials,e);else{if(void 0===t)throw new a["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function v(e){delete this.partials[e]},registerDecorator:function y(e,t){if(s.toString.call(e)===p){if(t)throw new a["default"]("Arg not supported with multiple decorators");s.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function b(e){delete this.decorators[e]}};var f=c["default"].log;t.log=f,t.createFrame=s.createFrame,t.logger=c["default"]},function(e,t){"use strict";function n(e){return u[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function s(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return h.test(e)?e.replace(d,n):e}function a(e){return!e&&0!==e||!(!m(e)||0!==e.length)}function o(e){var t=i({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=r,t.escapeExpression=s,t.isEmpty=a,t.createFrame=o,t.blockParams=l,t.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,h=/[&<>"'`=]/,p=Object.prototype.toString;t.toString=p;var f=function f(e){return"function"==typeof e};f(/x/)&&(t.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===p.call(e)}),t.isFunction=f;var m=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===p.call(e)};t.isArray=m},function(e,t,n){"use strict";function l(e,t){var n=t&&t.loc,i=undefined,r=undefined;n&&(e+=" - "+(i=n.start.line)+":"+(r=n.start.column));for(var s=Error.prototype.constructor.call(this,e),a=0;a<u.length;a++)this[u[a]]=s[u[a]];Error.captureStackTrace&&Error.captureStackTrace(this,l);try{n&&(this.lineNumber=i,c?Object.defineProperty(this,"column",{value:r,enumerable:!0}):this.column=r)}catch(o){}}var c=n(7)["default"];t.__esModule=!0;var u=["description","fileName","lineNumber","message","name","number","stack"];l.prototype=new Error,t["default"]=l,e.exports=t["default"]},function(e,t,n){e.exports={"default":n(8),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function r(e,t,n){return i.setDesc(e,t,n)}},function(e){var t=Object;e.exports={create:t.create,getProto:t.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:t.getOwnPropertyDescriptor,setDesc:t.defineProperty,setDescs:t.defineProperties,getKeys:t.keys,getNames:t.getOwnPropertyNames,getSymbols:t.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";function i(e){s["default"](e),a["default"](e),o["default"](e),l["default"](e),c["default"](e),u["default"](e),d["default"](e)}var r=n(1)["default"];t.__esModule=!0,t.registerDefaultHelpers=i;var s=r(n(11)),a=r(n(12)),o=r(n(13)),l=r(n(14)),c=r(n(15)),u=r(n(16)),d=r(n(17))},function(e,t,n){"use strict";t.__esModule=!0;var a=n(5);t["default"]=function(s){s.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse,i=t.fn;if(!0===e)return i(this);if(!1===e||null==e)return n(this);if(a.isArray(e))return 0<e.length?(t.ids&&(t.ids=[t.name]),s.helpers.each(e,t)):n(this);if(t.data&&t.ids){var r=a.createFrame(t.data);r.contextPath=a.appendContextPath(t.data.contextPath,t.name),t={data:r}}return i(e,t)})},e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=!0;var h=n(5),p=i(n(6));t["default"]=function(e){e.registerHelper("each",function(i,e){function t(e,t,n){o&&(o.key=e,o.index=t,o.first=0===t,o.last=!!n,l&&(o.contextPath=l+e)),a+=r(i[e],{data:o,blockParams:h.blockParams([i[e],e],[l+e,null])})}if(!e)throw new p["default"]("Must pass iterator to #each");var r=e.fn,n=e.inverse,s=0,a="",o=undefined,l=undefined;if(e.data&&e.ids&&(l=h.appendContextPath(e.data.contextPath,e.ids[0])+"."),h.isFunction(i)&&(i=i.call(this)),e.data&&(o=h.createFrame(e.data)),i&&"object"==typeof i)if(h.isArray(i))for(var c=i.length;s<c;s++)s in i&&t(s,s,s===i.length-1);else{var u=undefined;for(var d in i)i.hasOwnProperty(d)&&(u!==undefined&&t(u,s-1),u=d,s++);u!==undefined&&t(u,s-1,!0)}return 0===s&&(a=n(this)),a})},e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=!0;var r=i(n(6));t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return undefined;throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t["default"]=function(n){n.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),n.registerHelper("unless",function(e,t){return n.helpers["if"].call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(r){r.registerHelper("log",function(){for(var e=[undefined],t=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var i=1;null!=t.hash.level?i=t.hash.level:t.data&&null!=t.data.level&&(i=t.data.level),e[0]=i,r.log.apply(r,e)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t["default"]=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&((i=r.createFrame(t.data)).contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:r.blockParams([e],[i&&i.contextPath])})})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){s["default"](e)}var r=n(1)["default"];t.__esModule=!0,t.registerDefaultDecorators=i;var s=r(n(19))},function(e,t,n){"use strict";t.__esModule=!0;var o=n(5);t["default"]=function(e){e.registerDecorator("inline",function(r,s,a,e){var t=r;return s.partials||(s.partials={},t=function(e,t){var n=a.partials;a.partials=o.extend({},n,s.partials);var i=r(e,t);return a.partials=n,i}),s.partials[e.args[0]]=e.fn,t})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function r(e){if("string"==typeof e){var t=i.indexOf(s.methodMap,e.toLowerCase());e=0<=t?t:parseInt(e,10)}return e},log:function a(e){if(e=s.lookupLevel(e),"undefined"!=typeof console&&s.lookupLevel(s.level)<=e){var t=s.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];console[t].apply(console,i)}}};t["default"]=s,e.exports=t["default"]},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=u.COMPILER_REVISION;if(t!==n){if(t<n){var i=u.REVISION_CHANGES[n],r=u.REVISION_CHANGES[t];throw new v["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new v["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(o,l){function e(e,t,n){n.hash&&(t=_.extend({},t,n.hash),n.ids&&(n.ids[0]=!0)),e=l.VM.resolvePartial.call(this,e,t,n);var i=l.VM.invokePartial.call(this,e,t,n);if(null==i&&l.compile&&(n.partials[n.name]=l.compile(e,o.compilerOptions,l),i=n.partials[n.name](t,n)),null==i)throw new v["default"]("The partial "+n.name+" could not be compiled when running in runtime-only mode");if(n.indent){for(var r=i.split("\n"),s=0,a=r.length;s<a&&(r[s]||s+1!==a);s++)r[s]=n.indent+r[s];i=r.join("\n")}return i}function c(e,t){function n(e){return""+o.main(u,e,u.helpers,u.partials,r,a,s)}var i=arguments.length<=1||t===undefined?{}:arguments[1],r=i.data;c._setup(i),!i.partial&&o.useData&&(r=f(e,r));var s=undefined,a=o.useBlockParams?[]:undefined;return o.useDepths&&(s=i.depths?e!=i.depths[0]?[e].concat(i.depths):i.depths:[e]),(n=m(o.main,n,u,i.depths||[],r,a))(e,i)}if(!l)throw new v["default"]("No environment passed to template");if(!o||!o.main)throw new v["default"]("Unknown template object: "+typeof o);o.main.decorator=o.main_d,l.VM.checkRevision(o.compiler);var u={strict:function n(e,t){if(!(t in e))throw new v["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function r(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function i(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:_.escapeExpression,invokePartial:e,fn:function s(e){var t=o[e];return t.decorator=o[e+"_d"],t},programs:[],program:function d(e,t,n,i,r){var s=this.programs[e],a=this.fn(e);return t||r||i||n?s=p(this,e,a,t,n,i,r):s||(s=this.programs[e]=p(this,e,a)),s},data:function a(e,t){for(;e&&t--;)e=e._parent;return e},merge:function h(e,t){var n=e||t;return e&&t&&e!==t&&(n=_.extend({},t,e)),n},nullContext:g({}),noop:l.VM.noop,compilerInfo:o.compiler};return c.isTop=!0,c._setup=function(e){e.partial?(u.helpers=e.helpers,u.partials=e.partials,u.decorators=e.decorators):(u.helpers=u.merge(e.helpers,l.helpers),o.usePartial&&(u.partials=u.merge(e.partials,l.partials)),(o.usePartial||o.useDecorators)&&(u.decorators=u.merge(e.decorators,l.decorators)))},c._child=function(e,t,n,i){if(o.useBlockParams&&!n)throw new v["default"]("must pass block params");if(o.useDepths&&!i)throw new v["default"]("must pass parent depths");return p(u,e,o[e],t,0,n,i)},c}function p(r,e,s,a,t,o,l){function n(e,t){var n=arguments.length<=1||t===undefined?{}:arguments[1],i=l;return!l||e==l[0]||e===r.nullContext&&null===l[0]||(i=[e].concat(l)),s(r,e,r.helpers,r.partials,n.data||a,o&&[n.blockParams].concat(o),i)}return(n=m(s,n,r,l,a,o)).program=e,n.depth=l?l.length:0,n.blockParams=t||0,n}function s(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function a(e,t,n){var s=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=undefined;if(n.fn&&n.fn!==o&&function(){n.data=u.createFrame(n.data);var i=n.fn;a=n.data["partial-block"]=function r(e,t){var n=arguments.length<=1||t===undefined?{}:arguments[1];return n.data=u.createFrame(n.data),n.data["partial-block"]=s,i(e,n)},i.partials&&(n.partials=_.extend({},n.partials,i.partials))}(),e===undefined&&a&&(e=a),e===undefined)throw new v["default"]("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function o(){return""}function f(e,t){return t&&"root"in t||((t=t?u.createFrame(t):{}).root=e),t}function m(e,t,n,i,r,s){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],r,s,i),_.extend(t,a)}return t}var g=n(23)["default"],l=n(3)["default"],c=n(1)["default"];t.__esModule=!0,t.checkRevision=i,t.template=r,t.wrapProgram=p,t.resolvePartial=s,t.invokePartial=a,t.noop=o;var _=l(n(5)),v=c(n(6)),u=n(4)},function(e,t,n){e.exports={"default":n(24),__esModule:!0}},function(e,t,n){n(25),e.exports=n(30).Object.seal},function(e,t,n){var i=n(26);n(27)("seal",function(t){return function n(e){return t&&i(e)?t(e):e}})},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(28),s=n(30),a=n(33);e.exports=function(e,t){var n=(s.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",i)}},function(e,t,n){var f=n(29),m=n(30),g=n(31),_="prototype",v=function(e,t,n){var i,r,s,a=e&v.F,o=e&v.G,l=e&v.S,c=e&v.P,u=e&v.B,d=e&v.W,h=o?m:m[t]||(m[t]={}),p=o?f:l?f[t]:(f[t]||{})[_];for(i in o&&(n=t),n)(r=!a&&p&&i in p)&&i in h||(s=r?p[i]:n[i],h[i]=o&&"function"!=typeof p[i]?n[i]:u&&r?g(s,f):d&&p[i]==s?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[_]=t[_],e}(s):c&&"function"==typeof s?g(Function.call,s):s,c&&((h[_]||(h[_]={}))[i]=s))};v.F=1,v.G=2,v.S=4,v.P=8,v.B=16,v.W=32,e.exports=v},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){var t=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=t)},function(e,t,n){var s=n(32);e.exports=function(i,r,e){if(s(i),r===undefined)return i;switch(e){case 1:return function(e){return i.call(r,e)};case 2:return function(e,t){return i.call(r,e,t)};case 3:return function(e,t,n){return i.call(r,e,t,n)}}return function(){return i.apply(r,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){(function(i){"use strict";t.__esModule=!0,t["default"]=function(e){var t=void 0!==i?i:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}}
,e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function i(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function r(e){return/^\.|this\b/.test(e.original)},simpleId:function s(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e,t){return"Program"===e.type?e:((a["default"].yy=u).locInfo=function(e){return new u.SourceLocation(t&&t.srcName,e)},new o["default"](t).accept(a["default"].parse(e)))}var r=n(1)["default"],s=n(3)["default"];t.__esModule=!0,t.parse=i;var a=r(n(37)),o=r(n(38)),l=s(n(40)),c=n(5);t.parser=a["default"];var u={};c.extend(u,l)},function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(){this.yy={}}var t={trace:function i(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function c(e,t,n,i,r,s){var a=s.length-1;switch(r){case 1:return s[a-1];case 2:this.$=i.prepareProgram(s[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=s[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(s[a]),strip:i.stripFlags(s[a],s[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:s[a],value:s[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(s[a-2],s[a-1],s[a],this._$);break;case 12:this.$={path:s[a-3],params:s[a-2],hash:s[a-1]};break;case 13:this.$=i.prepareBlock(s[a-3],s[a-2],s[a-1],s[a],!1,this._$);break;case 14:this.$=i.prepareBlock(s[a-3],s[a-2],s[a-1],s[a],!0,this._$);break;case 15:this.$={open:s[a-5],path:s[a-4],params:s[a-3],hash:s[a-2],blockParams:s[a-1],strip:i.stripFlags(s[a-5],s[a])};break;case 16:case 17:this.$={path:s[a-4],params:s[a-3],hash:s[a-2],blockParams:s[a-1],strip:i.stripFlags(s[a-5],s[a])};break;case 18:this.$={strip:i.stripFlags(s[a-1],s[a-1]),program:s[a]};break;case 19:var o=i.prepareBlock(s[a-2],s[a-1],s[a],s[a],!1,this._$),l=i.prepareProgram([o],s[a-1].loc);l.chained=!0,this.$={strip:s[a-2].strip,program:l,chain:!0};break;case 20:this.$=s[a];break;case 21:this.$={path:s[a-1],strip:i.stripFlags(s[a-2],s[a])};break;case 22:case 23:this.$=i.prepareMustache(s[a-3],s[a-2],s[a-1],s[a-4],i.stripFlags(s[a-4],s[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:s[a-3],params:s[a-2],hash:s[a-1],indent:"",strip:i.stripFlags(s[a-4],s[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(s[a-2],s[a-1],s[a],this._$);break;case 26:this.$={path:s[a-3],params:s[a-2],hash:s[a-1],strip:i.stripFlags(s[a-4],s[a])};break;case 27:case 28:this.$=s[a];break;case 29:this.$={type:"SubExpression",path:s[a-3],params:s[a-2],hash:s[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:s[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(s[a-2]),value:s[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(s[a-1]);break;case 33:case 34:this.$=s[a];break;case 35:this.$={type:"StringLiteral",value:s[a],original:s[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(s[a]),original:Number(s[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===s[a],original:"true"===s[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:undefined,value:undefined,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=s[a];break;case 42:this.$=i.preparePath(!0,s[a],this._$);break;case 43:this.$=i.preparePath(!1,s[a],this._$);break;case 44:s[a-2].push({part:i.id(s[a]),original:s[a],separator:s[a-1]}),this.$=s[a-2];break;case 45:this.$=[{part:i.id(s[a]),original:s[a]}];break;case 46:this.$=[];break;case 47:s[a-1].push(s[a]);break;case 48:this.$=[s[a]];break;case 49:s[a-1].push(s[a]);break;case 50:this.$=[];break;case 51:s[a-1].push(s[a]);break;case 58:this.$=[];break;case 59:s[a-1].push(s[a]);break;case 64:this.$=[];break;case 65:s[a-1].push(s[a]);break;case 70:this.$=[];break;case 71:s[a-1].push(s[a]);break;case 78:this.$=[];break;case 79:s[a-1].push(s[a]);break;case 82:this.$=[];break;case 83:s[a-1].push(s[a]);break;case 86:this.$=[];break;case 87:s[a-1].push(s[a]);break;case 90:this.$=[];break;case 91:s[a-1].push(s[a]);break;case 94:this.$=[];break;case 95:s[a-1].push(s[a]);break;case 98:this.$=[s[a]];break;case 99:s[a-1].push(s[a]);break;case 100:this.$=[s[a]];break;case 101:s[a-1].push(s[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function r(e){throw new Error(e)},parse:function C(e){function t(){var e;return"number"!=typeof(e=n.lexer.lex()||1)&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],s=[],a=this.table,o="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;s.push(d);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,g,_,v,y,b,w,k={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:(null==p&&(p=t()),g=a[m]&&a[m][p]),void 0===g||!g.length||!g[0]){var x="";if(!u){for(v in w=[],a[m])this.terminals_[v]&&2<v&&w.push("'"+this.terminals_[v]+"'");x=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:d,expected:w})}}if(g[0]instanceof Array&&1<g.length)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:i.push(p),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(g[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,0<u&&u--);break;case 2:if(y=this.productions_[g[1]][1],k.$=r[r.length-y],k._$={first_line:s[s.length-(y||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(y||1)].first_column,last_column:s[s.length-1].last_column},h&&(k._$.range=[s[s.length-(y||1)].range[0],s[s.length-1].range[1]]),void 0!==(_=this.performAction.call(k,o,c,l,this.yy,g[1],r,s)))return _;y&&(i=i.slice(0,-1*y*2),r=r.slice(0,-1*y),s=s.slice(0,-1*y)),i.push(this.productions_[g[1]][0]),r.push(k.$),s.push(k._$),b=a[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},n={EOF:1,parseError:function s(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function a(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function o(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function l(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function u(){return this._more=!0,this},less:function d(e){this.unput(this.match.slice(e))},pastInput:function h(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function p(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function f(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function m(){if(this.done)return this.EOF;var e,t,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),a=0;a<s.length&&(!(n=this._input.match(this.rules[s[a]]))||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?((r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function g(){var e=this.next();return void 0!==e?e:this.lex()},begin:function _(e){this.conditionStack.push(e)},popState:function v(){return this.conditionStack.pop()},_currentRules:function y(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function b(){return this.conditionStack[this.conditionStack.length-2]},pushState:function _(e){this.begin(e)},options:{},performAction:function w(e,n,t){function i(e,t){return n.yytext=n.yytext.substr(e,n.yyleng-t)}switch(t){case 0:if("\\\\"===n.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===n.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),n.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(n.yytext=n.yytext.substr(5,n.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(n.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return n.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return n.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return n.yytext=n.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t.lexer=n,new((e.prototype=t).Parser=e)}();t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){var t=arguments.length<=0||e===undefined?{}:arguments[0];this.options=t}function p(e,t,n){t===undefined&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function f(e,t,n){t===undefined&&(t=-1);var i=e[t+1],r=e[t+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function m(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function g(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var r=n(1)["default"];t.__esModule=!0;var s=r(n(39));i.prototype=new s["default"],i.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,r=0,s=i.length;r<s;r++){var a=i[r],o=this.accept(a);if(o){var l=p(i,r,n),c=f(i,r,n),u=o.openStandalone&&l,d=o.closeStandalone&&c,h=o.inlineStandalone&&l&&c;o.close&&m(i,r,!0),o.open&&g(i,r,!0),t&&h&&(m(i,r),g(i,r)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(i[r-1].original)[1])),t&&u&&(m((a.program||a.inverse).body),g(i,r)),t&&d&&(m(i,r),g((a.inverse||a.program).body))}}return e},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,r=n;if(n&&n.chained)for(i=n.body[0].program;r.chained;)r=r.body[r.body.length-1].program;var s={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:f(t.body),closeStandalone:p((i||t).body)};if(e.openStrip.close&&m(t.body,null,!0),n){var a=e.inverseStrip;a.open&&g(t.body,null,!0),a.close&&m(i.body,null,!0),e.closeStrip.open&&g(r.body,null,!0),!this.options.ignoreStandalone&&p(t.body)&&f(i.body)&&(g(t.body),m(i.body))}else e.closeStrip.open&&g(t.body,null,!0);return s},i.prototype.Decorator=i.prototype.MustacheStatement=function(e){return e.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function i(){this.parents=[]}function r(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function s(e){r.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function a(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var o=n(1)["default"];t.__esModule=!0;var l=o(n(6));i.prototype={constructor:i,mutating:!1,acceptKey:function c(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!i.prototype[n.type])throw new l["default"]('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function u(e,t){if(this.acceptKey(e,t),!e[t])throw new l["default"](e.type+" requires "+t)},acceptArray:function d(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function h(e){if(e){if(!this[e.type])throw new l["default"]("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function p(e){this.acceptArray(e.body)},MustacheStatement:r,Decorator:r,BlockStatement:s,DecoratorBlock:s,PartialStatement:a,PartialBlockStatement:function f(e){a.call(this,e),this.acceptKey(e,"program")},ContentStatement:function m(){},CommentStatement:function g(){},SubExpression:r,PathExpression:function _(){},StringLiteral:function v(){},NumberLiteral:function y(){},BooleanLiteral:function b(){},UndefinedLiteral:function w(){},NullLiteral:function k(){},Hash:function x(e){this.acceptArray(e.pairs)},HashPair:function C(e){this.acceptRequired(e,"value")}},t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function c(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new m["default"](e.path.original+" doesn't match "+t,n)}}function i(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function r(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function s(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function a(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function o(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",r=[],s=0,a=0,o=t.length;a<o;a++){var l=t[a].part,c=t[a].original!==l;if(i+=(t[a].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)r.push(l);else{if(0<r.length)throw new m["default"]("Invalid path: "+i,{loc:n});".."===l&&(s++,"../")}}return{type:"PathExpression",data:e,depth:s,parts:r,original:i,loc:n}}function l(e,t,n,i,r,s){var a=i.charAt(3)||i.charAt(2),o="{"!==a&&"&"!==a;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:o,strip:r,loc:this.locInfo(s)}}function u(e,t,n,i){c(e,n);var r={type:"Program",body:t,strip:{},loc:i=this.locInfo(i)};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function d(e,t,n,i,r,s){i&&i.path&&c(e,i);var a=/\*/.test(e.open);t.blockParams=e.blockParams;var o=undefined,l=undefined;if(n){if(a)throw new m["default"]("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),l=n.strip,o=n.program}
return r&&(r=o,o=t,t=r),{type:a?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:o,openStrip:e.strip,inverseStrip:l,closeStrip:i&&i.strip,loc:this.locInfo(s)}}function h(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function p(e,t,n,i){return c(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}}var f=n(1)["default"];t.__esModule=!0,t.SourceLocation=i,t.id=r,t.stripFlags=s,t.stripComment=a,t.preparePath=o,t.prepareMustache=l,t.prepareRawBlock=u,t.prepareBlock=d,t.prepareProgram=h,t.preparePartialBlock=p;var m=f(n(6))},function(e,t,n){"use strict";function i(){}function r(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e,t),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function s(i,r,s){function a(){var e=s.parse(i,r),t=(new s.Compiler).compile(e,r),n=(new s.JavaScriptCompiler).compile(t,r,undefined,!0);return s.template(n)}function e(e,t){return o||(o=a()),o.call(this,e,t)}if(r===undefined&&(r={}),null==i||"string"!=typeof i&&"Program"!==i.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+i);"data"in(r=u.extend({},r))||(r.data=!0),r.compat&&(r.useDepths=!0);var o=undefined;return e._setup=function(e){return o||(o=a()),o._setup(e)},e._child=function(e,t,n,i){return o||(o=a()),o._child(e,t,n,i)},e}function a(e,t){if(e===t)return!0;if(u.isArray(e)&&u.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!a(e[n],t[n]))return!1;return!0}}function o(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var l=n(1)["default"];t.__esModule=!0,t.Compiler=i,t.precompile=r,t.compile=s;var c=l(n(6)),u=n(5),d=l(n(35)),h=[].slice;i.prototype={compiler:i,equals:function p(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||!a(i.args,r.args))return!1}t=this.children.length;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function s(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(this.options.knownHelpers[i]=n[i]);return this.accept(e)},compileProgram:function f(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function m(e){if(!this[e.type])throw new c["default"]("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function g(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;i<n;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function _(e){o(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function v(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,undefined),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function y(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(1<n.length)throw new c["default"]("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,r="SubExpression"===e.name.type;r&&this.accept(e.name),this.setupFullMustacheParams(e,t,undefined,!0);var s=e.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",r,i,s),this.opcode("append")},PartialBlockStatement:function b(e){this.PartialStatement(e)},MustacheStatement:function w(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function k(e){this.DecoratorBlock(e)},ContentStatement:function x(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function C(){},SubExpression:function $(e){o(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function T(e,t,n){var i=e.path,r=i.parts[0],s=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,s)},simpleSexpr:function S(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function D(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.path,s=r.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",i.length,s);else{if(this.options.knownHelpersOnly)throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper "+s,e);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,d["default"].helpers.simpleId(r))}},PathExpression:function E(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=d["default"].helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function A(e){this.opcode("pushString",e.value)},NumberLiteral:function P(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function I(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function N(){this.opcode("pushLiteral","undefined")},NullLiteral:function O(){this.opcode("pushLiteral","null")},Hash:function j(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function L(e){this.opcodes.push({opcode:e,args:h.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function M(e){e&&(this.useDepths=!0)},classifySexpr:function H(e){var t=d["default"].helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&d["default"].helpers.helperExpression(e),r=!n&&(i||t);if(r&&!i){var s=e.path.parts[0],a=this.options;a.knownHelpers[s]?i=!0:a.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function R(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function F(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=undefined;if(!e.parts||d["default"].helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function q(e,t,n,i){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),r},blockParamIndex:function B(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],r=i&&u.indexOf(i,e);if(i&&0<=r)return[t,r]}}}},function(e,t,n){"use strict";function l(e){this.value=e}function r(){}function o(e,t,n,i){var r=t.popStack(),s=0,a=n.length;for(e&&a--;s<a;s++)r=t.nameLookup(r,n[s],i);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[s]),")"]:r}var i=n(1)["default"];t.__esModule=!0;var s=n(4),f=i(n(6)),a=n(5),c=i(n(43));r.prototype={nameLookup:function u(e,t){return r.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function d(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function h(){var e=s.COMPILER_REVISION;return[e,s.REVISION_CHANGES[e]]},appendToBuffer:function p(e,t,n){return a.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function m(){return this.quotedString("")},compile:function g(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,s=undefined,a=undefined,o=undefined,l=undefined;for(o=0,l=r.length;o<l;o++)s=r[o],this.source.currentLocation=s.loc,a=a||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new f["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=undefined:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(i);if(this.isChild)return c;var u={compiler:this.compilerInfo(),main:c};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var d=this.context,h=d.programs,p=d.decorators;for(o=0,l=h.length;o<l;o++)h[o]&&(u[o]=h[o],p[o]&&(u[o+"_d"]=p[o],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),i?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),t.srcName?(u=u.toStringWithSourceMap({file:t.destName})).map=u.map&&u.map.toString():u=u.toString()),u},preamble:function _(){this.lastContext=0,this.source=new c["default"](this.options.srcName),this.decorators=new c["default"](this.options.srcName)},createFunctionContext:function v(e){var t="",n=this.stackVars.concat(this.registers.list);0<n.length&&(t+=", "+n.join(", "));var i=0;for(var r in this.aliases){var s=this.aliases[r];this.aliases.hasOwnProperty(r)&&s.children&&1<s.referenceCount&&(t+=", alias"+ ++i+"="+r,s.children[0]="alias"+i)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var o=this.mergeSource(t);return e?(a.push(o),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",o,"}"])},mergeSource:function y(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=undefined,r=undefined,s=undefined,a=undefined;return this.source.each(function(e){e.appendToBuffer?(s?e.prepend("  + "):s=e,a=e):(s&&(r?s.prepend("buffer += "):i=!0,a.add(";"),s=a=undefined),r=!0,t||(n=!1))}),n?s?(s.prepend("return "),a.add(";")):r||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),s?(s.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function b(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function w(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function k(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function x(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,undefined,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",undefined,!0)," }"])}},appendEscaped:function C(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function $(e){this.lastContext=e},pushContext:function T(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function S(e,t,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[r++])),this.resolvePath("context",e,r,t,n)},lookupBlockParam:function D(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function E(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function A(n,i,r,s,e){var a=this;if(this.options.strict||this.options.assumeObjects)this.push(o(this.options.strict&&e,this,i,n));else for(var t=i.length;r<t;r++)this.replaceStack(function(e){var t=a.nameLookup(e,i[r],n);return s?[" && ",t]:[" != null ? ",t," : ",e]})},resolvePossibleLambda:function P(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function I(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function N(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function O(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function j(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function L(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function M(e){this.pushStackLiteral(e)},pushProgram:function H(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function R(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function F(e,t,n){var i=this.popStack(),r=this.setupHelper(e,t),s=n?[r.name," || "]:"",a=["("].concat(s,i);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",r.callParams))},invokeKnownHelper:function q(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function B(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function U(e,t,n){var i=[],r=this.setupParams(t,1,i);e&&(t=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function z(e){var t=this.popStack(),n=undefined,i=undefined,r=undefined;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var s=this.hash;n&&(s.contexts[e]=n),i&&(s.types[e]=i),r&&(s.ids[e]=r),s.values[e]=t},pushId:function W(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function V(e,t){for(var n=e.children,i=undefined,r=undefined,s=0,a=n.length;s<a;s++){i=n[s],r=new this.compiler;var o=this.matchExistingProgram(i);if(null==o){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=r.compile(i,t,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=o.index,i.name="program"+o.index,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams}},matchExistingProgram:function K(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function Y(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function Q(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function X(e){return e instanceof l||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function J(e){this.push(new l(e))},pushSource:function G(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=undefined),e&&this.source.push(e)},replaceStack:function Z(e){var t=["("],n=undefined,i=undefined,r=undefined;if(!this.isInline())throw new f["default"]("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof l)t=["(",n=[s.value]],r=!0;else{i=!0;var a=this.incrStack();t=["((",this.push(a)," = ",s,")"],n=this.topStack()}var o=e.call(this,n);r||this.popStack(),i&&this.stackSlot--,this.push(t.concat(o,")"))},incrStack:function ee(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function te(){return"stack"+this.stackSlot},flushInline:function ne(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i instanceof l)this.compileStack.push(i);else{var r=this.incrStack();this.pushSource([r," = ",i,";"]),this.compileStack.push(r)}}},isInline:function ie(){return this.inlineStack.length},popStack:function re(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof l)return n.value;if(!t){if(!this.stackSlot)throw new f["default"]("Invalid stack pop");this.stackSlot--}return n},topStack:function se(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof l?t.value:t},contextName:function ae(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function oe(e){return this.source.quotedString(e)},objectLiteral:function le(e){return this.source.objectLiteral(e)},aliasable:function ce(e){var t=this.aliases[e];return t?t.referenceCount++:((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1),t},setupHelper:function ue(e,t,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(t,e,i,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function de(e,t,n){var i={},r=[],s=[],a=[],o=!n,l=undefined;o&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(s[d]=this.popStack(),r[d]=this.popStack());return o&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(s),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function he(e,t,n,i){var r=this.setupParams(e,t,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=r.RESERVED_WORDS={},n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),r.isValidJavaScriptVariableName=function(e){return!r.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function s(e,t,n){if(a.isArray(e)){for(var i=[],r=0,s=e.length;r<s;r++)i.push(t.wrap(e[r],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function i(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var a=n(5),r=undefined;try{}catch(o){}r||((r=function(e,t,n,i){this.src="",i&&this.add(i)}).prototype={add:function l(e){a.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function c(e){a.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function u(){return{code:this.toString()}},toString:function d(){return this.src}}),i.prototype={isEmpty:function h(){return!this.source.length},prepend:function c(e,t){this.source.unshift(this.wrap(e,t))},push:function p(e,t){this.source.push(this.wrap(e,t))},merge:function f(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function m(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function g(){var e=this.currentLocation||{start:{}};return new r(e.start.line,e.start.column,this.srcFile)},wrap:function _(e,t){var n=arguments.length<=1||t===undefined?this.currentLocation||{start:{}}:arguments[1];return e instanceof r?e:(e=s(e,this,n),new r(n.start.line,n.start.column,this.srcFile,e))},functionCall:function v(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function y(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function b(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=s(e[n],this);"undefined"!==i&&t.push([this.quotedString(n),":",i])}var r=this.generateList(t);return r.prepend("{"),r.add("}"),r},generateList:function w(e){for(var t=this.empty(),n=0,i=e.length;n<i;n++)n&&t.add(","),t.add(s(e[n],this));return t},generateArray:function k(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t["default"]=i,e.exports=t["default"]}])}),function(S){"use strict";var D=S.tablesorter={version:"2.28.15",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(t,n){if(t&&t.tHead&&0!==t.tBodies.length&&!0!==t.hasInitialized){var e,i="",r=S(t),s=S.metadata;t.hasInitialized=!1,t.isProcessing=!0,t.config=n,S.data(t,"tablesorter",n),n.debug&&(console[console.group?"group":"log"]("Initializing tablesorter v"+D.version),S.data(t,"startoveralltimer",new Date)),n.supportsDataObject=((e=S.fn.jquery.split("."))[0]=parseInt(e[0],10),1<e[0]||1===e[0]&&4<=parseInt(e[1],10)),n.emptyTo=n.emptyTo.toLowerCase(),n.stringTo=n.stringTo.toLowerCase(),n.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(r.attr("class"))||(i=""!==n.theme?" tablesorter-"+n.theme:""),n.namespace?n.namespace="."+n.namespace.replace(D.regex.nonWord,""):n.namespace=".tablesorter"+Math.random().toString(16).slice(2),n.table=t,n.$table=r.addClass(D.css.table+" "+n.tableClass+i+" "+n.namespace.slice(1)).attr("role","grid"),n.$headers=r.find(n.selectorHeaders),n.$table.children().children("tr").attr("role","row"),n.$tbodies=r.children("tbody:not(."+n.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),n.$table.children("caption").length&&((i=n.$table.children("caption")[0]).id||(i.id=n.namespace.slice(1)+"caption"),n.$table.attr("aria-labelledby",i.id)),n.widgetInit={},n.textExtraction=n.$table.attr("data-text-extraction")||n.textExtraction||"basic",D.buildHeaders(n),D.fixColumnWidth(t),D.addWidgetFromClass(t),D.applyWidgetOptions(t),D.setupParsers(n),n.totalRows=0,D.validateOptions(n),n.delayInit||D.buildCache(n),D.bindEvents(t,n.$headers,!0),D.bindMethods(n),n.supportsDataObject&&"undefined"!=typeof r.data().sortlist?n.sortList=r.data().sortlist:s&&r.metadata()&&r.metadata().sortlist&&(n.sortList=r.metadata().sortlist),D.applyWidget(t,!0),0<n.sortList.length?D.sortOn(n,n.sortList,{},!n.initWidgets):(D.setHeadersCss(n),n.initWidgets&&D.applyWidget(t,!1)),n.showProcessing&&r.unbind("sortBegin"+n.namespace+" sortEnd"+n.namespace).bind("sortBegin"+n.namespace+" sortEnd"+n.namespace,function(e){clearTimeout(n.timerProcessing),D.isProcessing(t),"sortBegin"===e.type&&(n.timerProcessing=setTimeout(function(){D.isProcessing(t,!0)},500))}),t.hasInitialized=!0,t.isProcessing=!1,n.debug&&(console.log("Overall initialization time:"+D.benchmark(S.data(t,"startoveralltimer"))),n.debug&&console.groupEnd&&console.groupEnd()),r.triggerHandler("tablesorter-initialized",t),"function"==typeof n.initialized&&n.initialized(t)}else n.debug&&(t.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",t))},bindMethods:function(n){var e=n.$table,t=n.namespace,i="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(t+" ");e.unbind(i.replace(D.regex.spaces," ")).bind("sortReset"+t,function(e,t){e.stopPropagation(),D.sortReset(this.config,function(e){e.isApplyingWidgets?setTimeout(function(){D.applyWidget(e,"",t)},100):D.applyWidget(e,"",t)})}).bind("updateAll"+t,function(e,t,n){e.stopPropagation(),D.updateAll(this.config,t,n)}).bind("update"+t+" updateRows"+t,function(e,t,n){e.stopPropagation(),D.update(this.config,t,n)}).bind("updateHeaders"+t,function(e,t){e.stopPropagation(),D.updateHeaders(this.config,t)}).bind("updateCell"+t,function(e,t,n,i){e.stopPropagation(),D.updateCell(this.config,t,n,i)}).bind("addRows"+t,function(e,t,n,i){e.stopPropagation(),D.addRows(this.config,t,n,i)}).bind("updateComplete"+t,function(){this.isUpdating=!1}).bind("sorton"+t,function(e,t,n,i){e.stopPropagation(),D.sortOn(this.config,t,n,i)}).bind("appendCache"+t,function(e,t,n){e.stopPropagation(),D.appendCache(this.config,n),S.isFunction(t)&&t(this)}).bind("updateCache"+t,function(e,t,n){e.stopPropagation(),D.updateCache(this.config,t,n)}).bind("applyWidgetId"+t,function(e,t){e.stopPropagation(),D.applyWidgetId(this,t)}).bind("applyWidgets"+t,function(e,t){e.stopPropagation(),D.applyWidget(this,t)}).bind("refreshWidgets"+t,function(e,t,n){e.stopPropagation(),D.refreshWidgets(this,t,n)}).bind("removeWidget"+t,function(e,t,n){e.stopPropagation(),D.removeWidget(this,t,n)}).bind("destroy"+t,function(e,t,n){e.stopPropagation(),D.destroy(this,t,n)}).bind("resetToLoadState"+t,function(e){e.stopPropagation(),D.removeWidget(this,!0,!1);var t=S.extend(!0,{},n.originalSettings);(n=S.extend(!0,{},D.defaults,t)).originalSettings=t,this.hasInitialized=!1,D.setup(this,n)})},bindEvents:function(e,o,t){var n,l=(e=S(e)[0]).config,i=l.namespace,c=null;!0!==t&&(o.addClass(i.slice(1)+"_extra_headers"),(n=S.fn.closest?o.closest("table")[0]:o.parents("table")[0])&&"TABLE"===n.nodeName&&n!==e&&S(n).addClass(i.slice(1)+"_extra_table")),n=(l.pointerDown+" "+l.pointerUp+" "+l.pointerClick+" sort keyup ").replace(D.regex.spaces," ").split(" ").join(i+" "),o.find(l.selectorSort).add(o.filter(l.selectorSort)).unbind(n).bind(n,
function(e,t){var n,i,r,s=S(e.target),a=" "+e.type+" ";if(!(1!==(e.which||e.button)&&!a.match(" "+l.pointerClick+" | sort | keyup ")||" keyup "===a&&e.which!==D.keyCodes.enter||a.match(" "+l.pointerClick+" ")&&"undefined"!=typeof e.which||a.match(" "+l.pointerUp+" ")&&c!==e.target&&!0!==t)){if(a.match(" "+l.pointerDown+" "))return c=e.target,void("1"===(r=s.jquery.split("."))[0]&&r[1]<4&&e.preventDefault());if(c=null,D.regex.formElements.test(e.target.nodeName)||s.hasClass(l.cssNoSort)||0<s.parents("."+l.cssNoSort).length||0<s.parents("button").length)return!l.cancelSelection;l.delayInit&&D.isEmptyObject(l.cache)&&D.buildCache(l),n=S.fn.closest?S(this).closest("th, td"):/TH|TD/.test(this.nodeName)?S(this):S(this).parents("th, td"),r=o.index(n),l.last.clickedIndex=r<0?n.attr("data-column"):r,(i=l.$headers[l.last.clickedIndex])&&!i.sortDisabled&&D.initSort(l,i,e)}}),l.cancelSelection&&o.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(l){var e,c,t,n;for(l.headerList=[],l.headerContent=[],l.sortVars=[],l.debug&&(t=new Date),l.columns=D.computeColumnIndex(l.$table.children("thead, tfoot").children("tr")),c=l.cssIcon?'<i class="'+(l.cssIcon===D.css.icon?D.css.icon:l.cssIcon+" "+D.css.icon)+'"></i>':"",l.$headers=S(S.map(l.$table.find(l.selectorHeaders),function(e,t){var n,i,r,s,a,o=S(e);if(!o.parent().hasClass(l.cssIgnoreRow))return n=D.getColumnData(l.table,l.headers,t,!0),l.headerContent[t]=o.html(),""===l.headerTemplate||o.find("."+D.css.headerIn).length||(s=l.headerTemplate.replace(D.regex.templateContent,o.html()).replace(D.regex.templateIcon,o.find("."+D.css.icon).length?"":c),l.onRenderTemplate&&(i=l.onRenderTemplate.apply(o,[t,s]))&&"string"==typeof i&&(s=i),o.html('<div class="'+D.css.headerIn+'">'+s+"</div>")),l.onRenderHeader&&l.onRenderHeader.apply(o,[t,l,l.$table]),r=parseInt(o.attr("data-column"),10),e.column=r,a=D.getOrder(D.getData(o,n,"sortInitialOrder")||l.sortInitialOrder),l.sortVars[r]={count:-1,order:a?l.sortReset?[1,0,2]:[1,0]:l.sortReset?[0,1,2]:[0,1],lockedOrder:!1},void 0!==(a=D.getData(o,n,"lockedOrder")||!1)&&!1!==a&&(l.sortVars[r].lockedOrder=!0,l.sortVars[r].order=D.getOrder(a)?[1,1]:[0,0]),l.headerList[t]=e,o.addClass(D.css.header+" "+l.cssHeader).parent().addClass(D.css.headerRow+" "+l.cssHeaderRow).attr("role","row"),l.tabIndex&&o.attr("tabindex",0),e})),l.$headerIndexed=[],n=0;n<l.columns;n++)D.isEmptyObject(l.sortVars[n])&&(l.sortVars[n]={}),e=l.$headers.filter('[data-column="'+n+'"]'),l.$headerIndexed[n]=e.length?e.not(".sorter-false").length?e.not(".sorter-false").filter(":last"):e.filter(":last"):S();l.$table.find(l.selectorHeaders).attr({scope:"col",role:"columnheader"}),D.updateHeader(l),l.debug&&(console.log("Built headers:"+D.benchmark(t)),console.log(l.$headers))},addInstanceMethods:function(e){S.extend(D.instanceMethods,e)},setupParsers:function(e,t){var n,i,r,s,a,o,l,c,u,d,h,p,f,m,g=e.table,_=0,v={};if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),0===(m=(f=void 0===t?e.$tbodies:t).length))return e.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(e.debug&&(p=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),i={extractors:[],parsers:[]};_<m;){if((n=f[_].rows).length)for(a=0,s=e.columns,o=0;o<s;o++){if((l=e.$headerIndexed[a])&&l.length&&(c=D.getColumnData(g,e.headers,a),h=D.getParserById(D.getData(l,c,"extractor")),d=D.getParserById(D.getData(l,c,"sorter")),u="false"===D.getData(l,c,"parser"),e.empties[a]=(D.getData(l,c,"empty")||e.emptyTo||(e.emptyToBottom?"bottom":"top")).toLowerCase(),e.strings[a]=(D.getData(l,c,"string")||e.stringTo||"max").toLowerCase(),u&&(d=D.getParserById("no-parser")),h||(h=!1),d||(d=D.detectParserForColumn(e,n,-1,a)),e.debug&&(v["("+a+") "+l.text()]={parser:d.id,extractor:h?h.id:"none",string:e.strings[a],empty:e.empties[a]}),i.parsers[a]=d,i.extractors[a]=h,0<(r=l[0].colSpan-1)))for(a+=r,s+=r;0<r+1;)i.parsers[a-r]=d,i.extractors[a-r]=h,r--;a++}_+=i.parsers.length?m:1}e.debug&&(D.isEmptyObject(v)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](v),console.log("Completed detecting parsers"+D.benchmark(p)),console.groupEnd&&console.groupEnd()),e.parsers=i.parsers,e.extractors=i.extractors},addParser:function(e){var t,n=D.parsers.length,i=!0;for(t=0;t<n;t++)D.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(i=!1);i&&(D.parsers[D.parsers.length]=e)},getParserById:function(e){if("false"==e)return!1;var t,n=D.parsers.length;for(t=0;t<n;t++)if(D.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return D.parsers[t];return!1},detectParserForColumn:function(e,t,n,i){for(var r,s,a,o=D.parsers.length,l=!1,c="",u=!0;""===c&&u;)(a=t[++n])&&n<50?a.className.indexOf(D.cssIgnoreRow)<0&&(l=t[n].cells[i],c=D.getElementText(e,l,i),s=S(l),e.debug&&console.log("Checking if value was empty on row "+n+", column: "+i+': "'+c+'"')):u=!1;for(;0<=--o;)if((r=D.parsers[o])&&"text"!==r.id&&r.is&&r.is(c,e.table,l,s))return r;return D.getParserById("text")},getElementText:function(e,t,n){if(!t)return"";var i,r=e.textExtraction||"",s=t.jquery?t:S(t);return"string"==typeof r?"basic"===r&&void 0!==(i=s.attr(e.textAttribute))?S.trim(i):S.trim(t.textContent||s.text()):"function"==typeof r?S.trim(r(s[0],e.table,n)):"function"==typeof(i=D.getColumnData(e.table,r,n))?S.trim(i(s[0],e.table,n)):S.trim(s[0].textContent||s.text())},getParsedText:function(e,t,n,i){void 0===i&&(i=D.getElementText(e,t,n));var r=""+i,s=e.parsers[n],a=e.extractors[n];return s&&(a&&"function"==typeof a.format&&(i=a.format(i,e.table,t,n)),r="no-parser"===s.id?"":s.format(""+i,e.table,t,n),e.ignoreCase&&"string"==typeof r&&(r=r.toLowerCase())),r},buildCache:function(e,t,n){var i,r,s,a,o,l,c,u,d,h,p,f,m,g,_,v,y,b,w,k,x,C,$=e.table,T=e.parsers;if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),c=void 0===n?e.$tbodies:n,e.cache={},e.totalRows=0,!T)return e.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(e.debug&&(f=new Date),e.showProcessing&&D.isProcessing($,!0),l=0;l<c.length;l++){for(v=[],i=e.cache[l]={normalized:[]},m=c[l]&&c[l].rows.length||0,a=0;a<m;++a)if(g={child:[],raw:[]},d=[],!(u=S(c[l].rows[a])).hasClass(e.selectorRemove.slice(1)))if(u.hasClass(e.cssChildRow)&&0!==a)for(x=i.normalized.length-1,(_=i.normalized[x][e.columns]).$row=_.$row.add(u),u.prev().hasClass(e.cssChildRow)||u.prev().addClass(D.css.cssHasChild),h=u.children("th, td"),x=_.child.length,_.child[x]=[],b=0,k=e.columns,o=0;o<k;o++)(p=h[o])&&(_.child[x][o]=D.getParsedText(e,p,o),0<(y=h[o].colSpan-1)&&(b+=y,k+=y)),b++;else{for(g.$row=u,g.order=a,b=0,k=e.columns,o=0;o<k;++o){if((p=u[0].cells[o])&&b<e.columns&&(!(w="undefined"!=typeof T[b])&&e.debug&&console.warn("No parser found for row: "+a+", column: "+o+'; cell containing: "'+S(p).text()+'"; does it have a header?'),r=D.getElementText(e,p,b),g.raw[b]=r,s=D.getParsedText(e,p,b,r),d[b]=s,w&&"numeric"===(T[b].type||"").toLowerCase()&&(v[b]=Math.max(Math.abs(s)||0,v[b]||0)),0<(y=p.colSpan-1))){for(C=0;C<=y;)s=e.duplicateSpan||0===C?r:"string"!=typeof e.textExtraction&&D.getElementText(e,p,b+C)||"",g.raw[b+C]=s,d[b+C]=s,C++;b+=y,k+=y}b++}d[e.columns]=g,i.normalized[i.normalized.length]=d}i.colMax=v,e.totalRows+=i.normalized.length}if(e.showProcessing&&D.isProcessing($),e.debug){for(x=Math.min(5,e.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+e.totalRows+" rows (showing "+x+" rows in log) and "+e.columns+" columns"+D.benchmark(f)),r={},o=0;o<e.columns;o++)for(b=0;b<x;b++)r["row: "+b]||(r["row: "+b]={}),r["row: "+b][e.$headerIndexed[o].text()]=e.cache[0].normalized[b][o];console[console.table?"table":"log"](r),console.groupEnd&&console.groupEnd()}S.isFunction(t)&&t($)},getColumnText:function(e,t,n,i){var r,s,a,o,l,c,u,d,h,p,f="function"==typeof n,m="all"===t,g={raw:[],parsed:[],$cell:[]},_=(e=S(e)[0]).config;if(!D.isEmptyObject(_)){for(l=_.$tbodies.length,r=0;r<l;r++)for(c=(a=_.cache[r].normalized).length,s=0;s<c;s++)o=a[s],i&&!o[_.columns].$row.is(i)||(p=!0,d=m?o.slice(0,_.columns):o[t],o=o[_.columns],u=m?o.raw:o.raw[t],h=m?o.$row.children():o.$row.children().eq(t),f&&(p=n({tbodyIndex:r,rowIndex:s,parsed:d,raw:u,$row:o.$row,$cell:h})),!1!==p&&(g.parsed[g.parsed.length]=d,g.raw[g.raw.length]=u,g.$cell[g.$cell.length]=h));return g}_.debug&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(s){var e,t,n=s.sortList,i=n.length,r=D.css.sortNone+" "+s.cssNone,a=[D.css.sortAsc+" "+s.cssAsc,D.css.sortDesc+" "+s.cssDesc],o=[s.cssIconAsc,s.cssIconDesc,s.cssIconNone],l=["ascending","descending"],c=s.$table.find("tfoot tr").children("td, th").add(S(s.namespace+"_extra_headers")).removeClass(a.join(" ")),u=s.$headers.add(S("thead "+s.namespace+"_extra_headers")).removeClass(a.join(" ")).addClass(r).attr("aria-sort","none").find("."+D.css.icon).removeClass(o.join(" ")).end();for(u.not(".sorter-false").find("."+D.css.icon).addClass(o[2]),s.cssIconDisabled&&u.filter(".sorter-false").find("."+D.css.icon).addClass(s.cssIconDisabled),e=0;e<i;e++)if(2!==n[e][1]&&(u=(u=s.$headers.filter(function(e){for(var t=!0,n=s.$headers.eq(e),i=parseInt(n.attr("data-column"),10),r=i+s.$headers[e].colSpan;i<r;i++)t=!!t&&(t||-1<D.isValueInArray(i,s.sortList));return t})).not(".sorter-false").filter('[data-column="'+n[e][0]+'"]'+(1===i?":last":""))).length){for(t=0;t<u.length;t++)u[t].sortDisabled||u.eq(t).removeClass(r).addClass(a[n[e][1]]).attr("aria-sort",l[n[e][1]]).find("."+D.css.icon).removeClass(o[2]).addClass(o[n[e][1]]);c.length&&c.filter('[data-column="'+n[e][0]+'"]').removeClass(r).addClass(a[n[e][1]])}for(i=s.$headers.length,e=0;e<i;e++)D.setColumnAriaLabel(s,s.$headers.eq(e))},setColumnAriaLabel:function(e,t,n){if(t.length){var i=parseInt(t.attr("data-column"),10),r=e.sortVars[i],s=t.hasClass(D.css.sortAsc)?"sortAsc":t.hasClass(D.css.sortDesc)?"sortDesc":"sortNone",a=S.trim(t.text())+": "+D.language[s];t.hasClass("sorter-false")||!1===n?a+=D.language.sortDisabled:(s=(r.count+1)%r.order.length,n=r.order[s],a+=D.language[0===n?"nextAsc":1===n?"nextDesc":"nextNone"]),t.attr("aria-label",a)}},updateHeader:function(e){var t,n,i,r,s=e.table,a=e.$headers.length;for(t=0;t<a;t++)i=e.$headers.eq(t),r=D.getColumnData(s,e.headers,t,!0),n="false"===D.getData(i,r,"sorter")||"false"===D.getData(i,r,"parser"),D.setColumnSort(e,i,n)},setColumnSort:function(e,t,n){var i=e.table.id;t[0].sortDisabled=n,t[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),e.tabIndex&&(n?t.removeAttr("tabindex"):t.attr("tabindex","0")),i&&(n?t.removeAttr("aria-controls"):t.attr("aria-controls",i))},updateHeaderSortCount:function(e,t){var n,i,r,s,a,o,l,c,u=t||e.sortList,d=u.length;for(e.sortList=[],s=0;s<d;s++)if(l=u[s],(n=parseInt(l[0],10))<e.columns){switch(e.sortVars[n].order||(c=D.getOrder(e.sortInitialOrder)?e.sortReset?[1,0,2]:[1,0]:e.sortReset?[0,1,2]:[0,1],e.sortVars[n].order=c,e.sortVars[n].count=0),c=e.sortVars[n].order,i=(i=(""+l[1]).match(/^(1|d|s|o|n)/))?i[0]:""){case"1":case"d":i=1;break;case"s":i=a||0;break;case"o":i=0===(o=c[(a||0)%c.length])?1:1===o?0:2;break;case"n":i=c[++e.sortVars[n].count%c.length];break;default:i=0}a=0===s?i:a,r=[n,parseInt(i,10)||0],e.sortList[e.sortList.length]=r,i=S.inArray(r[1],c),e.sortVars[n].count=0<=i?i:r[1]%c.length}},updateAll:function(e,t,n){var i=e.table;i.isUpdating=!0,D.refreshWidgets(i,!0,!0),D.buildHeaders(e),D.bindEvents(i,e.$headers,!0),D.bindMethods(e),D.commonUpdate(e,t,n)},update:function(e,t,n){e.table.isUpdating=!0,D.updateHeader(e),D.commonUpdate(e,t,n)},updateHeaders:function(e,t){e.table.isUpdating=!0,D.buildHeaders(e),D.bindEvents(e.table,e.$headers,!0),D.resortComplete(e,t)},updateCell:function(e,t,n,i){if(S(t).closest("tr").hasClass(e.cssChildRow))console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');else{if(D.isEmptyObject(e.cache))return D.updateHeader(e),void D.commonUpdate(e,n,i);e.table.isUpdating=!0,e.$table.find(e.selectorRemove).remove();var r,s,a,o,l,c,u=e.$tbodies,d=S(t),h=u.index(S.fn.closest?d.closest("tbody"):d.parents("tbody").filter(":first")),p=e.cache[h],f=S.fn.closest?d.closest("tr"):d.parents("tr").filter(":first");if(t=d[0],u.length&&0<=h){if(a=u.eq(h).find("tr").not("."+e.cssChildRow).index(f),l=p.normalized[a],(c=f[0].cells.length)!==e.columns)for(r=!1,s=o=0;s<c;s++)r||f[0].cells[s]===t?r=!0:o+=f[0].cells[s].colSpan;else o=d.index();r=D.getElementText(e,t,o),l[e.columns].raw[o]=r,r=D.getParsedText(e,t,o,r),l[o]=r,"numeric"===(e.parsers[o].type||"").toLowerCase()&&(p.colMax[o]=Math.max(Math.abs(r)||0,p.colMax[o]||0)),!1!==(r="undefined"!==n?n:e.resort)?D.checkResort(e,r,i):D.resortComplete(e,i)}else e.debug&&console.error("updateCell aborted, tbody missing or not within the indicated table"),e.table.isUpdating=!1}},addRows:function(e,t,n,i){var r,s,a,o,l,c,u,d,h,p,f,m,g,_="string"==typeof t&&1===e.$tbodies.length&&/<tr/.test(t||""),v=e.table;if(_)t=S(t),e.$tbodies.append(t);else if(!(t&&t instanceof jQuery&&(S.fn.closest?t.closest("table")[0]:t.parents("table")[0])===e.table))return e.debug&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(v.isUpdating=!0,D.isEmptyObject(e.cache))D.updateHeader(e),D.commonUpdate(e,n,i);else{for(l=t.filter("tr").attr("role","row").length,a=e.$tbodies.index(t.parents("tbody").filter(":first")),e.parsers&&e.parsers.length||D.setupParsers(e),o=0;o<l;o++){for(h=0,u=t[o].cells.length,d=e.cache[a].normalized.length,f=[],p={child:[],raw:[],$row:t.eq(o),order:d},c=0;c<u;c++)m=t[o].cells[c],r=D.getElementText(e,m,h),p.raw[h]=r,s=D.getParsedText(e,m,h,r),f[h]=s,"numeric"===(e.parsers[h].type||"").toLowerCase()&&(e.cache[a].colMax[h]=Math.max(Math.abs(s)||0,e.cache[a].colMax[h]||0)),0<(g=m.colSpan-1)&&(h+=g),h++;f[e.columns]=p,e.cache[a].normalized[d]=f}D.checkResort(e,n,i)}},updateCache:function(e,t,n){e.parsers&&e.parsers.length||D.setupParsers(e,n),D.buildCache(e,t,n)},appendCache:function(e,t){var n,i,r,s,a,o,l,c=e.table,u=e.widgetOptions,d=e.$tbodies,h=[],p=e.cache;if(D.isEmptyObject(p))return e.appender?e.appender(c,h):c.isUpdating?e.$table.triggerHandler("updateComplete",c):"";for(e.debug&&(l=new Date),o=0;o<d.length;o++)if((r=d.eq(o)).length){for(s=D.processTbody(c,r,!0),i=(n=p[o].normalized).length,a=0;a<i;a++)h[h.length]=n[a][e.columns].$row,e.appender&&(!e.pager||e.pager.removeRows&&u.pager_removeRows||e.pager.ajax)||s.append(n[a][e.columns].$row);D.processTbody(c,s,!1)}e.appender&&e.appender(c,h),e.debug&&console.log("Rebuilt table"+D.benchmark(l)),t||e.appender||D.applyWidget(c),c.isUpdating&&e.$table.triggerHandler("updateComplete",c)},commonUpdate:function(e,t,n){e.$table.find(e.selectorRemove).remove(),D.setupParsers(e),D.buildCache(e),D.checkResort(e,t,n)},initSort:function(e,t,n){if(e.table.isUpdating)return setTimeout(function(){D.initSort(e,t,n)},50);var i,r,s,a,o,l,c,u=!n[e.sortMultiSortKey],d=e.table,h=e.$headers.length,p=parseInt(S(t).attr("data-column"),10),f=e.sortVars[p].order;if(e.$table.triggerHandler("sortStart",d),l=(e.sortVars[p].count+1)%f.length,e.sortVars[p].count=n[e.sortResetKey]?2:l,e.sortRestart)for(s=0;s<h;s++)c=e.$headers.eq(s),p!==(l=parseInt(c.attr("data-column"),10))&&(u||c.hasClass(D.css.sortNone))&&(e.sortVars[l].count=-1);if(u){if(e.sortList=[],e.last.sortList=[],null!==e.sortForce)for(i=e.sortForce,r=0;r<i.length;r++)i[r][0]!==p&&(e.sortList[e.sortList.length]=i[r]);if((a=f[e.sortVars[p].count])<2&&(e.sortList[e.sortList.length]=[p,a],1<t.colSpan))for(r=1;r<t.colSpan;r++)e.sortList[e.sortList.length]=[p+r,a],e.sortVars[p+r].count=S.inArray(a,f)}else if(e.sortList=S.extend([],e.last.sortList),0<=D.isValueInArray(p,e.sortList))for(r=0;r<e.sortList.length;r++)(l=e.sortList[r])[0]===p&&(l[1]=f[e.sortVars[p].count],2===l[1]&&(e.sortList.splice(r,1),e.sortVars[p].count=-1));else if((a=f[e.sortVars[p].count])<2&&(e.sortList[e.sortList.length]=[p,a],1<t.colSpan))for(r=1;r<t.colSpan;r++)e.sortList[e.sortList.length]=[p+r,a],e.sortVars[p+r].count=S.inArray(a,f);if(e.last.sortList=S.extend([],e.sortList),e.sortList.length&&e.sortAppend&&(i=S.isArray(e.sortAppend)?e.sortAppend:e.sortAppend[e.sortList[0][0]],!D.isEmptyObject(i)))for(r=0;r<i.length;r++)if(i[r][0]!==p&&D.isValueInArray(i[r][0],e.sortList)<0){if(o=(""+(a=i[r][1])).match(/^(a|d|s|o|n)/))switch(l=e.sortList[0][1],o[0]){case"d":a=1;break;case"s":a=l;break;case"o":a=0===l?1:0;break;case"n":a=(l+1)%f.length;break;default:a=0}e.sortList[e.sortList.length]=[i[r][0],a]}e.$table.triggerHandler("sortBegin",d),setTimeout(function(){D.setHeadersCss(e),D.multisort(e),D.appendCache(e),e.$table.triggerHandler("sortBeforeEnd",d),e.$table.triggerHandler("sortEnd",d)},1)},multisort:function(c){var e,t,u,n,d=c.table,h=[],p=0,f=c.textSorter||"",m=c.sortList,g=m.length,i=c.$tbodies.length;if(!c.serverSideSorting&&!D.isEmptyObject(c.cache)){if(c.debug&&(t=new Date),"object"==typeof f)for(u=c.columns;u--;)"function"==typeof(n=D.getColumnData(d,f,u))&&(h[u]=n);for(e=0;e<i;e++)u=c.cache[e].colMax,c.cache[e].normalized.sort(function(e,t){var n,i,r,s,a,o,l;for(n=0;n<g;n++){if(r=m[n][0],s=m[n][1],p=0===s,c.sortStable&&e[r]===t[r]&&1===g)return e[c.columns].order-t[c.columns].order;if((i=/n/i.test(D.getSortType(c.parsers,r)))&&c.strings[r]?(i="boolean"==typeof D.string[c.strings[r]]?(p?1:-1)*(D.string[c.strings[r]]?-1:1):c.strings[r]&&D.string[c.strings[r]]||0,a=c.numberSorter?c.numberSorter(e[r],t[r],p,u[r],d):D["sortNumeric"+(p?"Asc":"Desc")](e[r],t[r],i,u[r],r,c)):(o=p?e:t,l=p?t:e,a="function"==typeof f?f(o[r],l[r],p,r,d):"function"==typeof h[r]?h[r](o[r],l[r],p,r,d):D["sortNatural"+(p?"Asc":"Desc")](e[r],t[r],r,c)),a)return a}return e[c.columns].order-t[c.columns].order});c.debug&&console.log("Applying sort "+m.toString()+D.benchmark(t))}},resortComplete:function(e,t){e.table.isUpdating&&e.$table.triggerHandler("updateComplete",e.table),S.isFunction(t)&&t(e.table)},checkResort:function(e,t,n){var i=S.isArray(t)?t:e.sortList;!1===(void 0===t?e.resort:t)||e.serverSideSorting||e.table.isProcessing?(D.resortComplete(e,n),D.applyWidget(e.table,!1)):i.length?D.sortOn(e,i,function(){D.resortComplete(e,n)},!0):D.sortReset(e,function(){D.resortComplete(e,n),D.applyWidget(e.table,!1)})},sortOn:function(e,t,n,i){var r=e.table;e.$table.triggerHandler("sortStart",r),D.updateHeaderSortCount(e,t),D.setHeadersCss(e),e.delayInit&&D.isEmptyObject(e.cache)&&D.buildCache(e),e.$table.triggerHandler("sortBegin",r),D.multisort(e),D.appendCache(e,i),e.$table.triggerHandler("sortBeforeEnd",r),e.$table.triggerHandler("sortEnd",r),D.applyWidget(r),S.isFunction(n)&&n(r)},sortReset:function(e,t){var n;for(e.sortList=[],D.setHeadersCss(e),D.multisort(e),D.appendCache(e),n=0;n<e.columns;n++)e.sortVars[n].count=-1;S.isFunction(t)&&t(e.table)},getSortType:function(e,t){return e&&e[t]&&e[t].type||""},getOrder:function(e){return/^d/i.test(e)||1===e},sortNatural:function(e,t){if(e===t)return 0;e=e.toString(),t=t.toString();var n,i,r,s,a,o,l=D.regex;if(l.hex.test(t)){if((n=parseInt((e||"").match(l.hex),16))<(i=parseInt((t||"").match(l.hex),16)))return-1;if(i<n)return 1}for(n=(e||"").replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),i=(t||"").replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),o=Math.max(n.length,i.length),a=0;a<o;a++){if(r=isNaN(n[a])?n[a]||0:parseFloat(n[a])||0,s=isNaN(i[a])?i[a]||0:parseFloat(i[a])||0,isNaN(r)!==isNaN(s))return isNaN(r)?1:-1;if(typeof r!=typeof s&&(r+="",s+=""),r<s)return-1;if(s<r)return 1}return 0},sortNaturalAsc:function(e,t,n,i){if(e===t)return 0;var r=D.string[i.empties[n]||i.emptyTo];return""===e&&0!==r?"boolean"==typeof r?r?-1:1:-r||-1:""===t&&0!==r?"boolean"==typeof r?r?1:-1:r||1:D.sortNatural(e,t)},sortNaturalDesc:function(e,t,n,i){if(e===t)return 0;var r=D.string[i.empties[n]||i.emptyTo];return""===e&&0!==r?"boolean"==typeof r?r?-1:1:r||1:""===t&&0!==r?"boolean"==typeof r?r?1:-1:-r||-1:D.sortNatural(t,e)},sortText:function(e,t){return t<e?1:e<t?-1:0},getTextValue:function(e,t,n){if(n){var i,r=e?e.length:0,s=n+t;for(i=0;i<r;i++)s+=e.charCodeAt(i);return t*s}return 0},sortNumericAsc:function(e,t,n,i,r,s){if(e===t)return 0;var a=D.string[s.empties[r]||s.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(e)&&(e=D.getTextValue(e,n,i)),isNaN(t)&&(t=D.getTextValue(t,n,i)),e-t)},sortNumericDesc:function(e,t,n,i,r,s){if(e===t)return 0;var a=D.string[s.empties[r]||s.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(e)&&(e=D.getTextValue(e,n,i)),isNaN(t)&&(t=D.getTextValue(t,n,i)),t-e)},sortNumeric:function(e,t){return e-t},addWidget:function(e){e.id&&!D.isEmptyObject(D.getWidgetById(e.id))&&console.warn('"'+e.id+'" widget was loaded more than once!'),D.widgets[D.widgets.length]=e},hasWidget:function(e,t){return(e=S(e)).length&&e[0].config&&e[0].config.widgetInit[t]||!1},getWidgetById:function(e){var t,n,i=D.widgets.length;for(t=0;t<i;t++)if((n=D.widgets[t])&&n.id&&n.id.toLowerCase()===e.toLowerCase())return n},applyWidgetOptions:function(e){var t,n,i,r=e.config,s=r.widgets.length;if(s)for(t=0;t<s;t++)(n=D.getWidgetById(r.widgets[t]))&&n.options&&(i=S.extend(!0,{},n.options),r.widgetOptions=S.extend(!0,i,r.widgetOptions),S.extend(!0,D.defaults.widgetOptions,n.options))},addWidgetFromClass:function(e){var t,n,i=e.config,r="^"+i.widgetClass.replace(D.regex.templateName,"(\\S+)+")+"$",s=new RegExp(r,"g"),a=(e.className||"").split(D.regex.spaces);if(a.length)for(t=a.length,n=0;n<t;n++)a[n].match(s)&&(i.widgets[i.widgets.length]=a[n].replace(s,"$1"))},applyWidgetId:function(e,t,n){var i,r,s,a=(e=S(e)[0]).config,o=a.widgetOptions,l=D.getWidgetById(t);l&&(s=l.id,i=!1,S.inArray(s,a.widgets)<0&&(a.widgets[a.widgets.length]=s),a.debug&&(r=new Date),!n&&a.widgetInit[s]||(a.widgetInit[s]=!0,e.hasInitialized&&D.applyWidgetOptions(e),"function"==typeof l.init&&(i=!0,a.debug&&console[console.group?"group":"log"]("Initializing "+s+" widget"),l.init(e,l,a,o))),n||"function"!=typeof l.format||(i=!0,a.debug&&console[console.group?"group":"log"]("Updating "+s+" widget"),l.format(e,a,o,!1)),a.debug&&i&&(console.log("Completed "+(n?"initializing ":"applying ")+s+" widget"+D.benchmark(r)),console.groupEnd&&console.groupEnd()))},applyWidget:function(e,t,n){var i,r,s,a,o,l=(e=S(e)[0]).config,c=[];if(!1===t||!e.hasInitialized||!e.isApplyingWidgets&&!e.isUpdating){if(l.debug&&(o=new Date),D.addWidgetFromClass(e),clearTimeout(l.timerReady),l.widgets.length){for(e.isApplyingWidgets=!0,l.widgets=S.grep(l.widgets,function(e,t){return S.inArray(e,l.widgets)===t}),r=(s=l.widgets||[]).length,i=0;i<r;i++)(a=D.getWidgetById(s[i]))&&a.id?(a.priority||(a.priority=10),c[i]=a):l.debug&&console.warn('"'+s[i]+'" widget code does not exist!');for(c.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),r=c.length,l.debug&&console[console.group?"group":"log"]("Start "+(t?"initializing":"applying")+" widgets"),i=0;i<r;i++)(a=c[i])&&a.id&&D.applyWidgetId(e,a.id,t);l.debug&&console.groupEnd&&console.groupEnd()}l.timerReady=setTimeout(function(){e.isApplyingWidgets=!1,S.data(e,"lastWidgetApplication",new Date),l.$table.triggerHandler("tablesorter-ready"),t||"function"!=typeof n||n(e),l.debug&&(a=l.widgets.length,console.log("Completed "+(!0===t?"initializing ":"applying ")+a+" widget"+(1!==a?"s":"")+D.benchmark(o)))},10)}},removeWidget:function(e,t,n){var i,r,s,a,o=(e=S(e)[0]).config;if(!0===t)for(t=[],a=D.widgets.length,s=0;s<a;s++)(r=D.widgets[s])&&r.id&&(t[t.length]=r.id);else t=(S.isArray(t)?t.join(","):t||"").toLowerCase().split(/[\s,]+/);for(a=t.length,i=0;i<a;i++)r=D.getWidgetById(t[i]),0<=(s=S.inArray(t[i],o.widgets))&&!0!==n&&o.widgets.splice(s,1),r&&r.remove&&(o.debug&&console.log((n?"Refreshing":"Removing")+' "'+t[i]+'" widget'),r.remove(e,o,o.widgetOptions,n),o.widgetInit[t[i]]=!1)},refreshWidgets:function(e,t,n){var i,r,s=(e=S(e)[0]).config.widgets,a=D.widgets,o=a.length,l=[],c=function(e){S(e).triggerHandler("refreshComplete")};for(i=0;i<o;i++)(r=a[i])&&r.id&&(t||S.inArray(r.id,s)<0)&&(l[l.length]=r.id);D.removeWidget(e,l.join(","),!0),!0!==n?(D.applyWidget(e,t||!1,c),t&&D.applyWidget(e,!1,c)):c(e)},benchmark:function(e){return" ("+((new Date).getTime()-e.getTime())+" ms)"},log:function(){console.log(arguments)},isEmptyObject:function(e){for(var t in e)return!1;return!0},isValueInArray:function(e,t){var n,i=t&&t.length||0;for(n=0;n<i;n++)if(t[n][0]===e)return n;return-1},formatFloat:function(e,t){return"string"!=typeof e||""===e?e:(e=(t&&t.config?!1!==t.config.usNumberFormat:void 0===t||t)?e.replace(D.regex.comma,""):e.replace(D.regex.digitNonUS,"").replace(D.regex.comma,"."),D.regex.digitNegativeTest.test(e)&&(e=e.replace(D.regex.digitNegativeReplace,"-$1")),n=parseFloat(e),isNaN(n)?S.trim(e):n);var n},isDigit:function(e){return isNaN(e)?D.regex.digitTest.test(e.toString().replace(D.regex.digitReplace,"")):""!==e},computeColumnIndex:function(e,t){var n,i,r,s,a,o,l,c,u,d,h=t&&t.columns||0,p=[],f=new Array(h);for(n=0;n<e.length;n++)for(o=e[n].cells,i=0;i<o.length;i++){for(l=n,c=(a=o[i]).rowSpan||1,u=a.colSpan||1,"undefined"==typeof p[l]&&(p[l]=[]),r=0;r<p[l].length+1;r++)if("undefined"==typeof p[l][r]){d=r;break}for(h&&a.cellIndex===d||(a.setAttribute?a.setAttribute("data-column",d):S(a).attr("data-column",d)),r=l;r<l+c;r++)for("undefined"==typeof p[r]&&(p[r]=[]),f=p[r],s=d;s<d+u;s++)f[s]="x"}return D.checkColumnCount(e,p,f.length),f.length},checkColumnCount:function(e,t,n){var i,r,s=!0,a=[];for(i=0;i<t.length;i++)if(t[i]&&(r=t[i].length,t[i].length!==n)){s=!1;break}s||(e.each(function(e,t){var n=t.parentElement.nodeName;a.indexOf(n)<0&&a.push(n)}),console.error("Invalid or incorrect number of columns in the "+a.join(" or ")+"; expected "+n+", but found "+r+" columns"))},fixColumnWidth:function(e){var t,n,i,r,s,a=(e=S(e)[0]).config,o=a.$table.children("colgroup");if(o.length&&o.hasClass(D.css.colgroup)&&o.remove(),a.widthFixed&&0===a.$table.children("colgroup").length){for(o=S('<colgroup class="'+D.css.colgroup+'">'),t=a.$table.width(),r=(i=a.$tbodies.find("tr:first").children(":visible")).length,s=0;s<r;s++)n=parseInt(i.eq(s).width()/t*1e3,10)/10+"%",o.append(S("<col>").css("width",n));a.$table.prepend(o)}},getData:function(e,t,n){var i,r,s="",a=S(e);return a.length?(i=!!S.metadata&&a.metadata(),r=" "+(a.attr("class")||""),void 0!==a.data(n)||void 0!==a.data(n.toLowerCase())?s+=a.data(n)||a.data(n.toLowerCase()):i&&"undefined"!=typeof i[n]?s+=i[n]:t&&"undefined"!=typeof t[n]?s+=t[n]:" "!==r&&r.match(" "+n+"-")&&(s=r.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),S.trim(s)):""},getColumnData:function(e,t,n,i,r){if("object"!=typeof t||null===t)return t;var s,a=(e=S(e)[0]).config,o=r||a.$headers,l=a.$headerIndexed&&a.$headerIndexed[n]||o.filter('[data-column="'+n+'"]:last');if("undefined"!=typeof t[n])return i?t[n]:t[o.index(l)];for(s in t)if("string"==typeof s&&l.filter(s).add(l.find(s)).length)return t[s]},isProcessing:function(e,t,n){var i=(e=S(e))[0].config,r=n||e.find("."+D.css.header);t?(void 0!==n&&0<i.sortList.length&&(r=r.filter(function(){return!this.sortDisabled&&0<=D.isValueInArray(parseFloat(S(this).attr("data-column")),i.sortList)})),e.add(r).addClass(D.css.processing+" "+i.cssProcessing)):e.add(r).removeClass(D.css.processing+" "+i.cssProcessing)},processTbody:function(e,t,n){if(e=S(e)[0],n)return e.isProcessing=!0,t.before('<colgroup class="tablesorter-savemyplace"/>'),S.fn.detach?t.detach():t.remove();var i=S(e).find("colgroup.tablesorter-savemyplace");t.insertAfter(i),i.remove(),e.isProcessing=!1},clearTableBody:function(e){S(e)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},replaceAccents:function(e){var t,n="[",i=D.characterEquivalents;if(!D.characterRegex){for(t in D.characterRegexArray={},i)"string"==typeof t&&(n+=i[t],D.characterRegexArray[t]=new RegExp("["+i[t]+"]","g"));D.characterRegex=new RegExp(n+"]")}if(D.characterRegex.test(e))for(t in i)"string"==typeof t&&(e=e.replace(D.characterRegexArray[t],t));return e},validateOptions:function(e){var t,n,i,r,s="headers sortForce sortList sortAppend widgets".split(" "),a=e.originalSettings;if(a){for(t in e.debug&&(r=new Date),a)if("undefined"===(i=typeof D.defaults[t]))console.warn('Tablesorter Warning! "table.config.'+t+'" option not recognized');else if("object"===i)for(n in a[t])i=D.defaults[t]&&typeof D.defaults[t][n],S.inArray(t,s)<0&&"undefined"===i&&console.warn('Tablesorter Warning! "table.config.'+t+"."+n+'" option not recognized');e.debug&&console.log("validate options time:"+D.benchmark(r))}},restoreHeaders:function(e){var t,n,i=S(e)[0].config,r=i.$table.find(i.selectorHeaders),s=r.length;for(t=0;t<s;t++)(n=r.eq(t)).find("."+D.css.headerIn).length&&n.html(i.headerContent[t])},destroy:function(e,t,n){if((e=S(e)[0]).hasInitialized){D.removeWidget(e,!0,!1);var i,r=S(e),s=e.config,a=s.debug,o=r.find("thead:first"),l=o.find("tr."+D.css.headerRow).removeClass(D.css.headerRow+" "+s.cssHeaderRow),c=r.find("tfoot:first > tr").children("th, td");!1===t&&0<=S.inArray("uitheme",s.widgets)&&(r.triggerHandler("applyWidgetId",["uitheme"]),r.triggerHandler("applyWidgetId",["zebra"])),o.find("tr").not(l).remove(),i="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(s.namespace+" "),r.removeData("tablesorter").unbind(i.replace(D.regex.spaces," ")),s.$headers.add(c).removeClass([D.css.header,s.cssHeader,s.cssAsc,s.cssDesc,D.css.sortAsc,D.css.sortDesc,D.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),l.find(s.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(s.namespace+" ").replace(D.regex.spaces," ")),D.restoreHeaders(e),r.toggleClass(D.css.table+" "+s.tableClass+" tablesorter-"+s.theme,!1===t),r.removeClass(s.namespace.slice(1)),e.hasInitialized=!1,delete e.config.cache,"function"==typeof n&&n(e),a&&console.log("tablesorter has been removed")}}};S.fn.tablesorter=function(n){return this.each(function(){var e=this,t=S.extend(!0,{},D.defaults,n,D.instanceMethods);t.originalSettings=n,!e.hasInitialized&&D.buildTable&&"TABLE"!==this.nodeName?D.buildTable(e,t):D.setup(e,t)})},window.console&&window.console.log||(D.logs=[],console={},console.log=console.warn=console.error=console.table=function(e){var t=1<arguments.length?arguments:e;D.logs[D.logs.length]={date:Date.now(),log:t}}),D.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),D.addParser({id:"text",is:function(){return!0},format:function(e,t){var n=t.config;return e&&(e=S.trim(n.ignoreCase?e.toLocaleLowerCase():e),e=n.sortLocaleCompare?D.replaceAccents(e):e),e},type:"text"}),D.regex.nondigit=/[^\w,. \-()]/g,D.addParser({id:"digit",is:function(e){return D.isDigit(e)},format:function(e,t){var n=D.formatFloat((e||"").replace(D.regex.nondigit,""),t);return e&&"number"==typeof n?n:e?S.trim(e&&t.config.ignoreCase?e.toLocaleLowerCase():e):e},type:"numeric"}),D.regex.currencyReplace=/[+\-,. ]/g,D.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,D.addParser({id:"currency",is:function(e){return e=(e||"").replace(D.regex.currencyReplace,""),D.regex.currencyTest.test(e)},format:function(e,t){var n=D.formatFloat((e||"").replace(D.regex.nondigit,""),t);return e&&"number"==typeof n?n:e?S.trim(e&&t.config.ignoreCase?e.toLocaleLowerCase():e):e},type:"numeric"}),D.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,D.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,D.addParser({id:"url",is:function(e){return D.regex.urlProtocolTest.test(e)},format:function(e){return e?S.trim(e.replace(D.regex.urlProtocolReplace,"")):e},type:"text"}),D.regex.dash=/-/g,D.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,D.addParser({id:"isoDate",is:function(e){return D.regex.isoDate.test(e)},format:function(e){var t=e?new Date(e.replace(D.regex.dash,"/")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),D.regex.percent=/%/g,D.regex.percentTest=/(\d\s*?%|%\s*?\d)/,
D.addParser({id:"percent",is:function(e){return D.regex.percentTest.test(e)&&e.length<15},format:function(e,t){return e?D.formatFloat(e.replace(D.regex.percent,""),t):e},type:"numeric"}),D.addParser({id:"image",is:function(e,t,n,i){return 0<i.find("img").length},format:function(e,t,n){return S(n).find("img").attr(t.config.imgAttr||"alt")||e},parsed:!0,type:"text"}),D.regex.dateReplace=/(\S)([AP]M)$/i,D.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,D.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,D.addParser({id:"usLongDate",is:function(e){return D.regex.usLongDateTest1.test(e)||D.regex.usLongDateTest2.test(e)},format:function(e){var t=e?new Date(e.replace(D.regex.dateReplace,"$1 $2")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),D.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,D.regex.shortDateReplace=/[\-.,]/g,D.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,D.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,D.convertFormat=function(e,t){e=(e||"").replace(D.regex.spaces," ").replace(D.regex.shortDateReplace,"/"),"mmddyyyy"===t?e=e.replace(D.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===t?e=e.replace(D.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===t&&(e=e.replace(D.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(e);return n instanceof Date&&isFinite(n)?n.getTime():""},D.addParser({id:"shortDate",is:function(e){return e=(e||"").replace(D.regex.spaces," ").replace(D.regex.shortDateReplace,"/"),D.regex.shortDateTest.test(e)},format:function(e,t,n,i){if(e){var r=t.config,s=r.$headerIndexed[i],a=s.length&&s.data("dateFormat")||D.getData(s,D.getColumnData(t,r.headers,i),"dateFormat")||r.dateFormat;return s.length&&s.data("dateFormat",a),D.convertFormat(e,a)||e}return e},type:"numeric"}),D.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,D.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,D.addParser({id:"time",is:function(e){return D.regex.timeTest.test(e)},format:function(e){var t=(e||"").match(D.regex.timeMatch),n=new Date(e),i=e&&(null!==t?t[0]:"00:00 AM"),r=i?new Date("2000/01/01 "+i.replace(D.regex.dateReplace,"$1 $2")):i;return r instanceof Date&&isFinite(r)?(n instanceof Date&&isFinite(n)?n.getTime():0)?parseFloat(r.getTime()+"."+n.getTime()):r.getTime():e},type:"numeric"}),D.addParser({id:"metadata",is:function(){return!1},format:function(e,t,n){var i=t.config,r=i.parserMetadataName?i.parserMetadataName:"sortValue";return S(n).metadata()[r]},type:"numeric"}),D.addWidget({id:"zebra",priority:90,format:function(e,t,n){var i,r,s,a,o,l,c,u=new RegExp(t.cssChildRow,"i"),d=t.$tbodies.add(S(t.namespace+"_extra_table").children("tbody:not(."+t.cssInfoBlock+")"));for(o=0;o<d.length;o++)for(s=0,c=(i=d.eq(o).children("tr:visible").not(t.selectorRemove)).length,l=0;l<c;l++)r=i.eq(l),u.test(r[0].className)||s++,a=s%2==0,r.removeClass(n.zebra[a?1:0]).addClass(n.zebra[a?0:1])},remove:function(e,t,n,i){if(!i){var r,s,a=t.$tbodies,o=(n.zebra||["even","odd"]).join(" ");for(r=0;r<a.length;r++)(s=D.processTbody(e,a.eq(r),!0)).children().removeClass(o),D.processTbody(e,s,!1)}}})}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(v){"use strict";function y(e){return!e.nodeName||-1!==v.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function t(e){return v.isFunction(e)||v.isPlainObject(e)?e:{top:e,left:e}}var b=v.scrollTo=function(e,t,n){return v(window).scrollTo(e,t,n)};return b.defaults={axis:"xy",duration:0,limit:!0},v.fn.scrollTo=function(e,n,g){"object"==typeof n&&(g=n,n=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=v.extend({},b.defaults,g),n=n||g.duration;var _=g.queue&&1<g.axis.length;return _&&(n/=2),g.offset=t(g.offset),g.over=t(g.over),this.each(function(){function l(e){var t=v.extend({},g,{queue:!0,duration:n,complete:e&&function(){e.call(d,p,g)}});h.animate(f,t)}if(null!==e){var c,u=y(this),d=u?this.contentWindow||window:this,h=v(d),p=e,f={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=t(p);break}p=u?v(p):v(p,d);case"object":if(0===p.length)return;(p.is||p.style)&&(c=(p=v(p)).offset())}var m=v.isFunction(g.offset)&&g.offset(d,p)||g.offset;v.each(g.axis.split(""),function(e,t){var n="x"===t?"Left":"Top",i=n.toLowerCase(),r="scroll"+n,s=h[r](),a=b.max(d,t);if(c)f[r]=c[i]+(u?0:s-h.offset()[i]),g.margin&&(f[r]-=parseInt(p.css("margin"+n),10)||0,f[r]-=parseInt(p.css("border"+n+"Width"),10)||0),f[r]+=m[i]||0,g.over[i]&&(f[r]+=p["x"===t?"width":"height"]()*g.over[i]);else{var o=p[i];f[r]=o.slice&&"%"===o.slice(-1)?parseFloat(o)/100*a:o}g.limit&&/^\d+$/.test(f[r])&&(f[r]=f[r]<=0?0:Math.min(f[r],a)),!e&&1<g.axis.length&&(s===f[r]?f={}:_&&(l(g.onAfterFirst),f={}))}),l(g.onAfter)}})},b.max=function(e,t){var n="x"===t?"Width":"Height",i="scroll"+n;if(!y(e))return e[i]-v(e)[n.toLowerCase()]();var r="client"+n,s=e.ownerDocument||e.document,a=s.documentElement,o=s.body;return Math.max(a[i],o[i])-Math.min(a[r],o[r])},v.Tween.propHooks.scrollLeft=v.Tween.propHooks.scrollTop={get:function(e){return v(e.elem)[e.prop]()},set:function(e){var t=this.get(e);if(e.options.interrupt&&e._last&&e._last!==t)return v(e.elem).stop();var n=Math.round(e.now);t!==n&&(v(e.elem)[e.prop](n),e._last=this.get(e))}},b}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Autogrow=t()}(this,function(){return function(n,e){var i=this;e===undefined&&(e=999),i.getOffset=function(e){for(var t=window.getComputedStyle(e,null),n=["paddingTop","paddingBottom"],i=0,r=0;r<n.length;r++)i+=parseInt(t[n[r]]);return i},i.autogrowFn=function(){var e=0,t=!1;return n.scrollHeight-r>i.maxAllowedHeight?(n.style.overflowY="scroll",e=i.maxAllowedHeight):(n.style.overflowY="hidden",n.style.height="auto",e=n.scrollHeight-r,t=!0),n.style.height=e+"px",t};var r=i.getOffset(n);i.rows=n.rows||1,i.lineHeight=n.scrollHeight/i.rows-r/i.rows,i.maxAllowedHeight=i.lineHeight*e-r,n.addEventListener("input",i.autogrowFn)}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(u){u.ui=u.ui||{};u.ui.version="1.12.1";var s,n=0,o=Array.prototype.slice;u.cleanData=(s=u.cleanData,function(e){var t,n,i;for(i=0;null!=(n=e[i]);i++)try{(t=u._data(n,"events"))&&t.remove&&u(n).triggerHandler("remove")}catch(r){}s(e)}),u.widget=function(e,n,t){var i,r,s,a={},o=e.split(".")[0],l=o+"-"+(e=e.split(".")[1]);return t||(t=n,n=u.Widget),u.isArray(t)&&(t=u.extend.apply(null,[{}].concat(t))),u.expr[":"][l.toLowerCase()]=function(e){return!!u.data(e,l)},u[o]=u[o]||{},i=u[o][e],r=u[o][e]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},u.extend(r,i,{version:t.version,_proto:u.extend({},t),_childConstructors:[]}),(s=new n).options=u.widget.extend({},s.options),u.each(t,function(t,s){u.isFunction(s)?a[t]=function(){function i(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=r,e=s.apply(this,arguments),this._super=t,this._superApply=n,e}}():a[t]=s}),r.prototype=u.widget.extend(s,{widgetEventPrefix:i&&s.widgetEventPrefix||e},a,{constructor:r,namespace:o,widgetName:e,widgetFullName:l}),i?(u.each(i._childConstructors,function(e,t){var n=t.prototype;u.widget(n.namespace+"."+n.widgetName,r,t._proto)}),delete i._childConstructors):n._childConstructors.push(r),u.widget.bridge(e,r),r},u.widget.extend=function(e){for(var t,n,i=o.call(arguments,1),r=0,s=i.length;r<s;r++)for(t in i[r])n=i[r][t],i[r].hasOwnProperty(t)&&n!==undefined&&(u.isPlainObject(n)?e[t]=u.isPlainObject(e[t])?u.widget.extend({},e[t],n):u.widget.extend({},n):e[t]=n);return e},u.widget.bridge=function(s,t){var a=t.prototype.widgetFullName||s;u.fn[s]=function(n){var e="string"==typeof n,i=o.call(arguments,1),r=this;return e?this.length||"instance"!==n?this.each(function(){var e,t=u.data(this,a);return"instance"===n?(r=t,!1):t?u.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i))!==t&&e!==undefined?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:u.error("no such method '"+n+"' for "+s+" widget instance"):u.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+n+"'")}):r=undefined:(i.length&&(n=u.widget.extend.apply(null,[n].concat(i))),this.each(function(){var e=u.data(this,a);e?(e.option(n||{}),e._init&&e._init()):u.data(this,a,new t(n,this))})),r}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=u(t||this.defaultElement||this)[0],this.element=u(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=u(),this.hoverable=u(),this.focusable=u(),this.classesElementLookup={},t!==this&&(u.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=u(t.style?t.ownerDocument:t.document||t),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this.options=u.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){var n=this;this._destroy(),u.each(this.classesElementLookup,function(e,t){n._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:u.noop,widget:function(){return this.element},option:function(e,t){var n,i,r,s=e;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(n=e.split(".")).shift(),n.length){for(i=s[e]=u.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(e=n.pop(),1===arguments.length)return i[e]===undefined?null:i[e];i[e]=t}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];s[e]=t}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,n,i;for(t in e)i=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&i&&i.length&&(n=u(i.get()),this._removeClass(i,t),n.addClass(this._classes({element:n,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){function e(e,t){var n,i;for(i=0;i<e.length;i++)n=a.classesElementLookup[e[i]]||u(),n=r.add?u(u.unique(n.get().concat(r.element.get()))):u(n.not(r.element).get()),a.classesElementLookup[e[i]]=n,s.push(e[i]),t&&r.classes[e[i]]&&s.push(r.classes[e[i]])}var s=[],a=this;return r=u.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&e(r.keys.match(/\S+/g)||[],!0),r.extra&&e(r.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(n){var i=this;u.each(i.classesElementLookup,function(e,t){-1!==u.inArray(n.target,t)&&(i.classesElementLookup[e]=u(t.not(n.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,s={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return s.element.toggleClass(this._classes(s),i),this},_on:function(a,o,e){var l,c=this;"boolean"!=typeof a&&(e=o,o=a,a=!1),e?(o=l=u(o),this.bindings=this.bindings.add(o)):(e=o,o=this.element,l=this.widget()),u.each(e,function(e,t){function n(){if(a||!0!==c.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||u.guid++);var i=e.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+c.eventNamespace,s=i[2];s?l.on(r,s,n):o.on(r,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=u(this.bindings.not(e).get()),this.focusable=u(this.focusable.not(e).get()),this.hoverable=u(this.hoverable.not(e).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(u(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(u(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(u(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(u(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,n){var i,r,s=this.options[e];if(n=n||{},(t=u.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(i in r)i in t||(t[i]=r[i]);return this.element.trigger(t,n),!(u.isFunction(s)&&!1===s.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(s,a){u.Widget.prototype["_"+s]=function(t,e,n){var i;"string"==typeof e&&(e={effect:e});var r=e?!0===e||"number"==typeof e?a:e.effect||a:s;"number"==typeof(e=e||{})&&(e={duration:e}),i=!u.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),i&&u.effects&&u.effects.effect[r]?t[s](e):r!==s&&t[r]?t[r](e.duration,e.easing,n):t.queue(function(e){u(this)[s](),n&&n.call(t[0]),e()})}});u.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}(function(l){"use strict";var i=0,t=l,n="parseJSON";"JSON"in window&&"parse"in JSON&&(t=JSON,n="parse"),l.ajaxTransport("iframe",function(r){if(r.async){var s,a,t,o=r.initialIframeSrc||"javascript:false;";return{send:function(e,n){(s=l('<form style="display:none;"></form>')).attr("accept-charset",r.formAcceptCharset),t=/\?/.test(r.url)?"&":"?","DELETE"===r.type?(r.url=r.url+t+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+t+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+t+"_method=PATCH",r.type="POST"),a=l('<iframe src="'+o+'" name="iframe-transport-'+(i+=1)+'"></iframe>').bind("load",function(){var i,t=l.isArray(r.paramName)?r.paramName:[r.paramName];a.unbind("load").bind("load",function(){var e;try{if(!(e=a.contents()).length||!e[0].firstChild)throw new Error}catch(t){e=undefined}n(200,"success",{iframe:e}),l('<iframe src="'+o+'"></iframe>').appendTo(s),window.setTimeout(function(){s.remove()},0)}),s.prop("target",a.prop("name")).prop("action",r.url).prop("method",r.type),r.formData&&l.each(r.formData,function(e,t){l('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(s)}),r.fileInput&&r.fileInput.length&&"POST"===r.type&&(i=r.fileInput.clone(),r.fileInput.after(function(e){return i[e]}),r.paramName&&r.fileInput.each(function(e){l(this).prop("name",t[e]||r.paramName)}),s.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),r.fileInput.removeAttr("form")),s.submit(),i&&i.length&&r.fileInput.each(function(e,t){var n=l(i[e]);l(t).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(t)})}),s.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",o),s&&s.remove()}}}}),l.ajaxSetup({converters:{"iframe text":function(e){return e&&l(e[0].body).text()},"iframe json":function(e){return e&&t[n](l(e[0].body).text())},"iframe html":function(e){return e&&l(e[0].body).html()},"iframe xml":function(e){var t=e&&e[0];return t&&l.isXMLDoc(t)?t:l.parseXML(t.XMLDocument&&t.XMLDocument.xml||l(t.body).html())},"iframe script":function(e){return e&&l.globalEval(l(e[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(_){"use strict";function e(n){var i="dragover"===n;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=e.dataTransfer;t&&-1!==_.inArray("Files",t.types)&&!1!==this._trigger(n,_.Event(n,{delegatedEvent:e}))&&(e.preventDefault(),i&&(t.dropEffect="copy"))}}_.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||_('<input type="file"/>').prop("disabled")),_.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),_.support.xhrFormDataFileUpload=!!window.FormData,_.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),_.widget("blueimp.fileupload",{options:{dropZone:_(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,e){return n=this.messages[n]||n.toString(),e&&_.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),n},formData:function(e){return e.serializeArray()},add:function(e,t){if(e.isDefaultPrevented())return!1;(t.autoUpload||!1!==t.autoUpload&&_(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:_.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||n<i)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&_.support.xhrFileUpload||_.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===_.type(e.formData)?e.formData(e.form):_.isArray(e.formData)?e.formData:"object"===_.type(e.formData)?(n=[],_.each(e.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(e){var n=0;return _.each(e,function(e,t){n+=t.size||1}),n},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?_.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&i-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=i,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(i,n,t.bitrateInterval),this._trigger("progress",_.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",_.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(n){var i=this,e=n.xhr?n.xhr():_.ajaxSettings.xhr();e.upload&&(_(e.upload).bind("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,i._onProgress(e,n)}),n.xhr=function(){return e})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(n){var i,r=this,e=n.files[0],t=n.multipart||!_.support.xhrFileUpload,s="array"===_.type(n.paramName)?n.paramName[0]:n.paramName;n.headers=_.extend({},n.headers),n.contentRange&&(n.headers["Content-Range"]=n.contentRange),t&&!n.blob&&this._isInstanceOf("File",e)||(n.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.uploadName||e.name)+'"'),t?_.support.xhrFormDataFileUpload&&(n.postMessage?(i=this._getFormData(n),n.blob?i.push({name:s,value:n.blob}):_.each(n.files,function(e,t){i.push({name:"array"===_.type(n.paramName)&&n.paramName[e]||s,value:t})})):(r._isInstanceOf("FormData",n.formData)?i=n.formData:(i=new FormData,_.each(this._getFormData(n),function(e,t){i.append(t.name,t.value)})),n.blob?i.append(s,n.blob,e.uploadName||e.name):_.each(n.files,function(e,t){(r._isInstanceOf("File",t)||r._isInstanceOf("Blob",t))&&i.append("array"===_.type(n.paramName)&&n.paramName[e]||s,t,t.uploadName||t.name)})),n.data=i):(n.contentType=e.type||"application/octet-stream",n.data=n.blob||e),n.blob=null},_initIframeSettings:function(e){var t=_("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=_(e.fileInput),i=e.paramName;return i?_.isArray(i)||(i=[i]):(i=[],t.each(function(){for(var e=_(this),t=e.prop("name")||"files[]",n=(e.prop("files")||[1]).length;n;)i.push(t),n-=1}),i.length||(i=[t.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=_(e.fileInput.prop("form")),e.form.length||(e.form=_(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===_.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=_.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,n){var i=_.Deferred(),r=i.promise();return t=t||this.options.context||r,!0===e?i.resolveWith(t,n):!1===e&&i.rejectWith(t,n),r.abort=i.promise,this._enhancePromise(r)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return _.Deferred().resolveWith(i,e).promise()};n.process=function(e,t){return(e||t)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).then(function(){return n.errorThrown?_.Deferred().rejectWith(i,[n]).promise():r(arguments)}).then(e,t)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",_.Event("submit",{delegatedEvent:e}),this)&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&1<n.length&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(s,e){s.uploadedBytes=s.uploadedBytes||0;var t,a,o=this,n=s.files[0],l=n.size,c=s.uploadedBytes,u=s.maxChunkSize||l,d=this._blobSlice,h=_.Deferred(),i=h.promise();return!(!(this._isXHRUpload(s)&&d&&(c||("function"===_.type(u)?u(s):u)<l))||s.data)&&(!!e||(l<=c?(n.error=s.i18n("uploadedBytes"),this._getXHRPromise(!1,s.context,[null,"error",n.error])):(a=function(){var i=_.extend({},s),r=i._progress.loaded;i.blob=d.call(n,c,c+("function"===_.type(u)?u(i):u),n.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+c+"-"+(c+i.chunkSize-1)+"/"+l,o._trigger("chunkbeforesend",null,i),o._initXHRData(i),o._initProgressListener(i),t=(!1!==o._trigger("chunksend",null,i)&&_.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(e,t,n){c=o._getUploadedBytes(n)||c+i.chunkSize,r+i.chunkSize-i._progress.loaded&&o._onProgress(_.Event("progress",{lengthComputable:!0,loaded:c-i.uploadedBytes,total:c-i.uploadedBytes}),i),s.uploadedBytes=i.uploadedBytes=c,i.result=e,i.textStatus=t,i.jqXHR=n,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),c<l?a():h.resolveWith(i.context,[e,t,n])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),h.rejectWith(i.context,[e,t,n])})},this._enhancePromise(i),i.abort=function(){return t.abort()},a(),i)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,n,i){var r=i._progress.total,s=i._response;i._progress.loaded<r&&this._onProgress(_.Event("progress",{lengthComputable:!0,loaded:r,total:r}),i),s.result=i.result=e,s.textStatus=i.textStatus=t,s.jqXHR=i.jqXHR=n,this._trigger("done",null,i)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var n,i,r,s,a=this,o=a._getAJAXSettings(t),l=function(){return a._sending+=1,o._bitrateTimer=new a._BitrateTimer,n=n||((i||!1===a._trigger("send",_.Event("send",{delegatedEvent:e}),o))&&a._getXHRPromise(!1,o.context,i)||a._chunkedUpload(o)||_.ajax(o)).done(function(e,t,n){a._onDone(e,t,n,o)}).fail(function(e,t,n){a._onFail(e,t,n,o)}).always(function(e,t,n){if(a._onAlways(e,t,n,o),a._sending-=1,a._active-=1,o.limitConcurrentUploads&&o.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,o),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(r=_.Deferred(),this._slots.push(r),s=r.then(l)):(this._sequence=this._sequence.then(l,l),s=this._sequence),s.abort=function(){return i=[undefined,"abort","abort"],n?n.abort():(r&&r.rejectWith(o.context,i),l())},this._enhancePromise(s)):l()},_onAdd:function(i,r){var s,e,a,t,o=this,l=!0,n=_.extend({},this.options,r),c=r.files,u=c.length,d=n.limitMultiFileUploads,h=n.limitMultiFileUploadSize,p=n.limitMultiFileUploadSizeOverhead,f=0,m=this._getParamName(n),g=0;if(!u)return!1;if(h&&c[0].size===undefined&&(h=undefined),(n.singleFileUploads||d||h)&&this._isXHRUpload(n))if(n.singleFileUploads||h||!d)if(!n.singleFileUploads&&h)for(a=[],s=[],t=0;t<u;t+=1)f+=c[t].size+p,(t+1===u||f+c[t+1].size+p>h||d&&d<=t+1-g)&&(a.push(c.slice(g,t+1)),(e=m.slice(g,t+1)).length||(e=m),s.push(e),g=t+1,f=0);else s=m;else for(a=[],s=[],t=0;t<u;t+=d)a.push(c.slice(t,t+d)),(e=m.slice(t,t+d)).length||(e=m),s.push(e);else a=[c],s=[m];return r.originalFiles=c,_.each(a||c,function(e,t){var n=_.extend({},r);return n.files=a?t:[t],n.paramName=s[e],o._initResponseObject(n),o._initProgressObject(n),o._addConvenienceMethods(i,n),l=o._trigger("add",_.Event("add",{delegatedEvent:i}),n)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),t=n.is(document.activeElement);e.fileInputClone=i,_("<form></form>").append(i)[0].reset(),n.after(i).detach(),t&&i.focus(),_.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?i[0]:t}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var e,i=this,r=_.Deferred(),s=[],a=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])},o=function(e){i._handleFileTreeEntries(e,n+t.name+"/").done(function(e){r.resolve(e)}).fail(a)},l=function(){e.readEntries(function(e){e.length?(s=s.concat(e),l()):o(s)},a)};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,r.resolve(t._file)):t.file(function(e){e.relativePath=n,r.resolve(e)},a):t.isDirectory?(e=t.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,t){var n=this;return _.when.apply(_,_.map(e,function(e){return n._handleFileTreeEntry(e,t)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(_.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):_.Deferred().resolve(_.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t,n,i=(e=_(e)).prop("webkitEntries")||e.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if((t=_.makeArray(e.prop("files"))).length)t[0].name===undefined&&t[0].fileName&&_.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(n=e.prop("value")))return _.Deferred().resolve([]).promise();t=[{name:n.replace(/^.*\\/,"")}]}return _.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof _&&1!==e.length?_.when.apply(_,_.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var n=this,i={fileInput:_(t.target),form:_(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(e){i.files=e,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",_.Event("change",{delegatedEvent:t}),i)&&n._onAdd(t,i)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};t&&t.length&&(_.each(t,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",_.Event("paste",{delegatedEvent:e}),i)&&this._onAdd(e,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,e=t.dataTransfer,i={};e&&e.files&&e.files.length&&(t.preventDefault(),this._getDroppedFiles(e).always(function(e){i.files=e,!1!==n._trigger("drop",_.Event("drop",{delegatedEvent:t}),i)&&n._onAdd(t,i)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),_.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,
"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,t){var n=-1!==_.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,t),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof _||(e.fileInput=_(e.fileInput)),e.dropZone instanceof _||(e.dropZone=_(e.dropZone)),e.pasteZone instanceof _||(e.pasteZone=_(e.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===_.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var r=this,s=this.options,a=this.element.data();_.each(this.element[0].attributes,function(e,t){var n,i=t.name.toLowerCase();/^data-/.test(i)&&(i=i.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),n=a[i],r._isRegExpOption(i,n)&&(n=r._getRegExp(n)),s[i]=n)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=_.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,s=_.Deferred(),e=s.promise();return e.abort=function(){return i=!0,n?n.abort():(s.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){i||(e.length?(t.files=e,(n=r._onSend(null,t)).then(function(e,t,n){s.resolve(e,t,n)},function(e,t,n){s.reject(e,t,n)})):s.reject())}),this._enhancePromise(e)}if(t.files=_.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})});var _nfs_store={fs_browser:function(o){"use strict";var e=function(){return $('.container-browser-outer[data-container-id="'+f+'"] .container-browser')},r=function(e,t){n("download",e,t),n("trash",e,t)},n=function(e,t,n){n||(n=!("true"==m.attr("data-can-submit-"+e)));var i=n?"disabled":null;$("#container-browse-"+e+"-"+f).attr("disabled",i),$("#container-browse-"+e+"-in-form-"+f).attr("disabled",i)},s=function(e,t){$("#container-browse-download-"+f+" .btn-caption").html(t)},t=function(){var e=$("#container-browse-download-in-form-"+f),t=e.parents("form").first();t.removeAttr("data-remote"),t.removeData("remote"),e.click()},i=function(){var e=$("#container-browse-trash-in-form-"+f),t=e.parents("form").first();t.attr("data-remote","true"),t[0].app_callback=function(){a(o,f)},e.click()},a=function(e,t){$('.refresh-container-list[data-container-id="'+t+'"]').click(),l(e)},l=function(e){o.removeClass("ajax-running"),r(e,!0),d(e)},c=function(e,t,n){t.stopPropagation();var i=m.find('.folder-icon[aria-controls="'+e.attr("id")+'"]');n?(i.addClass("glyphicon-folder-close"),i.removeClass("glyphicon-folder-open")):(i.addClass("glyphicon-folder-open"),i.removeClass("glyphicon-folder-close"))},u=function(e,t){var n=o.find(".container-browser");if(n.addClass("browser-hide-meta browser-hide-classifications"),e||(e=$('input[name="container-meta-controls-'+f+'"]:checked')),e){var i=e.val();n.removeClass("browser-hide-"+i)}var r=o.parents(".common-template-item.is-activity-log").first(),s=r.hasClass("col-md-8"),a=!1;r.removeClass("col-md-8 col-lg-6 col-lg-8 col-md-12 col-lg-12"),"classifications"==i?r.addClass("col-md-12 col-lg-12"):"meta"==i?r.addClass("col-md-12 col-lg-12"):(a=!0,r.addClass("col-md-8 col-lg-6")),s!=a&&window.setTimeout(function(){t||_fpa.utils.jump_to_linked_item(r,null,{no_highlight:!0}),_fpa.form_utils.resize_children(o)},100)},d=function(e){var t=m.find('.container-entry input[type="checkbox"]:checked'),n=m.find('.container-folder input[type="checkbox"]:checked'),i=t.length;s(e,"download "+i+" "+(1!=i?"files":"file")),r(e,!i),m.find(".container-entry.checked").removeClass("checked"),t.each(function(){$(this).is(":checked")&&$(this).parent().addClass("checked")}),m.find(".container-folder.checked").removeClass("checked"),n.each(function(){$(this).is(":checked")&&$(this).parent().addClass("checked")})},h=function(e){var t=e.parents(".container-folder-items").first(),n=t.attr("data-folder-items"),i=t.find('> .container-entry input[type="checkbox"]'),r=i.length==i.closest(":checked").length;m.find('.container-folder input[type="checkbox"][data-folder-path="'+n+'"] ').prop("checked",r),d(e)},p=function(e){var t=e.attr("data-folder-path"),n=e.is(":checked");m.find('.container-folder-items[data-folder-items="'+t+'"] li input[type="checkbox"]').prop("checked",n),d(e)},f=function(e){var t=e.attr("data-container-id");return t||e.parents(".container-browser-outer").attr("data-container-id")}(o),m=e();o.on("change",'.container-browser .container-entry input[type="checkbox"]',function(){h($(this))}).on("change",'.container-browser .container-folder input[type="checkbox"]',function(){p($(this))}).on("hidden.bs.collapse",".container-browser .container-folder-items",function(e){c($(this),e,!0)}).on("shown.bs.collapse",".container-browser .container-folder-items",function(e){c($(this),e,!1)}).on("click",".container-browse-download",function(){var e=$($(this).attr("data-target-browser"));t(e),r(e,!0),s(e,"request submitted")}).on("click",".container-browse-trash",function(){var e=$($(this).attr("data-target-browser"));i(e),r(e,!0)}),$(document).on("click",'.refresh-container-list[data-container-id="'+f+'"]',function(){o.find(".container-browser").addClass("ajax-running")}).on("change",'input[name="container-meta-controls-'+f+'"]',function(){u($(this))});var g=$('input[name="container-meta-controls-'+f+'"]:checked');return u(g,!0),l(o),this},uploader:function(l){"use strict";function n(e,t){if(c)t=null;else{e&&(f=0,s=null,d=e,p=Math.ceil(d.size/h),a=t,!1,o=[]);var n=new FileReader;n.onload=g,n.onerror=_;var i=f*h,r=i+h>=d.size?d.size:i+h;n.readAsArrayBuffer(u.call(d,i,r))}}var s,a,c,i={url:"/nfs_store/chunk",dataType:"json",autoUpload:!1,dropZone:l.find(".upload-dropzone"),disableImageResize:!0,singleFileUploads:!0,sequentialUploads:!0,previewMaxWidth:100,previewMaxHeight:100,previewCrop:!0,maxChunkSize:1e7,headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")}},o=[],u=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,d=null,h=i.maxChunkSize,p=0,f=0,r=new SparkMD5.ArrayBuffer,m=new SparkMD5.ArrayBuffer,g=function(e){var t=e.target.result;m.reset(),m.append(t),o.push(m.end()),r.append(t),++f<p?n():(s=r.end(),!0,a&&a(s))},_=function(){!0},v=function(e,t,n,i,r){var s=l.find(".template .file-block").clone(!0).attr("data-file-index",t);s.find(".file-name").text(n.name),c=!1,s.find(".button-upload-abort").on("click",function(){var e=$(this),t=e.data();e.hide(),c=!0,s.find(".button-upload-resume").show(),t.abort()}).data(e),s.find(".button-upload-resume").on("click",function(){$(this).hide(),s.find(".button-upload-abort").show(),c=!1,w(s),P(r,i)}),s.find(".started-at").html((new Date).toLocaleTimeString());var a=l.find(".data-context");s.appendTo(a),s.data(e);var o=a.get(0).getBoundingClientRect();return!(0<=o.top&&o.top<=.8*$(window).height())&&$.scrollTo(a,0,{offset:.8*-$(window).height()}),s},y=function(e){e.removeClass("process-ready").addClass("process-complete"),e.removeClass("progress-running"),k(e),console.log("completed upload of file")},b=function(e,t){t||(t=C()),e.join||(e=[e]),t.find(".file-error").text("file upload failed: "+e.join(" | ")),t.find(".progress-bar").addClass("progress-bar-failed").removeClass("progress-bar-success"),t.find(".progress-bar-status-text").text("failed"),t.removeClass("progress-running"),k(t),x()},w=function(e){e.addClass("process-ready").removeClass("process-complete"),e.find(".file-error").text(""),e.find(".progress-bar").removeClass("progress-bar-failed").addClass("progress-bar-success"),e.find(".progress-bar-status-text").text("processing")},k=function(e){e.find(".button-upload-abort").hide()},x=function(){l.find(".fileinput-button").show()},e=function(){l.find(".fileinput-button").hide()},t=function(){l.find(".data-context .file-block[data-file-index]").remove()},C=function(){return l.find(".data-context .file-block.process-ready").first()},T=function(e){var t=[],n=e.jqXHR.responseJSON;if(n&&n.message)return t.push(n.message),t;var i=e.jqXHR.getResponseHeader("X-Upload-Errors"),r=JSON.parse(i);for(var s in r)r.hasOwnProperty(s)&&t.push(s.replace("_"," ")+" "+r[s].join("; "));return 0==t.length&&t.push("unknown server error"),t},S=function(){l.find(".refresh-container-list").click()},D=function(){var e=A(),t=E(),n={activity_log_id:e.activity_log_id,activity_log_type:e.activity_log_type,container_id:t,"do":"done"};$.ajax({url:i.url+"/"+t,data:n,type:"PUT",success:function(){console.log("Sent all done message")}})},E=function(){return l.find("#uploader_container_id").val()},A=function(){var e=l.find(".nfs-store-container-block");return{activity_log_id:e.attr("data-activity-log-id"),activity_log_type:e.attr("data-activity-log-type")}},P=function(r,s){var e=C();if(0!=e.length){var a=e.data();c=!1,e.addClass("progress-running"),e.find(".progress-bar-status-text").text("processing"),n(a.files[0],function(e){a.formData||(a.formData={}),a.formData.file_hash=e,a.formData.container_id=E(),a.files[0].relativePath&&""!=a.files[0].relativePath&&(a.formData.relative_path=a.files[0].relativePath),1==o.length&&(a.formData.chunk_hash=o.shift());var t=A();if(r){var n={file_name:a.files[0].name,file_hash:a.formData.file_hash,relative_path:a.formData.relative_path,activity_log_id:t.activity_log_id,activity_log_type:t.activity_log_type};$.getJSON(i.url+"/"+E(),n,function(e){if("found"==e.result&&!e.completed){var t=e.file_size,n=e.chunk_count;a.uploadedBytes=t;for(var i=0;i<n;i++)a.formData.chunk_hash=o.shift();$.blueimp.fileupload.prototype.options.add.call(r,s,a)}setTimeout(function(){a.submit()},100)}).fail(function(e){var t=["The upload failed"];e.responseJSON&&e.responseJSON.message&&(t=e.responseJSON.message),b(t)})}else setTimeout(function(){a.submit()},100)})}};l.find(".upload-dropzone").on("dragover",function(){$(this).addClass("on-drag")}).on("dragleave",function(){$(this).removeClass("on-drag")}).on("drop",function(){l.find(".fileinput-button").is(":visible")?(e(),t(),$(this).removeClass("on-drag")):console.log("Upload not enabled!")});l.find("input.nfs-store-fileupload").fileupload(i).on("click",function(){t()}).on("fileuploadadd",function(i,r){if("false"!=l.find(".container-browser").attr("data-container-writable")){e();var s=this;$.each(r.files,function(e,t){var n=0==C().length;v(r,e,t,i,s);n&&P(s,i)})}else console.log("Upload not enabled!")}).on("fileuploadchunkbeforesend",function(e,t){t.formData||(t.formData={}),t.formData.chunk_hash=o.shift(),C().find(".progress-bar-status-text").text("uploading")}).on("fileuploadchunksend",function(){return!c}).on("fileuploadprocessalways",function(e,t){console.log("fileuploadprocessalways");var n=0,i=t.files[n],r=C();r.find(".progress-bar-status-text").text("uploading"),i.error&&r.find(".file-error").text(i.error)}).on("fileuploadprogress",function(e,t){var n=C(),i=parseInt(t.loaded/t.total*100,10);n.find(".progress .progress-bar").css("width",i+"%");var r=n.get(0).getBoundingClientRect();!(0<=r.top&&r.top<=.8*$(window).height())&&$.scrollTo(n,0,{offset:.8*-$(window).height()})}).on("fileuploaddone",function(e,t){console.log("fileuploadaddone");var n=t.result.file,i=C();n.url?i.find(".progress-bar-status-text").text("completed"):n.error&&i.find(".file-error").text(n.error)}).on("fileuploadfail",function(e,t){var n;console.log("fileuploadfail"),n=c?["Upload canceled"]:T(t),b(n)}).on("fileuploadalways",function(n,e){console.log("fileuploadalways");var i=this;$.each(e.files,function(){var e=C();e.find(".ended-at").text((new Date).toLocaleTimeString()),y(e);var t=C();!c&&0<t.length?P(i,n):(x(),S(),D())})}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?undefined:"disabled")}};(function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)})(function(v){"use strict";function y(e){return!e.nodeName||-1!==v.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function t(e){return v.isFunction(e)||v.isPlainObject(e)?e:{top:e,left:e}}var b=v.scrollTo=function(e,t,n){return v(window).scrollTo(e,t,n)};return b.defaults={axis:"xy",duration:0,limit:!0},v.fn.scrollTo=function(e,n,g){"object"==typeof n&&(g=n,n=0),"function"==typeof g&&(g={onAfter:g}),"max"===e&&(e=9e9),g=v.extend({},b.defaults,g),n=n||g.duration;var _=g.queue&&1<g.axis.length;return _&&(n/=2),g.offset=t(g.offset),g.over=t(g.over),this.each(function(){function l(e){var t=v.extend({},g,{queue:!0,duration:n,complete:e&&function(){e.call(d,p,g)}});h.animate(f,t)}if(null!==e){var c,u=y(this),d=u?this.contentWindow||window:this,h=v(d),p=e,f={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=t(p);break}p=u?v(p):v(p,d);case"object":if(0===p.length)return;(p.is||p.style)&&(c=(p=v(p)).offset())}var m=v.isFunction(g.offset)&&g.offset(d,p)||g.offset;v.each(g.axis.split(""),function(e,t){var n="x"===t?"Left":"Top",i=n.toLowerCase(),r="scroll"+n,s=h[r](),a=b.max(d,t);if(c)f[r]=c[i]+(u?0:s-h.offset()[i]),g.margin&&(f[r]-=parseInt(p.css("margin"+n),10)||0,f[r]-=parseInt(p.css("border"+n+"Width"),10)||0),f[r]+=m[i]||0,g.over[i]&&(f[r]+=p["x"===t?"width":"height"]()*g.over[i]);else{var o=p[i];f[r]=o.slice&&"%"===o.slice(-1)?parseFloat(o)/100*a:o}g.limit&&/^\d+$/.test(f[r])&&(f[r]=f[r]<=0?0:Math.min(f[r],a)),!e&&1<g.axis.length&&(s===f[r]?f={}:_&&(l(g.onAfterFirst),f={}))}),l(g.onAfter)}})},b.max=function(e,t){var n="x"===t?"Width":"Height",i="scroll"+n;if(!y(e))return e[i]-v(e)[n.toLowerCase()]();var r="client"+n,s=e.ownerDocument||e.document,a=s.documentElement,o=s.body;return Math.max(a[i],o[i])-Math.min(a[r],o[r])},v.Tween.propHooks.scrollLeft=v.Tween.propHooks.scrollTop={get:function(e){return v(e.elem)[e.prop]()},set:function(e){var t=this.get(e);if(e.options.interrupt&&e._last&&e._last!==t)return v(e.elem).stop();var n=Math.round(e.now);t!==n&&(v(e.elem)[e.prop](n),e._last=this.get(e))}},b}),function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;try{t=window}catch(n){t=self}t.SparkMD5=e()}}(function(u){"use strict";function c(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&i)+t[2]+606105819|0)<<17|r>>>15)+s|0)&s|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&i)+t[6]-1473231341|0)<<17|r>>>15)+s|0)&s|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&i)+t[10]-42063|0)<<17|r>>>15)+s|0)&s|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&i)+t[14]-1502002290|0)<<17|r>>>15)+s|0)&s|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|s>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|s>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[14]-1416354905|0)<<15|r>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[10]-1051523|0)<<15|r>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[6]-1560198380|0)<<15|r>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[2]+718787259|0)<<15|r>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=s+e[3]|0}function d(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function h(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var t,n,i,r,s,a,o=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=o;t+=64)c(l,d(e.substring(t-64,t)));for(n=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),55<t)for(c(l,i),t=0;t<16;t+=1)i[t]=0;return r=(r=8*o).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(r[2],16),a=parseInt(r[1],16)||0,i[14]=s,i[15]=a,c(l,i),l}function r(e){var t,n,i,r,s,a,o=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=o;t+=64)c(l,h(e.subarray(t-64,t)));for(n=(e=t-64<o?e.subarray(t-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),55<t)for(c(l,i),t=0;t<16;t+=1)i[t]=0;return r=(r=8*o).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(r[2],16),a=parseInt(r[1],16)||0,i[14]=s,i[15]=a,c(l,i),l}function n(e){var t,n="";for(t=0;t<4;t+=1)n+=m[e>>8*t+4&15]+m[e>>8*t&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=n(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function t(e,t){var n,i=e.length,r=new ArrayBuffer(i),s=new Uint8Array(r);for(n=0;n<i;n+=1)s[n]=e.charCodeAt(n);return t?s:r}function o(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function l(e,t,n){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e)),i.set(new Uint8Array(t),e.byteLength),n?i:i.buffer}function p(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}var m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==a(i("hello"))&&function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function c(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(e,t){var n,i,r,s,a=this.byteLength,o=c(e,a),l=a;return t!==u&&(l=c(t,a)),l<o?new ArrayBuffer(0):(n=l-o,i=new ArrayBuffer(n),r=new Uint8Array(i),s=new Uint8Array(this,o,n),r.set(s),i)}}(),f.prototype.append=function(e){return this.appendBinary(s(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)c(this._hash,d(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},f.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=p(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,t){var n,i,r,s=t;if(e[s>>2]|=128<<(s%4<<3),55<s)for(c(this._hash,e),s=0;s<16;s+=1)e[s]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),r=parseInt(n[1],16)||0,e[14]=i,e[15]=r,c(this._hash,e)},f.hash=function(e,t){return f.hashBinary(s(e),t)},f.hashBinary=function(e,t){var n=a(i(e));return t?p(n):n},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(e){var t,n=l(this._buff.buffer,e,!0),i=n.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)c(this._hash,h(n.subarray(t-64,t)));return this._buff=t-64<i?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i[t]<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=p(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e=f.prototype.getState.call(this);return e.buff=o(e.buff),e},f.ArrayBuffer.prototype.setState=function(e){return e.buff=t(e.buff,!0),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,t){var n=a(r(new Uint8Array(e)));return t?p(n):n},f});var SecureView=function(){var l=this;return this.init=function(){this.app_specific=null,this.page_count=0,this.preview_as=null,this.current_page=1,this.current_zoom="",this.get_page_path="",this.download_path="",this.allow_actions={},this.initial_html_overflow=null,this.initial_body_overflow=null,this.$owner_el=null,this.$secure_view=null,this.$pages_block=null,this.$preview_as_selector=null,this.$zoom_factor_selector=null,this.$page_controls=null,this.$zoom_selectors=null,this.$loading_page_message=null,this.$download_link=null,this.$no_preview_possible=null,this.$failure_message_block=null,this.$failure_message=null,this.$control_blocks=null,this.$zoom_selector_fit=null,this.$extra_actions=null,this.$download_actions=null,this.$pages=null,this.$preview_item=null,this.$body=null,this.html=null},this.init(),this.setup_links=function(n,e,i){var r=this;n&&e&&$(n).not(".sv-added-setup-links").on("click",e,function(e){var t;(i=i||{}).page_path=$(this).attr("href"),i.$owner_el=n,t=i.attr_for_filename?$(this).attr(i.attr_for_filename):$(this).html(),i.file_name=t,$(".sv-selected").removeClass("sv-selected"),$(this).parent().addClass("sv-selected"),r.setup(i.set_preview_as,i),e.preventDefault()}).addClass("sv-added-setup-links")},this.setup=function(e,t){var n=this;t&&(this.get_page_path=t.page_path,this.download_path=t.download_path||t.page_path,this.allow_actions=t.allow_actions||{},this.$owner_el=t.$owner_el,this.file_name=t.file_name),this.set_current_page(1),this.$html=$("html"),this.$body=$("body"),this.$preview_as_selectors=$(".secure-view-preview-as-selectors"),this.$preview_as_selector=$(".secure-view-preview-as-selector"),this.$zoom_factor_selector=$(".secure-view-zoom-factor-selector"),this.$zoom_selectors=$(".secure-view-zoom-selector"),this.$page_controls=$(".secure-view-page-controls"),this.$pages_block=$("#secure-view-pages"),this.$secure_view=$(".secure-view"),this.$pages=$("#secure-view-pages"),this.$loading_page_message=$(".secure-view-loading-page"),this.$download_link=$(".sv-download-link"),this.$no_preview_possible=$(".secure-view-no-preview"),this.$control_blocks=$(".sv-control-block"),this.$no_preview_no_download=$(".secure-view-no-preview-no-download"),this.$failure_message_block=$(".secure-view-message-block"),this.$failure_message=$(".secure-view-message-block .secure-view-message"),this.$zoom_selector_fit=$("#secure-view-zoom-factor-fit"),this.$extra_actions=$(".secure-view-extra-actions"),this.$file_name=$(".secure-view-file-name"),this.$download_actions=$(".secure-download-actions"),this.$loading_page_message.show(),this.$body.hasClass("fixed-overlay")||(this.initial_html_overflow=this.$html[0].style.overflow,this.initial_body_overflow=this.$body[0].style.overflow,this.$html.css({overflow:"hidden"}),this.$body.css({overflow:"hidden"}).addClass("fixed-overlay")),this.$control_blocks.hide(),this.$no_preview_possible.hide(),this.$loading_page_message.show(),this.close(!0),this.$file_name.html(this.file_name),this.$loading_page_message.show(),e?this.preview_as=e:this.preview_as||(this.preview_as="png"),$('.secure-view-preview-as-selector[data-preview-as="'+this.preview_as+'"]').addClass("focus"),this.$secure_view.attr("data-preview-as",this.preview_as),this.page_count?this.show_first_page():this.get_info(this.show_first_page),this.set_controls(),this.$preview_as_selector.not(".sv-added-click-ev").on("click",function(e){n.preview_as=$(this).attr("data-preview-as"),n.$preview_as_selector.removeClass("focus"),$(this).addClass("focus"),n.clear(),n.setup(n.preview_as),e.preventDefault()}).addClass("sv-added-click-ev"),this.$zoom_factor_selector.not(".sv-added-click-ev").on("click",function(e){n.$preview_item.css({transition:"all 0.7s"}),n.set_zoom_for_selector($(this)),window.setTimeout(function(){n.$preview_item.css({transition:""})},1e3),window.setTimeout(function(){n.set_zoom(null,$(".secure-view-page").not("#"+n.page_id(n.current_page)))},100),e.preventDefault()}).addClass("sv-added-click-ev"),$("#preview-next-page").not(".sv-added-click-ev").on("click",function(e){n.show_next_page(),e.preventDefault()}).addClass("sv-added-click-ev"),$("#preview-prev-page").not(".sv-added-click-ev").on("click",function(e){n.show_prev_page(),e.preventDefault()}).addClass("sv-added-click-ev"),$("#secure-view-current-page").not(".sv-added-keyup-ev").on("keyup",function(){var e=$(this).val();""!=e&&(1<=(e=parseInt(e))&&e<=n.page_count&&e!=n.current_page?n.show_page(e):$(this).val(n.current_page))}).addClass("sv-added-keyup-ev"),$(".sv-close").not(".sv-added-click-ev").on("click",function(){n.close()}).addClass("sv-added-click-ev"),this.$secure_view.fadeIn(400,"swing",function(){window.setTimeout(function(){n.page_count&&n.show_first_page(),n.app_specific=(new SecureViewAppSpecific).setup(n)},10)})},this.set_controls=function(){this.$control_blocks.hide(),this.$extra_actions.show(),this.$file_name.show(),"html"==this.preview_as?(this.$zoom_selectors.show(),this.$page_controls.hide(),this.$zoom_selector_fit.hide()):(this.$zoom_selectors.show(),this.$page_controls.show(),this.$zoom_selector_fit.show()),this.set_actions()},this.set_actions=function(){this.$preview_as_selectors.hide(),this.allow_actions.download_files?(this.$download_link.show().attr("href",this.download_path),this.$download_actions.show()):(this.$download_link.hide(),this.$download_actions.hide());var e=$('.secure-view-preview-as-selector[data-preview-as="html"]');this.allow_actions.view_files_as_html?(e.show(),this.$preview_as_selectors.show()):e.hide();e=$('.secure-view-preview-as-selector[data-preview-as="png"]');this.allow_actions.view_files_as_image?(e.show(),this.$preview_as_selectors.show()):e.hide()},this.clean_page=function(){l.$control_blocks.hide(),l.$no_preview_possible.hide(),l.$no_preview_no_download.hide(),l.$loading_page_message.hide(),l.$failure_message_block.hide()},this.show_first_page=function(){l.clean_page(),l.set_controls(),l.can_preview?(l.set_current_page(1),l.show_page(l.current_page),l.$pages.removeClass(".sv-pages-as-png, .sv-pages-as-html").addClass("sv-pages-as-"+l.preview_as)):l.allow_actions.download_files?l.$no_preview_possible.show():l.$no_preview_no_download.show()},this.get_info=function(t){var e={secure_view:{"do":"info",preview_as:l.preview_as}},n=l.get_page_path;0<n.indexOf("?")?n+="&":n+="?",n+=$.param(e),$.ajax({url:n}).done(function(e){l.page_count=e.page_count,l.current_zoom=e.default_zoom,l.can_preview=e.can_preview,$("#secure-view-page-count").html(l.page_count),t&&t()}).fail(function(e,t,n){l.clean_page(),401==e.status?l.$no_preview_no_download.show():0==e.status?l.show_failure_message("Failed to get the requested item from the server: possible network error"):l.show_failure_message("Failed to get the requested item from the server: "+n),console.log("Failed to get info: "+n)})},this.show_failure_message=function(e){l.$failure_message.html(e),l.$failure_message_block.show()},this.set_zoom=function(e,t){(t=t||l.$preview_item)&&(e&&(l.current_zoom=e),l.current_zoom?("html"==l.preview_as?("fit"==l.current_zoom&&(l.current_zoom=100),l.$pages_block.css({overflow:"hidden"}),$("#sv-preview-item-html-1")[0].contentWindow.document.body.style.zoom=l.current_zoom+"%"):("fit"==l.current_zoom?l.$pages_block.css({overflow:"hidden"}):l.$pages_block.css({overflow:"auto"}),t.each(function(){var e=$(this);if("fit"==l.current_zoom){var t=l.$pages.height(),n=e.height(),i=e.width(),r=l.$pages.parent().width();if(0==t||0==n||0==r||0==i)return;var s=i/r,a=n/t;s<a?e.width(i/a):e.width(i/s)}else{var o=(i=e[0].naturalWidth||1200)*parseInt(l.current_zoom)/100;e.width(o+"px")}})),$(".secure-view-zoom-factor-selector").removeClass("focus"),$('.secure-view-zoom-factor-selector[data-zoom-factor="'+l.current_zoom+'"]').addClass("focus")):l.set_zoom_for_selector())},this.set_zoom_for_selector=function(e){e||(e=l.$zoom_factor_selector.filter(".focus"));var t=e.attr("data-zoom-factor");l.set_zoom(t)},this.show_page=function(e){l.got_page(e)||l.$loading_page_message.show(),l.get_page(e),$(".secure-view-page").hide(),l.$preview_item=$("#"+l.page_id(e)),l.$preview_item.show(),"png"==l.preview_as?l.show_img_page(l.current_page):"html"==l.preview_as&&l.show_html_page(l.current_page),l.set_current_page(e)},this.show_img_page=function(e){l.set_zoom(),e+1<=l.page_count&&l.get_page(e+1),e+2<=l.page_count&&l.get_page(e+2),e+3<=l.page_count&&l.get_page(e+3),1<=e-1&&l.get_page(e-1)},this.show_html_page=function(){},this.set_current_page=function(e){l.current_page=e,l.$preview_item=$("#"+l.page_id(e)),$("#secure-view-current-page").val(l.current_page),$("#preview-next-page").attr("disabled",l.current_page==l.page_count),$("#preview-prev-page").attr("disabled",1==l.current_page)},this.show_next_page=function(){var e=l.current_page+1;e>l.page_count||l.show_page(e)},this.show_prev_page=function(){var e=l.current_page-1;e<1||l.show_page(e)},this.page_loaded=function(e){l.$loading_page_message.hide(),l.set_zoom(null,e)},this.got_page=function(e){var t=l.page_id(e);return $("#"+t).length},l.page_id=function(e){return"sv-preview-item-"+l.preview_as+"-"+e},l.get_page=function(e){if(!(e>l.page_count)){var t=l.page_id(e);if(!l.got_page(e)){var n={secure_view:{page:e,"do":"convert_to",preview_as:l.preview_as}},i=l.get_page_path;if(0<i.indexOf("?")?i+="&":i+="?",i+=$.param(n),"png"==l.preview_as)var r=$('<img id="'+t+'" src="'+i+'" class="secure-view-page" data-secure-view-page="'+e+'" style="display: none; width: 1px;" draggable="false" />');else if("html"==l.preview_as)r=$('<iframe id="'+t+'" src="'+i+'" class="secure-view-page-iframe" data-secure-view-page="'+e+'" style="display: none;" ></iframe>');else console.log(
"preview_as not set");l.$pages.append(r),r.on("hover",function(e){e.preventDefault()}),r[0].complete||4==r[0].readyState?l.page_loaded(r):r.on("load",function(){l.page_loaded($(this))}).on("error",function(){l.clean_page(),$(".secure-view-page").hide(),l.show_failure_message("Failed to get the requested page from the server")})}}},l.clear=function(){$(".secure-view-page").remove(),$(".secure-view-page-iframe").remove(),$("#secure-view-page-count").html(""),l.$file_name.html(""),l.clean_page()},l.close=function(e){e||(l.$secure_view.fadeOut(),l.$html.css({overflow:l.initial_html_overflow}),l.$body.css({overflow:l.initial_body_overflow}).removeClass("fixed-overlay"),$(".sv-selected").removeClass("sv-selected")),l.clear(),l.page_count=null,l.preview_as=null,l.$preview_as_selector.removeClass("focus"),l.app_specific&&l.app_specific.close()},this};!function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t||n)}(function(o){var l=function(h,w,k){var x={invalid:[],getCaret:function(){try{var e,t=0,n=h.get(0),i=document.selection,r=n.selectionStart;return i&&-1===navigator.appVersion.indexOf("MSIE 10")?((e=i.createRange()).moveStart("character",-x.val().length),t=e.text.length):(r||"0"===r)&&(t=r),t}catch(s){}},setCaret:function(e){try{if(h.is(":focus")){var t,n=h.get(0);n.setSelectionRange?n.setSelectionRange(e,e):((t=n.createTextRange()).collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select())}}catch(i){}},events:function(){h.on("keydown.mask",function(e){h.data("mask-keycode",e.keyCode||e.which),h.data("mask-previus-value",h.val()),h.data("mask-previus-caret-pos",x.getCaret()),x.maskDigitPosMapOld=x.maskDigitPosMap}).on(o.jMaskGlobals.useInput?"input.mask":"keyup.mask",x.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){h.keydown().keyup()},100)}).on("change.mask",function(){h.data("changed",!0)}).on("blur.mask",function(){a===x.val()||h.data("changed")||h.trigger("change"),h.data("changed",!1)}).on("blur.mask",function(){a=x.val()}).on("focus.mask",function(e){!0===k.selectOnFocus&&o(e.target).select()}).on("focusout.mask",function(){k.clearIfNotMatch&&!s.test(x.val())&&x.val("")})},getRegexMask:function(){for(var e,t,n,i,r,s,a=[],o=0;o<w.length;o++)(e=C.translation[w.charAt(o)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=e.optional,(i=e.recursive)?(a.push(w.charAt(o)),r={digit:w.charAt(o),pattern:t}):a.push(n||i?t+"?":t)):a.push(w.charAt(o).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return s=a.join(""),r&&(s=s.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(s)},destroyEvents:function(){h.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(e){var t,n=h.is("input")?"val":"text";return 0<arguments.length?(h[n]()!==e&&h[n](e),t=h):t=h[n](),t},calculateCaretPosition:function(){var e=h.data("mask-previus-value")||"",t=x.getMasked(),n=x.getCaret();if(e!==t){var i=h.data("mask-previus-caret-pos")||0,r=t.length,s=e.length,a=0,o=0,l=0,c=0,u=0;for(u=n;u<r&&x.maskDigitPosMap[u];u++)o++;for(u=n-1;0<=u&&x.maskDigitPosMap[u];u--)a++;for(u=n-1;0<=u;u--)x.maskDigitPosMap[u]&&l++;for(u=i-1;0<=u;u--)x.maskDigitPosMapOld[u]&&c++;if(s<n)n=10*r;else if(n<=i&&i!==s){if(!x.maskDigitPosMapOld[n]){var d=n;n-=c-l,n-=a,x.maskDigitPosMap[n]&&(n=d)}}else i<n&&(n+=l-c,n+=o)}return n},behaviour:function(e){e=e||window.event,x.invalid=[];var t=h.data("mask-keycode");if(-1===o.inArray(t,C.byPassKeys)){var n=x.getMasked();x.getCaret();return setTimeout(function(){x.setCaret(x.calculateCaretPosition())},10),x.val(n),x.callbacks(e)}},getMasked:function(e,t){var n,i,r,s=[],a=t===undefined?x.val():t+"",o=0,l=w.length,c=0,u=a.length,d=1,h="push",p=-1,f=0,m=[];for(k.reverse?(h="unshift",d=-1,n=0,o=l-1,c=u-1,i=function(){return-1<o&&-1<c}):(n=l-1,i=function(){return o<l&&c<u});i();){var g=w.charAt(o),_=a.charAt(c),v=C.translation[g];v?(_.match(v.pattern)?(s[h](_),v.recursive&&(-1===p?p=o:o===n&&(o=p-d),n===p&&(o-=d)),o+=d):_===r?(f--,r=undefined):v.optional?(o+=d,c-=d):v.fallback?(s[h](v.fallback),o+=d,c-=d):x.invalid.push({p:c,v:_,e:v.pattern}),c+=d):(e||s[h](g),_===g?(m.push(c),c+=d):(r=g,m.push(c+f),f++),o+=d)}var y=w.charAt(n);l!==u+1||C.translation[y]||s.push(y);var b=s.join("");return x.mapMaskdigitPositions(b,m,u),b},mapMaskdigitPositions:function(e,t,n){var i=k.reverse?e.length-n:0;x.maskDigitPosMap={};for(var r=0;r<t.length;r++)x.maskDigitPosMap[t[r]+i]=1},callbacks:function(e){var t=x.val(),n=t!==a,i=[t,e,h,k],r=function(e,t,n){"function"==typeof k[e]&&t&&k[e].apply(this,n)};r("onChange",!0===n,i),r("onKeyPress",!0===n,i),r("onComplete",t.length===w.length,i),r("onInvalid",0<x.invalid.length,[t,e,h,x.invalid,k])}};h=o(h);var s,C=this,a=x.val();w="function"==typeof w?w(x.val(),undefined,h,k):w,C.mask=w,C.options=k,C.remove=function(){var e=x.getCaret();return x.destroyEvents(),x.val(C.getCleanVal()),x.setCaret(e),h},C.getCleanVal=function(){return x.getMasked(!0)},C.getMaskedVal=function(e){return x.getMasked(!1,e)},C.init=function(e){if(e=e||!1,k=k||{},C.clearIfNotMatch=o.jMaskGlobals.clearIfNotMatch,C.byPassKeys=o.jMaskGlobals.byPassKeys,C.translation=o.extend({},o.jMaskGlobals.translation,k.translation),C=o.extend(!0,{},C,k),s=x.getRegexMask(),e)x.events(),x.val(x.getMasked());else{k.placeholder&&h.attr("placeholder",k.placeholder),h.data("mask")&&h.attr("autocomplete","off");for(var t=0,n=!0;t<w.length;t++){var i=C.translation[w.charAt(t)];if(i&&i.recursive){n=!1;break}}n&&h.attr("maxlength",w.length),x.destroyEvents(),x.events();var r=x.getCaret();x.val(x.getMasked()),x.setCaret(r)}},C.init(!h.is("input"))};o.maskWatchers={};var t=function(){var e=o(this),t={},n="data-mask-",i=e.attr("data-mask");if(e.attr(n+"reverse")&&(t.reverse=!0),e.attr(n+"clearifnotmatch")&&(t.clearIfNotMatch=!0),"true"===e.attr(n+"selectonfocus")&&(t.selectOnFocus=!0),c(e,i,t))return e.data("mask",new l(this,i,t))},c=function(e,t,n){n=n||{};var i=o(e).data("mask"),r=JSON.stringify,s=o(e).val()||o(e).text();try{return"function"==typeof t&&(t=t(s)),"object"!=typeof i||r(i.options)!==r(n)||i.mask!==t}catch(a){}},e=function(e){var t,n=document.createElement("div");return(t=(e="on"+e)in n)||(n.setAttribute(e,"return;"),t="function"==typeof n[e]),n=null,t};o.fn.mask=function(e,t){t=t||{};var n=this.selector,i=o.jMaskGlobals,r=i.watchInterval,s=t.watchInputs||i.watchInputs,a=function(){if(c(this,e,t))return o(this).data("mask",new l(this,e,t))};return o(this).each(a),n&&""!==n&&s&&(clearInterval(o.maskWatchers[n]),o.maskWatchers[n]=setInterval(function(){o(document).find(n).each(a)},r)),this},o.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},o.fn.unmask=function(){return clearInterval(o.maskWatchers[this.selector]),delete o.maskWatchers[this.selector],this.each(function(){var e=o(this).data("mask");e&&e.remove().removeData("mask")})},o.fn.cleanVal=function(){return this.data("mask").getCleanVal()},o.applyDataMask=function(e){((e=e||o.jMaskGlobals.maskElements)instanceof o?e:o(e)).filter(o.jMaskGlobals.dataMaskAttr).each(t)};var n={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&e("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};o.jMaskGlobals=o.jMaskGlobals||{},(n=o.jMaskGlobals=o.extend(!0,{},n,o.jMaskGlobals)).dataMask&&o.applyDataMask(),o.jMaskGlobals.watchDataMask&&setInterval(function(){o.jMaskGlobals.watchDataMask&&o.applyDataMask()},n.watchInterval)},window.jQuery,window.Zepto),_fpa={templates:{},partials:{},app:{},state:{},version:"0",remote_request:null,remote_request_block:null,ajax_working:function(e){$(e).addClass("ajax-running").removeClass("ajax-canceled")},ajax_done:function(e){$(e).removeClass("ajax-running").removeClass("ajax-canceled"),_fpa.remote_request=null},ajax_canceled:function(e){$(e).removeClass("ajax-running").addClass("ajax-canceled"),_fpa.remote_request=null},compile_templates:function(){$("script.handlebars-partial").each(function(){var e=$(this).attr("id");e=e.replace("-partial","");var t=Handlebars.compile($(this).html());Handlebars.registerPartial(e,t),_fpa.partials[e]=t}),$("script.handlebars-template").each(function(){var e=$(this).attr("id"),t=$(this).html();_fpa.templates[e]=Handlebars.compile(t)})},send_ajax_request:function(e,s){s||(s={}),s.url=e,$.rails.ajax(s).done(function(e,t,n){var i=$(".temp-ajax-requester");0===i.length&&0===(i=$("a.temp-ajax-requester")).length&&(i=$('<a data-remote="true" class="hidden temp-ajax-requester">background</a>'),$("body").append(i));var r=s.try_app_callback;r&&(i[0].app_callback=r),(r=s.try_app_post_callback)&&(i[0].app_post_callback=r),$.rails.fire(i,"ajax:success",[e,t,n])})},view_template:function(e,t,n,i){var r=e;if(!e.hasClass("view-template-created")&&!e.parent().hasClass("view-template-created")){t||console.log("no template_name provided"),_fpa.ajax_working(e),i&&i.position||e.html("");var s=_fpa.templates[t];s||console.log("template for "+t+" was not found"),i||(i={}),n.code&&(n._code_flag={},n._code_flag[n.code]=!0),_fpa.do_preprocessors(t,e,n),_fpa.form_utils.get_general_selections(n);var a=s(n);a=$(a).addClass("view-template-created");var o=e;if(i.position&&0===i.position.indexOf("before")){var l=e;0<i.position.indexOf("parent")&&(l=e.parent());var c=(o=a).attr("id");0<(d=$("#"+c)).length?d.replaceWith(o):l.before(o),r=o,e.html("")}else if(i.position&&0===i.position.indexOf("after")){var u=e;0<i.position.indexOf("parent")&&(u=e.parent());var d;c=(o=a).attr("id");0<(d=$("#"+c)).length?d.replaceWith(o):u.after(o),e.html(""),r=o}else o=a,e.attr("id")&&e.attr("id")==o.attr("id")?e.replaceWith(o):e.html(a);window.setTimeout(function(){_fpa.do_postprocessors(t,r,n),_fpa.reset_page_size(),_fpa.ajax_done(e)},1)}},reset_page_size:function(){},inherit_from:function(e,t){function n(){}return n.prototype=e,$.extend(n.prototype,t),n.prototype},try_app_callback:function(e){e[0].app_callback&&(e[0].app_callback(e[0]),e[0].app_callback=null)},try_app_post_callback:function(e){e[0].app_post_callback&&(e[0].app_post_callback(e[0]),e[0].app_post_callback=null)},do_preprocessors:function(e,t,n){var i=!1;e&&(e=e.replace(/-/g,"_"),_fpa.preprocessors[e]&&(_fpa.preprocessors[e](t,n),i=!0)),_fpa.preprocessors["default"](t,n,i)},do_postprocessors:function(e,t,n){var i=!1;e&&(e=e.replace(/-/g,"_"),_fpa.postprocessors[e]&&(_fpa.postprocessors[e](t,n),i=!0)),_fpa.postprocessors["default"](t,n,i)},handle_remotes:function(){var e="form[data-remote='true'], a, btn";$(document).on("click",e,function(){$(this).attr("disabled")||$(this).is(":visible")&&_fpa.clear_flash_notices()}).on("ajax:before",e,function(e){var t=$(this);if(_fpa.remote_request=null,_fpa.remote_request_block=t,$(this).hasClass("prevent-on-collapse")&&!$(this).hasClass("collapsed"))return e.preventDefault(),!1;if($(this).hasClass("one-time-only-ajax")){if($(this).hasClass("one-time-only-fired"))return e.preventDefault(),!1;$(this).addClass("one-time-only-fired")}return _fpa.preprocessors.before_all(t),_fpa.ajax_working(t),_fpa.form_utils.set_field_errors(t),$(this).find("[data-only-for]").each(function(){var e=$(this).attr("data-only-for"),t=!0;$(e).each(function(){var e=$(this).val();null!==e&&""!==e&&(t=!1)}),t&&$(this).removeClass("has-value").val("")}),!0}).on("ajax:beforeSend",e,function(e,t){_fpa.remote_request=t}).on("ajax:success",e,function(a,u,e,t){_fpa.status.session.reset_timeout();var n=$(this);u=t.responseJSON;if($(this).is(":visible")&&_fpa.clear_flash_notices(),_fpa.ajax_done(n),_fpa.try_app_callback($(this)),u){var i,r,s,o,l,c=!1;i=$(this).attr("data-result-target");var d=n.attr("data-use-alt-result-key");if(u.multiple_results&&u.original_item)s=u.multiple_results,o=u.original_item,(l={})[o.item_type]=o;else{for(s in u)if(u.hasOwnProperty(s)&&"_control"!=s)break;d&&d!=s?(u[d]=u[s],o=u[d],delete u[s]):o=u[s],r=!!(l=u).multiple_results}var h=!1;"true"===$(this).attr("data-result-target-force")&&(h=!0),i&&(h||r||null===o||o._created||o._merged||0===$('[data-sub-item="'+s+'"], [data-sub-list="'+s+'"] [data-sub-item]').length||0<$(this).parents("[data-result-target-for-child]").length)&&(c=!0);var p={};if(c){var f=$("body"),m=$(this).parents("[data-result-target-for-child]").first();1==m.length&&(i=m.attr("data-result-target-for-child"),f=$(this).parents("[data-template]"));var g=f.find(i);g.hasClass("new-block")&&(g.hasClass("new-after-parent")?p.position="after parent":g.hasClass("new-before-parent")?p.position="before parent":g.hasClass("new-below")?p.position="after":p.position="before");var _=$(this).attr("data-template");g.each(function(){var e=_,t=$(this).attr("form-res-template");t&&""!==t&&(e=t),e||console.log("Warning: data-template for this triggering element was not found"),_fpa.view_template($(this),e,l,p),_fpa.try_app_post_callback($(this))})}if(!h)for(var v in n.hasClass("new-block")&&n.html(""),u)if(u.hasOwnProperty(v)){var y={},b=u[v],w=$('[data-sub-item="'+v+'"], [data-sub-list="'+v+'"] [data-sub-item], [data-item-class="'+v+'"]');y[v]=b,w.each(function(){var e=y,t=$(this).attr("data-sub-id"),n=$(this).attr("data-sub-item"),i=$(this).attr("data-item-class");if(t&&(n||i)){e=null;var r=$(this).attr("data-sub-for");r||(r="id");var s=$(this).attr("data-sub-for-root");if(s)u[s]&&(l=u)[s]===+t&&l[n]&&(e={},e=l);else if(b&&b[r]){l=b;var a=d;a||(a=l.item_type.underscore()),l[r]===+t&&(a===n?(e={})[n]=l:a===i&&((e={})[i]=l,e[n]=l))}else if(b)for(var o in b){var l=b[o];l&&"string"!=typeof l&&l[r]===+t&&l.item_type===n&&((e={})[n]=l)}}if(e){var c=$(this).attr("data-template");c||console.log("WARN: no data-template template name found"),_fpa.view_template($(this),c,e),_fpa.try_app_post_callback($(this))}})}}else{var k=function(e,t){var n=e.attr("data-result-position");"replace"==n?e.replaceWith(t):"before"==n?e.before(t):"after"==n?e.after(t):(e.html(t),e.removeClass("hidden"),e.show())},x=$(t.responseText);$(".query-error").remove();var C=0;u||(u={});var T=$(this);if(x.find("[data-result]").each(function(){var t=$(this),e=t.attr("data-result"),n=t.find("form"),i=$(a.currentTarget).parents("[data-form-container]");if("true"===T.attr("data-target-force")){var r=T.attr("data-target");r&&""!==r||console.log("Failed due to no data-target attribute being set when data-target-force is true and the result is an HTML block");var s=$(r)}else{if(1==n.length&&1==i.length)if(i.attr("data-subscription")==e)s=i;else s=i.find('[data-subscription="'+e+'"]');else s=$('[data-subscription="'+e+'"]');0===s.length&&console.log('WARN: [data-subscription="'+e+'"] returns no targets')}1==n.length&&(u.form_data=_fpa.form_utils.data_from_form(n)),{}[e]=t,s.each(function(){var e=$(this).attr("data-preprocessor");_fpa.do_preprocessors(e,$(this),u),k($(this),t),_fpa.do_postprocessors(e,$(this),u),C++})}),0===C){var S=$(this).attr("data-result-target");if(S){var D=$(this).attr("data-preprocessor");_fpa.do_preprocessors(D,$(S),u),k($(S),x),_fpa.do_postprocessors(D,$(S),u)}}}$(".view-template-created").removeClass("view-template-created")}).on("ajax:error",function(e,t,n,i){var r=$(this);_fpa.clear_flash_notices(),_fpa.ajax_done(r);var s=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n.replace(/_/g," ")+" "+e[n]);return t.join(" \n")};if("abort"!=n){var a=t.responseJSON;if(422===t.status){if(_fpa.form_utils.set_field_errors($(".ajax-running"),a),a){var o="<p>Could not complete action:</p>";o+=s(a)}else o='<p>Could not complete action. Please <a href="#" onclick="window.location.reload(); return false;">refresh the page</a> and try again.</p>';_fpa.flash_notice(o,"warning")}else a?(o=s(a),_fpa.flash_notice(o,"danger")):t.responseText&&"<"!=t.responseText[0]?_fpa.flash_notice(t.responseText,"danger"):_fpa.flash_notice("An error occurred.","danger")}_fpa.postprocessors.after_error(r,n,i),$(".ajax-running").removeClass("ajax-running")}).addClass("attached")},cancel_remote:function(){_fpa.remote_request&&(console.log("Cancel requested"),_fpa.remote_request.abort(),_fpa.ajax_canceled(_fpa.remote_request_block),_fpa.remote_request_block=null,_fpa.remote_request=null)},flash_notice:function(e,t){if(t||(t="info"),e&&""!=e)if(0<e.indexOf("password is not correct. Account has been locked."))window.location.href="";else{var n='<div class="alert alert-'+t+'" role="alert">';if(n+='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',"error"==t||"danger"==t)n+=$("<div/>").text(e).html().replace(/\n/g,"<br/>");else n+=e.replace(/\n/g,"<br/>");n+="</div>",$(".flash").append(n),_fpa.timed_flash_fadeout()}},timed_flash_fadeout:function(){window.setTimeout(function(){$(".alert-info").fadeOut(1e3)},6e3)},clear_flash_notices:function(e){e=e?".alert-"+e:"",$(".flash div.alert"+e).remove()},show_modal:function(e,t,n){var i=$("#primary-modal"),r=i.find(".modal-title"),s=i.find(".modal-body");r.html(""),s.html(""),t&&r.html(t),e&&s.html(e),n&&"md"==n?$(".modal-dialog").removeClass("modal-lg").addClass("modal-md"):n?$(".modal-dialog").removeClass("modal-md").addClass("modal-lg"):$(".modal-dialog").removeClass("modal-lg").removeClass("modal-md"),i.modal("show")},get_item_by:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r[e]==n)return r}},get_items_by:function(e,t,n){var i=[];for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];s[e]==n&&i.push(s)}return i},get_items_as_hash_by:function(e,t,n,i){var r={};for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];a[e]==n&&(r[a[i]]=a)}return r},preprocessors:{},loaded:{}},_fpa.secure_view=new SecureView,_fpa.activity_logs={selected_parent:function(e,t){$(".activity-log-list .alr-new-block.has-records").addClass("hidden");var n=document.querySelectorAll(".activity-log-sub-list .sub-list-item .list-group");if($(n).is(":visible")){for(var i,r=0;i=n[r];r++){var s=i.parentNode;i.getAttribute("data-item-id")==t.item_id?(s.classList.add("item-highlight"),s.classList.add("selected-item")):(s.classList.remove("item-highlight"),s.classList.remove("selected-item")),s.classList.remove("linked-item-highlight")}$("#activity-logs-master-"+t.master_id+"- [data-item-id]").removeClass("item-highlight selected-item"),$("#activity-logs-master-"+t.master_id+'- [data-item-id="'+t.item_id+'"]').addClass("item-highlight selected-item")}},unselect_all:function(e,t){_fpa.activity_logs.selected_parent(e,{master_id:t})},show_main_block:function(e,t){_fpa.form_utils.format_block(e),_fpa.activity_logs.selected_parent(e,{item_id:t.item_id,rec_type:t.rec_type,item_data:t.item_data,master_id:t.master_id}),_fpa.activity_logs.handle_creatables(e,t)},show_log_block:function(e,t){_fpa.form_utils.format_block(e),$(".activity-log-list .alr-new-block").addClass("hidden");var n,i=t;for(var r in t)if(t.hasOwnProperty(r)&&"_control"!=r){n=t[r];break}"object"==typeof n&&n.hasOwnProperty("master_id")&&(i=n),_fpa.activity_logs.handle_creatables(e,t),e.parents(".activity-log-list").find(".common-template-item").not("[data-sub-id="+i.id+"]").each(function(){$(this).hasClass("prevent-edit")&&($(this).find("a.edit-entity").remove(),$(this).find(".new-block").remove(),$(this).find("a.add-item-button").remove())}),$(".activity-log-list .new-block").addClass("has-records"),_fpa.activity_logs.selected_parent(e,{item_id:i.item_id,rec_type:i.rec_type,item_data:i.item_data,master_id:i.master_id}),window.setTimeout(function(){_fpa.activity_logs.handle_save_action(e,t)},100);var s=e.parents(".activity-logs-item-block").first().find(".activity-log-sub-list").attr("data-sub-list");if(i._updated&&s){var a="/masters/"+i.master_id+"/"+s+".js";_fpa.send_ajax_request(a)}_fpa.postprocessors.info_update_handler(e,i)},get_object_data:function(e){if(e.item_types=e.multiple_results,!e.item_types){if(!e.item_type)for(var t in e){if(e.hasOwnProperty(t))if(e[t].item_type){e=e[t];break}}e.item_types=_fpa.utils.pluralize(e.item_type)}return e},handle_creatables:function(e,t){if(t._control)var n=t._control;else n=t;if(obj_data=_fpa.activity_logs.get_object_data(t),n&&n.creatables)for(var i in n.creatables)if(n.creatables.hasOwnProperty(i)){var r=n.creatables[i],s='.activity-logs-generic-block[data-sub-id="'+obj_data.master_id+'"][data-sub-item="'+obj_data.item_types+'"] a.add-item-button[data-extra-log-type="'+i+'"]',a=$(s),o=a.hasClass("hide-unless-creatable");r?o?a.show():a.attr("disabled",!1):o?a.hide():a.attr("disabled",!0)}},handle_save_action:function(e,t){var n;if(t._control){if(obj_data=_fpa.activity_logs.get_object_data(t),obj_data._created)(i=obj_data._control)||(i=t._control),i&&i.save_action&&(n=i.save_action.on_create);else if(obj_data._updated){var i;(i=obj_data._control)||(i=t._control),i&&i.save_action&&(n=i.save_action.on_update)}if("object"==typeof n){if(n.create_next_creatable){var r='.activity-logs-generic-block[data-sub-id="'+obj_data.master_id+'"][data-sub-item="'+obj_data.item_types+'"] a.add-item-button[data-extra-log-type]';$(r).not("[disabled]").first().click()}if(n.show_panel){var s=$('.master-panel[data-master-id="'+obj_data.master_id+'"] a[data-panel-tab="'+n.show_panel+'"]').click();window.setTimeout(function(){$(s.attr("data-target")).collapse("show")},10)}if(n.hide_panel){s=$('.master-panel[data-master-id="'+obj_data.master_id+'"] a[data-panel-tab="'+n.hide_panel+'"]');window.setTimeout(function(){$(s.attr("data-target")).collapse("hide")},10)}}}}},_fpa.preprocessors={before_all:function(e){if($("#master_results_block").removeClass("search-status-abort search-status-error search-status-done"),_fpa.form_utils.date_inputs_to_iso(e),_fpa.form_utils.unmask_inputs(e),e.is("form")){var t=e.parents(".common-template-item, .new-block").not(".no-processed-scroll");t.hasClass("new-block")&&(t=t.parent()),$(".postprocessed-scroll-here").removeClass("postprocessed-scroll-here"),t.addClass("postprocessed-scroll-here")}},"default":function(){}},_fpa.postprocessors={"default":function(i,e,t){var n;for(n in _fpa.processor_handlers.form_setup($("form")),$("#master_results_block").addClass("search-status-done"),$("body").hasClass("fixed-overlay")||($("body").hasClass("user_page")&&$("body").hasClass("show")&&0==$("#master_results_block #results-accordion").length?($("body").addClass("table-results"),$("html").css({overflow:"hidden"}),_fpa.reports.window_scrolling()):($("body").removeClass("table-results"),$("html").css({overflow:"auto"}),_fpa.reports.reset_window_scrolling())),t||_fpa.form_utils.format_block(i),$(".format-block-on-expand").not(".attached-expander-format").on("shown.bs.collapse",function(){_fpa.form_utils.format_block($(this))}).addClass("attached-expander-format"),i.hasClass("new-block")&&!i.is(":visible")&&(i.show(),window.setTimeout(function(){_fpa.form_utils.format_block(i)},200)),i.find(".select-ref-to-record").not(".attached-handler").change(function(){var e=$(this).val(),t=$(this).parents("form").first(),n=t.siblings().not(".new_select_reference").first();e&&""!=e?(t.find(".submit-action-container").removeClass("hidden"),n.slideUp("fast")):(t.find(".submit-action-container").addClass("hidden"),n.slideDown("fast"))}).addClass("attached-handler"),e)if(e.hasOwnProperty(n)&&"_control"!=n)break;var r=e[n];if(r&&(r._created||r._updated)){var s=r.referenced_from;if(s&&0<s.length)for(var a in s)s.hasOwnProperty(a)&&s[a].from_record_type_us&&_fpa.send_ajax_request("/masters/"+s[a].from_record_master_id+"/"+s[a].from_record_type_us.replace("__","/")+"s/"+s[a].from_record_id)}if(e.form_data){var o=e.form_data,l=i.find("[data-attr-name][data-object-name]");for(var c in l.on("change",function(){var e=$(this),t=e.attr("data-object-name"),n=e.attr("data-attr-name");"checkbox"==e.attr("type")?o[t][n]=e.is(":checked"):o[t][n]=e.val(),_fpa.show_if.methods.show_items(i,o[t])}),o)o.hasOwnProperty(c)&&_fpa.show_if.methods.show_items(i,o[c])}else if(r)if(r.length){for(a=0;a<r.length;a++)if(r[a]&&r[a].item_type){var u=r[a],d=u.item_type;u.option_type&&(d+="_"+u.option_type);var h=i.find('.common-template-item[data-sub-item="'+d+'"][data-sub-id="'+u.id+'"]');_fpa.show_if.methods.show_items(h,u)}}else _fpa.show_if.methods.show_items(i,r);var p=$(".postprocessed-scroll-here");if(0<p.length){p.removeClass("postprocessed-scroll-here");var f=p.get(0).getBoundingClientRect();!(0<=f.top&&f.top<=$(window).height()/2)&&window.setTimeout(function(){p.hasClass("prevent-scroll")||_fpa.utils.scrollTo(p,200,-50)},300)}i.find(".on-postprocess-click").not(".auto-clicked, .ajax-running").addClass("auto-clicked").each(function(){var e=$(this);window.setTimeout(function(){e.click()})})},modal_pi_search_results_template:function(e){window.setTimeout(function(){_fpa.form_utils.format_block(e),_fpa.masters.switch_id_on_click(e),_fpa.form_utils.on_open_click(e)},30),$("a.modal-expander").click(function(e){e.preventDefault();var t=$(this).attr("href");$(t).on("shown.bs.collapse",function(){_fpa.form_utils.format_block($(this)),_fpa.utils.scrollTo($(this),200,-50),$(this).off("shown.bs.collapse")})}).addClass("attached-me-click")},search_action_template:function(e,t){if("MSID"==t.search_action){var n=$('.advanced-form-selections [data-toggle="collapse"]').not(".collapsed").attr("data-target");if(n&&""!=n)$(n).collapse()}},master_main_template:function(e,t){_fpa.form_utils.format_block(e),_fpa.postprocessors.show_external_links(e,t),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e),_fpa.postprocessors.tracker_events_handler(e),_fpa.postprocessors.extras_panel_handler(e),e.addClass("loaded-master-main")},search_results_template:function(e,n){_fpa.masters.switch_id_on_click(e),n.masters&&n.masters.length<5&&(_fpa.form_utils.format_block(e),_fpa.postprocessors.show_external_links(e,n),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e)),n.masters&&1===n.masters.length&&(_fpa.postprocessors.tracker_events_handler(e),_fpa.postprocessors.extras_panel_handler(e)),n.masters&&0<n.masters.length&&(_fpa.state.masters=_fpa.state.masters||{},n.masters.forEach(function(e){e&&e.id&&(_fpa.state.masters[e.id]=Object.assign({},e),_fpa.state.masters[e.id].player_infos&&(_fpa.state.masters[e.id].player_info=_fpa.state.masters[e.id].player_infos[0],_fpa.state.masters[e.id].item=_fpa.state.masters[e.id].embedded_item))})),$("a.master-expander").click(function(e){e.preventDefault();var t=$(this).attr("data-target");$(t).on("shown.bs.collapse",function(){$(".selected-result").removeClass("selected-result"),$("#"+$(this).attr("aria-labelledby")).addClass("selected-result"),_fpa.form_utils.format_block($(this)),_fpa.postprocessors.show_external_links($(this),n),_fpa.postprocessors.tracker_notes_handler($(this)),_fpa.postprocessors.tracker_item_link_hander($(this)),_fpa.postprocessors.tracker_events_handler($(this)),_fpa.postprocessors.extras_panel_handler($(this)),_fpa.utils.scrollTo($(this),200,-50),$(this).off("shown.bs.collapse")})}).addClass("attached-me-click");var t=$("#msid_list").html(),i=$("#master_id_list").html();i&&1<i.replace(/ /g,"").length?(document.title="FPHS results",window.history.pushState({html:"/masters/search?utf8=\u2713&nav_q_id="+i,pageTitle:document.title},"","/masters/search?utf8=\u2713&nav_q_id="+i)):t&&1<t.replace(/ /g,"").length?(document.title="FPHS results",window.history.pushState({html:"/masters/search?utf8=\u2713&nav_q="+t,pageTitle:document.title},"","/masters/search?utf8=\u2713&nav_q="+t)):(document.title="FPHS results",window.history.pushState({html:"/masters/search",pageTitle:document.title},"","/masters/search"))},show_external_links:function(e,r){e.find(".external-links").each(function(){var e,t=$(this).attr("data-master-id");if(e=r.player_info?{player_infos:[r.player_info]}:_fpa.get_item_by("id",r.masters,t)){var n=e.player_infos[0],i=_fpa.templates["external-links-template"](n);$(this).html(i)}})},extras_panel_handler:function(e){_fpa.form_utils.on_open_click(e)},item_flags_result_template:function(e,t){if(_fpa.form_utils.format_block(e),t.item_flags.update_action){var n="#trackers-"+t.item_flags.master_id,i=$('a.open-tracker[data-target="'+n+'"]');i&&i[0]&&(i[0].app_callback=function(){$(n).collapse("show")}),i.trigger("click.rails")}},info_update_handler:function(e,t){if(_fpa.form_utils.format_block(e),t.update_action){var n=t.master_id,i="#trackers-"+n;window.setTimeout(function(){var e=$('a.open-tracker[data-target="'+i+'"]');e&&e[0]&&(e[0].app_callback=function(){$(i).collapse("show")},e.trigger("click.rails"))},10),_fpa.form_utils.on_open_click($("#master-"+n+"-main-container"),500)}},player_info_result_template:function(e,t){var n=t;t.player_info&&(n=t.player_info),_fpa.postprocessors.info_update_handler(e,n),_fpa.postprocessors.show_external_links(e.parents(".panel").first(),t)},address_result_template:function(e,t){var n=t;t.address&&(n=t.address),_fpa.postprocessors.info_update_handler(e,n)},player_contact_result_template:function(e,t){var n=t;t.player_contact&&(n=t.player_contact),_fpa.postprocessors.info_update_handler(e,n)},address_edit_form:function(t){_fpa.form_utils.format_block(t),$("#address_zip").mask("00000-9999",{translation:{0:{pattern:/\d/},0:{pattern:/\d/,optional:!0}}});var e=function(e){e&&"US"!==e&&""!==e?(t.find(".list-group-item.address-region").slideDown(),t.find(".list-group-item.address-postal_code").slideDown(),t.find(".list-group-item.address-zip").slideUp(),t.find(".list-group-item.address-state").slideUp(),t.find("#address_zip").val(""),t.find("#address_state").val("")):(t.find(".list-group-item.address-region").slideUp(),t.find(".list-group-item.address-postal_code").slideUp(),t.find(".list-group-item.address-zip").slideDown(),t.find(".list-group-item.address-state").slideDown(),t.find("#address_region").val(""),t.find("#address_postal_code").val(""))};t.find("#address_country").change(function(){e($(this).val())}),window.setTimeout(function(){e($("#address_country").val())},10)},player_contact_edit_form:function(e){_fpa.form_utils.format_block(e)},flash_template:function(){_fpa.timed_flash_fadeout()},after_error:function(e,t){if("abort"==t)$("#master_results_block").html('<h3  class="text-center"><span class="glyphicon glyphicon-pause search-canceled" data-toggle="popover" data-trigger="click hover" data-content="search paused while new entries are added"></span></h3>').addClass("search-status-abort"),$(".search-canceled").popover();else{t&&t,$("#master_results_block").addClass("search-status-error"),_fpa.processor_handlers.form_setup(e)}}},_fpa.processor_handlers={form_setup:function(e){_fpa.form_utils.setup_datepickers(e),_fpa.form_utils.mask_inputs(e)},label_changes:function(e){e.find(".address-state_name small").each(function(){$(this).html("state")}),e.find(".address-country_name small").each(function(){$(this).html("country")}),e.find(".address-source_name small").each(function(){$(this).html("source")}),e.find(".player-info-source_name small").each(function(){$(this).html("source")})}},_fpa.postprocessors_activity_logs={},_fpa.preprocessors_activity_logs={},_fpa.activity_logs.generate_postprocessors=function(r,e){var s="",t=r.length;if(s="y"==r[t-1]?r[t-2]+"ies":r+"s",_fpa.postprocessors_activity_logs["activity_log__"+s+"_main_result_template"]=function(e,t){_fpa.activity_logs.show_main_block(e,t)},_fpa.preprocessors_activity_logs["activity_log__"+s+"_main_result_template"]=function(e,t){_fpa.preprocessors.activity_log_show_log_block(e,t)},_fpa.postprocessors_activity_logs["activity_log__"+r+"_primary_result_template"]=function(e,t){_fpa.activity_logs.show_log_block(e,t)},_fpa.postprocessors_activity_logs["activity_log__"+r+"_blank_log_result_template"]=function(e,t){_fpa.activity_logs.show_log_block(e,t)},e)for(k in e)e.hasOwnProperty(k)&&(_fpa.postprocessors_activity_logs["activity_log__"+r+"_"+e[k].name+"_result_template"]=function(e,t){_fpa.activity_logs.show_log_block(e,t)},_fpa.preprocessors_activity_logs["activity_log__"+r+"_"+e[k].name+"_result_template"]=function(e,t){_fpa.preprocessors.activity_log_show_log_block(e,t)});_fpa.postprocessors_activity_logs["open_activity_log__"+r]=function(e,t,n){var i=e.attr("data-master-id");_fpa.send_ajax_request("/masters/"+i+"/activity_log/"+s,{try_app_callback:function(){if(0===$(n).length){var e=r.replace(/_/g,"-");n=n.replace(e,e+"-blank-log")}window.setTimeout(function(){var e=_fpa.utils.jump_to_linked_item(n);_fpa.activity_logs.unselect_all(e,i)},1e3)}})},_fpa.postprocessors_activity_logs["sub_list_"+r+"_result_template"]=function(e,t){var n=null;for(n in t)break
;t[n].rec_type&&r!=t[n].item_type+"_"+t[n].rec_type&&e.hide(),_fpa.form_utils.format_block(e)},$.extend(_fpa.postprocessors,_fpa.postprocessors_activity_logs),$.extend(_fpa.preprocessors,_fpa.preprocessors_activity_logs)},_fpa.preprocessors.activity_log_edit_form=function(e){$(".activity-log-list .new-block").each(function(){$(this).hide().html("")}),e.show()},_fpa.preprocessors.activity_log_show_log_block=function(e,t){var n;if(t.multiple_results)n=t[t.multiple_results];else for(var i in t)if(t.hasOwnProperty(i)&&"_control"!=i){n=[t[i]];break}for(var r=0;r<n.length;r++){var s,a=n[r];if(a.creatable_model_references){s=!0;for(var o in a.creatable_model_references)if(a.creatable_model_references.hasOwnProperty(o)&&a.creatable_model_references[o])for(var l in a.creatable_model_references[o])a.creatable_model_references[o].hasOwnProperty(l)&&(s="many"!=a.creatable_model_references[o][l])}a._show_embedded_as_single_item=a.model_references&&1==a.model_references.length&&s}},_fpa.postprocessors_nfs_store={refresh_container_if_needed:function(r){var e=r.find(".file-processing-tag");if(e.length){if(!e.is(":visible"))return;window.setTimeout(function(){var e=r.parents(".browse-container"),t=e.first().find(".refresh-container-list").not('[disabled="disabled"]');if(_fpa.utils.inViewport(r)&&0!=t.length){var n=e.attr("data-refresh-count");if(!n||parseInt(n)<6){if(n)i=parseInt(n)+1;else var i=1;e.attr("data-refresh-count",i),t.click()}}else _fpa.postprocessors_nfs_store.refresh_container_if_needed(r)},1e4)}},nfs_store_browse_list_results:function(n){var i=n.parents(".nfs-store-container-block").first();i.fs_browser=_nfs_store.fs_browser,setTimeout(function(){i.fs_browser(i),_fpa.postprocessors_nfs_store.refresh_container_if_needed(n);var e=n.find(".container-browser").attr("data-container-writable"),t=i.find(".fileinput-button");"false"==e?(t.hide(),i.parents(".upload-dropzone").removeClass("upload-dropzone").addClass("upload-dropzone-disabled")):(t.show(),i.parents(".upload-dropzone-disabled").removeClass("upload-dropzone-disabled").addClass("upload-dropzone")),_fpa.form_utils.format_block(n)},100)},filestore_classification_block:function(n){_fpa.form_utils.format_block(n),window.setTimeout(function(){var e=n.get(0).getBoundingClientRect(),t=.9*$(window).height();!(0<=e.top&&e.bottom<=t)&&$.scrollTo(n,{offset:-(t-e.height)})},100)},filestore_classification_stored_file_result_template:function(e,t){_fpa.form_utils.format_block(e);var n=t.nfs_store__manage__stored_file.nfs_store_container_id;$('[data-result="filestore-classification-stored-file-edit-form--'+n+'"]').remove()},filestore_classification_archived_file_result_template:function(e,t){_fpa.form_utils.format_block(e);var n=t.nfs_store__manage__archived_file.nfs_store_container_id;$('[data-result="filestore-classification-archived-file-edit-form--'+n+'"]').remove()}},$.extend(_fpa.postprocessors,_fpa.postprocessors_nfs_store),_fpa.preprocessors_reports={report_edit_form:function(){$(".report-item-edit").find(".report-edit-cancel").click()}},_fpa.postprocessors_reports={table_cell_types:{trackers:{protocols:"protocol_id",sub_processes:"sub_process_id",protocol_events:"protocol_event_id",users:"user_id"},tracker_history:{protocols:"protocol_id",sub_processes:"sub_process_id",protocol_events:"protocol_event_id",users:"user_id"},masters:{accuracy_scores:"rank"},player_infos:{accuracy_scores:"rank",users:"user_id"},player_contacts:{"general_selections-item_type+player_contacts_rank":"rank",users:"user_id"},addresses:{"general_selections-item_type+addresses_rank":"rank",users:"user_id"}},reports_form:function(e){_fpa.form_utils.format_block(e),$("#master_results_block").html(""),_fpa.masters.handle_search_form(e.find("form")),e.find("a.btn[data-attribute]").click(function(e){e.preventDefault();var t=$(this).attr("data-attribute"),n=$("#search_attrs_"+t),i=n.val();0<i.length&&(i+="\n");var r=$("#multiple_attrs_"+t);i+=r.val(),n.val(i),r.val(""),n.change(),r.change()}),e.find("form").not(".attached-complete-listener").on("ajax:complete",function(){$("#search_attrs__filter_previous_").attr("checked",!1),$("#filter_on_block").html("")}).addClass("attached-complete-listener");var t=$("#search_attrs__filter_previous_").not(".attached-click-listener");1===t.length&&t.is(":checked")&&window.setTimeout(function(){$("a#get_filter_previous").click()},100),t.on("change",function(){return $("#search_attrs__filter_previous_").is(":checked")?window.setTimeout(function(){$("a#get_filter_previous").click()},100):$("#filter_on_block").html(""),!1}).addClass("attached-click-listener")},reports_result:function(i,a){if(a){var e=$(".result-count").html(),t=$('.count-only [data-col-type="result_count"]').not(".report-el-was-from-new");1===t.length&&(e=t.html()),a.count={count:e,show_count:e};var n=_fpa.templates["search-count-template"](a);$(".search_count_reports").html(n)}window.setTimeout(function(){var e=_fpa.postprocessors_reports.table_cell_types;if(a.count&&"0"!=a.count.count){for(var t in $(".postprocessed-scroll-here").removeClass("postprocessed-scroll-here").addClass("prevent-scroll"),_fpa.reports.report_position_buttons("go-to-results"),$("td a.edit-entity").click(function(){$(".item-selected").removeClass("item-selected"),$(this).parents("tr").first().addClass("item-selected")}),$('td[data-col-type="master_id"]').on("click",function(){window.open("/masters/"+$(this).html().trim(),"_blank"),$(".item-selected").removeClass("item-selected"),$(this).addClass("item-selected")}).addClass("hover-link"),$('td[data-col-type="msid"]').on("click",function(){window.open("/masters/"+$(this).html().trim()+"?type=msid","_blank"),$(".item-selected").removeClass("item-selected"),$(this).addClass("item-selected")}).addClass("hover-link"),e)if(e.hasOwnProperty(t)){var n=e[t];if(0<$('td[data-col-table="'+t+'"]').length)for(var r in n)if(n.hasOwnProperty(r)){col_types=e[t];var s=col_types[r];_fpa.set_definition(r,function(){var i=_fpa.cache(r);$('td[data-col-table="'+t+'"][data-col-type="'+s+'"]').each(function(){var e=$(this),t=e.html(),n=_fpa.get_item_by("value",i,t);n&&null!=n.value||(n=_fpa.get_item_by("id",i,t)),n&&e.append(" <em>"+n.name+"</em>")})})}}_fpa.reports.results_subsearch(i),_fpa.reports.results_perform_action_link(i),_fpa.reports.results_select_items_for_form(i),_fpa.form_utils.setup_tablesorter($("#report-results-block")),i.find(".expandable").not(".attached-exp").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_expandable($(this))}).addClass("attached-exp"),$("prevent-scroll").removeClass("prevent-scroll")}else _fpa.reports.report_position_buttons("go-to-form")},50),window.setTimeout(function(){$('td[data-col-type$="_when"], td[data-col-type$=" when"], td[data-col-type$="_date"], td[data-col-type$=" date"], td[data-col-type="date"]').each(function(){var e=null,t=$(this).html();"Invalid Date"==t?e="":t&&""!=t&&(e=_fpa.utils.YMDtoLocale(t)),$(this).html(e)}),$('td[data-col-type$="_at"], td[data-col-type$=" at"]').each(function(){var e=null,t=$(this).html();"Invalid Date"==t?e="":t&&""!=t&&(e=_fpa.utils.YMDtimeToLocale(t)),$(this).html(e)})},500)},report_edit_form:function(t){var e=t.find("form"),n=e.attr("id"),i=t.find("tr"),r=e.attr("data-object-id");if(r)var s=$("tr#report-item-"+r);else s=$("tr#report-item-new");s.after(i),s.hide();var a=t.find("input");i.find(".report-edit-btn-cell").append(a),i.find("input, select, textarea, button").each(function(){$(this).attr("form",n)}),_fpa.form_utils.format_block(i),_fpa.utils.scrollTo(i,200,-50),i.find("#report-edit-cancel").click(function(e){e.preventDefault(),s.show(),i.remove(),t.html("")})},edit_report_result:function(e,t){$("#report-edit-").html("");var n=t.report_item.id;if(0==(i=$("#report-item-"+n)).length){var i;i=(i=$("#report-item-new")).after(i.clone());var r=t.report_item.id;i.attr("id","report-item-"+r);var s=i.find("a.edit-entity"),a=s.attr("href");s.attr("href",a.replace("new",r)),i.find(".report-new-item-btn").remove(),n=""}for(var o in t.report_item)t.report_item.hasOwnProperty(o)&&i.find('[data-col-type="'+o+'"]').first().html(t.report_item[o]);i.show(),$("tr#report-item-edit-"+n).remove(),$("tr#report-item-new").show()}},$.extend(_fpa.postprocessors,_fpa.postprocessors_reports),$.extend(_fpa.preprocessors,_fpa.preprocessors_reports),_fpa.postprocessors_trackers={tracker_opener:function(e){var t=e.find(".open-tracker.collapsed");1===t.length&&"0"!==t.find(".tracker-count").html()&&t.trigger("click")},tracker_events_handler:function(e){_fpa.postprocessors.tracker_opener(e),window.setTimeout(function(){_fpa.set_definition("protocol_events",function(){var a=_fpa.cache("protocol_events"),o=!0;e.find(".tracker-event_name[data-event-id]").each(function(){var e=$(this).attr("data-event-id"),t=_fpa.get_item_by("id",a,e);o&&t&&t.milestone&&0<=t.milestone.indexOf("always-notify-user")&&(_fpa.show_modal(t.description,t.name),o=!1)}),e.find(".latest-tracker-history").each(function(){var e=$(this),t=e.attr("data-lth-event-milestone");if(t&&0<=t.indexOf("notify-user")){var n=e.attr("data-lth-event"),i=e.attr("data-lth-event-id"),r=_fpa.get_item_by("id",a,i);if(r&&o){var s=e.attr("data-lth-protocol")+" - "+e.attr("data-lth-process")+": "+n;_fpa.show_modal(r.description,s)}}})})},500)},tracker_notes_handler:function(){var e=$("td.tracker-notes .cell-holder, td.tracker-history-notes .cell-holder");_fpa.utils.make_readable_notes_expandable(e)},tracker_item_link_hander:function(r){$(".item-highlight").removeClass("item-highlight"),r.find("a.tracker-link-to-item").not(".link-attached").click(function(e){e.preventDefault();var t=$(this).attr("href");if(!_fpa.utils.jump_to_linked_item(t)){var n=$(this).attr("data-call-if-needed");if(n){var i=n.split(".");i[1]?_fpa[i[0]]&&_fpa[i[0]][i[1]]?_fpa[i[0]][i[1]]($(this),r,t):console.log("call_if_needed not found: "+i):_fpa[i[0]]?_fpa[i[0]]($(this),r,t):console.log("call_if_needed not found: "+i)}}}).addClass("link-attached"),r.find(".tracker-event_name[data-event-id], .tracker-history-event_name[data-event-id]").not(".te-desc-attached").each(function(){_fpa.set_definition("protocol_events",function(){var e=$(this),t=e.attr("data-event-id"),n=_fpa.cache("protocol_events"),i=_fpa.get_item_by("id",n,t);if(i&&i.description){var r='<span class="glyphicon glyphicon-info-sign tracker-event-description" data-toggle="popover" title="'+i.name+'" data-content="'+i.description+'"></span>';$(r).appendTo(e.find(".cell-holder")).popover({trigger:"click hover"})}})}).addClass("te-desc-attached")},tracker_histories_result_template:function(e){_fpa.form_utils.format_block(e),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e)},tracker_chron_result_template:function(e){_fpa.form_utils.format_block(e),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e)},tracker_tree_result_template:function(e){_fpa.form_utils.format_block(e),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e)},tracker_result_template:function(e,s){if(_fpa.form_utils.format_block(e),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e),s.tracker&&s.tracker._created){var t=$("#tracker-count-"+s.tracker.master_id),n=parseInt(t.html());null!=n&&n++,t.html(n)}var i=$("table.tracker-chron-results");if(1!==i.length){if(s.tracker&&(s.tracker._created||s.tracker._merged)&&s.tracker.record_type&&0==s.tracker.record_type.indexOf("ActivityLog::"))$("#tracker-"+s.tracker.master_id+"-"+s.tracker.id+' a[data-master-id="'+s.tracker.master_id+'"][data-record-id="'+s.tracker.record_id+'"]').click();s.tracker&&(s.tracker._created||s.tracker._updated)&&_fpa.set_definition("protocol_events",function(){var e=s.tracker.protocol_event_id,t=_fpa.cache("protocol_events"),n=_fpa.get_item_by("id",t,e);if($("#latest-tracker-history-"+s.tracker.master_id).attr("data-lth-event-milestone",""),n){var i=n.milestone;if(i&&0<=i.indexOf("notify-user")){var r=s.tracker.protocol_name+" - "+s.tracker.sub_process_name+": "+n.name;_fpa.show_modal(n.description,r)}}})}else i.find('a[data-template="tracker-tree-result-template"]').click()},tracker_edit_form:function(r){_fpa.form_utils.format_block(r);var e=function(e,t){var n=r.find("#tracker_event_date");if(n.parents("div").first().show(),n.hasClass("attached-datepicker"))var i=(new Date).asLocale();else i=(new Date).asYMD();t?(n.val(i),$("#tracker_notes").val("")):_fpa.form_utils.setup_datepickers(r)};r.find("#tracker_protocol_event_id, #tracker_sub_process_id").change(function(){e($(this),!0)}).each(function(){e($(this))}),r.find("#tracker_protocol_id").change(function(){r.find("#tracker_sub_process_id").focus().click()}),r.find("#tracker_sub_process_id").change(function(){r.find("#tracker_protocol_event_id").focus().click()})}},$.extend(_fpa.postprocessors,_fpa.postprocessors_trackers),_fpa.cache=function(e){e=_fpa.cache_name(e);var t=localStorage.getItem(e);return t=JSON.parse(t)},_fpa.cache_name=function(e){return e+"--"+_fpa.version},_fpa.set_definition=function(e,i){var t=function(n){$.ajax("/definitions/"+n,{success:function(e){var t=e;_fpa.set_cache(n,t),!1,i&&i()}})};try{_fpa.cache(e)?i&&i():t(e)}catch(n){t(e)}},_fpa.set_cache=function(e,t){var n=e+"--";for(var i in e=_fpa.cache_name(e),localStorage)localStorage.hasOwnProperty(i)&&0===i.indexOf(n)&&(localStorage.removeItem(i),console.log("removed cache item: "+i));t=JSON.stringify(t),localStorage.setItem(e,t)},_fpa.form_utils={set_field_errors:function(e,t){if(t){var n;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],s=e.find("[data-attr-name='"+i.underscore()+"']").parent();if(1<s.length&&(s=s.parents(".list-group-item").first()),1==s.length){n||(n=s),s.addClass("has-error");var a=i.replace(/_/g," ");s.hasClass("showed-caption-before")&&(a="Entry"),r=a+" "+r;var o=$('<p class="help-block error-help">'+r+"</p>");s.append(o),delete t[i],t.form="has errors. Check the highlighted fields."}}n&&_fpa.utils.jump_to_linked_item(n,-300)}else $(".has-error").each(function(){$(this).find(".error-help").remove()}).removeClass("has-error")},clear_content:function(e){e.removeClass("in"),e.html("")},toggle_expandable:function(e){e.hasClass("expanded")?e.removeClass("expanded"):e.addClass("expanded")},highlight_tracker_history_item:function(e,t){t=_fpa.utils.get_data_attribs($(e)),window.setTimeout(function(){$(t.tracker_history_item).addClass("item-highlight")},1e3)},toggle_on_click_call:function(e,t){t||(t=e.attr("data-on-click-call"));var n=t.split("."),i=_fpa[n[0]][n[1]];t&&i?i(e,_fpa.utils.get_data_attribs(e)):console.log("no data-on-click-call value or function set")},toggle_on_click_show:function(e){for(var t,n=e.attr("data-on-click-show").split(","),i=_fpa.utils.get_data_attribs(e),r=0;t=n[r];r++){var s=(t=t.trim()).split("@");0==(e=$(s[1])).length&&console.log("the target provided to toggle_on_click_show does not exist: "+s[1]),_fpa.view_template(e,s[0],i)}},on_open_click:function(e,n){e.find('.on-open-click a[data-remote="true"], .on-open-click a[data-target]').not(".auto-clicked").addClass("auto-clicked").each(function(){var e=$(this),t=n;t||(t=(t=e.attr("data-open-priority"))?parseInt(t):20),window.setTimeout(function(){e.click()},t)})},unmask_inputs:function(e){e.find("input[data-unmask='number'].is-masked").each(function(){var e=$(this).cleanVal();e&&$(this).val(e)}).removeClass("is-masked")},date_inputs_to_iso:function(e){var t=e.find("input.date-is-local");0<t.length&&t.each(function(){var e=$(this).val();if(e||""!=e){var t=_fpa.utils.parseLocaleDate(e).asYMD();t&&$(this).val(t)}}).removeClass("date-is-local")},data_from_form:function(e){var t=e.find("[data-attr-name][data-object-name]"),r={},s=null;t.each(function(){var e=$(this),t=e.attr("data-object-name"),n=e.attr("data-attr-name");if("option_type"==n)if((s=e.val())&&""!=s)var i=t+"_"+s;else i=null;r[t]||(r[t]={item_type:t},r[t].full_option_type=i),e[0]&&"radio"==e[0].type?e.is(":checked")&&(r[t][n]=e.val()):e[0]&&"checkbox"==e[0].type?e.is(":checked")&&(r[t][n]=!0):r[t][n]=e.val()});var n=e.find("[data-item-id]").attr("data-item-id");for(var i in r)r.hasOwnProperty(i)&&(r[i].id||(r[i].id=n));return r},get_general_selections:function(s){if(s)if(s.multiple_results)_fpa.form_utils.get_general_selections(s[s.multiple_results]);else if(s.length)for(var e=0;e<s.length;e++)_fpa.form_utils.get_general_selections(s[e]);else{if(!s.item_type){var t;for(t in s)if(s.hasOwnProperty(t)&&"_control"!=t)break;var n=s[t];if(!n)return;s=n}s.embedded_item&&_fpa.form_utils.get_general_selections(s.embedded_item);var i=s.item_type?"-item_type+"+s.item_type:"",a="general_selections"+(i+=s.extra_log_type?"-extra_log_type+"+s.extra_log_type:"");_fpa.set_definition(a,function(){var e=_fpa.cache(a);for(var t in s._general_selections={},s)if(s.hasOwnProperty(t)){if("activity_log"==s.model_data_type)var n=s.item_type+"_"+t;else n=s.item_type+"s_"+t;var i=_fpa.get_items_as_hash_by("item_type",e,n,"value");for(var r in i)break;r&&(s._general_selections[t]=i)}})}},setup_typeahead:function(e,t,n,i,r){"string"==typeof t&&(t=_fpa.cache(t));var s=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:t}),a={hint:!0,highlight:!0,minLength:1,autoselect:!0};for(var o in r||(r={}),a)a.hasOwnProperty(o)&&(o in r||(r[o]=a[o]));var l={name:n,source:s};i&&(l.limit=i),$(e).typeahead(r,l).on("keypress",function(e){if(13==e.keyCode){var t=$(this).attr("data-next-field");t&&$(t).focus();var n=$(this).val();n&&""!=n&&$(this).addClass("has-value")}})},caption_before_substitutions:function(s,a){s.find(".caption-before").not(".cb_subs_done").each(function(){var i=$(this).html();if(i&&!(i.length<1)){var e=i.match(/{{[0-9a-zA-z_\.]+}}/g);if(e&&!(e.length<1)){var r={};if(a&&a.master_id){var t=a.master_id;r=Object.assign({},a)}else t=s.parents(".master-panel").first().attr("data-master-id");var n=_fpa.state.masters[t];n&&(r=Object.assign(r,n)),e.forEach(function(e){var t=e.replace("{{","").replace("}}","").split("."),n=null;t[0]&&(n=r[t[0]]),n&&t[1]&&(n=n[t[1]]),null==n&&(n="(?)"),n='<em class="all_caps">'+n+"</em>",i=i.replace(e,n)}),$(this).html(i)}}}).addClass("cb_subs_done")},resize_labels:function(e,t,n){e||(e=$(document));var i=e.find('.list-group:visible, .view-object[aria-expanded="true"]');n||(i=i.not(".attached-resize-labels")),i.each(function(){var a=$(this);_fpa.processor_handlers&&_fpa.processor_handlers.label_changes&&_fpa.processor_handlers.label_changes(a),window.setTimeout(function(){var t=0,e=a.find(".list-group-item.result-field-container, .list-group-item.result-notes-container, .list-group-item.edit-field-container, .list-group-item.caption-before").not(".all-fields-caption"),n=!1;e.each(function(){var e=$(this).hasClass("caption-before")&&!$(this).hasClass("caption-before-keep-label");n&&!e&&$(this).find("small, label").not(".radio-label").remove(),n=e});var i=a.find(".list-group-item.result-field-container, .list-group-item.edit-field-container").not(".is-heading, .is-sub-heading, .is-minor-heading, .is-full-width, .is-combo, .record-meta, .edit-form-header, .has-caption-before"),r=i.find("small, label").not(".radio-label");r.addClass("label-resizer").css({whiteSpace:"nowrap",width:"auto",minWidth:"none",marginLeft:"inherit"});var s=i.first().parent().width();r.each(function(){if($(this).is(":visible")){var e=$(this).width();t<e&&(t=e)}}),.5*s<t&&(t=.5*s),10<t&&(0===i.parents("form").length?(i.css({paddingLeft:t+30}).addClass("labels-resized"),r.css({minWidth:t,width:t,marginLeft:-t-14,whiteSpace:"normal"}).addClass("list-small-label")):r.css({minWidth:t+6,width:t+6,whiteSpace:"normal"}).addClass("list-small-label")),i.addClass("done-label-resize")},1),a.addClass("attached-resize-labels")})},setup_has_value_inputs:function(e){e||(e=$(document));var t=function(e){""!=e.val()?e.addClass("has-value"):e.removeClass("has-value")};e.find("input, select").not(".attached-has-value").on("change",function(){t($(this))}).each(function(){t($(this))}).addClass("attached-has-value")},setup_chosen:function(e){e||(e=$(document)),e.find("select[multiple]").not(".attached-chosen").each(function(){var e=$(this);window.setTimeout(function(){e.chosen({width:"100%",placeholder_text_multiple:"no tags selected"}).addClass("attached-chosen")},1)})},organize_common_templates:function(e){e.find(".common-template-item").each(function(){$(this).parents(".common-template-list").first().hasClass("row")&&!$(this).hasClass("alt-width")&&$(this).addClass("col-md-8 col-lg-6")})},filtered_selector:function(e){e||(e=$(document));var t=e.find("select[data-filters-selector]").not(".attached-filter"),s=function(e){var t=e.attr("data-filters-selector");if(t){var n=$(t);if(0!==n.length){var i=e.val();n.find("option[data-filter-id]").removeClass("filter-option-show").hide();var r=n.find('option[data-filter-id="'+i+'"]').addClass("filter-option-show").show();n.attr("data-parent-filter-id",i),0===r.length?n.find('option[value=""]').html("-none-"):n.find('option[value=""]').html("-select-"),n.each(function(){$(this).find("option:selected").attr("data-filter-id")!=i&&($(this).val(null).removeClass("has-value"),i&&$(this).addClass("prevent-submit")),s($(this))})}}};t.each(function(){s($(this))}).on("change",function(){s($(this))}).addClass("attached-filter")},setup_form_filtered_select:function(e){e.find("select[data-filters-select]").not(".filters-select-attached").each(function(){var t=$(this),n=t.attr("data-filters-select");t.on("change",function(){var e=t.val();$(n+" optgroup[data-group-num]").hide(),$(n+' optgroup[data-group-num="'+e+'"]').show()});var e=t.val();$(n+" optgroup[label]").each(function(){if(!$(this).attr("data-group-num")){var e=$(this).attr("label").split("/",2),t=e.length-1,n=0;$(this).attr("label",e[t]),$(this).attr("data-group-num",e[n])}}).hide(),$(n+' optgroup[data-group-num="'+e+'"]').show()}).addClass("filters-select-attached")},setup_tablesorter:function(e){e||(e=$(document));var t=e.find(".tablesorter").not(".attached-tablesorter");window.setTimeout(function(){t.each(function(){var e=$(this),t=0,n={};e.find("thead tr:first th").each(function(){$(this).hasClass("no-sort")&&($(this).attr("title",null),$(this).attr("aria-label",null),n[t]={sorter:!1}),t++}),e.tablesorter({dateFormat:"yyyy-mm-dd",headers:n}).addClass("attached-tablesorter")})},100)},setup_bootstrap_items:function(e){e||(e=$(document)),e.find('[data-toggle~="tooltip"]').not(".attached_bs").tooltip().addClass("attached_bs"),e.find('[data-toggle~="popover"]').not(".attached_bs").popover().addClass("attached_bs"),e.find('[data-show-popover="auto"]').not(".attached_bs").popover("show").addClass("attached_bs"),e.find(".dropdown-toggle").not(".attached_bs").dropdown().addClass("attached_bs"),e.find("table").each(function(){var e=$(this).attr("class");null!=e&&""!==e||$(this).addClass("table")})},setup_data_toggles:function(t){t||(t=$(document)),t.find('[data-toggle~="clear"]').not(".attached-datatoggle-clear").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target"),t=$(e).html("");t.hasClass("collapse")?t.removeClass("in"):t.addClass("hidden")}}).addClass("attached-datatoggle-clear"),t.find('[data-toggle~="unhide"]').not(".attached-datatoggle-uh").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target");$(e).removeClass("hidden")}}).addClass("attached-datatoggle-uh"),t.find('[data-toggle~="uncollapse"]').not(".attached-datatoggle-uncoll").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target");$(e).collapse("show")}}).addClass("attached-datatoggle-uncoll"),t.find("a.scroll-to-master").not(".attached-datatoggle-stm").on("click",function(){var e;$(this).attr("disabled")||(e=t.hasClass("panel-collapse")?t:t.parents(".panel-collapse").first(),_fpa.utils.scrollTo(e,100,-60))}).addClass("attached-datatoggle-stm"),t.find('[data-toggle~="scrollto-target"]').not(".attached-datatoggle-stt").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target");_fpa.utils.jump_to_linked_item(e)}}).addClass("attached-datatoggle-stt"),t.find('[data-prevent-on-collapse="true"]').not(".attached-prevent-on-collapse").on("click",function(e){$(this).attr("disabled")||$(this).hasClass("collapse")||e.preventDefault()}).addClass("attached-prevent-on-collapse"),t.find('[data-toggle~="scrollto-result"], [data-toggle~="scrollto-target"], [data-toggle~="collapse"].scroll-to-expanded, [data-toggle~="uncollapse"].always-scroll-to-expanded ').not(".attached-datatoggle-str").on("click",function(){if(!$(this).attr("disabled")&&!($(this).hasClass("scroll-to-expanded")&&!$(this).hasClass("collapsed")||$(this).hasClass("no-scroll-on-collapse"))){var t,e=$(this).parents("[data-form-container]");if((t=1==e.length?e.attr("data-form-container"):$(this).attr("data-target"))&&""!=t||(t=$(this).attr("data-result-target")),t){var n=0,i=function(){var e=$(t).get(0);if(!e){if(10<n)return;return n++,void window.setTimeout(function(){i()},250)}if(!(e=e.getBoundingClientRect()).height)return n++,void window.setTimeout(function(){i()},250);!(0<=e.top&&e.bottom<$(window).height())&&_fpa.utils.scrollTo(t,200,-100)};window.setTimeout(function(){i()},250)}}}).addClass("attached-datatoggle-str"),t.find('[data-toggle~="expandable"]').not(".attached-datatoggle-exp").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_expandable($(this))}).addClass("attached-datatoggle-exp"),t.find("[data-on-click-call]").not(".attached-toggle_on_click_call").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_on_click_call($(this))}).addClass("attached-toggle_on_click_call"),t.find("[data-result-callback]").not(".attached-toggle_on_result_callback").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-result-callback").split(".");e[1]?$(this)[0].app_callback=_fpa[e[0]][e[1]]:$(this)[0].app_callback=_fpa[e[0]]}}).addClass("attached-toggle_on_result_callback"),t.find("[data-on-click-show]").not(".attached-toggle_on_click_show").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_on_click_show($(this))}).addClass("attached-toggle_on_click_show"),t.find('[data-toggle~="clear-content"]').not(".attached-datatoggle-cc").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target");_fpa.form_utils.clear_content($(e))}}).addClass("attached-datatoggle-cc"),t.find("[data-toggle-caret]").not(".attached-toggle_caret").on("click",function(){if($(this).hasClass("glyphicon-triangle-bottom")){var e=$(this);$(this).removeClass("glyphicon-triangle-bottom"),$(this).addClass("glyphicon-triangle-top");var t=(n=$(this).attr("data-target"))&&$(n);window.setTimeout(function(){e.attr("disabled",!0),t&&t.find(".list-group-item").length&&_fpa.form_utils.format_block(t.parent())},10)}else{var n;e=$(this);$(this).addClass("glyphicon-triangle-bottom"),$(this).removeClass("glyphicon-triangle-top"),(n=$(this).attr("data-result-target"))&&$(n).html(""),window.setTimeout(function(){e.attr("disabled",!1)},10)}}).addClass("attached-toggle_caret")},mask_inputs:function(e){e.find("[pattern]").each(function(){var e=$(this).attr("pattern");e&&""!=e||$(this).removeAttr("pattern")}),e.find("[pattern]").not('.attached-datatoggle-pattern, [type="password"]').each(function(){var e,t=$(this).attr("pattern"),n=$(this).attr("type"),i=$(this).attr("data-mask");i&&""!==i||!t||""===t||("text"!=n&&"datepicker"!=n&&"date"!=n&&($(this).attr("type","text"),$(this).attr("data-unmask",n)),e=_fpa.masker.mask_from_pattern(t),$(this).attr("data-mask",e.mask),$(this).addClass("is-masking"),$(this).mask(e.mask,{translation:e.translation,reverse:e.reverse}),$(this).addClass("is-masked"),$(this).removeClass("is-masking"))}).addClass("attached-datatoggle-pattern"),e.find("[pattern].attached-datatoggle-pattern").not(".is-masked").each(function(){var e=$(this),t=e.val();if(t&&""!==t){var n=e.masked(t);e.val(n)}}).addClass("is-masked"),e.find("input.time-entry").not("is-time-masked").each(function(){$(this).timepicker({timeFormat:"h:mm p",interval:15,minTime:"12:00am",maxTime:"11:59pm",startTime:"12:00am",dynamic:!0,dropdown:!0,scrollbar:!0})})},setup_datepickers:function(e){e.find('input[type="date"]').each(function(){"date"==$(this).prop("type")&&($(this).prop("type","datepicker"),$(this).addClass("force-datepicker")),$(this).attr("type","datepicker")}),e.find('input[type="datepicker"]').not(".date-is-local").each(function(){var e=$(this).val();if(e&&""!=e){var t=_fpa.utils.YMDtoLocale(e);$(this).val(t)}$(this).addClass("date-is-local")}),e.find('input.force-datepicker, input[type="datepicker"]').not(".attached-datepicker").each(function(){$(this).datepicker({startView:2,clearBtn:!0,autoclose:!0,todayHighlight:!0,todayBtn:"linked",format:_fpa.user_prefs.date_format}),$(this).on("click",function(){$(this).datepicker("show")}),$(this).on("keypress",function(){$(this).datepicker("hide")}),$(this).mask("09/09/0000",{translation:_fpa.masker.translation,placeholder:"__/__/____"}),$(this).addClass("attached-datepicker date-is-local")})},setup_extra_actions:function(e){e.find(".collapse").not(".attached-force-collapse").each(function(){var e=$(this);e.on("show.bs.collapse",function(){e.removeClass("hidden")}),e.on("shown.bs.collapse",function(){e.removeClass("hidden")}),e.on("hide.bs.collapse",function(){})}).addClass("attached-force-collapse"),e.find("[data-add-icon]").not(".attached-add-icon").each(function(){var e=$(this).attr("data-add-icon"),n=$(this).attr("title");$(this).attr("title",null);var t=$(this).attr("data-show-modal");if(t){var i=$('<a class="add-icon glyphicon glyphicon-'+e+'" href="#" data-show-modal="'+t+'"></a>');$(this).append(i),i.click(function(e){e.preventDefault();var t=$(this).attr("data-show-modal");_fpa.show_modal($(t).html(),n)})}else{i=$('<a data-toggle="popover" data-content="'+n+'" class="add-icon glyphicon glyphicon-'+e+'"></a>');$(this).append(i),i.popover({trigger:"hover click",placement:"bottom"})}}).addClass("attached-add-icon");var t=e,o=t.attr("data-sort-desc");if(o||(t=t.children().first()).length&&(o=t.attr("data-sort-desc")),o||(t=(t=t.find("[data-sub-list]")).children().first()).length&&(o=t.attr("data-sort-desc")),o){var n=t.parent();n.find("[data-sort-desc]").sort(function(e,t){var n=$(t).find("["+o+"]").attr(o),i=$(e).find("["+o+"]").attr(o);if(null==n&&(n=$(t).attr(o)),null==i&&(i=$(e).attr(o)),n){var r=n.split("--");null==r[1]&&(r[1]=""),n=_fpa.utils.ISOdatetoTimestamp(r[0])+r[1]}if(i){var s=i.split("--");null==s[1]&&(s[1]=""),i=_fpa.utils.ISOdatetoTimestamp(s[0])+s[1]}if(null==i||""==i)return-1;if(null==n||""==n)return 1;var a=parseFloat(i);return i==a&&(i=a),n==(a=parseFloat(n))&&(n=a),i<n?1:n<i?-1:0}).prependTo(n)}e.find("input,select,checkbox,textarea").not('[type="submit"],.form-control,.ff').addClass("form-control input-sm ff"),e.find(".typeahead").css({width:"100%"}),e.find("form").not(".form-formatted").addClass("form-inline"),e.find("textarea.auto-grow").not(".attached-auto-grow").each(function(){$(this).on("keypress, change",function(){$(this).get(0).style.height="5px",$(this).get(0).style.height=$(this).get(0).scrollHeight+5+"px"})}).addClass("attached-auto-grow"),e.find("input.college-input.typeahead").not(".attached-college_ta").each(function(){var e=$(this);_fpa.set_definition("colleges",function(){_fpa.form_utils.setup_typeahead(e,"colleges","colleges")})}).addClass("attached-college_ta"),e.find('[data-format-date-local="true"]').not(".formatted-date-local").each(function(){var e=$(this).html();e=e.replace(" UTC","Z").replace(" ","T");var t=_fpa.utils.YMDtoLocale(e);$(this).html(t)}).addClass("formatted-date-local")},setup_contact_field_mask:function(s){var e=function(e,t){if("string"==typeof e)var n=e,i=!0;else{n=e.val();t=s.find('input[data-attr-name="data"]')}if("phone"===n?t.mask("(000)000-0000 nn",{translation:{0:{pattern:/\d/},n:{pattern:/.*/,recursive:!0,optional:!0}}}).attr("type","text"):"email"===n?t.unmask().attr("type","email"):t.unmask().attr("type","text"),!i){var r=_fpa.utils.translate(n,"field_labels");r=r?_fpa.utils.capitalize(r):"Data",t.parent().find("label").not(".radio-label").html(r)}},t=s.find(".rec_type_has_phone, .rec_type_has_email").change(function(){e($(this))});e(t),s.find(".is_phone").each(function(){e("phone",$(this))}),s.find(".is_email").each(function(){e("email",$(this))})},setup_textarea_autogrow:function(t){t.find("textarea").each(function(){var e=$(this)[0],t=new Autogrow(e);e.style.resize="none",e.style.boxSizing="content-box",$(this).click(function(){$(this).hasClass("done-auto-grow")||($(this).addClass("done-auto-grow"),t.autogrowFn())})}),setTimeout(function(){var e=t.find(".notes-block .list-group-item strong, .notes-block  .panel-body")
;_fpa.utils.make_readable_notes_expandable(e,100,_fpa.form_utils.resize_children)},10)},setup_filestore:function(e){e.find(".browse-container").not(".nfs-store-setup").each(function(){var e=$(this),t=$(this).attr("data-container-use-secure-view");if(null!=t&&""!=t&&"false"!=t&&"download_files"!=t){var n={},i=t.split(",");for(var r in i)n[i[r]]=!0;var s=null;0<=i.indexOf("view_files_as_image")?s="png":0<=i.indexOf("view_files_as_html")&&(s="html");$(this).html();_fpa.secure_view.setup_links($(this),"a.browse-filename",{allow_actions:n,set_preview_as:s})}null!=t&&""!=t&&"false"!=t||$(this).find("a.browse-filename").on("click",function(e){e.preventDefault()}),window.setTimeout(function(){e.find(".refresh-container-list").click(),(e.nfs_store_uploader=_nfs_store.uploader)(e)},10)}).addClass("nfs-store-setup")},setup_e_signature:function(e,t){var n=e.find(".e-signature-container");t||(n=n.not(".e-signature-setup")),n.each(function(){var n=this;$(n).find(".e-sign-print-frame").not(".click-ev-attached").on("click",function(){$(n).find(".e_signature_document_iframe")[0].contentWindow.print()}).addClass("click-ev-attached"),window.setTimeout(function(){var e=$(n).find(".e_signature_document").val(),t=$(n).find(".e_signature_document_iframe");t.attr("srcdoc",e),window.setTimeout(function(){var e=t[0].contentDocument.body;e?t.height(e.offsetHeight+50):t.height(500)},200)},10)}).addClass("e-signature-setup")},setup_error_clear:function(e){e.on("change",".has-error .form-control",function(){var e=$(this).parent();e.removeClass("has-error"),e.find(".error-help").remove()})},resize_children:function(s,e){var t=function(){var i=-1,r=-1,e=s.parents(".resize-children").parent();0<e.length&&(s=e),s.find(".resize-children").each(function(){$(this).find("ul.list-group").each(function(){0==$(this).parents("ul.list-group").length&&$(this).first().parent().css({minHeight:"1px"})}),$(this).find(".common-template-item, .new-block").not(".resized-width, .model-reference-new-block").each(function(){var e=$(this),t=$(this).parents(".dynamic-container");0<t.length&&(e=t);var n=0<e.find(".in-form-dialog").length,i=0<e.find("#e_signature_document").length,r=e.find(".list-group-item.caption-before, .list-group-item.dialog-before");if(i||0!=r.length){var s=r.filter(":visible");if(s&&0<s.length)var a=s.last().position().top+s.last().outerHeight()-s.first().position().top;else a=0;if(800<a||n||i){var o=_fpa.layout.item_blocks.regular,l=0;r.each(function(){var e=$(this).height();l<e&&(l=e)}),60<l||n||i?(o=i?_fpa.layout.item_blocks.e_signature:_fpa.layout.item_blocks.wide,e.first().removeClass(_fpa.layout.item_blocks.regular),e.addClass(o).addClass("resized-width"),_fpa.form_utils.resize_labels(e,null,!0)):e.hasClass("new-block")&&(e.first().removeClass(_fpa.layout.item_blocks.wide),e.first().removeClass(_fpa.layout.item_blocks.e_signature),e.addClass(_fpa.layout.item_blocks.regular))}}})}),s.find(".resize-children").each(function(){$(this).find("ul.list-group").each(function(){if(!(0<$(this).parents("ul.list-group").length)){var e=$(this).parent();if(e.offset().top>i){if(1<r)var t=0;s.find(".ready-to-resize").each(function(){$(this).removeClass("ready-to-resize").css({minHeight:r+t}),t++}),r=1,i=e.offset().top}var n=e.addClass("ready-to-resize").height();r<n&&(r=n)}}),1<r&&s.find(".ready-to-resize").removeClass("ready-to-resize").css({minHeight:r})})};e?t():window.setTimeout(function(){t()},100)},format_block:function(e){e||(console.log("format_block was provided no block."),e=$(document)),e.hasClass("list-group")&&(e=e.parent()),e.addClass("formatting-block"),_fpa.form_utils.setup_chosen(e),_fpa.form_utils.setup_has_value_inputs(e),_fpa.form_utils.organize_common_templates(e),_fpa.form_utils.resize_labels(e),_fpa.form_utils.filtered_selector(e),_fpa.form_utils.setup_tablesorter(e),_fpa.form_utils.setup_bootstrap_items(e),_fpa.form_utils.setup_data_toggles(e),_fpa.form_utils.setup_extra_actions(e),_fpa.form_utils.setup_datepickers(e),_fpa.form_utils.mask_inputs(e),_fpa.form_utils.setup_textarea_autogrow(e),_fpa.form_utils.setup_contact_field_mask(e),_fpa.form_utils.setup_filestore(e),_fpa.form_utils.setup_e_signature(e),_fpa.form_utils.setup_error_clear(e),_fpa.form_utils.resize_children(e),e.removeClass("formatting-block")}},_fpa.loaded["default"]=function(){_fpa.timed_flash_fadeout(),_fpa.form_utils.format_block(),$("#nav_q").on("keypress",function(){$("#nav_q_pro_id").val(""),$("#nav_q_id").val("")}).on("change",function(){var e=$(this).val();e&&""!=e&&$("form.navbar-form").submit()}),$("#nav_q_pro_id").on("keypress",function(){$("#nav_q").val(""),$("#nav_q_id").val("")}).on("change",function(){var e=$(this).val();e&&""!=e&&$("form.navbar-form").submit()}),$("#nav_q_id").on("keypress",function(){$("#nav_q").val(""),$("#nav_q_pro_id").val("")}).on("change",function(){var e=$(this).val();e&&""!=e&&$("form.navbar-form").submit()}),$("#use_app_type_select").on("change",function(){window.location.href="/masters/search?use_app_type="+$(this).val()}),$(document).on("click","a[disabled], btn[disabled]",function(e){e.preventDefault()});_fpa.loaded[_fpa.status.controller]&&_fpa.loaded[_fpa.status.controller](),window.onbeforeprint=_fpa.printing.beforePrintHandler,window.onafterprint=_fpa.printing.afterPrintHandler,window.matchMedia("print").addListener(function(e){e.matches&&_fpa.printing.beforePrintHandler()}),window.matchMedia("screen").addListener(function(e){e.matches&&_fpa.printing.afterPrintHandler()}),$("#print-action").click(function(){_fpa.printing.appPrintHandler()});var e=window.location.hash;if(!e&&!$("body.sessions").length){var t=_fpa.cache("login-redirect-hash");e=t&&t.hash,_fpa.set_cache("login-redirect-hash",{})}e&&5<e.length&&($("body.sessions").length?_fpa.set_cache("login-redirect-hash",{hash:e}):window.setTimeout(function(){console.log("Jumping to linked target based on hash"),_fpa.utils.jump_to_linked_item(e,null,{no_highlight:!0})},1e3))},_fpa.masker={},_fpa.masker.mask_from_pattern=function(e){for(var t="",n="",i="",r="",s="",a=!1,o=!1,l=/^\{(\d+),?(\d*)?\}/,c=/^\(.+\)\?/,u=0;u<e.length;u++){var d=e[u];"escape"!==n?"."===d?(n="char",i="W",r="X",s="Y"):"\\"===d?n="escape":"("===d?(n="startblock",e.substring(u).match(c)&&(o=!0)):o&&")"===d?n="endblock":o&&"?"===d?o=!(n="endopt"):"+"===d?(n="char",!0,"T"===prev_vopt?r="U":"B"===prev_vopt?r="D":"9"===prev_vopt&&(r="#"),i=r):"*"===d?(n="char",!0,"T"===prev_vopt?r="R":"B"===prev_vopt?r="C":"9"===prev_vopt&&(r="*"),i=r):(n="char",r=i=d):"escape"===n&&("d"===d?(n="char",i="0",r="9",s="*",a=!0):"D"===d?(n="char",i="S",r="T",s="R"):(n="char",r=i=d));var h=e.substring(u+1).match(l);if("char"===n){if(times=1,opttimes=0,recursive=0,h&&(r1=h[1],r2=h[2],r1&&h[0].indexOf(",")<0?times=parseInt(r1):r1&&!r2&&(times=parseInt(r1),recursive=1),"0"===r1&&r2&&(opttimes=parseInt(r2),times=0),"0"!==r1&&r2&&(times=parseInt(r1),opttimes=parseInt(r2)-parseInt(r1)),u+=h[0].length),a){recursive&&(t+=s);for(p=0;p<times;p++)t+=o?r:i;for(p=0;p<opttimes;p++)t+=r}else{for(var p=0;p<times;p++)t+=o?r:i;for(var p=0;p<opttimes;p++)t+=r;recursive&&(t+=s)}prev_s=n,prev_v=i,prev_vopt=r,r=i=n=""}}return{mask:t,reverse:!1,translation:_fpa.masker.translation}},_fpa.masker.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},"*":{pattern:/\d/,optional:!0,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},B:{pattern:/[a-zA-Z0-9]/,optional:!0},C:{pattern:/[a-zA-Z0-9]/,optional:!0,recursive:!0},D:{pattern:/[a-zA-Z0-9]/,recursive:!0},S:{pattern:/[a-zA-Z]/},T:{pattern:/[a-zA-Z]/,optional:!0},R:{pattern:/[a-zA-Z]/,optional:!0,recursive:!0},U:{pattern:/[a-zA-Z]/,recursive:!0},W:{pattern:/./},X:{pattern:/./,optional:!0},Y:{pattern:/./,optional:!0,recursive:!0},Z:{pattern:/./,recursive:!0}},_fpa.printing={waitForLoadingToComplete:function(e,t){t||(t=1e3),console.log("waiting for loading to complete"),window.setTimeout(function(){0<$(".ajax-running, .formatting-block").length?_fpa.printing.waitForLoadingToComplete(e,t):window.setTimeout(function(){e()},t)},t)},appPrintHandler:function(){return _fpa.printing.appPrintTriggered=!0,$(".print-preparing").show(),window.setTimeout(function(){$(".details-tabs a.collapsed").each(function(){$(this).click()})},10),_fpa.printing.waitForLoadingToComplete(function(){$(".print-preparing").hide(),window.print(),window.setTimeout(function(){_fpa.printing.appPrintTriggered=!1},1e3)}),!0},beforePrintHandler:function(){var e=$(".activity-logs-generic-block, .section-panel");0!=e.length&&(_fpa.printing.appPrintTriggered?e.each(function(){_fpa.form_utils.resize_children($(this),!0)}):alert("To ensure all data loads correctly cancel printing use the Print option in the application menu bar"))},afterPrintHandler:function(){$(".activity-logs-generic-block, .section-panel").each(function(){_fpa.form_utils.resize_children($(this))})}},_fpa.session=function(e){if(e)return this.default_timeout=e+this.tick/1e3,this.start_counting(!0),this},_fpa.session.prototype={default_timeout:null,last_reset:null,tick:1e4,alarm_time:120,alarmed:null,time_now:function(){return(new Date).getTime()/1e3},alarm_bell:function(){var e=this.time_passed()>this.default_timeout-this.alarm_time&&!this.alarmed;return e&&(this.alarmed=!0),e},reset_timeout:function(){console.log("reset_timeout to "+this.default_timeout+" seconds"),window.localStorage.setItem("session_last_reset",this.time_now()),this.alarmed=null},start_counting:function(e){e&&this.reset_timeout();var t=this;window.setTimeout(function(){t.count_down()},this.tick)},count_down:function(){if(this.time_passed()>this.default_timeout)console.log("timed out!"),window.location.href="/";else{if(this.alarm_bell()){console.log("Session will timeout in "+this.alarm_time);var e="<p>Your session will time out in "+Math.round(this.alarm_time/60)+' minutes.</p><p><a href="/pages/version.json" onclick="_fpa.status.session.reset_timeout(); _fpa.clear_flash_notices();" data-remote="true" class="btn btn-warning">Continue working</a> to continue working</a> or <a href="/users/sign_out"  data-method="delete" class="btn btn-default">logout</a></p>';_fpa.flash_notice(e,"warning")}this.start_counting()}},time_passed:function(){var e=window.localStorage.getItem("session_last_reset");return e=e?parseInt(e):0,this.time_now()-e}},_fpa.show_if={forms:{}},_fpa.show_if.methods={show_items:function(i,e){if(i&&e){e.embedded_item&&_fpa.show_if.methods.show_items(i,e.embedded_item);var t=e.item_type,n=e.full_option_type;if(!n&&e.option_type&&"default"!=e.option_type&&(n=t+"_"+e.option_type),n||(n=t),t){var r=_fpa.show_if.forms[n];if(r)for(var s in r)r.hasOwnProperty(s)&&_fpa.show_if.methods.show_item(i,e,t,s,n);window.setTimeout(function(){_fpa.form_utils.setup_e_signature(i,!0);var e=$(".dialog-made-visible");if(e.length){var t=$(window).height(),n=e.first().get(0).getBoundingClientRect();!(0<=n.top&&n.top<=t/2)&&$(document).scrollTo(e.first(),200,{offset:-.2*t}),e.removeClass("dialog-made-visible")}},250)}}},show_item:function(e,t,n,i,r){var s=_fpa.show_if.forms[r];if(s){var a=s[i],o=_fpa.show_if.methods.calc_conditions(a,t),l="."+r.hyphenate()+"-"+i,c="."+n.hyphenate()+"-"+i,u=[".list-group-item.caption-before"+l,".list-group-item.dialog-before"+l,".list-group-item.result-field-container"+l,".list-group-item.result-notes-container"+l,".list-group-item.edit-field-container"+c,".list-group-item.caption-before"+c].join(", "),d=e.find(u);if(o){var h=d.is(":visible");if(d.show(),!h)d.find(".in-form-dialog-btn:visible").click(),d.filter(".dialog-before").first().addClass("dialog-made-visible")}else d.hide()}},calc_conditions:function(e,t){var n=["all","any","not_all","not_any"],i=!0;for(var r in e){var s=e;for(var a in e.hasOwnProperty(r)&&0<=n.indexOf(r)?s=e[r]:r="all",s)if(s.hasOwnProperty(a)){var o=t[a],l=s[a];if(null==l)l=[l];else if("string"==typeof l)l=[l];else if("boolean"==typeof l)l=[l,l?"yes":"no"];else if("number"==typeof l)l=[l];else if("object"==typeof l)for(var c=0;c<l.length;c++)!0===l[c]&&l.push("yes"),!1===l[c]&&l.push("no");if("all"==r)i=i&&l.includes(o);else if("not_all"==r){if(!l.includes(o)){i=!0;break}i=!1}else if("any"==r){if(i=l.includes(o))break}else if("not_any"==r&&l.includes(o)){i=!1;break}}}return i}},_fpa.utils={},_fpa.utils.jump_to_linked_item=function(e,t,n){var i=r;if(null==t&&(t=-50),null==n&&(n={}),$(".item-highlight, .linked-item-highlight").removeClass("item-highlight linked-item-highlight"),e instanceof jQuery||e&&!(e.length<2)){var r=$(e);if(r&&0!=r.length)return r=r.first(),"#body-top"==e||n.no_highlight||r.addClass("item-highlight linked-item-highlight"),r.is(":visible")||(r.parents(".collapse").collapse("show"),r.hasClass("collapse")&&$('[data-toggle="collapse"][data-target="'+e+'"]:visible').first().click()),_fpa.utils.inViewport(r,!0)||_fpa.utils.scrollTo(r,200,t),i}},_fpa.utils.inViewport=function(e,t){t=t?2:1;var n=e.get(0).getBoundingClientRect();return 0<=n.top&&n.top<=$(window).height()/t},_fpa.utils.scrollTo=function(e,t,n){$.scrollTo(e,t,{offset:n})},_fpa.utils.pluralize=function(e){return"y"==e[e.length-1]?e=e.slice(0,-1)+"ies":e+="s",e},_fpa.utils.make_readable_notes_expandable=function(e,t,n){t||(t=40),e.not(".attached-expandable").each(function(){$(this).height()>t?$(this).click(function(){window.getSelection().toString()||(_fpa.form_utils.toggle_expandable($(this)),n&&n(e,$(this)))}).addClass("expandable").attr("title","click to expand / shrink"):$(this).addClass("not-expandable")}).addClass("attached-expandable")},_fpa.utils.show_modal_results=function(){var e='<div id="modal_results_block" class=""></div>';_fpa.show_modal(e,"",!0)},_fpa.utils.get_data_attribs=function(e){for(var t,n={},i=0,r=e.get(0).attributes,s=r.length;i<s;i++){n[(t=r[i]).nodeName.replace("data-","").underscore()]=t.value}return n},_fpa.utils.capitalize=function(e){var t="";null!=e&&e.replace?t=/.+@.+\..+/.test(e)?e:e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):t=e;return t},_fpa.utils.nl2br=function(e){var t=((e=Handlebars.Utils.escapeExpression(e))+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2");return new Handlebars.SafeString(t)},String.prototype.capitalize=function(){return _fpa.utils.capitalize(this)},String.prototype.underscore=function(){return this.replace(/[^a-zA-z0-9]/g,"_")},String.prototype.hyphenate=function(){return this.replace(/_/g,"-")},String.prototype.pathify=function(){return this.replace(/__/g,"/")},_fpa.utils.is_blank=function(e){return null===e||""===e},_fpa.utils.html_entity_map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_fpa.utils.escape_html=function(e){return String(e).replace(/[&<>"']/g,function(e){return _fpa.html_entity_map[e]})},_fpa.utils.ISOdatetoTimestamp=function(e){if(null==e)return null;if("number"==typeof e)return e;if(0<=e.indexOf("t")&&0<=e.indexOf("z")||0<=e.indexOf("T")&&0<=e.indexOf("Z")||0<=e.indexOf("t")&&0<=e.indexOf("+")||0<=e.indexOf("T")&&0<=e.indexOf("+")){var t=new Date(Date.parse(e));return t?t.getTime().toFixed(0):e}return e},_fpa.utils.YMDtoLocale=function(e){if(0<=e.indexOf("t")&&0<=e.indexOf("z")||0<=e.indexOf("T")&&0<=e.indexOf("Z")||15<e.length)var t=_fpa.utils.isoDateStringToLocale(e);else t=_fpa.utils.isoDateStringToLocale(e);return"Invalid Date"==t&&(t=e),t},_fpa.utils.YMDtimeToLocale=function(e){if(0<=e.indexOf("t")&&0<=e.indexOf("z")||0<=e.indexOf("T")&&0<=e.indexOf("Z")||15<e.length)var t=_fpa.utils.isoDateTimeStringToLocale(e);else t=_fpa.utils.isoDateTimeStringToLocale(e);return"Invalid Date"==t&&(t=e),t},_fpa.utils.parseLocaleDate=function(e){if(""==(e=e.trim()))return"";var t=e.substring(6,10)+"-"+e.substring(0,2)+"-"+e.substring(3,5)+"T00:00:00Z";return new Date(t)},Date.prototype.asLocale=function(){return _fpa.utils.isoDateStringToLocale(this.toISOString())},_fpa.utils.isoDateStringToLocale=function(e){return""==(e=e.trim())?"":e.substring(5,7)+"/"+e.substring(8,10)+"/"+e.substring(0,4)},_fpa.utils.isoDateTimeStringToLocale=function(e){return""==(e=e.trim())?"":e.substring(5,7)+"/"+e.substring(8,10)+"/"+e.substring(0,4)+" "+e.substring(11,19)},Date.prototype.asYMD=function(){var e=this,t=("0"+e.getUTCDate()).slice(-2),n=("0"+(e.getUTCMonth()+1)).slice(-2);return e.getUTCFullYear()+"-"+n+"-"+t},_fpa.utils.translate=function(e,t){if(_fpa.locale_t&&_fpa.locale_t[t]){var n=_fpa.locale_t.field_names[e];if(n)return e=n}return e},_fpa.utils.pretty_print=function(e,t){return null===e||""===e?"":(e&&8<=e.length&&e.match(/^\d\d\d\d-\d\d-\d\d.*/)&&(0<=e.indexOf("t")&&0<=e.indexOf("z")||0<=e.indexOf("T")&&0<=e.indexOf("Z")?(n=new Date(Date.parse(e)),i=!0):(n=new Date(Date.parse(e+"T00:00:00Z")),i=!1)),void 0!==n&&n&&"Invalid Date"!=n?i?(n=new Date(n.getTime()+6e4*n.getTimezoneOffset())).toLocaleDateString():new Date(e).toLocaleDateString(undefined,{timeZone:"UTC"}):t.return_string?null===e||e instanceof String||e instanceof Number||"object"!=typeof e?t.capitalize&&(!e||e.length<30)?_fpa.utils.capitalize(e):_fpa.utils.nl2br(e):0<Object.keys(e).length?e:null:null);var n,i},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(T,S){function D(){return new Date(Date.UTC.apply(Date,arguments))}function k(){var e=new Date;return D(e.getFullYear(),e.getMonth(),e.getDate())}function s(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function e(e,t){return function(){return t!==S&&T.fn.datepicker.deprecated(t),this[e].apply(this,arguments)}}function c(e){return e&&!isNaN(e.getTime())}function u(e,t){function n(e,t){return t.toLowerCase()}var i=T(e).data(),r={},s=new RegExp("^"+t.toLowerCase()+"([A-Z])");for(var a in t=new RegExp("^"+t.toLowerCase()),i)t.test(a)&&(r[a.replace(s,n)]=i[a]);return r}function d(e){var n={};if(E[e]||(e=e.split("-")[0],E[e])){var i=E[e];return T.each(a,function(e,t){t in i&&(n[t]=i[t])}),n}}var t,n=(t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-t&&this[n].valueOf()-t<864e5)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(e){e&&(T.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var e=new n;return e.replace(this),e}},function(){var e=[];return e.push.apply(e,arguments),T.extend(e,t),e}),x=function(e,t){T.data(e,"datepicker",this),this._process_options(t),this.dates=new n,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=T(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=T(A.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return Number(t)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};x.prototype={constructor:x,_resolveViewName:function(n){return T.each(A.viewModes,function(e,t){if(n===e||-1!==T.inArray(n,t.names))return n=e,!1}),n},_resolveDaysOfWeek:function(e){return T.isArray(e)||(e=e.split(/[,\s]*/)),T.map(e,Number)},_check_template:function(e){try{return e!==S&&""!==e&&((e.match(/[<>]/g)||[]).length<=0||0<T(e).length)}catch(t){return!1}},_process_options:function(e){this._o=T.extend({},this._o,e);var t=this.o=T.extend({},this._o),n=t.language;E[n]||(n=n.split("-")[0],E[n]||(n=p.language)),t.language=n,t.startView=this._resolveViewName(t.startView),t.minViewMode=this._resolveViewName(t.minViewMode),t.maxViewMode=this._resolveViewName(t.maxViewMode),t.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,t.startView)),!0!==t.multidate&&(t.multidate=Number(t.multidate)||!1,!1!==t.multidate&&(t.multidate=Math.max(0,t.multidate))),t.multidateSeparator=String(t.multidateSeparator),t.weekStart%=7,t.weekEnd=(t.weekStart+6)%7;var i=A.parseFormat(t.format);t.startDate!==-Infinity&&(t.startDate?t.startDate instanceof Date?t.startDate=this._local_to_utc(this._zero_time(t.startDate)):t.startDate=A.parseDate(t.startDate,i,t.language,t.assumeNearbyYear):t.startDate=-Infinity),t.endDate!==Infinity&&(t.endDate?t.endDate instanceof Date?t.endDate=this._local_to_utc(this._zero_time(t.endDate)):t.endDate=A.parseDate(t.endDate,i,t.language,t.assumeNearbyYear):t.endDate=Infinity),t.daysOfWeekDisabled=this._resolveDaysOfWeek(t.daysOfWeekDisabled||[]),t.daysOfWeekHighlighted=this._resolveDaysOfWeek(t.daysOfWeekHighlighted||[]),t.datesDisabled=t.datesDisabled||[],T.isArray(t.datesDisabled)||(t.datesDisabled=t.datesDisabled.split(",")),t.datesDisabled=T.map(t.datesDisabled,function(e){return A.parseDate(e,i,t.language,t.assumeNearbyYear)});var r=String(t.orientation).toLowerCase().split(/\s+/g),s=t.orientation.toLowerCase();if(r=T.grep(r,function(e){return/^auto|left|right|top|bottom$/.test(e)}),t.orientation={x:"auto",y:"auto"},s&&"auto"!==s)if(1===r.length)switch(r[0]){case"top":case"bottom":t.orientation.y=r[0];break;case"left":case"right":t.orientation.x=r[0]}else s=T.grep(r,function(e){return/^left|right$/.test(e)}),t.orientation.x=s[0]||"auto",s=T.grep(r,function(e){return/^top|bottom$/.test(e)}),t.orientation.y=s[0]||"auto";else;if(t.defaultViewDate instanceof Date||"string"==typeof t.defaultViewDate)t.defaultViewDate=A.parseDate(t.defaultViewDate,i,t.language,t.assumeNearbyYear);else if(t.defaultViewDate){var a=t.defaultViewDate.year||(new Date).getFullYear(),o=t.defaultViewDate.month||0,l=t.defaultViewDate.day||1;t.defaultViewDate=D(a,o,l)}else t.defaultViewDate=k()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,n,i,r=0;r<e.length;r++)t=e[r][0],2===e[r].length?(n=S,i=e[r][1]):3===e[r].length&&(n=e[r][1],i=e[r][2]),t.on(i,n)},_unapplyEvents:function(e){for(var t,n,i,r=0;r<e.length;r++)t=e[r][0],2===e[r].length?(i=S,n=e[r][1]):3===e[r].length&&(i=e[r][1],n=e[r][2]),t.off(n,i)},_buildEvents:function(){var e={keyup:T.proxy(function(e){-1===T.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:T.proxy(this.keydown,this),paste:T.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=T.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:T.proxy(this.show,this)}]]:this._events=[[this.element,{click:T.proxy(this.show,this),keydown:T.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:T.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:T.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":T.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:T.proxy(this.click,this)}],[this.picker,".prev, .next",{click:T.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:T.proxy(this.dayCellClick,this)}],[T(window),{resize:T.proxy(this.place,this)}],[T(document),{"mousedown touchstart":T.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,t){var n=t||this.dates.get(-1),i=this._utc_to_local(n);this.element.trigger({type:e,date:i,viewMode:this.viewMode,dates:T.map(this.dates,this._utc_to_local),format:T.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return A.formatDate(n,t,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&T(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var t;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==T.inArray("text/plain",e.originalEvent.clipboardData.types))t=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;t=window.clipboardData.getData("Text")}this.setDate(t),this.update(),e.preventDefault()},_utc_to_local:function(e){if(!e)return e;var t=new Date(e.getTime()+6e4*e.getTimezoneOffset());return t.getTimezoneOffset()!==e.getTimezoneOffset()&&(t=new Date(e.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&D(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return T.map(this.dates,this._utc_to_local)},getUTCDates:function(){return T.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return e!==S?new Date(e):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(e){var t=T.isArray(e)?e:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(e){var t=T.isArray(e)?e:arguments;return this.setDates.apply(this,T.map(t,this._utc_to_local)),this},setDate:e("setDates"),setUTCDate:e("setUTCDates"),remove:e("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(t){t===S&&(t=this.o.format);var n=this.o.language;return T.map(this.dates,function(e){return A.formatDate(e,t,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),t=this.picker.outerHeight(),n=10,i=T(this.o.container),r=i.width(),s="body"===this.o.container?T(document).scrollTop():i.scrollTop(),a=i.offset(),o=[0];this.element.parents().each(function(){var e=T(this).css("z-index");"auto"!==e&&0!==Number(e)&&o.push(Number(e))});var l=Math.max.apply(Math,o)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=c.left-a.left,p=c.top-a.top;"body"!==this.o.container&&(p+=s),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=e-d)):c.left<0?(this.picker.addClass("datepicker-orient-left"),h-=c.left-n):r<h+e?(this.picker.addClass("datepicker-orient-right"),h+=d-e):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var f=this.o.orientation.y;if("auto"===f&&(f=-s+p-t<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+f),"top"===f?p-=t+parseInt(this.picker.css("padding-top")):p+=u,this.o.rtl){var m=r-(h+d);this.picker.css({top:p,right:m,zIndex:l})}else this.picker.css({top:p,left:h,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],t=!1;return arguments.length?(T.each(arguments,T.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),t=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=T.map(n,T.proxy(function(e){return A.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=T.grep(n,T.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),t?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&t&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(t+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)t+='<th class="dow',-1!==T.inArray(e,this.o.daysOfWeekDisabled)&&(t+=" disabled"),t+='">'+E[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)}},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",n=0;n<12;n++)t+='<span class="month'+(e&&e.getMonth()===n?" focused":"")+'">'+E[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=T.map(e,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var t=[],n=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),r=k();return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<i?t.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>i)&&t.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&t.push("focused"),this.o.todayHighlight&&s(e,r)&&t.push("today"),-1!==this.dates.contains(e)&&t.push("active"),this.dateWithinRange(e)||t.push("disabled"),this.dateIsDisabled(e)&&t.push("disabled","disabled-date"),-1!==T.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&t.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&t.push("range"),-1!==T.inArray(e.valueOf(),this.range)&&t.push("selected"),e.valueOf()===this.range[0]&&t.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&t.push("range-end")),t},_fill_yearsView:function(e,t,n,i,r,s,a){for(var o,l,c,u="",d=n/10,h=this.picker.find(e),p=Math.floor(i/n)*n,f=p+9*d,m=Math.floor(this.viewDate.getFullYear()/d)*d,g=T.map(this.dates,function(e){return Math.floor(e.getUTCFullYear()/d)*d}),_=p-d;_<=f+d;_+=d)o=[t],l=null,_===p-d?o.push("old"
):_===f+d&&o.push("new"),-1!==T.inArray(_,g)&&o.push("active"),(_<r||s<_)&&o.push("disabled"),_===m&&o.push("focused"),a!==T.noop&&((c=a(new Date(_,0,1)))===S?c={}:"boolean"==typeof c?c={enabled:c}:"string"==typeof c&&(c={classes:c}),!1===c.enabled&&o.push("disabled"),c.classes&&(o=o.concat(c.classes.split(/\s+/))),c.tooltip&&(l=c.tooltip)),u+='<span class="'+o.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+_+"</span>";h.find(".datepicker-switch").text(p+"-"+f),h.find("td").html(u)},fill:function(){var e,t,n=new Date(this.viewDate),r=n.getUTCFullYear(),i=n.getUTCMonth(),s=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,a=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,o=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,c=E[this.o.language].today||E.en.today||"",u=E[this.o.language].clear||E.en.clear||"",d=E[this.o.language].titleFormat||E.en.titleFormat;if(!isNaN(r)&&!isNaN(i)){this.picker.find(".datepicker-days .datepicker-switch").text(A.formatDate(n,d,this.o.language)),this.picker.find("tfoot .today").text(c).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(u).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var h=D(r,i,0),p=h.getUTCDate();h.setUTCDate(p-(h.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(h);h.getUTCFullYear()<100&&f.setUTCFullYear(h.getUTCFullYear()),f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var m,g,_=[];h.valueOf()<f;){if((m=h.getUTCDay())===this.o.weekStart&&(_.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+h+(this.o.weekStart-m-7)%7*864e5),y=new Date(Number(v)+(11-v.getUTCDay())%7*864e5),b=new Date(Number(b=D(y.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),w=(y-b)/864e5/7+1;_.push('<td class="cw">'+w+"</td>")}(g=this.getClassNames(h)).push("day");var k=h.getUTCDate();this.o.beforeShowDay!==T.noop&&((t=this.o.beforeShowDay(this._utc_to_local(h)))===S?t={}:"boolean"==typeof t?t={enabled:t}:"string"==typeof t&&(t={classes:t}),!1===t.enabled&&g.push("disabled"),t.classes&&(g=g.concat(t.classes.split(/\s+/))),t.tooltip&&(e=t.tooltip),t.content&&(k=t.content)),g=T.isFunction(T.uniqueSort)?T.uniqueSort(g):T.unique(g),_.push('<td class="'+g.join(" ")+'"'+(e?' title="'+e+'"':"")+' data-date="'+h.getTime().toString()+'">'+k+"</td>"),e=null,m===this.o.weekEnd&&_.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(_.join(""));var x=E[this.o.language].monthsTitle||E.en.monthsTitle||"Months",C=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?x:r).end().find("tbody span").removeClass("active");if(T.each(this.dates,function(e,t){t.getUTCFullYear()===r&&C.eq(t.getUTCMonth()).addClass("active")}),(r<s||o<r)&&C.addClass("disabled"),r===s&&C.slice(0,a).addClass("disabled"),r===o&&C.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==T.noop){var $=this;T.each(C,function(e,t){var n=new Date(r,e,1),i=$.o.beforeShowMonth(n);i===S?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1!==i.enabled||T(t).hasClass("disabled")||T(t).addClass("disabled"),i.classes&&T(t).addClass(i.classes),i.tooltip&&T(t).prop("title",i.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,r,s,o,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,r,s,o,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,r,s,o,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e,t,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),s=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,a=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,o=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,c=1;switch(this.viewMode){case 0:e=i<=s&&r<=a,t=o<=i&&l<=r;break;case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:e=Math.floor(i/c)*c<=s,t=Math.floor(i/c)*c+c>=o}this.picker.find(".prev").toggleClass("disabled",e),this.picker.find(".next").toggleClass("disabled",t)}},click:function(e){var t,n,i,r;e.preventDefault(),e.stopPropagation(),(t=T(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),t.hasClass("today")&&!t.hasClass("day")&&(this.setViewMode(0),this._setDate(k(),"linked"===this.o.todayBtn?null:"view")),t.hasClass("clear")&&this.clearDates(),t.hasClass("disabled")||(t.hasClass("month")||t.hasClass("year")||t.hasClass("decade")||t.hasClass("century"))&&(this.viewDate.setUTCDate(1),(n=1)===this.viewMode?(r=t.parent().find("span").index(t),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r)):(r=0,i=Number(t.text()),this.viewDate.setUTCFullYear(i)),this._trigger(A.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(D(i,r,n)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var t=T(e.currentTarget).data("date"),n=new Date(t);this.o.updateViewDate&&(n.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),n.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(n)},navArrowsClick:function(e){var t=T(e.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(t*=12*A.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,t),this._trigger(A.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(t):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(e)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),(!t&&this.o.updateViewDate||"view"===t)&&(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var n=new Date(e);return n.setUTCDate(e.getUTCDate()+t),n},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!c(e))return this.o.defaultViewDate;if(!t)return e;var n,i,r=new Date(e.valueOf()),s=r.getUTCDate(),a=r.getUTCMonth(),o=Math.abs(t);if(t=0<t?1:-1,1===o)i=-1===t?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==n},n=a+t,r.setUTCMonth(n),n=(n+12)%12;else{for(var l=0;l<o;l++)r=this.moveMonth(r,t);n=r.getUTCMonth(),r.setUTCDate(s),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--s),r.setUTCMonth(n);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,n){do{if(e=this[n](e,t),!this.dateWithinRange(e))return!1;n="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(e){return-1!==T.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||0<T.grep(this.o.datesDisabled,function(e){return s(t,e)}).length},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":visible")){var t,n,i=!1,r=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(n=this.moveAvailableDate(r,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(n=this.moveAvailableDate(r,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?n=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,t,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(t*=4),n=this.moveAvailableDate(r,t,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(t*=4),n=this.moveAvailableDate(r,t,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation())},setViewMode:function(e){this.viewMode=e,this.picker.children("div").hide().filter(".datepicker-"+A.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var h=function(e,t){T.data(e,"datepicker",this),this.element=T(e),this.inputs=T.map(t.inputs,function(e){return e.jquery?e[0]:e}),delete t.inputs,this.keepEmptyValues=t.keepEmptyValues,delete t.keepEmptyValues,r.call(T(this.inputs),t).on("changeDate",T.proxy(this.dateUpdated,this)),this.pickers=T.map(this.inputs,function(e){return T.data(e,"datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=T.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var n=T.map(this.dates,function(e){return e.valueOf()});T.each(this.pickers,function(e,t){t.setRange(n)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=T.data(e.target,"datepicker");if(n!==S){var i=n.getUTCDate(),r=this.keepEmptyValues,t=T.inArray(e.target,this.inputs),s=t-1,a=t+1,o=this.inputs.length;if(-1!==t){if(T.each(this.pickers,function(e,t){t.getUTCDate()||t!==n&&r||t.setUTCDate(i)}),i<this.dates[s])for(;0<=s&&i<this.dates[s];)this.pickers[s--].setUTCDate(i);else if(i>this.dates[a])for(;a<o&&i>this.dates[a];)this.pickers[a++].setUTCDate(i);this.updateDates(),delete this.updating}}}},destroy:function(){T.map(this.pickers,function(e){e.destroy()}),T(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:e("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var i=T.fn.datepicker,r=function(a){var o,l=Array.apply(null,arguments);if(l.shift(),this.each(function(){var e=T(this),t=e.data("datepicker"),n="object"==typeof a&&a;if(!t){var i=u(this,"date"),r=d(T.extend({},p,i,n).language),s=T.extend({},p,r,i,n);e.hasClass("input-daterange")||s.inputs?(T.extend(s,{inputs:s.inputs||e.find("input").toArray()}),t=new h(this,s)):t=new x(this,s),e.data("datepicker",t)}"string"==typeof a&&"function"==typeof t[a]&&(o=t[a].apply(t,l))}),o===S||o instanceof x||o instanceof h)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+a+" function)");return o};T.fn.datepicker=r;var p=T.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:T.noop,beforeShowMonth:T.noop,beforeShowYear:T.noop,beforeShowDecade:T.noop,beforeShowCentury:T.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},a=T.fn.datepicker.locale_opts=["format","rtl","weekStart"];T.fn.datepicker.Constructor=x;var E=T.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},A={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(e,t,n,i){function r(e,t){return!0===t&&(t=10),e<100&&(e+=2e3)>(new Date).getFullYear()+t&&(e-=100),e}function s(){var e=this.slice(0,a[c].length),t=a[c].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!e)return S;if(e instanceof Date)return e;if("string"==typeof t&&(t=A.parseFormat(t)),t.toValue)return t.toValue(e,t,n);var a,o,l,c,u,d={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},h={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(e in h&&(e=h[e]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(e)){for(a=e.match(/([\-+]\d+)([dmwy])/gi),e=new Date,c=0;c<a.length;c++)o=a[c].match(/([\-+]\d+)([dmwy])/i),l=Number(o[1]),u=d[o[2].toLowerCase()],e=x.prototype[u](e,l);return x.prototype._zero_utc_time(e)}a=e&&e.match(this.nonpunctuation)||[];var p,f,m={},g=["yyyy","yy","M","MM","m","mm","d","dd"],_={yyyy:function(e,t){return e.setUTCFullYear(i?r(t,i):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};_.yy=_.yyyy,_.M=_.MM=_.mm=_.m,_.dd=_.d,e=k();var v=t.parts.slice();if(a.length!==v.length&&(v=T(v).filter(function(e,t){return-1!==T.inArray(t,g)}).toArray()),a.length===v.length){var y,b,w;for(c=0,y=v.length;c<y;c++){if(p=parseInt(a[c],10),o=v[c],isNaN(p))switch(o){case"MM":f=T(E[n].months).filter(s),p=T.inArray(f[0],E[n].months)+1;break;case"M":f=T(E[n].monthsShort).filter(s),p=T.inArray(f[0],E[n].monthsShort)+1}m[o]=p}for(c=0;c<g.length;c++)(w=g[c])in m&&!isNaN(m[w])&&(b=new Date(e),_[w](b,m[w]),isNaN(b)||(e=b))}return e},formatDate:function(e,t,n){if(!e)return"";if("string"==typeof t&&(t=A.parseFormat(t)),t.toDisplay)return t.toDisplay(e,t,n);var i={d:e.getUTCDate(),D:E[n].daysShort[e.getUTCDay()],DD:E[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:E[n].monthsShort[e.getUTCMonth()],MM:E[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,e=[];for(var r=T.extend([],t.separators),s=0,a=t.parts.length;s<=a;s++)r.length&&e.push(r.shift()),e.push(i[t.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+p.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+p.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};A.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+A.headTemplate+"<tbody></tbody>"+A.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+A.headTemplate+A.contTemplate+A.footTemplate+"</table></div></div>",T.fn.datepicker.DPGlobal=A,T.fn.datepicker.noConflict=function(){return T.fn.datepicker=i,this},T.fn.datepicker.version="1.7.1",T.fn.datepicker.deprecated=function(e){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+e)},T(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var t=T(this);t.data("datepicker")||(e.preventDefault(),r.call(t,"show"))}),T(function(){r.call(T('[data-provide="datepicker-inline"]'))})}),Handlebars.registerHelper("format_sage_id",function(e){var t=e.substring(0,3)+" "+e.substring(3,6)+" "+e.substring(6,10);return new Handlebars.SafeString(t)}),Handlebars.registerHelper("uppercase",function(e){return new Handlebars.SafeString(e.toUpperCase())}),Handlebars.registerHelper("pattern_mask",function(e,t){var n=$('<span class="dynamic-span-mask">'+t+"</span>"),i=_fpa.masker.mask_from_pattern(e);n.mask(i.mask,{translation:i.translation,reverse:i.reverse});var r=n.html();return new Handlebars.SafeString(r.toUpperCase())}),function(e,t){"object"==typeof exports?module.exports=t(require("handlebars")):"function"==typeof define&&define.amd?define(["handlebars"],t):e.HandlebarsHelpersRegistry=t(e.Handlebars)}(this,function(n){var i=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e=function(){this.expressions=[]};e.prototype.add=function(e,t){this.expressions[e]=t},e.prototype.call=function(e,t,n){if(!this.expressions.hasOwnProperty(e))throw new Error('Unknown operator "'+e+'"');return this.expressions[e](t,n)};var s=new e;s.add("not",function(e,t){return e!=t}),s.add(">",function(e,t){return t<e}),s.add("<",function(e,t){return e<t}),s.add(">=",function(e,t){return t<=e}),s.add("<=",function(e,t){return e<=t}),s.add("===",function(e,t){return e===t}),s.add("!==",function(e,t){return e!==t}),s.add("in",function(e,t){return i(t)||(t=t.split(",")),-1!==t.indexOf(e)}),s.add("!in",function(e,t){return i(t)||(t=t.split(",")),-1===t.indexOf(e)}),s.add("includes",function(e,t){if(e){new RegExp(t);return-1!==e.search(t)}}),s.add("typeof",function(e,t){if(t)return"object"==t?null!==e&&!(e instanceof String)&&!(e instanceof Number)&&!(e instanceof Date)&&"object"==typeof e&&Object.keys(e).length:typeof e==t});var t=function(){var e=arguments,t=e[0],n=e[1],i=e[2],r=e[3];return 2==e.length?(r=e[1],t?r.fn(this):r.inverse(this)):3==e.length?(i=e[1],r=e[2],t==i?r.fn(this):r.inverse(this)):s.call(n,t,i)?r.fn(this):r.inverse(this)},r=function(e,t,n){return e&&-1!==e.indexOf(t)?n.fn(this):n.inverse(this)};return n.registerHelper("is",t),n.registerHelper("contains",r),n.registerHelper("split",function(e,t){var n="";if(!e)return n;for(var i in e)n+="<"+t+">"+e[i]+"</"+t+">";return n}),n.registerHelper("if_all",function(){for(var e=[].slice.apply(arguments),t=e.pop(),n=t.fn,i=0;i<e.length;++i)if(!e[i]){n=t.inverse;break}return n(this)}),n.registerHelper("caption_before_substitutions",function(e,t){var n=t.fn(this),i=$(n);return _fpa.form_utils.caption_before_substitutions(i,e),i[0].outerHTML}),n.registerHelper("join",function(e,t){return e.join(t)}),n.registerHelper("replace",function(e,t,n,i){var r;if(!t||""==t)return e;if(null!=e){i.hasOwnProperty("name")||(r=i);var s=new RegExp(t,r);return e.replace(s,n)}}),n.registerHelper("was",function(e,t){return e||0===e?t.fn(this):t.inverse(this)}),n.registerHelper("has",function(e,t){return this.hasOwnProperty(e)?t.fn(this):t.inverse(this)}),n.registerHelper("includes",function(e,t){if(e){new RegExp(t);return-1!==e.search(t)}}),n.registerHelper("with_content",function(e,t,n,i){return with_content(e,t,n,i)}),n.registerHelper("stringify",function(e){return JSON.stringify(e,undefined,4)}),n.registerHelper("plain_object",function(e){return e}),n.registerHelper("typeof",function(e){return typeof e}),n.registerHelper("nl2br",function(e){return _fpa.utils.nl2br(e)}),n.registerHelper("quoteattr",function(e){var t=!1;return t=t?"&#13;":"\n",(""+e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,t).replace(/[\r\n]/g,t)}),n.registerHelper("timestamp",function(e){if(e)return _fpa.utils.ISOdatetoTimestamp(e)}),n.registerHelper("get",function(e,t,n,i){if(e&&t){var r=e[t.toString()];return n&&r?(r=r[n],i&&r?r[i]:r):r}}),n.registerHelper("date_time",function(e){if(e){var t=new Date(Date.parse(e)).toLocaleString();return new n.SafeString(t)}t=(new Date).toLocaleString();return new n.SafeString(t)}),n.registerHelper("format_10_digit_external_id",function(e){var t=(e=""+e).substring(0,3)+" "+e.substring(3,6)+" "+e.substring(6,10);return new n.SafeString(t)}),n.registerHelper("fpa_state_item",function(e,t,n){var i=_fpa.state[e];return i&&t&&(i=i[t]),i&&n&&!n.hash&&(i=i[n]),i}),n.registerHelper("pad_start",function(e,t,n){return String(e).padStart(t,n)}),n.registerHelper("simple_log",function(e){console.log(e)}),n.registerHelper("log",function(){console.log(["Values:"].concat(Array.prototype.slice.call(arguments,0,-1)))}),n.registerHelper("debug",function(){console.log("Context:",this),console.log(["Values:"].concat(Array.prototype.slice.call(arguments,0,-1)))}),n.registerHelper("filter",function(e,t,n){var i,r,s,a;r="";var o=t.split(",");for(s=0,a=o.length;s<a;s++)i=e[o[s]],r+=n.fn(i,{data:{key:o[s]}});return r}),n.registerHelper("local_date",function(e,t,n){if(null===e||""===e)return t;var i=e,r=new Date(Date.parse(e+"T00:00:00Z"));return r&&"Invalid Date"!=r?new Date(i).toLocaleDateString(undefined,{timeZone:"UTC"}):n.hash.return_string?e:t}),n.registerHelper("underscore",function(e){return e?e.toLowerCase().replace(/ /g,"_"):null}),n.registerHelper("pretty_string",function(e,t){return t&&!t.hash&&(t.hash={}),_fpa.utils.pretty_print(e,t.hash)}),n.registerHelper("local_time",function(e,t){if(e&&""!=e&&e.length){if(t&&!t.hash&&(t.hash={}),1<(n=e.toString()).toLowerCase().indexOf("pm")||1<n.toLowerCase().indexOf("am"))return n;var n=new Date(n);return new Date(n.getTime()+6e4*n.getTimezoneOffset()).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}}),n.registerHelper("capitalize",function(e){return _fpa.utils.capitalize(e)}),n.registerHelper("hyphenate",function(e){if(e)return e.hyphenate()}),n.registerHelper("pathify",function(e){if(e)return e.pathify()}),n.registerHelper("pluralize",function(e){if(e)return"y"==e[e.length-1]?e.substring(0,e.length-1)+"ies":e+"s"}),n.registerHelper("substring",function(e,t,n){if(null!=e){if(e.toString&&(e=e.toString()),!e.substring)return e;var i=document.createElement("textarea");return i.innerHTML=e,(e=i.value).length>n+10&&(e=e.substring(t,n),e+="(...)"),e}}),n.registerHelper("one_decimal",function(e){return e.toFixed(1)}),n.registerHelper("pretty_print",function(e){return JSON.stringify(e,null,2)}),n.registerHelper("pretty_print_html",function(e){return JSON.stringify(e,null,"<div>  ")}),n.registerHelper("humanize",function(e){if(e)return(e=_fpa.utils.translate(e,"field_labels")).replace(/_/g," ")}),n.registerHelper("in",function(e,t,n,i){return 0<=n.split(",").indexOf(t)?i.fn(e):i.inverse(e)}),s}),_fpa.masters={max_results:100,switch_id_on_click:function(e){e.find(".switch_id").not("attached-switch-click").click(function(e){e.preventDefault();var t=$(this).parent(),n=t.find("span.alt_id"),i=t.find("span.master_id");n.is(":visible")?(n.hide(),i.show(),$(this).attr("title","switch to Master ID")):(i.hide(),n.show(),$(this).attr("title","switch to alternative ID"))}).addClass("attached-switch-click")},handle_search_form:function(e){e.each(function(){var n=$(this);n.find("input, select, textarea").not(".no-auto-submit, .tt-input, .attached-change").on("change",function(){_fpa.cancel_remote();var e=$(this).attr("data-only-for"),t=($(this).val(),!0);e&&$(e).each(function(){var e=$(this);null===e.val()||""===e.val()||e.hasClass("prevent-submit")||(t=!1)}),e&&t||window.setTimeout(function(){n.find('input[type="submit"].auto-submitter').click()},1),$(".prevent-submit").removeClass("prevent-submit")}).addClass("attached-change"),n.find("input.tt-input").not(".attached-change").on("blur",function(){window.setTimeout(function(){n.find('input[type="submit"].auto-submitter').click()},1)}).addClass("attached-change"),n.find('input[type="submit"]').click(function(){var e=$(this).val(),t=!1;"csv"!==e&&"json"!==e||(t=!0);var n=$(this).parents("form").first();n.data("remote",!t).attr("target",t?e:null),n.find('input[name="part"]').val(t?"":"results"),t&&$("#master_results_block").html('<h3 class="text-center">Exported '+e+"</h3>")})}).on("keypress",function(){_fpa.cancel_remote()}).on("submit",function(){$(this).data("remote")&&$("#master_results_block").html('<h3 class="text-center"><span class="glyphicon glyphicon-search search-running"></span></h3>')})},set_fields_to_search:function(){var t=$(".search_master");_fpa.masters.handle_search_form(t),$(".clear-fields").not(".attached-clear-fields").on("click",function(e){$(this).attr("disabled")||(e.preventDefault(),t.find("input, select").not('[type="submit"], [type="hidden"]').val(null).removeClass("has-value"),$("select[multiple]").trigger("chosen:updated"),$("#master_results_block").html('<h3 class="text-center"></h3>'),$("#search_count_simple").html(""),$("#search_count").html(""))}).addClass("attached-clear-fields"),$("#master_not_tracker_histories_attributes_0_sub_process_id").not(".attached-force-notice").on("change",function(){var e=$(this).val();e&&""!==e?($("#search_count").html(""),$("#master_results_block").html('<h3 class="text-center">Select any event to search for a protocol/category never having the selected process</h3>'),$(".tsf-any-event-not").addClass("has-warning").one("change",function(){$(this).removeClass("has-warning")}),$(".tsf-any-event-not select").focus()):$(this).parents("form").submit()}).addClass("attached-force-notice"),$("#master_not_trackers_attributes_0_sub_process_id").not(".attached-force-notice").on("change",function(){var e=$(this).val();e&&""!==e?($("#search_count").html(""),$("#master_results_block").html('<h3 class="text-center">Select current event to search for a protocol/category not currently in the selected process</h3>'),$(".tsf-current-event-not").addClass("has-warning").one("change",function(){$(this).removeClass("has-warning")}),$(".tsf-current-event-not select").focus()):$(this).parents("form").submit()}).addClass("attached-force-notice")}},_fpa.loaded.masters=function(){_fpa.masters.set_fields_to_search(),$("#expand-adv-form").click(function(){$("#master_results_block").html("")}),$("form").not(".navbar-form").find("input, select").on("keypress change",function(){$('.navbar-form input[type="text"]').removeClass("has-value").val("")}),$("form.new_master").on("submit",function(){_fpa.preprocessors.before_all($(this))})},_fpa.loaded.reports=function(){_fpa.postprocessors.reports_form($(".report-criteria")),$(".postprocessed-scroll-here").removeClass("postprocessed-scroll-here").addClass("prevent-scroll"),1==$("#editable_data").length&&1<=$(".report-criteria-fields").length&&$('input[type="submit"][value="table"]').click()},_fpa.reports={window_scrolling:function(){$("html").on("wheel",function(e){0<e.originalEvent.deltaY&&(_fpa.reports.report_position_buttons("go-to-results"),_fpa.reports.reset_window_scrolling())})},reset_window_scrolling:function(){$("html").off("wheel")},report_position_buttons:function(e){var t=$(".show-results-btn");t.not(".has-rsf-clicks").click(function(e){e.preventDefault(),_fpa.reports.report_position_buttons("go-to-results")}).addClass("has-rsf-clicks");var n=$(".back-to-search-form-btn");n.not(".has-rsf-clicks").click(function(e){e.preventDefault(),_fpa.reports.report_position_buttons("go-to-form")}).addClass("has-rsf-clicks"),"go-to-results"==e?(t.hide(),n.show(),_fpa.reports.reset_window_scrolling(),$.scrollTo("#report-results-block",200)):"go-to-form"==e&&(t.show(),n.hide(),_fpa.reports.window_scrolling(),$.scrollTo("#body-top",200))},results_subsearch:function(e){e.find('td[data-col-type^="search_reports_"]').not(".attached_report_search").each(function(){var e=$(this).attr("data-col-type");if(!$(this).hasClass("attached_report_search")&&e.match(/search_reports_[0-9]+_.+/)){var t=e.split("_",4),n=t[3],i=t[2],r=$(this).html(),s=$('<a href="'+("/reports/"+i+".json?&search_attrs["+n+"]="+r+"&commit=search")+'" data-remote="true" data-result-target="#modal_results_block" data-result-target-force="true" data-template="modal-pi-search-results-template" title="click to search">'+$(this).html()+"</a>");$(this).html(s),$(this).addClass("attached_report_search"),s.click(function(){var e='<div id="modal_results_block" class=""></div>';_fpa.show_modal(e,"Search results for "+r,!0)})}})},results_perform_action_link:function(e){e.find('td[data-col-type^="perform action:"]').not(".attached_report_search").each(function(){var e=$(this).attr("data-col-type").split(":",2)[1],t=$(this).html();if(t&&""!=t){var n=JSON.parse(t),i=n.perform_action;delete n.perform_action,n.label&&(e=n.label,delete n.label);var r={};for(var s in n)if(n.hasOwnProperty(s)){var a=n[s];0<=i.indexOf("!"+s)?i=i.replace("!"+s,a):r[s]=a}var o='<a href="'+i+"?"+$.param(r)+'" target="report-perform-action">'+e+"</a>";$(this).html(o)}})},results_select_items_for_form:function(e){var a,o;if(e.find('td[data-col-type^="select items:"]').not(".attached_report_search").each(function(){a=$(this).attr("data-col-type"),o=a.split(":",2);var e=$(this).html();if(e&&""!=e){var t=JSON.parse(e),n=t.field_name,i=t.value,r=$('<input type="checkbox" class="report-file-selector" name="'+n+'"/>');r.val(JSON.stringify(i));var s=r;$(this).html(s)}}),o){var t='<span class="report-files-actions"><input type="checkbox" id="report-select-all-files"><label for="report-select-all-files">select all</label> <input type="submit" value="'+o[1]+'" class="btn btn-primary"/></span>',n=$('<form id="itemselection-for-report" method="post" action="/nfs_store/downloads/multi" target="download_files"><input type="hidden" name="nfs_store_download[container_id]" value="multi"></form>'),i=$("table.report-table");n.insertBefore(i),i.appendTo($("#itemselection-for-report")),$(document).on("change","#report-select-all-files",function(){var e=$(".report-file-selector");$(this).is(":checked")?e.attr("checked",!0):e.attr("checked",null)}),i.find("thead th").each(function(){$(this).find("p:first").html()==a&&($(this).addClass("no-sort"),$(this).append(t))})}},run_autos:function(e){e||(e=".report-auto"),$(e).each(function(){var a=$(this),e=a.attr("data-report-id");_fpa.ajax_working(a),$.ajax({url:"/reports/"+e+".json?search_attrs=_use_defaults_",success:function(e){var t,n;if(_fpa.ajax_done(a),e&&e.search_attributes)for(var i in n="",e.search_attributes)if(e.search_attributes.hasOwnProperty(i)&&"ids_filter_previous"!==i){var r=e.search_attributes[i];n+='<div class="report-search-attr"><span class="attr-label">'+i+'</span><span class="attr-val">'+_fpa.utils.pretty_print(r,{return_string:!0})+"</span></div>"}if(e&&e.results&&e.results[0]){var s=e.results.length;t=1==s?s+" result":s+" results"}else t="-";a.find(".report-measure").html(t),n&&a.find(".report-search-attr").html(n)}})})}};var SecureViewAppSpecific=function(){var i=this;this.setup=function(e){return this.secure_view=e,this.$show_files=$("#sv-extra-actions-show_files"),this.$show_files.not(".sv-added-click-ev").on("click",function(e){var t=i.secure_view.$owner_el,n=t;n.hasClass("sv-file-listing")?i.close_folder():(n.addClass("sv-file-listing"),$(this).addClass("glyphicon-folder-close"),$(this).removeClass("glyphicon-folder-open"),t.find("a.refresh-container-list").attr("disabled",!0)),e.preventDefault()}).addClass("sv-added-click-ev"),this.close_folder(),this},this.close=function(){this.close_folder()},this.close_folder=function(){this.secure_view.$owner_el.removeClass(
"sv-file-listing"),this.$show_files.addClass("glyphicon-folder-open"),this.$show_files.removeClass("glyphicon-folder-close"),this.secure_view.$owner_el.find("a.refresh-container-list").attr("disabled",!1)}};