if(function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(S,e){"use strict";function g(e,t,n){var i,r=(t=t||ae).createElement("script");if(r.text=e,n)for(i in be)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function m(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?he[fe.call(e)]||"object":typeof e}function s(e){var t=!!e&&"length"in e&&e.length,n=m(e);return!ye(e)&&!_e(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}function c(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function t(e,n,i){return ye(n)?xe.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?xe.grep(e,function(e){return e===n!==i}):"string"!=typeof n?xe.grep(e,function(e){return-1<de.call(n,e)!==i}):xe.filter(n,e,i)}function n(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var n={};return xe.each(e.match(Re)||[],function(e,t){n[t]=!0}),n}function d(e){return e}function h(e){throw e}function l(e,t,n,i){var r;try{e&&ye(r=e.promise)?r.call(e).done(t).fail(n):e&&ye(r=e.then)?r.call(e,t,n):t.apply(undefined,[e].slice(i))}catch(e){n.apply(undefined,[e])}}function i(){ae.removeEventListener("DOMContentLoaded",i),S.removeEventListener("load",i),xe.ready()}function r(e,t){return t.toUpperCase()}function f(e){return e.replace(He,"ms-").replace(Le,r)}function o(){this.expando=xe.expando+o.uid++}function a(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Be.test(e)?JSON.parse(e):e)}function p(e,t,n){var i;if(n===undefined&&1===e.nodeType)if(i="data-"+t.replace(We,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=a(n)}catch(r){}ze.set(e,t,n)}else n=undefined;return n}function v(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return xe.css(e,t,"")},l=s(),c=n&&n[3]||(xe.cssNumber[t]?"":"px"),u=(xe.cssNumber[t]||"px"!==c&&+l)&&Ve.exec(xe.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)xe.style(e,t,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;u*=2,xe.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function y(e){var t,n=e.ownerDocument,i=e.nodeName,r=Ze[i];return r||(t=n.body.appendChild(n.createElement(i)),r=xe.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),Ze[i]=r)}function _(e,t){for(var n,i,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=je.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Ye(i)&&(r[o]=y(i))):"none"!==n&&(r[o]="none",je.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}function b(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],t===undefined||t&&c(e,t)?xe.merge([e],n):n}function w(e,t){for(var n=0,i=e.length;n<i;n++)je.set(e[n],"globalEval",!t||je.get(t[n],"globalEval"))}function x(e,t,n,i,r){for(var o,a,s,l,c,u,d=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===m(o))xe.merge(h,o.nodeType?[o]:o);else if(nt.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(Ke.exec(o)||["",""])[1].toLowerCase(),l=Je[s]||Je._default,a.innerHTML=l[1]+xe.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;xe.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",f=0;o=h[f++];)if(i&&-1<xe.inArray(o,i))r&&r.push(o);else if(c=xe.contains(o.ownerDocument,o),a=b(d.appendChild(o),"script"),c&&w(a),n)for(u=0;o=a[u++];)Qe.test(o.type||"")&&n.push(o);return d}function k(){return!0}function C(){return!1}function D(){try{return ae.activeElement}catch(e){}}function T(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=undefined),t)T(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=undefined):null==r&&("string"==typeof n?(r=i,i=undefined):(r=i,i=n,n=undefined)),!1===r)r=C;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return xe().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=xe.guid++)),e.each(function(){xe.event.add(this,t,r,i,n)})}function E(e,t){return c(e,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")&&xe(e).children("tbody")[0]||e}function M(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function I(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function P(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(je.hasData(e)&&(o=je.access(e),a=je.set(t,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)xe.event.add(t,r,c[r][n]);ze.hasData(e)&&(s=ze.access(e),l=xe.extend({},s),ze.set(t,l))}}function $(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Xe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function R(n,i,r,o){i=ce.apply([],i);var e,t,a,s,l,c,u=0,d=n.length,h=d-1,f=i[0],p=ye(f);if(p||1<d&&"string"==typeof f&&!ve.checkClone&&ct.test(f))return n.each(function(e){var t=n.eq(e);p&&(i[0]=f.call(this,e,t.html())),R(t,i,r,o)});if(d&&(t=(e=x(i,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=xe.map(b(e,"script"),M)).length;u<d;u++)l=e,u!==h&&(l=xe.clone(l,!0,!0),s&&xe.merge(a,b(l,"script"))),r.call(n[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,xe.map(a,I),u=0;u<s;u++)l=a[u],Qe.test(l.type||"")&&!je.access(l,"globalEval")&&xe.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?xe._evalUrl&&xe._evalUrl(l.src):g(l.textContent.replace(ut,""),c,l))}return n}function O(e,t,n){for(var i,r=t?xe.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||xe.cleanData(b(i)),i.parentNode&&(n&&xe.contains(i.ownerDocument,i)&&w(b(i,"script")),i.parentNode.removeChild(i));return e}function A(e,t,n){var i,r,o,a,s=e.style;return(n=n||ht(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||xe.contains(e.ownerDocument,e)||(a=xe.style(e,t)),!ve.pixelBoxStyles()&&dt.test(a)&&ft.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),a!==undefined?a+"":a}function N(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function H(e){if(e in _t)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=yt.length;n--;)if((e=yt[n]+t)in _t)return e}function L(e){var t=xe.cssProps[e];return t||(t=xe.cssProps[e]=H(e)||e),t}function F(e,t,n){var i=Ve.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function j(e,t,n,i,r,o){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=xe.css(e,n+qe[a],!0,r)),i?("content"===n&&(l-=xe.css(e,"padding"+qe[a],!0,r)),"margin"!==n&&(l-=xe.css(e,"border"+qe[a]+"Width",!0,r))):(l+=xe.css(e,"padding"+qe[a],!0,r),"padding"!==n?l+=xe.css(e,"border"+qe[a]+"Width",!0,r):s+=xe.css(e,"border"+qe[a]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))),l}function z(e,t,n){var i=ht(e),r=A(e,t,i),o="border-box"===xe.css(e,"boxSizing",!1,i),a=o;if(dt.test(r)){if(!n)return r;r="auto"}return a=a&&(ve.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===xe.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(r=parseFloat(r)||0)+j(e,t,n||(o?"border":"content"),a,i,r)+"px"}function B(e,t,n,i,r){return new B.prototype.init(e,t,n,i,r)}function W(){wt&&(!1===ae.hidden&&S.requestAnimationFrame?S.requestAnimationFrame(W):S.setTimeout(W,xe.fx.interval),xe.fx.tick())}function U(){return S.setTimeout(function(){bt=undefined}),bt=Date.now()}function V(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=qe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function q(e,t,n){for(var i,r=(Z.tweeners[t]||[]).concat(Z.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function Y(e,t,n){var i,r,o,a,s,l,c,u,d="width"in t||"height"in t,h=this,f={},p=e.style,g=e.nodeType&&Ye(e),m=je.get(e,"fxshow");for(i in n.queue||(null==(a=xe._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,xe.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],St.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||m[i]===undefined)continue;g=!0}f[i]=m&&m[i]||xe.style(e,i)}if((l=!xe.isEmptyObject(t))||!xe.isEmptyObject(f))for(i in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=je.get(e,"display")),"none"===(u=xe.css(e,"display"))&&(c?u=c:(_([e],!0),c=e.style.display||c,u=xe.css(e,"display"),_([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===xe.css(e,"float")&&(l||(h.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=je.access(e,"fxshow",{display:c}),o&&(m.hidden=!g),g&&_([e],!0),h.done(function(){for(i in g||_([e]),je.remove(e,"fxshow"),f)xe.style(e,i,f[i])})),l=q(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}function G(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=f(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=xe.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}function Z(o,e,t){var n,a,i=0,r=Z.prefilters.length,s=xe.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=bt||U(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return s.notifyWith(o,[c,n,t]),n<1&&r?t:(r||s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:xe.extend({},e),opts:xe.extend(!0,{specialEasing:{},easing:xe.easing._default},t),originalProperties:e,originalOptions:t,startTime:bt||U(),duration:t.duration,tweens:[],createTween:function(e,t){var n=xe.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c,e])):s.rejectWith(o,[c,e]),this}}),u=c.props;for(G(u,c.opts.specialEasing);i<r;i++)if(n=Z.prefilters[i].call(c,o,u,c.opts))return ye(n.stop)&&(xe._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return xe.map(u,q,c),ye(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),xe.fx.timer(xe.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c}function X(e){return(e.match(Re)||[]).join(" ")}function K(e){return e.getAttribute&&e.getAttribute("class")||""}function Q(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Re)||[]}function J(n,e,i,r){var t;if(Array.isArray(e))xe.each(e,function(e,t){i||Nt.test(n)?r(n,t):J(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,i,r)});else if(i||"object"!==m(e))r(n,e);else for(t in e)J(n+"["+t+"]",e[t],i,r)}function ee(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(Re)||[];if(ye(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function te(t,r,o,a){function s(e){var i;return l[e]=!0,xe.each(t[e]||[],function(e,t){var n=t(r,o,a);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(r.dataTypes.unshift(n),s(n),!1)}),i}var l={},c=t===Gt;return s(r.dataTypes[0])||!l["*"]&&s("*")}function ne(e,t){var n,i,r=xe.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&xe.extend(!0,e,i),e}function ie(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function re(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}var oe=[],ae=S.document,se=Object.getPrototypeOf,le=oe.slice,ce=oe.concat,ue=oe.push,de=oe.indexOf,he={},fe=he.toString,pe=he.hasOwnProperty,ge=pe.toString,me=ge.call(Object),ve={},ye=function ye(e){return"function"==typeof e&&"number"!=typeof e.nodeType},_e=function _e(e){return null!=e&&e===e.window},be={type:!0,src:!0,noModule:!0},we="3.3.1",xe=function(e,t){return new xe.fn.init(e,t)},ke=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;xe.fn=xe.prototype={jquery:we,constructor:xe,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=xe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return xe.each(this,e)},map:function(n){return this.pushStack(xe.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ue,sort:oe.sort,splice:oe.splice},xe.extend=xe.fn.extend=function(e){var t,n,i,r,o,a,s=e||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"==typeof s||ye(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(t=arguments[l]))for(n in t)i=s[n],s!==(r=t[n])&&(u&&r&&(xe.isPlainObject(r)||(o=Array.isArray(r)))?(o?(o=!1,a=i&&Array.isArray(i)?i:[]):a=i&&xe.isPlainObject(i)?i:{},s[n]=xe.extend(u,a,r)):r!==undefined&&(s[n]=r));return s},xe.extend({expando:"jQuery"+(we+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==fe.call(e))&&(!(t=se(e))||"function"==typeof(n=pe.call(t,"constructor")&&t.constructor)&&ge.call(n)===me)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){g(e)},each:function(e,t){var n,i=0;if(s(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(ke,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?xe.merge(n,"string"==typeof e?[e]:e):ue.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:de.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(s(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return ce.apply([],a)},guid:1,support:ve}),"function"==typeof Symbol&&(xe.fn[Symbol.iterator]=oe[Symbol.iterator]),xe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){he["[object "+t+"]"]=t.toLowerCase()});var Se=function(n){function b(e,t,n,i){var r,o,a,s,l,c,u,d=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!i&&((t?t.ownerDocument||t:z)!==R&&$(t),t=t||R,A)){if(11!==h&&(l=ve.exec(e)))if(r=l[1]){if(9===h){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(d&&(a=d.getElementById(r))&&F(t,a)&&a.id===r)return n.push(a),n}else{if(l[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&x.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(r)),n}if(x.qsa&&!q[e+" "]&&(!N||!N.test(e))){if(1!==h)d=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(we,xe):t.setAttribute("id",s=j),o=(c=D(e)).length;o--;)c[o]="#"+s+" "+g(c[o]);u=c.join(","),d=ye.test(e)&&p(t.parentNode)||t}if(u)try{return Q.apply(n,d.querySelectorAll(u)),n}catch(f){}finally{s===j&&t.removeAttribute("id")}}}return E(e.replace(se,"$1"),t,n,i)}function e(){function n(e,t){return i.push(e+" ")>k.cacheLength&&delete n[i.shift()],n[e+" "]=t}var i=[];return n}function l(e){return e[j]=!0,e}function r(e){var t=R.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=t}function c(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function i(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function o(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function a(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Se(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function s(a){return l(function(o){return o=+o,l(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function p(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function u(){}function g(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function d(s,e,t){var l=e.dir,c=e.next,u=c||l,d=t&&"parentNode"===u,h=W++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||d)return s(e,t,n);return!1}:function(e,t,n){var i,r,o,a=[B,h];if(n){for(;e=e[l];)if((1===e.nodeType||d)&&s(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||d)if(r=(o=e[j]||(e[j]={}))[e.uniqueID]||(o[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[l]||e;else{if((i=r[u])&&i[0]===B&&i[1]===h)return a[2]=i[2];if((r[u]=a)[2]=s(e,t,n))return!0}return!1}}function h(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function y(e,t,n){for(var i=0,r=t.length;i<r;i++)b(e,t[i],n);return n}function w(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function _(f,p,g,m,v,e){return m&&!m[j]&&(m=_(m)),v&&!v[j]&&(v=_(v,e)),l(function(e,t,n,i){var r,o,a,s=[],l=[],c=t.length,u=e||y(p||"*",n.nodeType?[n]:n,[]),d=!f||!e&&p?u:w(u,s,f,n,i),h=g?v||(e?f:c||m)?[]:t:d;if(g&&g(d,h,n,i),m)for(r=w(h,l),m(r,[],n,i),o=r.length;o--;)(a=r[o])&&(h[l[o]]=!(d[l[o]]=a));if(e){if(v||f){if(v){for(r=[],o=h.length;o--;)(a=h[o])&&r.push(d[o]=a);v(null,h=[],r,i)}for(o=h.length;o--;)(a=h[o])&&-1<(r=v?ee(e,a):s[o])&&(e[r]=!(t[r]=a))}}else h=w(h===t?h.splice(c,h.length):h),v?v(null,t,h,i):Q.apply(t,h)})}function f(e){for(var r,t,n,i=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=d(function(e){return e===r},a,!0),c=d(function(e){return-1<ee(r,e)},a,!0),u=[function(e,t,n){var i=!o&&(n||t!==M)||((r=t).nodeType?l(e,t,n):c(e,t,n));return r=null,i}];s<i;s++)if(t=k.relative[e[s].type])u=[d(h(u),t)];else{if((t=k.filter[e[s].type].apply(null,e[s].matches))[j]){for(n=++s;n<i&&!k.relative[e[n].type];n++);return _(1<s&&h(u),1<s&&g(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),t,s<n&&f(e.slice(s,n)),n<i&&f(e=e.slice(n)),n<i&&g(e))}u.push(t)}return h(u)}function m(m,v){var y=0<v.length,_=0<m.length,e=function(e,t,n,i,r){var o,a,s,l=0,c="0",u=e&&[],d=[],h=M,f=e||_&&k.find.TAG("*",r),p=B+=null==h?1:Math.random()||.1,g=f.length;for(r&&(M=t===R||t||r);c!==g&&null!=(o=f[c]);c++){if(_&&o){for(a=0,t||o.ownerDocument===R||($(o),n=!A);s=m[a++];)if(s(o,t||R,n)){i.push(o);break}r&&(B=p)}y&&((o=!s&&o)&&l--,e&&u.push(o))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=X.call(i));d=w(d)}Q.apply(i,d),r&&!e&&0<d.length&&1<l+v.length&&b.uniqueSort(i)}return r&&(B=p,M=h),u};return y?l(e):e}var v,x,k,S,C,D,T,E,M,I,P,$,R,O,A,N,H,L,F,j="sizzle"+1*new Date,z=n.document,B=0,W=0,U=e(),V=e(),q=e(),Y=function(e,t){return e===t&&(P=!0),0},G={}.hasOwnProperty,Z=[],X=Z.pop,K=Z.push,Q=Z.push,J=Z.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),he=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xe=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ke=function(){$()},Se=d(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{Q.apply(Z=J.call(z.childNodes),z.childNodes),Z[z.childNodes.length].nodeType}catch(Ce){Q={apply:Z.length?function(e,t){K.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(v in x=b.support={},C=b.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},$=b.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;return i!==R&&9===i.nodeType&&i.documentElement&&(O=(R=i).documentElement,A=!C(R),z!==R&&(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(R.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=me.test(R.getElementsByClassName),x.getById=r(function(e){return O.appendChild(e).id=j,!R.getElementsByName||!R.getElementsByName(j).length}),x.getById?(k.filter.ID=function(e){var t=e.replace(_e,be);return function(e){return e.getAttribute("id")===t}},k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&A){var n=t.getElementById(e);return n?[n]:[]}}):(k.filter.ID=function(e){var n=e.replace(_e,be);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&A){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),k.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},k.find.CLASS=x.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&A)return t.getElementsByClassName(e)},H=[],N=[],(x.qsa=me.test(R.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+j+"-]").length||N.push("~="),e.querySelectorAll(":checked").length||N.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||N.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=R.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(x.matchesSelector=me.test(L=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){x.disconnectedMatch=L.call(e,"*"),L.call(e,"[s!='']:x"),H.push("!=",oe)}),N=N.length&&new RegExp(N.join("|")),H=H.length&&new RegExp(H.join("|")),t=me.test(O.compareDocumentPosition),F=t||me.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return P=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===R||e.ownerDocument===z&&F(z,e)?-1:t===R||t.ownerDocument===z&&F(z,t)?1:I?ee(I,e)-ee(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return P=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===R?-1:t===R?1:r?-1:o?1:I?ee(I,e)-ee(I,t):0;if(r===o)return c(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?c(a[i],s[i]):a[i]===z?-1:s[i]===z?1:0}),R},b.matches=function(e,t){return b(e,null,null,t)},b.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&$(e),t=t.replace(ue,"='$1']"),x.matchesSelector&&A&&!q[t+" "]&&(!H||!H.test(t))&&(!N||!N.test(t)))try{var n=L.call(e,t);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(Ce){}return 0<b(t,R,null,[e]).length},b.contains=function(e,t){return(e.ownerDocument||e)!==R&&$(e),F(e,t)},b.attr=function(e,t){(e.ownerDocument||e)!==R&&$(e);var n=k.attrHandle[t.toLowerCase()],i=n&&G.call(k.attrHandle,t.toLowerCase())?n(e,t,!A):undefined;return i!==undefined?i:x.attributes||!A?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},b.escape=function(e){return(e+"").replace(we,xe)},b.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},b.uniqueSort=function(e){var t,n=[],i=0,r=0;if(P=!x.detectDuplicates,I=!x.sortStable&&e.slice(0),e.sort(Y),P){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return I=null,e},S=b.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},(k=b.selectors={cacheLength:50,createPseudo:l,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,be),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||b.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&b.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=D(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=b.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(ae," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,g,m){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),_="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,l,c=v!==y?"nextSibling":"previousSibling",u=e.parentNode,d=_&&e.nodeName.toLowerCase(),h=!n&&!_,f=!1;if(u){if(v){for(;c;){for(a=e;a=a[c];)if(_?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&h){for(f=(s=(i=(r=(o=(a=u)[j]||(a[j]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===B&&i[1])&&i[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(f=s=0)||l.pop();)if(1===a.nodeType&&++f&&a===e){r[p]=[B,s,f];break}}else if(h&&(f=s=(i=(r=(o=(a=e)[j]||(a[j]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===B&&i[1]),!1===f)for(;(a=++s&&a&&a[c]||(f=s=0)||l.pop())&&((_?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++f||(h&&((r=(o=a[j]||(a[j]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]=[B,f]),a!==e)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,o){var t,a=k.pseudos[e]||k.setFilters[e.toLowerCase()]||b.error("unsupported pseudo: "+e);return a[j]?a(o):1<a.length?(t=[e,e,"",o],k.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=ee(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:l(function(e){var i=[],r=[],s=T(e.replace(se,"$1"));return s[j]?l(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:l(function(t){return function(e){return 0<b(t,e).length}}),contains:l(function(t){return t=t.replace(_e,be),function(e){return-1<(e.textContent||e.innerText||S(e)).indexOf(t)}}),lang:l(function(n){return he.test(n||"")||b.error("unsupported lang: "+n),n=n.replace(_e,be).toLowerCase(),function(e){var t;do{if(t=A?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===O},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(
t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:s(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=k.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[v]=i(v);for(v in{submit:!0,reset:!0})k.pseudos[v]=o(v);return u.prototype=k.filters=k.pseudos,k.setFilters=new u,D=b.tokenize=function(e,t){var n,i,r,o,a,s,l,c=V[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=k.preFilter;a;){for(o in n&&!(i=le.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=ce.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(se," ")}),a=a.slice(n.length)),k.filter)!(i=fe[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?b.error(e):V(e,s).slice(0)},T=b.compile=function(e,t){var n,i=[],r=[],o=q[e+" "];if(!o){for(t||(t=D(e)),n=t.length;n--;)(o=f(t[n]))[j]?i.push(o):r.push(o);(o=q(e,m(r,i))).selector=e}return o},E=b.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,u=!i&&D(e=c.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&A&&k.relative[o[1].type]){if(!(t=(k.find.ID(a.matches[0].replace(_e,be),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace(_e,be),ye.test(o[0].type)&&p(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&g(o)))return Q.apply(n,i),n;break}}return(c||T(e,u))(i,t,!A,n,!t||ye.test(e)&&p(t.parentNode)||t),n},x.sortStable=j.split("").sort(Y).join("")===j,x.detectDuplicates=!!P,$(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(R.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),b}(S);xe.find=Se,xe.expr=Se.selectors,xe.expr[":"]=xe.expr.pseudos,xe.uniqueSort=xe.unique=Se.uniqueSort,xe.text=Se.getText,xe.isXMLDoc=Se.isXML,xe.contains=Se.contains,xe.escapeSelector=Se.escape;var Ce=function(e,t,n){for(var i=[],r=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&xe(e).is(n))break;i.push(e)}return i},De=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Te=xe.expr.match.needsContext,Ee=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;xe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?xe.find.matchesSelector(i,e)?[i]:[]:xe.find.matches(e,xe.grep(t,function(e){return 1===e.nodeType}))},xe.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(xe(e).filter(function(){for(t=0;t<i;t++)if(xe.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)xe.find(e,r[t],n);return 1<i?xe.uniqueSort(n):n},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&Te.test(e)?xe(e):e||[],!1).length}});var Me,Ie=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(xe.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Me,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):ye(e)?n.ready!==undefined?n.ready(e):e(xe):xe.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Ie.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof xe?t[0]:t,xe.merge(this,xe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),Ee.test(i[1])&&xe.isPlainObject(t))for(i in t)ye(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=ae.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=xe.fn,Me=xe(ae);var Pe=/^(?:parents|prev(?:Until|All))/,$e={children:!0,contents:!0,next:!0,prev:!0};xe.fn.extend({has:function(e){var t=xe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(xe.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&xe(e);if(!Te.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&xe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?xe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?de.call(xe(e),this[0]):de.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(xe.uniqueSort(xe.merge(this.get(),xe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),xe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ce(e,"parentNode")},parentsUntil:function(e,t,n){return Ce(e,"parentNode",n)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return Ce(e,"nextSibling")},prevAll:function(e){return Ce(e,"previousSibling")},nextUntil:function(e,t,n){return Ce(e,"nextSibling",n)},prevUntil:function(e,t,n){return Ce(e,"previousSibling",n)},siblings:function(e){return De((e.parentNode||{}).firstChild,e)},children:function(e){return De(e.firstChild)},contents:function(e){return c(e,"iframe")?e.contentDocument:(c(e,"template")&&(e=e.content||e),xe.merge([],e.childNodes))}},function(i,r){xe.fn[i]=function(e,t){var n=xe.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=xe.filter(t,n)),1<this.length&&($e[i]||xe.uniqueSort(n),Pe.test(i)&&n.reverse()),this.pushStack(n)}});var Re=/[^\x20\t\r\n\f]+/g;xe.Callbacks=function(i){i="string"==typeof i?u(i):xe.extend({},i);var r,e,t,n,o=[],a=[],s=-1,l=function(){for(n=n||i.once,t=r=!0;a.length;s=-1)for(e=a.shift();++s<o.length;)!1===o[s].apply(e[0],e[1])&&i.stopOnFalse&&(s=o.length,e=!1);i.memory||(e=!1),r=!1,n&&(o=e?[]:"")},c={add:function(){return o&&(e&&!r&&(s=o.length-1,a.push(e)),function n(e){xe.each(e,function(e,t){ye(t)?i.unique&&c.has(t)||o.push(t):t&&t.length&&"string"!==m(t)&&n(t)})}(arguments),e&&!r&&l()),this},remove:function(){return xe.each(arguments,function(e,t){for(var n;-1<(n=xe.inArray(t,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<xe.inArray(e,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return n=a=[],o=e="",this},disabled:function(){return!o},lock:function(){return n=a=[],e||r||(o=e=""),this},locked:function(){return!!n},fireWith:function(e,t){return n||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),r||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!t}};return c},xe.extend({Deferred:function(e){var o=[["notify","progress",xe.Callbacks("memory"),xe.Callbacks("memory"),2],["resolve","done",xe.Callbacks("once memory"),xe.Callbacks("once memory"),0,"resolved"],["reject","fail",xe.Callbacks("once memory"),xe.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var r=arguments;return xe.Deferred(function(i){xe.each(o,function(e,t){var n=ye(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&ye(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){function c(o,a,s,l){return function(){var n=this,i=arguments,t=function(){var e,t;if(!(o<u)){if((e=s.apply(n,i))===a.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,ye(t)?l?t.call(e,c(u,a,d,l),c(u,a,h,l)):(u++,t.call(e,c(u,a,d,l),c(u,a,h,l),c(u,a,d,a.notifyWith))):(s!==d&&(n=undefined,i=[e]),(l||a.resolveWith)(n,i))}},r=l?t:function(){try{t()}catch(e){xe.Deferred.exceptionHook&&xe.Deferred.exceptionHook(e,r.stackTrace),u<=o+1&&(s!==h&&(n=undefined,i=[e]),a.rejectWith(n,i))}};o?r():(xe.Deferred.getStackHook&&(r.stackTrace=xe.Deferred.getStackHook()),S.setTimeout(r))}}var u=0;return xe.Deferred(function(e){o[0][3].add(c(0,e,ye(i)?i:d,e.notifyWith)),o[1][3].add(c(0,e,ye(t)?t:d)),o[2][3].add(c(0,e,ye(n)?n:h))}).promise()},promise:function(e){return null!=e?xe.extend(e,a):a}},s={};return xe.each(o,function(e,t){var n=t[2],i=t[5];a[t[1]]=n.add,i&&n.add(function(){r=i},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?undefined:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,i=Array(t),r=le.call(arguments),o=xe.Deferred(),a=function(t){return function(e){i[t]=this,r[t]=1<arguments.length?le.call(arguments):e,--n||o.resolveWith(i,r)}};if(n<=1&&(l(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||ye(r[t]&&r[t].then)))return o.then();for(;t--;)l(r[t],a(t),o.reject);return o.promise()}});var Oe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;xe.Deferred.exceptionHook=function(e,t){S.console&&S.console.warn&&e&&Oe.test(e.name)&&S.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},xe.readyException=function(e){S.setTimeout(function(){throw e})};var Ae=xe.Deferred();xe.fn.ready=function(e){return Ae.then(e)["catch"](function(e){xe.readyException(e)}),this},xe.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--xe.readyWait:xe.isReady)||(xe.isReady=!0)!==e&&0<--xe.readyWait||Ae.resolveWith(ae,[xe])}}),xe.ready.then=Ae.then,"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll?S.setTimeout(xe.ready):(ae.addEventListener("DOMContentLoaded",i),S.addEventListener("load",i));var Ne=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===m(n))for(s in r=!0,n)Ne(e,t,s,n[s],!0,o,a);else if(i!==undefined&&(r=!0,ye(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(xe(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},He=/^-ms-/,Le=/-([a-z])/g,Fe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};o.uid=1,o.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Fe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[f(t)]=n;else for(i in t)r[f(i)]=t[i];return r},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][f(t)]},access:function(e,t,n){return t===undefined||t&&"string"==typeof t&&n===undefined?this.get(e,t):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,i=e[this.expando];if(i!==undefined){if(t!==undefined){n=(t=Array.isArray(t)?t.map(f):(t=f(t))in i?[t]:t.match(Re)||[]).length;for(;n--;)delete i[t[n]]}(t===undefined||xe.isEmptyObject(i))&&(e.nodeType?e[this.expando]=undefined:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!xe.isEmptyObject(t)}};var je=new o,ze=new o,Be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,We=/[A-Z]/g;xe.extend({hasData:function(e){return ze.hasData(e)||je.hasData(e)},data:function(e,t,n){return ze.access(e,t,n)},removeData:function(e,t){ze.remove(e,t)},_data:function(e,t,n){return je.access(e,t,n)},_removeData:function(e,t){je.remove(e,t)}}),xe.fn.extend({data:function(n,e){var t,i,r,o=this[0],a=o&&o.attributes;if(n!==undefined)return"object"==typeof n?this.each(function(){ze.set(this,n)}):Ne(this,function(e){var t;if(o&&e===undefined)return(t=ze.get(o,n))!==undefined?t:(t=p(o,n))!==undefined?t:void 0;this.each(function(){ze.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=ze.get(o),1===o.nodeType&&!je.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(i=a[t].name).indexOf("data-")&&(i=f(i.slice(5)),p(o,i,r[i]));je.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){ze.remove(this,e)})}}),xe.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=je.get(e,t),n&&(!i||Array.isArray(n)?i=je.access(e,t,xe.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=xe.queue(e,t),i=n.length,r=n.shift(),o=xe._queueHooks(e,t),a=function(){xe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return je.get(e,n)||je.access(e,n,{empty:xe.Callbacks("once memory").add(function(){je.remove(e,[t+"queue",n])})})}}),xe.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?xe.queue(this[0],t):n===undefined?this:this.each(function(){var e=xe.queue(this,t,n);xe._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&xe.dequeue(this,t)})},dequeue:function(e){return this.each(function(){xe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=xe.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";a--;)(n=je.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ve=new RegExp("^(?:([+-])=|)("+Ue+")([a-z%]*)$","i"),qe=["Top","Right","Bottom","Left"],Ye=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&xe.contains(e.ownerDocument,e)&&"none"===xe.css(e,"display")},Ge=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r},Ze={};xe.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ye(this)?xe(this).show():xe(this).hide()})}});var Xe=/^(?:checkbox|radio)$/i,Ke=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Qe=/^$|^module$|\/(?:java|ecma)script/i,Je={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td;var et,tt,nt=/<|&#?\w+;/;et=ae.createDocumentFragment().appendChild(ae.createElement("div")),(tt=ae.createElement("input")).setAttribute("type","radio"),tt.setAttribute("checked","checked"),tt.setAttribute("name","t"),et.appendChild(tt),ve.checkClone=et.cloneNode(!0).cloneNode(!0).lastChild.checked,et.innerHTML="<textarea>x</textarea>",ve.noCloneChecked=!!et.cloneNode(!0).lastChild.defaultValue;var it=ae.documentElement,rt=/^key/,ot=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,at=/^([^.]*)(?:\.(.+)|)/;xe.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,c,u,d,h,f,p,g,m=je.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&xe.find.matchesSelector(it,r),n.guid||(n.guid=xe.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==xe&&xe.event.triggered!==e.type?xe.event.dispatch.apply(t,arguments):undefined}),c=(e=(e||"").match(Re)||[""]).length;c--;)f=g=(s=at.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=xe.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=xe.event.special[f]||{},u=xe.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&xe.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(f,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),xe.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,f,p,g,m=je.hasData(e)&&je.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(Re)||[""]).length;c--;)if(f=g=(s=at.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=xe.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,m.handle)||xe.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)xe.event.remove(e,f+t[c],n,i,!0);xe.isEmptyObject(l)&&je.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a,s=xe.event.fix(e),l=new Array(arguments.length),c=(je.get(this,"events")||{})[s.type]||[],u=xe.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=xe.event.handlers.call(this,s,c),t=0;(r=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,(i=((xe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))!==undefined&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)a[r=(i=t[n]).selector+" "]===undefined&&(a[r]=i.needsContext?-1<xe(r,this).index(c):xe.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(xe.Event.prototype,t,{enumerable:!0,configurable:!0,get:ye(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[xe.expando]?e:new xe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==D()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===D()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&c(this,"input"))return this.click(),!1},_default:function(e){return c(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},xe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},xe.Event=function(e,t){if(!(this instanceof xe.Event))return new xe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?k:C,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&xe.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[xe.expando]=!0},xe.Event.prototype={constructor:xe.Event,isDefaultPrevented:C,isPropagationStopped:C,isImmediatePropagationStopped:C,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=k,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=k,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=k,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},xe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&rt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&t!==undefined&&ot.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},xe.event.addProp),xe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){xe.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=this,i=e.relatedTarget,r=e.handleObj;return i&&(i===n||xe.contains(n,i))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=o),t}}}),xe.fn.extend({on:function(e,t,n,i){return T(this,e,t,n,i)},one:function(e,t,n,i){return T(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,xe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=C),this.each(function(){xe.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this}});var st=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,lt=/<script|<style|<link/i,ct=/checked\s*(?:[^=]|=\s*.checked.)/i,ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;xe.extend({htmlPrefilter:function(e){return e.replace(st,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=xe.contains(e.ownerDocument,e);if(!(ve.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||xe.isXMLDoc(e)))for(a=b(s),i=0,r=(o=b(e)).length;i<r;i++)$(o[i],a[i]);if(t)if(n)for(o=o||b(e),a=a||b(s),i=0,r=o.length;i<r;i++)P(o[i],a[i]);else P(e,s);return 0<(a=b(s,"script")).length&&w(a,!l&&b(e,"script")),s},cleanData:function(e){for(var t,n,i,r=xe.event.special,o=0;(n=e[o])!==undefined;o++)if(Fe(n)){if(t=n[je.expando]){if(t.events)for(i in t.events)r[i]?xe.event.remove(n,i):xe.removeEvent(n,i,t.handle);n[je.expando]=undefined}n[ze.expando]&&(n[ze.expando]=undefined)}}}),xe.fn.extend({detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Ne(this,function(e){return e===undefined?xe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return R(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||E(this,e).appendChild(e)})},prepend:function(){return R(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=E(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return R(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return R(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(xe.cleanData(b(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return xe.clone(this,e,t)})},html:function(e){return Ne(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!lt.test(e)&&!Je[(Ke.exec(e)||["",""])[1].toLowerCase()]){e=xe.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(xe.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return R(this,arguments,function(e){var t=this.parentNode;xe.inArray(this,n)<0&&(xe.cleanData(b(this)),t&&t.replaceChild(e,this))},n)}}),xe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){xe.fn[e]=function(e){for(var t,n=[],i=xe(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),xe(i[o])[a](t),ue.apply(n,t.get());return this.pushStack(n)}});var dt=new RegExp("^("+Ue+")(?!px)[a-z%]+$","i"),ht=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=S),t.getComputedStyle(e)},ft=new RegExp(qe.join("|"),"i");!function(){function e(){if(l){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(s).appendChild(l);var e=S.getComputedStyle(l);n="1%"!==e.top,a=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),i=36===t(e.width),l.style.position="absolute",r=36===l.offsetWidth||"absolute",it.removeChild(s),l=null}}function t(e){return Math.round(parseFloat(e))}var n,i,r,o,a,s=ae.createElement("div"),l=ae.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ve.clearCloneStyle="content-box"===l.style.backgroundClip,xe.extend(ve,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),r}}))}();var pt=/^(none|table(?!-c[ea]).+)/,gt=/^--/,mt={position:"absolute",visibility:"hidden",display:"block"},vt={letterSpacing:"0",fontWeight:"400"},yt=["Webkit","Moz","ms"],_t=ae.createElement("div").style;xe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=A(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=f(t),l=gt.test(t),c=e.style;if(l||(t=L(s)),a=xe.cssHooks[t]||xe.cssHooks[s],n===undefined)return a&&"get"in a&&(r=a.get(e,!1,i))!==undefined?r:c[t];"string"===(o=typeof n)&&(r=Ve.exec(n))&&r[1]&&(n=v(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(xe.cssNumber[s]?"":"px")),ve.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&(n=a.set(e,n,i))===undefined||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,a,s=f(t);return gt.test(t)||(t=L(s)),(a=xe.cssHooks[t]||xe.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),r===undefined&&(r=A(e,t,i)),"normal"===r&&t in vt&&(r=vt[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),xe.each(["height","width"],function(e,s){xe.cssHooks[s]={get:function(e,t,n){if(t)return!pt.test(xe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?z(e,s,n):Ge(e,mt,function(){return z(e,s,n)})},set:function(e,t,n){var i,r=ht(e),o="border-box"===xe.css(e,"boxSizing",!1,r),a=n&&j(e,s,n,o,r);return o&&ve.scrollboxSize()===r.position&&(a-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(r[s])-j(e,s,"border",!1,r)-.5)),a&&(i=Ve.exec(t))&&"px"!==(i[3]||"px")&&(e.style[s]=t,t=xe.css(e,s)),F(e,t,a)}}}),xe.cssHooks.marginLeft=N(ve.reliableMarginLeft,function(e,t){if(t)return(parseFloat(A(e,"marginLeft"))||e.getBoundingClientRect().left-Ge(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),xe.each({margin:"",padding:"",border:"Width"},function(r,o){xe.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+qe[t]+o]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(xe.cssHooks[r+o].set=F)}),xe.fn.extend({css:function(e,t){return Ne(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=ht(e),r=t.length;a<r;a++)o[t[a]]=xe.css(e,t[a],!1,i);return o}return n!==undefined?xe.style(e,t,n):xe.css(e,t)},e,t,1<arguments.length)}}),(xe.Tween=B).prototype={constructor:B,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||xe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(xe.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.options.duration?this.pos=t=xe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=xe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){xe.fx.step[e.prop]?xe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[xe.cssProps[e.prop]]&&!xe.cssHooks[e.prop]?e.elem[e.prop]=e.now:xe.style(e.elem,e.prop,e.now+e.unit)}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},xe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},xe.fx=B.prototype.init,xe.fx.step={};var bt,wt,xt,kt,St=/^(?:toggle|show|hide)$/,Ct=/queueHooks$/;xe.Animation=xe.extend(Z,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return v(n.elem,e,Ve.exec(t),n),n}]},tweener:function(e,t){ye(e)?(t=e,e=["*"]):e=e.match(Re);for(var n,i=0,r=e.length;i<r;i++)n=e[i],Z.tweeners[n]=Z.tweeners[n]||[],Z.tweeners[n].unshift(t)},prefilters:[Y],prefilter:function(e,t){t?Z.prefilters.unshift(e):Z.prefilters.push(e)}}),xe.speed=function(e,t,n){var i=e&&"object"==typeof e?xe.extend({},e):{complete:n||!n&&t||ye(e)&&e,duration:e,easing:n&&t||t&&!ye(t)&&t};return xe.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in xe.fx.speeds?i.duration=xe.fx.speeds[i.duration]:i.duration=xe.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ye(i.old)&&i.old.call(this),i.queue&&xe.dequeue(this,i.queue)},i},xe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=xe.isEmptyObject(t),o=xe.speed(e,n,i),a=function(){var e=Z(this,xe.extend({},t),o);(r||je.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(r,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof r&&(o=e,e=r,r=undefined),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=xe.timers,i=je.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&Ct.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||xe.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=je.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=xe.timers,o=n?n.length:0;for(t.finish=!0,xe.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),xe.each(["toggle","show","hide"],function(e,i){var r=xe.fn[i];xe.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(V(i,!0),e,t,n)}}),xe.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){xe.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),xe.timers=[],xe.fx.tick=function(){var e,t=0,n=xe.timers;for(bt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||xe.fx.stop(),bt=undefined},xe.fx.timer=function(e){xe.timers.push(e),xe.fx.start()},xe.fx.interval=13,xe.fx.start=function(){wt||(wt=!0,W())},xe.fx.stop=function(){wt=null},xe.fx.speeds={slow:600,fast:200,_default:400},xe.fn.delay=function(i,e){return i=xe.fx&&xe.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=S.setTimeout(e,i);t.stop=function(){S.clearTimeout(n)}})},xt=ae.createElement("input"),kt=ae.createElement("select").appendChild(
ae.createElement("option")),xt.type="checkbox",ve.checkOn=""!==xt.value,ve.optSelected=kt.selected,(xt=ae.createElement("input")).value="t",xt.type="radio",ve.radioValue="t"===xt.value;var Dt,Tt=xe.expr.attrHandle;xe.fn.extend({attr:function(e,t){return Ne(this,xe.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){xe.removeAttr(this,e)})}}),xe.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?xe.prop(e,t,n):(1===o&&xe.isXMLDoc(e)||(r=xe.attrHooks[t.toLowerCase()]||(xe.expr.match.bool.test(t)?Dt:undefined)),n!==undefined?null===n?void xe.removeAttr(e,t):r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=xe.find.attr(e,t))?undefined:i)},attrHooks:{type:{set:function(e,t){if(!ve.radioValue&&"radio"===t&&c(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(Re);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),Dt={set:function(e,t,n){return!1===t?xe.removeAttr(e,n):e.setAttribute(n,n),n}},xe.each(xe.expr.match.bool.source.match(/\w+/g),function(e,t){var a=Tt[t]||xe.find.attr;Tt[t]=function(e,t,n){var i,r,o=t.toLowerCase();return n||(r=Tt[o],Tt[o]=i,i=null!=a(e,t,n)?o:null,Tt[o]=r),i}});var Et=/^(?:input|select|textarea|button)$/i,Mt=/^(?:a|area)$/i;xe.fn.extend({prop:function(e,t){return Ne(this,xe.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[xe.propFix[e]||e]})}}),xe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&xe.isXMLDoc(e)||(t=xe.propFix[t]||t,r=xe.propHooks[t]),n!==undefined?r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=xe.find.attr(e,"tabindex");return t?parseInt(t,10):Et.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ve.optSelected||(xe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),xe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){xe.propFix[this.toLowerCase()]=this}),xe.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(ye(t))return this.each(function(e){xe(this).addClass(t.call(this,e,K(this)))});if((e=Q(t)).length)for(;n=this[l++];)if(r=K(n),i=1===n.nodeType&&" "+X(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=X(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(ye(t))return this.each(function(e){xe(this).removeClass(t.call(this,e,K(this)))});if(!arguments.length)return this.attr("class","");if((e=Q(t)).length)for(;n=this[l++];)if(r=K(n),i=1===n.nodeType&&" "+X(r)+" "){for(a=0;o=e[a++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(s=X(i))&&n.setAttribute("class",s)}return this},toggleClass:function(r,t){var o=typeof r,a="string"===o||Array.isArray(r);return"boolean"==typeof t&&a?t?this.addClass(r):this.removeClass(r):ye(r)?this.each(function(e){xe(this).toggleClass(r.call(this,e,K(this),t),t)}):this.each(function(){var e,t,n,i;if(a)for(t=0,n=xe(this),i=Q(r);e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else r!==undefined&&"boolean"!==o||((e=K(this))&&je.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===r?"":je.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+X(K(n))+" ").indexOf(t))return!0;return!1}});var It=/\r/g;xe.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=ye(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,xe(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=xe.map(t,function(e){return null==e?"":e+""})),(i=xe.valHooks[this.type]||xe.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,t,"value")!==undefined||(this.value=t))})):t?(i=xe.valHooks[t.type]||xe.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&(e=i.get(t,"value"))!==undefined?e:"string"==typeof(e=t.value)?e.replace(It,""):null==e?"":e:void 0}}),xe.extend({valHooks:{option:{get:function(e){var t=xe.find.attr(e,"value");return null!=t?t:X(xe.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(t=xe(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=xe.makeArray(t),a=r.length;a--;)((i=r[a]).selected=-1<xe.inArray(xe.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),xe.each(["radio","checkbox"],function(){xe.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<xe.inArray(xe(e).val(),t)}},ve.checkOn||(xe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ve.focusin="onfocusin"in S;var Pt=/^(?:focusinfocus|focusoutblur)$/,$t=function(e){e.stopPropagation()};xe.extend(xe.event,{trigger:function(e,t,n,i){var r,o,a,s,l,c,u,d,h=[n||ae],f=pe.call(e,"type")?e.type:e,p=pe.call(e,"namespace")?e.namespace.split("."):[];if(o=d=a=n=n||ae,3!==n.nodeType&&8!==n.nodeType&&!Pt.test(f+xe.event.triggered)&&(-1<f.indexOf(".")&&(f=(p=f.split(".")).shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,(e=e[xe.expando]?e:new xe.Event(f,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=null==t?[e]:xe.makeArray(t,[e]),u=xe.event.special[f]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!_e(n)){for(s=u.delegateType||f,Pt.test(s+f)||(o=o.parentNode);o;o=o.parentNode)h.push(o),a=o;a===(n.ownerDocument||ae)&&h.push(a.defaultView||a.parentWindow||S)}for(r=0;(o=h[r++])&&!e.isPropagationStopped();)d=o,e.type=1<r?s:u.bindType||f,(c=(je.get(o,"events")||{})[e.type]&&je.get(o,"handle"))&&c.apply(o,t),(c=l&&o[l])&&c.apply&&Fe(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=f,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(h.pop(),t)||!Fe(n)||l&&ye(n[f])&&!_e(n)&&((a=n[l])&&(n[l]=null),xe.event.triggered=f,e.isPropagationStopped()&&d.addEventListener(f,$t),n[f](),e.isPropagationStopped()&&d.removeEventListener(f,$t),xe.event.triggered=undefined,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){var i=xe.extend(new xe.Event,n,{type:e,isSimulated:!0});xe.event.trigger(i,null,t)}}),xe.fn.extend({trigger:function(e,t){return this.each(function(){xe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return xe.event.trigger(e,t,n,!0)}}),ve.focusin||xe.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){xe.event.simulate(i,e.target,xe.event.fix(e))};xe.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=je.access(e,i);t||e.addEventListener(n,r,!0),je.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=je.access(e,i)-1;t?je.access(e,i,t):(e.removeEventListener(n,r,!0),je.remove(e,i))}}});var Rt=S.location,Ot=Date.now(),At=/\?/;xe.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new S.DOMParser).parseFromString(e,"text/xml")}catch(n){t=undefined}return t&&!t.getElementsByTagName("parsererror").length||xe.error("Invalid XML: "+e),t};var Nt=/\[\]$/,Ht=/\r?\n/g,Lt=/^(?:submit|button|image|reset|file)$/i,Ft=/^(?:input|select|textarea|keygen)/i;xe.param=function(e,t){var n,i=[],r=function(e,t){var n=ye(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!xe.isPlainObject(e))xe.each(e,function(){r(this.name,this.value)});else for(n in e)J(n,e[n],t,r);return i.join("&")},xe.fn.extend({serialize:function(){return xe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=xe.prop(this,"elements");return e?xe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!xe(this).is(":disabled")&&Ft.test(this.nodeName)&&!Lt.test(e)&&(this.checked||!Xe.test(e))}).map(function(e,t){var n=xe(this).val();return null==n?null:Array.isArray(n)?xe.map(n,function(e){return{name:t.name,value:e.replace(Ht,"\r\n")}}):{name:t.name,value:n.replace(Ht,"\r\n")}}).get()}});var jt=/%20/g,zt=/#.*$/,Bt=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,qt=/^\/\//,Yt={},Gt={},Zt="*/".concat("*"),Xt=ae.createElement("a");Xt.href=Rt.href,xe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt.href,type:"GET",isLocal:Ut.test(Rt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":xe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,xe.ajaxSettings),t):ne(xe.ajaxSettings,e)},ajaxPrefilter:ee(Yt),ajaxTransport:ee(Gt),ajax:function(e,t){function n(e,t,n,i){var r,o,a,s,l,c=t;p||(p=!0,f&&S.clearTimeout(f),u=undefined,h=i||"",x.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=ie(m,x,n)),s=re(m,s,x,r),r?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(xe.lastModified[d]=l),(l=x.getResponseHeader("etag"))&&(xe.etag[d]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=s.state,o=s.data,r=!(a=s.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),x.status=e,x.statusText=(t||c)+"",r?_.resolveWith(v,[o,c,x]):_.rejectWith(v,[x,c,a]),x.statusCode(w),w=undefined,g&&y.trigger(r?"ajaxSuccess":"ajaxError",[x,m,r?o:a]),b.fireWith(v,[x,c]),g&&(y.trigger("ajaxComplete",[x,m]),--xe.active||xe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var u,d,h,i,f,r,p,g,o,a,m=xe.ajaxSetup({},t),v=m.context||m,y=m.context&&(v.nodeType||v.jquery)?xe(v):xe.event,_=xe.Deferred(),b=xe.Callbacks("once memory"),w=m.statusCode||{},s={},l={},c="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(p){if(!i)for(i={};t=Wt.exec(h);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return p?h:null},setRequestHeader:function(e,t){return null==p&&(e=l[e.toLowerCase()]=l[e.toLowerCase()]||e,s[e]=t),this},overrideMimeType:function(e){return null==p&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(p)x.always(e[x.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||c;return u&&u.abort(t),n(0,t),this}};if(_.promise(x),m.url=((e||m.url||Rt.href)+"").replace(qt,Rt.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(Re)||[""],null==m.crossDomain){r=ae.createElement("a");try{r.href=m.url,r.href=r.href,m.crossDomain=Xt.protocol+"//"+Xt.host!=r.protocol+"//"+r.host}catch(k){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=xe.param(m.data,m.traditional)),te(Yt,m,t,x),p)return x;for(o in(g=xe.event&&m.global)&&0==xe.active++&&xe.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Vt.test(m.type),d=m.url.replace(zt,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(jt,"+")):(a=m.url.slice(d.length),m.data&&(m.processData||"string"==typeof m.data)&&(d+=(At.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(d=d.replace(Bt,"$1"),a=(At.test(d)?"&":"?")+"_="+Ot+++a),m.url=d+a),m.ifModified&&(xe.lastModified[d]&&x.setRequestHeader("If-Modified-Since",xe.lastModified[d]),xe.etag[d]&&x.setRequestHeader("If-None-Match",xe.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Zt+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(v,x,m)||p))return x.abort();if(c="abort",b.add(m.complete),x.done(m.success),x.fail(m.error),u=te(Gt,m,t,x)){if(x.readyState=1,g&&y.trigger("ajaxSend",[x,m]),p)return x;m.async&&0<m.timeout&&(f=S.setTimeout(function(){x.abort("timeout")},m.timeout));try{p=!1,u.send(s,n)}catch(k){if(p)throw k;n(-1,k)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return xe.get(e,t,n,"json")},getScript:function(e,t){return xe.get(e,undefined,t,"script")}}),xe.each(["get","post"],function(e,r){xe[r]=function(e,t,n,i){return ye(t)&&(i=i||n,n=t,t=undefined),xe.ajax(xe.extend({url:e,type:r,dataType:i,data:t,success:n},xe.isPlainObject(e)&&e))}}),xe._evalUrl=function(e){return xe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},xe.fn.extend({wrapAll:function(e){var t;return this[0]&&(ye(e)&&(e=e.call(this[0])),t=xe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return ye(n)?this.each(function(e){xe(this).wrapInner(n.call(this,e))}):this.each(function(){var e=xe(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=ye(t);return this.each(function(e){xe(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){xe(this).replaceWith(this.childNodes)}),this}}),xe.expr.pseudos.hidden=function(e){return!xe.expr.pseudos.visible(e)},xe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},xe.ajaxSettings.xhr=function(){try{return new S.XMLHttpRequest}catch(e){}};var Kt={0:200,1223:204},Qt=xe.ajaxSettings.xhr();ve.cors=!!Qt&&"withCredentials"in Qt,ve.ajax=Qt=!!Qt,xe.ajaxTransport(function(o){var a,s;if(ve.cors||Qt&&!o.crossDomain)return{send:function(e,t){var n,i=o.xhr();if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(a=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Kt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=a(),s=i.onerror=i.ontimeout=a("error"),i.onabort!==undefined?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&S.setTimeout(function(){a&&s()})},a=a("abort");try{i.send(o.hasContent&&o.data||null)}catch(r){if(a)throw r}},abort:function(){a&&a()}}}),xe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),xe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return xe.globalEval(e),e}}}),xe.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),xe.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(e,t){i=xe("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),ae.head.appendChild(i[0])},abort:function(){r&&r()}}});var Jt,en=[],tn=/(=)\?(?=&|$)|\?\?/;xe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||xe.expando+"_"+Ot++;return this[e]=!0,e}}),xe.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(tn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=ye(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(tn,"$1"+i):!1!==e.jsonp&&(e.url+=(At.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||xe.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=S[i],S[i]=function(){o=arguments},n.always(function(){r===undefined?xe(S).removeProp(i):S[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,en.push(i)),o&&ye(r)&&r(o[0]),o=r=undefined}),"script"}),ve.createHTMLDocument=((Jt=ae.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Jt.childNodes.length),xe.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(ve.createHTMLDocument?((i=(t=ae.implementation.createHTMLDocument("")).createElement("base")).href=ae.location.href,t.head.appendChild(i)):t=ae),o=!n&&[],(r=Ee.exec(e))?[t.createElement(r[1])]:(r=x([e],t,o),o&&o.length&&xe(o).remove(),xe.merge([],r.childNodes)));var i,r,o},xe.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return-1<s&&(i=X(e.slice(s)),e=e.slice(0,s)),ye(t)?(n=t,t=undefined):t&&"object"==typeof t&&(r="POST"),0<a.length&&xe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?xe("<div>").append(xe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},xe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){xe.fn[t]=function(e){return this.on(t,e)}}),xe.expr.pseudos.animated=function(t){return xe.grep(xe.timers,function(e){return t===e.elem}).length},xe.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c=xe.css(e,"position"),u=xe(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=xe.css(e,"top"),l=xe.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),ye(t)&&(t=t.call(e,n,xe.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},xe.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){xe.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===xe.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===xe.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=xe(e).offset()).top+=xe.css(e,"borderTopWidth",!0),r.left+=xe.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-xe.css(i,"marginTop",!0),left:t.left-r.left-xe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===xe.css(e,"position");)e=e.offsetParent;return e||it})}}),xe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;xe.fn[t]=function(e){return Ne(this,function(e,t,n){var i;if(_e(e)?i=e:9===e.nodeType&&(i=e.defaultView),n===undefined)return i?i[r]:e[t];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),xe.each(["top","left"],function(e,n){xe.cssHooks[n]=N(ve.pixelPosition,function(e,t){if(t)return t=A(e,n),dt.test(t)?xe(e).position()[n]+"px":t})}),xe.each({Height:"height",Width:"width"},function(a,s){xe.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,o){xe.fn[o]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return Ne(this,function(e,t,n){var i;return _e(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):n===undefined?xe.css(e,t,r):xe.style(e,t,n,r)},s,n?e:undefined,n)}})}),xe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){xe.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),xe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),xe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),xe.proxy=function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),ye(e)?(i=le.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(le.call(arguments)))}).guid=e.guid=e.guid||xe.guid++,r):undefined},xe.holdReady=function(e){e?xe.readyWait++:xe.ready(!0)},xe.isArray=Array.isArray,xe.parseJSON=JSON.parse,xe.nodeName=c,xe.isFunction=ye,xe.isWindow=_e,xe.camelCase=f,xe.type=m,xe.now=Date.now,xe.isNumeric=function(e){var t=xe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return xe});var nn=S.jQuery,rn=S.$;return xe.noConflict=function(e){return S.$===xe&&(S.$=rn),e&&S.jQuery===xe&&(S.jQuery=nn),xe},e||(S.jQuery=S.$=xe),xe}),function(u,l){"use strict";var c;u.rails!==l&&u.error("jquery-ujs has already been loaded!");var e=u(document);u.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return u("meta[name=csrf-token]").attr("content")},csrfParam:function(){return u("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=c.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){u('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(e,t,n){var i=u.Event(t);return e.trigger(i,n),!1!==i.result},confirm:function(e){return confirm(e)},ajax:function(e){return u.ajax(e)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==l&&!1!==e.data("remote")},handleRemote:function(i){var e,t,n,r,o,a;if(c.fire(i,"ajax:before")){if(r=i.data("with-credentials")||null,o=i.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType,i.is("form")){e=i.data("ujs:submit-button-formmethod")||i.attr("method"),t=i.data("ujs:submit-button-formaction")||i.attr("action"),n=u(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(c.inputChangeSelector)?(e=i.data("method"),t=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(c.buttonClickSelector)?(e=i.data("method")||"get",t=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(e=i.data("method"),t=c.href(i),n=i.data("params")||null);return a={type:e||"GET",data:n,dataType:o,beforeSend:function(e,t){if(t.dataType===l&&e.setRequestHeader("accept","*/*;q=0.5, "+t.accepts.script),!c.fire(i,"ajax:beforeSend",[e,t]))return!1;i.trigger("ajax:send",e)},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:c.isCrossDomain(t)},r&&(a.xhrFields={withCredentials:r}),t&&(a.url=t),c.ajax(a)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(e){var t=c.href(e),n=e.data("method"),i=e.attr("target"),r=c.csrfToken(),o=c.csrfParam(),a=u('<form method="post" action="'+t+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';o===l||r===l||c.isCrossDomain(t)||(s+='<input name="'+o+'" value="'+r+'" type="hidden" />'),i&&a.attr("target",i),a.hide().append(s).appendTo("body"),a.submit()},formElements:function(e,t){return e.is("form")?u(e[0].elements).filter(t):e.find(t)},disableFormElements:function(e){c.formElements(e,c.disableSelector).each(function(){c.disableFormElement(u(this))})},disableFormElement:function(e){var t,n;t=e.is("button")?"html":"val",(n=e.data("disable-with"))!==l&&(e.data("ujs:enable-with",e[t]()),e[t](n)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(e){c.formElements(e,c.enableSelector).each(function(){c.enableFormElement(u(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")!==l&&(e[t](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,n=e.data("confirm"),i=!1;if(!n)return!0;if(c.fire(e,"confirm")){try{i=c.confirm(n)}catch(r){(console.error||console.log).call(console,r.stack||r)}t=c.fire(e,"confirm:complete",[i])}return i&&t},blankInputs:function(e,t,n){var i,r,o,a=u(),s=t||"input,textarea",l=e.find(s),c={};return l.each(function(){(i=u(this)).is("input[type=radio]")?(o=i.attr("name"),c[o]||(0===e.find('input[type=radio]:checked[name="'+o+'"]').length&&(r=e.find('input[type=radio][name="'+o+'"]'),a=a.add(r)),c[o]=o)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(a=a.add(i))}),!!a.length&&a},nonBlankInputs:function(e,t){return c.blankInputs(e,t,!0)},stopEverything:function(e){return u(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(e){var t=e.data("disable-with");t!==l&&(e.data("ujs:enable-with",e.html()),e.html(t)),e.bind("click.railsDisable",function(e){return c.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==l&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},c.fire(e,"rails:attachBindings")&&(u.ajaxPrefilter(function(e,t,n){e.crossDomain||c.CSRFProtection(n)}),u(window).on("pageshow.rails",function(){u(u.rails.enableSelector).each(function(){var e=u(this);e.data("ujs:disabled")&&u.rails.enableFormElement(e)}),u(u.rails.linkDisableSelector).each(function(){var e=u(this);e.data("ujs:disabled")&&u.rails.enableElement(e)})}),e.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(u(this))}),e.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(u(this))}),e.on("click.rails",c.linkClickSelector,function(e){var t=u(this),n=t.data("method"),i=t.data("params"),r=e.metaKey||e.ctrlKey;if(!c.allowAction(t))return c.stopEverything(e);if(!r&&t.is(c.linkDisableSelector)&&c.disableElement(t),c.isRemote(t)){if(r&&(!n||"GET"===n)&&!i)return!0;var o=c.handleRemote(t);return!1===o?c.enableElement(t):o.fail(function(){c.enableElement(t)}),!1}return n?(c.handleMethod(t),!1):void 0}),e.on("click.rails",c.buttonClickSelector,function(e){var t=u(this);if(!c.allowAction(t)||!c.isRemote(t))return c.stopEverything(e);t.is(c.buttonDisableSelector)&&c.disableFormElement(t);var n=c.handleRemote(t);return!1===n?c.enableFormElement(t):n.fail(function(){c.enableFormElement(t)}),!1}),e.on("change.rails",c.inputChangeSelector,function(e){var t=u(this);return c.allowAction(t)&&c.isRemote(t)?(c.handleRemote(t),!1):c.stopEverything(e)}),e.on("submit.rails",c.formSubmitSelector,function(e){var t,n,i=u(this),r=c.isRemote(i);if(!c.allowAction(i))return c.stopEverything(e);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((t=c.blankInputs(i,c.requiredInputSelector,!1))&&c.fire(i,"ajax:aborted:required",[t]))return c.stopEverything(e)}else i.data("ujs:formnovalidate-button",l);if(r){if(n=c.nonBlankInputs(i,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(i)},13);var o=c.fire(i,"ajax:aborted:file",[n]);return o||setTimeout(function(){c.enableFormElements(i)},13),o}return c.handleRemote(i),!1}setTimeout(function(){c.disableFormElements(i)},13)}),e.on("click.rails",c.formInputClickSelector,function(e){var t=u(this);if(!c.allowAction(t))return c.stopEverything(e);var n=t.attr("name"),i=n?{name:n,value:t.val()}:null,r=t.closest("form");0===r.length&&(r=u("#"+t.attr("form"))),r.data("ujs:submit-button",i),r.data("ujs:formnovalidate-button",t.attr("formnovalidate")),r.data("ujs:submit-button-formaction",t.attr("formaction")),r.data("ujs:submit-button-formmethod",t.attr("formmethod"))}),e.on("ajax:send.rails",c.formSubmitSelector,function(e){this===e.target&&c.disableFormElements(u(this))}),e.on("ajax:complete.rails",c.formSubmitSelector,function(e){this===e.target&&c.enableFormElements(u(this))}),u(function(){c.refreshCSRFTokens()}))}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(o){"use strict";function e(n){return this.each(function(){var e=o(this),t=e.data("bs.alert");t||e.data("bs.alert",t=new a(this)),"string"==typeof n&&t[n].call(e)})}var t='[data-dismiss="alert"]',a=function(e){o(e).on("click",t,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(e){function t(){r.detach().trigger("closed.bs.alert").remove()}var n=o(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var r=o("#"===i?[]:i);e&&e.preventDefault(),r.length||(r=n.closest(".alert")),r.trigger(e=o.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),o.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",t).emulateTransitionEnd(a.TRANSITION_DURATION):t())};var n=o.fn.alert;o.fn.alert=e,o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=n,this},o(document).on("click.bs.alert.data-api",t,a.prototype.close)}(jQuery),function(o){"use strict";function n(i){return this.each(function(){var e=o(this),t=e.data("bs.button"),n="object"==typeof i&&i;t||e.data("bs.button",t=new r(this,n)),"toggle"==i?t.toggle():i&&t.setState(i)})}var r=function(e,t){this.$element=o(e),this.options=o.extend({},r.DEFAULTS,t),this.isLoading=!1};r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(o.proxy(function(){n[i](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(t).attr(t,t).prop(t,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(t).removeAttr(t).prop(t,!1))},this),0)},r.prototype.toggle=function(){var e=!0,t=this.$element.closest(
'[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var e=o.fn.button;o.fn.button=n,o.fn.button.Constructor=r,o.fn.button.noConflict=function(){return o.fn.button=e,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var t=o(e.target).closest(".btn");n.call(t,"toggle"),o(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),t.is("input,button")?t.trigger("focus"):t.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){o(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(d){"use strict";function a(r){return this.each(function(){var e=d(this),t=e.data("bs.carousel"),n=d.extend({},h.DEFAULTS,e.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;t||e.data("bs.carousel",t=new h(this,n)),"number"==typeof r?t.to(r):i?t[i]():n.interval&&t.pause().cycle()})}var h=function(e,t){this.$element=d(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},h.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},h.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(n<e?"next":"prev",this.$items.eq(e))},h.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(e,t){var n=this.$element.find(".item.active"),i=t||this.getItemForDirection(e,n),r=this.interval,o="next"==e?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,n.addClass(o),i.addClass(o),n.one("bsTransitionEnd",function(){i.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var e=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=e,this};var t=function(e){var t,n=d(this),i=d(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=d.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.call(i,r),o&&i.data("bs.carousel").to(o),e.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",t).on("click.bs.carousel.data-api","[data-slide-to]",t),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var e=d(this);a.call(e,e.data())})})}(jQuery),function(s){"use strict";function l(e){var t=e.attr("data-target");t||(t=(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""));var n=t&&s(t);return n&&n.length?n:e.parent()}function o(i){i&&3===i.which||(s(t).remove(),s(c).each(function(){var e=s(this),t=l(e),n={relatedTarget:this};t.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(t[0],i.target)||(t.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(e.attr("aria-expanded","false"),t.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function e(n){return this.each(function(){var e=s(this),t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new i(this)),"string"==typeof n&&t[n].call(e)})}var t=".dropdown-backdrop",c='[data-toggle="dropdown"]',i=function(e){s(e).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(e){var t=s(this);if(!t.is(".disabled, :disabled")){var n=l(t),i=n.hasClass("open");if(o(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",o);var r={relatedTarget:this};if(n.trigger(e=s.Event("show.bs.dropdown",r)),e.isDefaultPrevented())return;t.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var t=s(this);if(e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled")){var n=l(t),i=n.hasClass("open");if(!i&&27!=e.which||i&&27==e.which)return 27==e.which&&n.find(c).trigger("focus"),t.trigger("click");var r=" li:not(.disabled):visible a",o=n.find(".dropdown-menu"+r);if(o.length){var a=o.index(e.target);38==e.which&&0<a&&a--,40==e.which&&a<o.length-1&&a++,~a||(a=0),o.eq(a).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=e,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",c,i.prototype.toggle).on("keydown.bs.dropdown.data-api",c,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(o){"use strict";function a(i,r){return this.each(function(){var e=o(this),t=e.data("bs.modal"),n=o.extend({},s.DEFAULTS,e.data(),"object"==typeof i&&i);t||e.data("bs.modal",t=new s(this,n)),"string"==typeof i?t[i](r):n.show&&t.show(r)})}var s=function(e,t){this.options=t,this.$body=o(document.body),this.$element=o(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},s.prototype.show=function(n){var i=this,e=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){o(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=o.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),e&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var t=o.Event("shown.bs.modal",{relatedTarget:n});e?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(t)}))},s.prototype.hide=function(e){e&&e.preventDefault(),e=o.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(e){var t=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=o.support.transition&&n;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){t.removeBackdrop(),e&&e()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var e=o.fn.modal;o.fn.modal=a,o.fn.modal.Constructor=s,o.fn.modal.noConflict=function(){return o.fn.modal=e,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=o(this),n=t.attr("href"),i=o(t.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),t.data());t.is("a")&&e.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),a.call(i,r,this)})}(jQuery),function(g){"use strict";function e(i){return this.each(function(){var e=g(this),t=e.data("bs.tooltip"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.tooltip",t=new m(this,n)),"string"==typeof i&&t[i]())})}var m=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(e,t,n){if(this.enabled=!0,this.type=e,this.$element=g(t),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(e){return(e=g.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(e,t){i[e]!=t&&(n[e]=t)}),n},m.prototype.enter=function(e){var t=e instanceof this.constructor?e:g(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t)),e instanceof g.Event&&(t.inState["focusin"==e.type?"focus":"hover"]=!0),t.tip().hasClass("in")||"in"==t.hoverState)t.hoverState="in";else{if(clearTimeout(t.timeout),t.hoverState="in",!t.options.delay||!t.options.delay.show)return t.show();t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},m.prototype.leave=function(e){var t=e instanceof this.constructor?e:g(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t)),e instanceof g.Event&&(t.inState["focusout"==e.type?"focus":"hover"]=!1),!t.isInStateTrue()){if(clearTimeout(t.timeout),t.hoverState="out",!t.options.delay||!t.options.delay.hide)return t.hide();t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)}},m.prototype.show=function(){var e=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var t=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!t)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var d=o,h=this.getPosition(this.$viewport);o="bottom"==o&&l.bottom+u>h.bottom?"top":"top"==o&&l.top-u<h.top?"bottom":"right"==o&&l.right+c>h.width?"left":"left"==o&&l.left-c<h.left?"right":o,i.removeClass(d).addClass(o)}var f=this.getCalculatedOffset(o,l,c,u);this.applyPlacement(f,o);var p=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==e&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(m.TRANSITION_DURATION):p()}},m.prototype.applyPlacement=function(e,t){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top+=o,e.left+=a,g.offset.setOffset(n[0],g.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==t&&l!=r&&(e.top=e.top+r-l);var c=this.getViewportAdjustedDelta(t,e,s,l);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(t),d=u?2*c.left-i+s:2*c.top-r+l,h=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][h],u)},m.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},m.prototype.hide=function(e){function t(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,i=g(this.$tip),r=g.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",t).emulateTransitionEnd(m.TRANSITION_DURATION):t(),this.hoverState=null,this},m.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],n="BODY"==t.tagName,i=t.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&t instanceof window.SVGElement,o=n?{top:0,left:0}:r?null:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,o)},m.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},m.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+n;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},m.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},m.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(e){var t=this;e&&((t=g(e.currentTarget).data("bs."+this.type))||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t))),e?(t.inState.click=!t.inState.click,t.isInStateTrue()?t.enter(t):t.leave(t)):t.tip().hasClass("in")?t.leave(t):t.enter(t)},m.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var t=g.fn.tooltip;g.fn.tooltip=e,g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),function(r){"use strict";function e(i){return this.each(function(){var e=r(this),t=e.data("bs.popover"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.popover",t=new o(this,n)),"string"==typeof i&&t[i]())})}var o=function(e,t){this.init("popover",e,t)};if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.7",o.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype),(o.prototype.constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=r.fn.popover;r.fn.popover=e,r.fn.popover.Constructor=o,r.fn.popover.noConflict=function(){return r.fn.popover=t,this}}(jQuery),function(s){"use strict";function t(n){return this.each(function(){var e=s(this),t=e.data("bs.tab");t||e.data("bs.tab",t=new a(this)),"string"==typeof n&&t[n]()})}var a=function(e){this.element=s(e)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var e=this.element,t=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=t.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:e[0]}),o=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),e.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=s(n);this.activate(e.closest("li"),t),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(e,t,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=t.find("> .active"),o=n&&s.support.transition&&(r.length&&r.hasClass("fade")||!!t.find("> .fade").length);r.length&&o?r.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),r.removeClass("in")};var e=s.fn.tab;s.fn.tab=t,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=e,this};var n=function(e){e.preventDefault(),t.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var e=l(this),t=e.data("bs.affix"),n="object"==typeof i&&i;t||e.data("bs.affix",t=new c(this,n)),"string"==typeof i&&t[i]()})}var c=function(e,t){this.options=l.extend({},c.DEFAULTS,t),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&e-i<=l+(s?a:t)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),t=this.options.offset,n=t.top,i=t.bottom,r=Math.max(l(document).height(),l(document.body).height());"object"!=typeof t&&(i=n=t),"function"==typeof n&&(n=t.top(this.$element)),"function"==typeof i&&(i=t.bottom(this.$element));var o=this.getState(r,e,n,i);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-e-i})}};var e=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=e,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var e=l(this),t=e.data();t.offset=t.offset||{},null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom),null!=t.offsetTop&&(t.offset.top=t.offsetTop),n.call(e,t)})})}(jQuery),function(a){"use strict";function r(e){var t,n=e.attr("data-target")||(t=e.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var e=a(this),t=e.data("bs.collapse"),n=a.extend({},l.DEFAULTS,e.data(),"object"==typeof i&&i);!t&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),t||e.data("bs.collapse",t=new l(this,n)),"string"==typeof i&&t[i]()})}var l=function(e,t){this.$element=a(e),this.options=a.extend({},l.DEFAULTS,t),this.$trigger=a('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&(e=t.data("bs.collapse"))&&e.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){t&&t.length&&(s.call(t,"hide"),e||t.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return r.call(this);var o=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(r,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][o])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=a.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[t](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(e,t){var n=a(t);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var e=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=a(this);t.attr("data-target")||e.preventDefault();var n=r(t),i=n.data("bs.collapse")?"toggle":t.data();s.call(n,i)})}(jQuery),function(o){"use strict";function r(e,t){this.$body=o(document.body),this.$scrollElement=o(e).is(document.body)?o(window):o(e),this.options=o.extend({},r.DEFAULTS,t),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function t(i){return this.each(function(){var e=o(this),t=e.data("bs.scrollspy"),n="object"==typeof i&&i;t||e.data("bs.scrollspy",t=new r(this,n)),"string"==typeof i&&t[i]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var e=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=o(this),t=e.data("target")||e.attr("href"),n=/^#./.test(t)&&o(t);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,
t]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},r.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=t)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(r[e+1]===undefined||t<r[e+1])&&this.activate(o[e])},r.prototype.activate=function(e){this.activeTarget=e,this.clear();var t=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=o(t).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var e=o.fn.scrollspy;o.fn.scrollspy=t,o.fn.scrollspy.Constructor=r,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=e,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var e=o(this);t.call(e,e.data())})})}(jQuery),function(i){"use strict";function e(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return{end:t[n]};return!1}i.fn.emulateTransitionEnd=function(e){var t=!1,n=this;return i(this).one("bsTransitionEnd",function(){t=!0}),setTimeout(function(){t||i(n).trigger(i.support.transition.end)},e),this},i(function(){i.support.transition=e(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(e){if(i(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t,n){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(e){return t.Bloodhound=n(e)}):"object"==typeof exports?module.exports=n(require("jquery")):t.Bloodhound=n(jQuery)}(this,function(f){var p=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:f.isArray,isFunction:f.isFunction,isObject:f.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof f},toStr:function t(e){return p.isUndefined(e)||null===e?"":e+""},bind:f.proxy,each:function(e,n){function t(e,t){return n(t,e)}f.each(e,t)},map:f.map,filter:f.grep,every:function(n,i){var r=!0;return n?(f.each(n,function(e,t){if(!(r=i.call(null,t,e,n)))return!1}),!!r):r},some:function(n,i){var r=!1;return n?(f.each(n,function(e,t){if(r=i.call(null,t,e,n))return!1}),!!r):r},mixin:f.extend,identity:function(e){return e},clone:function(e){return f.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function n(e){function t(){return String(e)}return f.isFunction(e)?e:t},defer:function(e){setTimeout(e,0)},debounce:function(r,o,a){var s,l;return function(){var e,t,n=this,i=arguments;return e=function(){s=null,a||(l=r.apply(n,i))},t=a&&!s,clearTimeout(s),s=setTimeout(e,o),t&&(l=r.apply(n,i)),l}},throttle:function(n,i){var r,o,a,s,l,c;return l=0,c=function(){l=new Date,a=null,s=n.apply(r,o)},function(){var e=new Date,t=i-(e-l);return r=this,o=arguments,t<=0?(clearTimeout(a),a=null,l=e,s=n.apply(r,o)):a||(a=setTimeout(c,t)),s}},stringify:function(e){return p.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),l="0.11.1",g=function(){"use strict";function e(e){return(e=p.toStr(e))?e.split(/\s+/):[]}function t(e){return(e=p.toStr(e))?e.split(/\W+/):[]}function n(r){return function t(e){return e=p.isArray(e)?e:[].slice.call(arguments,0),function i(t){var n=[];return p.each(e,function(e){n=n.concat(r(p.toStr(t[e])))}),n}}}return{nonword:t,whitespace:e,obj:{nonword:n(t),whitespace:n(e)}}}(),o=function(){"use strict";function e(e){this.maxSize=p.isNumber(e)?e:100,this.reset(),this.maxSize<=0&&(this.set=this.get=f.noop)}function t(){this.head=this.tail=null}function r(e,t){this.key=e,this.val=t,this.prev=this.next=null}return p.mixin(e.prototype,{set:function o(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new r(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function n(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function i(){this.size=0,this.hash={},this.list=new t}}),p.mixin(t.prototype,{add:function a(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function s(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),e}(),a=function(){"use strict";function e(e,t){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+p.escapeRegExChars(this.prefix)),this.ls=t||a,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function r(e){return JSON.stringify(p.isUndefined(e)?null:e)}function n(e){return f.parseJSON(e)}function o(e){var t,n,i=[],r=a.length;for(t=0;t<r;t++)(n=a.key(t)).match(e)&&i.push(n.replace(e,""));return i}var a;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(s){a=null}return p.mixin(e.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=p.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(s){"QuotaExceededError"===s.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),n(this.ls.getItem(this._prefix(e)))},set:function(e,t,n){return p.isNumber(n)?this._safeSet(this._ttlKey(e),r(i()+n)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),r(t))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=o(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var t=n(this.ls.getItem(this._ttlKey(e)));return!!(p.isNumber(t)&&i()>t)}}),e}(),m=function(){"use strict";function e(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=!1===e.cache?new o(0):t}var l=0,c={},u=6,t=new o(10);return e.setMaxPendingRequests=function n(e){u=e},e.resetCache=function i(){t.reset()},p.mixin(e.prototype,{_fingerprint:function r(e){return(e=e||{}).url+e.type+f.param(e.data||{})},_get:function(e,t){function n(e){t(null,e),s._cache.set(o,e)}function i(){t(!0)}function r(){l--,delete c[o],s.onDeckRequestArgs&&(s._get.apply(s,s.onDeckRequestArgs),s.onDeckRequestArgs=null)}var o,a,s=this;o=this._fingerprint(e),this.cancelled||o!==this.lastReq||((a=c[o])?a.done(n).fail(i):l<u?(l++,c[o]=this._send(e).done(n).fail(i).always(r)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,t){var n,i;t=t||f.noop,e=p.isString(e)?{url:e}:e||{},i=this._fingerprint(e),this.cancelled=!1,this.lastReq=i,(n=this._cache.get(i))?t(null,n):this._get(e,t)},cancel:function(){this.cancelled=!0}}),e}(),v=window.SearchIndex=function(){"use strict";function e(e){(e=e||{}).datumTokenizer&&e.queryTokenizer||f.error("datumTokenizer and queryTokenizer are both required"),this.identify=e.identify||p.stringify,this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function n(e){return e=p.filter(e,function(e){return!!e}),e=p.map(e,function(e){return e.toLowerCase()})}function a(){var e={};return e[c]=[],e[l]={},e}function i(e){for(var t={},n=[],i=0,r=e.length;i<r;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}function s(e,t){var n=0,i=0,r=[];e=e.sort(),t=t.sort();for(var o=e.length,a=t.length;n<o&&i<a;)e[n]<t[i]?n++:(e[n]>t[i]||(r.push(e[n]),n++),i++);return r}var l="c",c="i";return p.mixin(e.prototype,{bootstrap:function t(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var o=this;e=p.isArray(e)?e:[e],p.each(e,function(e){var r,t;o.datums[r=o.identify(e)]=e,t=n(o.datumTokenizer(e)),p.each(t,function(e){var t,n,i;for(t=o.trie,n=e.split("");i=n.shift();)(t=t[l][i]||(t[l][i]=a()))[c].push(r)})})},get:function r(e){var t=this;return p.map(e,function(e){return t.datums[e]})},search:function u(e){var t,o,a=this;return t=n(this.queryTokenizer(e)),p.each(t,function(e){var t,n,i,r;if(o&&0===o.length)return!1;for(t=a.trie,n=e.split("");t&&(i=n.shift());)t=t[l][i];if(!t||0!==n.length)return!(o=[]);r=t[c].slice(0),o=o?s(o,r):r}),o?p.map(i(o),function(e){return a.datums[e]}):[]},all:function o(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function d(){this.datums={},this.trie=a()},serialize:function h(){return{datums:this.datums,trie:this.trie}}}),e}(),y=function(){"use strict";function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new a(e.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},p.mixin(e.prototype,{_settings:function t(){return{url:this.url,type:"GET",dataType:"json"}},store:function i(e){this.cache&&(this.storage.set(n.data,e,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function r(){var e,t={};return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,r.transform(e))}var i,r=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function o(){return this.storage.clear(),this}}),e}(),_=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new m({cache:e.cache,limiter:e.limiter,transport:e.transport})}return p.mixin(e.prototype,{_settings:function t(){return{url:this.url,type:"GET",dataType:"json"}},get:function o(e,n){function t(e,t){n(e?[]:r.transform(t))}var i,r=this;if(n)return e=e||"",i=this.prepare(e,this._settings()),this.transport.get(i,t)},cancelLastRequest:function n(){this.transport.cancel()}}),e}(),b=function(){"use strict";function i(e){var t;return e?(t={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:p.identity,transform:p.identity,transport:null},e=p.isString(e)?{url:e}:e,!(e=p.mixin(t,e)).url&&f.error("prefetch requires url to be set"),e.transform=e.filter||e.transform,e.cacheKey=e.cacheKey||e.url,e.thumbprint=l+e.thumbprint,e.transport=e.transport?a(e.transport):f.ajax,e):null}function r(e){var t;if(e)return t={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:p.identity,transport:null},e=p.isString(e)?{url:e}:e,!(e=p.mixin(t,e)).url&&f.error("remote requires url to be set"),e.transform=e.filter||e.transform,e.prepare=n(e),e.limiter=o(e),e.transport=e.transport?a(e.transport):f.ajax,delete e.replace,delete e.wildcard,delete e.rateLimitBy,delete e.rateLimitWait,e}function n(e){function t(e,t){return t.url=o(t.url,e),t}function n(e,t){return t.url=t.url.replace(a,encodeURIComponent(e)),t}function i(e,t){return t}var r,o,a;return r=e.prepare,o=e.replace,a=e.wildcard,r||(r=o?t:e.wildcard?n:i)}function o(e){function t(t){return function n(e){return p.debounce(e,t)}}function n(t){return function n(e){return p.throttle(e,t)}}var i,r,o;return i=e.limiter,r=e.rateLimitBy,o=e.rateLimitWait,i||(i=/^throttle$/i.test(r)?n(o):t(o)),i}function a(r){return function o(e){function t(e){p.defer(function(){i.resolve(e)})}function n(e){p.defer(function(){i.reject(e)})}var i=f.Deferred();return r(e,t,n),i}}return function s(e){var t,n;return t={initialize:!0,identify:p.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(e=p.mixin(t,e||{})).datumTokenizer&&f.error("datumTokenizer is required"),!e.queryTokenizer&&f.error("queryTokenizer is required"),n=e.sorter,e.sorter=n?function(e){return e.sort(n)}:p.identity,e.local=p.isFunction(e.local)?e.local():e.local,e.prefetch=i(e.prefetch),e.remote=r(e.remote),e}}();return function(){"use strict";function e(e){e=b(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new _(e.remote):null,this.prefetch=e.prefetch?new y(e.prefetch):null,this.index=new v({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),!1!==e.initialize&&this.initialize()}var t;return t=window&&window.Bloodhound,e.noConflict=function n(){return window&&(window.Bloodhound=t),e},e.tokenizers=g,p.mixin(e.prototype,{__ttAdapter:function r(){function e(e,t,n){return i.search(e,t,n)}function t(e,t){return i.search(e,t)}var i=this;return this.remote?e:t},_loadPrefetch:function o(){function e(e,t){if(e)return n.reject();i.add(t),i.prefetch.store(i.index.serialize()),n.resolve()}var n,t,i=this;return n=f.Deferred(),this.prefetch?(t=this.prefetch.fromCache())?(this.index.bootstrap(t),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function i(){function e(){t.add(t.local)}var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(e),this.initPromise},initialize:function i(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function a(e){return this.index.add(e),this},get:function s(e){return e=p.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function l(e,t,i){function n(e){var n=[];p.each(e,function(t){!p.some(r,function(e){return o.identify(t)===o.identify(e)})&&n.push(t)}),i&&i(n)}var r,o=this;return r=this.sorter(this.index.search(e)),t(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(e,n):this.remote&&this.remote.cancelLastRequest(),this},all:function c(){return this.index.all()},clear:function u(){return this.index.reset(),this},clearPrefetchCache:function d(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function h(){return m.resetCache(),this},ttAdapter:function r(){return this.__ttAdapter()}}),e}()}),function(e,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(F){var j=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:F.isArray,isFunction:F.isFunction,isObject:F.isPlainObject,isUndefined:function(e){return void 0===e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof F},toStr:function t(e){return j.isUndefined(e)||null===e?"":e+""},bind:F.proxy,each:function(e,n){function t(e,t){return n(t,e)}F.each(e,t)},map:F.map,filter:F.grep,every:function(n,i){var r=!0;return n?(F.each(n,function(e,t){if(!(r=i.call(null,t,e,n)))return!1}),!!r):r},some:function(n,i){var r=!1;return n?(F.each(n,function(e,t){if(r=i.call(null,t,e,n))return!1}),!!r):r},mixin:F.extend,identity:function(e){return e},clone:function(e){return F.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function n(e){function t(){return String(e)}return F.isFunction(e)?e:t},defer:function(e){setTimeout(e,0)},debounce:function(r,o,a){var s,l;return function(){var e,t,n=this,i=arguments;return e=function(){s=null,a||(l=r.apply(n,i))},t=a&&!s,clearTimeout(s),s=setTimeout(e,o),t&&(l=r.apply(n,i)),l}},throttle:function(n,i){var r,o,a,s,l,c;return l=0,c=function(){l=new Date,a=null,s=n.apply(r,o)},function(){var e=new Date,t=i-(e-l);return r=this,o=arguments,t<=0?(clearTimeout(a),a=null,l=e,s=n.apply(r,o)):a||(a=setTimeout(c,t)),s}},stringify:function(e){return j.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),C=function(){"use strict";function e(e){var t,n;return n=j.mixin({},a,e),{css:(t={css:o(),classes:n,html:i(n),selectors:r(n)}).css,html:t.html,classes:t.classes,selectors:t.selectors,mixin:function(e){j.mixin(e,t)}}}function i(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function r(e){var n={};return j.each(e,function(e,t){n[t]="."+e}),n}function o(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return j.isMsie()&&j.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var a={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return e}(),D=function(){"use strict";function e(e){e&&e.el||F.error("EventBus initialized without el"),this.$el=F(e.el)}var i,n;return i="typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},j.mixin(e.prototype,{_trigger:function(e,t){var n;return n=F.Event(i+e),(t=t||[]).unshift(n),this.$el.trigger.apply(this.$el,t),n},before:function(e){var t;return t=[].slice.call(arguments,1),this._trigger("before"+e,t).isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=n[e])&&this._trigger(t,[].slice.call(arguments,1))}}),e}(),E=function(){"use strict";function i(e,t,n,i){var r;if(!n)return this;for(t=t.split(l),n=i?s(n,i):n,this._callbacks=this._callbacks||{};r=t.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][e].push(n);return this}function e(e,t,n){return i.call(this,"async",e,t,n)}function t(e,t,n){return i.call(this,"sync",e,t,n)}function n(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function r(e){var t,n,i,r,o;if(!this._callbacks)return this;for(e=e.split(l),i=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)r=a(n.sync,this,[t].concat(i)),o=a(n.async,this,[t].concat(i)),r()&&c(o);return this}function a(i,r,o){function e(){for(var e,t=0,n=i.length;!e&&t<n;t+=1)e=!1===i[t].apply(r,o);return!e}return e}function o(){return window.setImmediate?function t(e){setImmediate(function(){e()})}:function n(e){setTimeout(function(){e()},0)}}function s(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,c=o();return{onSync:t,onAsync:e,off:n,trigger:r}}(),k=function(s){"use strict";function t(e,t,n){for(var i,r=[],o=0,a=e.length;o<a;o++)r.push(j.escapeRegExChars(e[o]));return i=n?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",t?new RegExp(i):new RegExp(i,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function i(r){function e(e){var t,n,i;return(t=a.exec(e.data))&&(i=s.createElement(r.tagName),r.className&&(i.className=r.className),(n=e.splitText(t.index)).splitText(t[0].length),i.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(i,n)),!!t}function o(e,t){for(var n,i=3,r=0;r<e.childNodes.length;r++)(n=e.childNodes[r]).nodeType===i?r+=t(n)?1:0:o(n,t)}var a;(r=j.mixin({},n,r)).node&&r.pattern&&(r.pattern=j.isArray(r.pattern)?r.pattern:[r.pattern],a=t(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,e))}}(window.document),z=function(){"use strict";function n(e,t){(e=e||{}).input||F.error("input is missing"),t.mixin(this),this.$hint=F(e.hint),this.$input=F(e.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=j.noop)}function i(e){return F('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function o(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return j.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},j.mixin(n.prototype,E,{_onBlur:function e(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function t(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function s(e){var t=a[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function l(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function c(e,t){var n;switch(e){case"up":case"down":n=!o(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function u(e,t){var n;switch(e){case"tab":n=!o(t);break;default:n=!0}return n},_checkLanguageDirection:function d(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function h(e,t){var n,i;i=!!(n=r(e,this.query))&&this.query.length!==e.length,this.query=e,t||n?!t&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,t,n,i,r=this;return e=j.bind(this._onBlur,this),t=j.bind(this._onFocus,this),n=j.bind(this._onKeydown,this),i=j.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",t).on("keydown.tt",n),!j.isMsie()||9<j.isMsie()?this.$input.on("input.tt",i):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){a[e.which||e.keyCode]||j.defer(j.bind(r._onInput,r,e))}),this},focus:function f(){this.$input.focus()},blur:function p(){this.$input.blur()},getLangDir:function g(){return this.dir},getQuery:function m(){return this.query||""},setQuery:function h(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function v(){return this.query!==this.queryWhenFocused},getInputValue:function y(){return this.$input.val()},setInputValue:function _(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function b(){this.setInputValue(this.query)},getHint:function w(){return this.$hint.val()},setHint:function x(e){this.$hint.val(e)},clearHint:function k(){this.setHint("")},clearHintIfInvalid:function S(){var e,t,n;n=(e=this.getInputValue())!==(t=this.getHint())&&0===t.indexOf(e),!(""!==e&&n&&!this.hasOverflow())&&this.clearHint()},hasFocus:function C(){return this.$input.is(":focus")},hasOverflow:function D(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,t,n;return e=this.$input.val().length,t=this.$input[0].selectionStart,j.isNumber(t)?t===e:!document.selection||((n=document.selection.createRange()).moveStart("character",-e),e===n.text.length)},destroy:function T(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=F("<div>")}}),n}(),w=function(){"use strict";function e(e,t){(e=e||{}).templates=e.templates||{},e.templates.notFound=e.templates.notFound||e.templates.empty,e.source||F.error("missing source"),e.node||F.error("missing node"),e.name&&!r(e.name)&&F.error("invalid dataset name: "+e.name),t.mixin(this),this.highlight=!!e.highlight,this.name=e.name||o(),this.limit=e.limit||5,this.displayFn=n(e.display||e.displayKey),this.templates=i(e.templates,this.displayFn),this.source=e.source.__ttAdapter?e.source.__ttAdapter():e.source,this.async=j.isUndefined(e.async)?2<this.source.length:!!e.async,this._resetLastSuggestion(),this.$el=F(e.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function e(e){return e[t]}return t=t||j.stringify,j.isFunction(t)?t:e}function i(e,t){function n(e){return F("<div>").text(t(e))}return{notFound:e.notFound&&j.templatify(e.notFound),pending:e.pending&&j.templatify(e.pending),header:e.header&&j.templatify(e.header),footer:e.footer&&j.templatify(e.footer),suggestion:e.suggestion||n}}function r(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var s,o;return s={val:"tt-selectable-display",obj:"tt-selectable-object"},o=j.getIdGenerator(),e.extractData=function a(e){var t=F(e);return t.data(s.obj)?{val:t.data(s.val)||"",obj:t.data(s.obj)||null}:null},j.mixin(e.prototype,E,{_overwrite:function l(e,t){(t=t||[]).length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function c(e,t){(t=t||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function u(e,t){var n;n=this._getSuggestionsFragment(e,t),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function d(e,t){var n,i;i=(n=this._getSuggestionsFragment(e,t)).children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function h(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function f(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function t(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function p(i,e){var r,o=this;return r=document.createDocumentFragment(),j.each(e,function a(e){var t,n;n=o._injectQuery(i,e),t=F(o.templates.suggestion(n)).data(s.obj,e).data(s.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),r.appendChild(t[0])}),this.highlight&&k({className:this.classes.highlight,node:r,pattern:i}),F(r)},_getFooter:function g(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function m(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function v(){this.$lastSuggestion=F()},_injectQuery:function y(e,t){return j.isObject(t)?j.mixin({_query:e},t):t},update:function _(t){function e(e){o||(o=!0,e=(e||[]).slice(0,i.limit),a=e.length,i._overwrite(t,e),a<i.limit&&i.async&&i.trigger("asyncRequested",t))}function n(e){e=e||[],!r&&a<i.limit&&(i.cancel=F.noop,a+=e.length,i._append(t,e.slice(0,i.limit-a)),i.async&&i.trigger("asyncReceived",t))}var i=this,r=!1,o=!1,a=0;this.cancel(),this.cancel=function s(){r=!0,i.cancel=F.noop,i.async&&i.trigger("asyncCanceled",t)},this.source(t,e,n),!o&&e([])},cancel:F.noop,clear:function b(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function w(){return this.$el.is(":empty")},destroy:function x(){this.$el=F("<div>")}}),e}(),T=function(){"use strict";function e(e,n){function t(e){var t=i.$node.find(e.node).first();return e.node=t.length?t:F("<div>").appendTo(i.$node),new w(e,n)}var i=this;(e=e||{}).node||F.error("node is required"),n.mixin(this),this.$node=F(e.node),this.query=null,this.datasets=j.map(e.datasets,t)}return j.mixin(e.prototype,E,{_onSelectableClick:function t(e){this.trigger("selectableClicked",F(e.currentTarget))},_onRendered:function r(e,t,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,i)},_onCleared:function n(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function i(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function o(){function e(e){return e.isEmpty()}return j.every(this.datasets,e)},_getSelectables:function a(){return this.$node.find(this.selectors.selectable)},_removeCursor:function s(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function l(e){var t,n,i,r;n=(t=e.position().top)+e.outerHeight(!0),i=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(i+t):r<n&&this.$node.scrollTop(i+(n-r))},bind:function(){var e,t=this;return e=j.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),j.each(this.datasets,function(e){e.onSync("asyncRequested",t._propagate,t).onSync("asyncCanceled",t._propagate,t).onSync("asyncReceived",t._propagate,t).onSync("rendered",t._onRendered,t).onSync("cleared",t._onCleared,t)}),this},isOpen:function c(){return this.$node.hasClass(this.classes.open)},open:function u(){this.$node.addClass(this.classes.open)},close:function d(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function h(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function f(e){var t,n,i;return n=this.getActiveSelectable(),t=this._getSelectables(),-1===(i=(i=((i=(n?t.index(n):-1)+e)+1)%(t.length+1)-1)<-1?t.length-1:i)?null:t.eq(i)},setCursor:function p(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function g(e){return e&&e.length?w.extractData(e):null},getActiveSelectable:function m(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function v(){var e=this._getSelectables().first();return e.length?e:null},update:function y(t){function e(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,j.each(this.datasets,e)),n},empty:function _(){function e(e){e.clear()}j.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function b(){function e(e){e.destroy()}this.$node.off(".tt"),this.$node=F("<div>"),j.each(this.datasets,e)}}),e}(),M=function(){"use strict";function e(){T.apply(this,[].slice.call(arguments,0))}var t=T.prototype;return j.mixin(e.prototype,T.prototype,{open:function n(){return!this._allDatasetsEmpty()&&this._show(),t.open.apply(this,[].slice.call(arguments,0))},close:function i(){return this._hide(),t.close.apply(this,[].slice.call(arguments,0))},_onRendered:function r(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function o(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),t._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function a(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),t.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function s(){this.$node.hide()},_show:function l(){this.$node.css("display","block")}}),e}(),I=function(){"use strict";function e(e,t){var n,i,r,o,a,s,l,c,u,d,h;(e=e||{}).input||F.error("missing input"),e.menu||F.error("missing menu"),e.eventBus||F.error("missing event bus"),t.mixin(this),this.eventBus=e.eventBus,this.minLength=j.isNumber(e.minLength)?e.minLength:1,this.input=e.input,this.menu=e.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),
this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),n=f(this,"activate","open","_onFocused"),i=f(this,"deactivate","_onBlurred"),r=f(this,"isActive","isOpen","_onEnterKeyed"),o=f(this,"isActive","isOpen","_onTabKeyed"),a=f(this,"isActive","_onEscKeyed"),s=f(this,"isActive","open","_onUpKeyed"),l=f(this,"isActive","open","_onDownKeyed"),c=f(this,"isActive","isOpen","_onLeftKeyed"),u=f(this,"isActive","isOpen","_onRightKeyed"),d=f(this,"_openIfActive","_onQueryChanged"),h=f(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",n,this).onSync("blurred",i,this).onSync("enterKeyed",r,this).onSync("tabKeyed",o,this).onSync("escKeyed",a,this).onSync("upKeyed",s,this).onSync("downKeyed",l,this).onSync("leftKeyed",c,this).onSync("rightKeyed",u,this).onSync("queryChanged",d,this).onSync("whitespaceChanged",h,this).onSync("langDirChanged",this._onLangDirChanged,this)}function f(n){var e=[].slice.call(arguments,1);return function(){var t=[].slice.call(arguments);j.each(e,function(e){return n[e].apply(n,t)})}}return j.mixin(e.prototype,{_hacks:function t(){var r,o;r=this.input.$input||F("<div>"),o=this.menu.$node||F("<div>"),r.on("blur.tt",function(e){var t,n,i;t=document.activeElement,n=o.is(t),i=0<o.has(t).length,j.isMsie()&&(n||i)&&(e.preventDefault(),e.stopImmediatePropagation(),j.defer(function(){r.focus()}))}),o.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function n(e,t){this.select(t)},_onDatasetCleared:function i(){this._updateHint()},_onDatasetRendered:function r(e,t,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,t)},_onAsyncRequested:function o(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function a(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function s(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function l(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function c(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function u(e,t){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&t.preventDefault()},_onTabKeyed:function d(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function h(){this.close()},_onUpKeyed:function p(){this.moveCursor(-1)},_onDownKeyed:function g(){this.moveCursor(1)},_onLeftKeyed:function m(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function v(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function y(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function _(){this._updateHint()},_onLangDirChanged:function b(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function w(){this.isActive()&&this.open()},_minLengthMet:function x(e){return(e=j.isString(e)?e:this.input.getQuery()||"").length>=this.minLength},_updateHint:function k(){var e,t,n,i,r,o;e=this.menu.getTopSelectable(),t=this.menu.getSelectableData(e),n=this.input.getInputValue(),!t||j.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(i=z.normalizeQuery(n),r=j.escapeRegExChars(i),(o=new RegExp("^(?:"+r+")(.+$)","i").exec(t.val))&&this.input.setHint(n+o[1]))},isEnabled:function S(){return this.enabled},enable:function C(){this.enabled=!0},disable:function D(){this.enabled=!1},isActive:function T(){return this.active},activate:function E(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function M(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function I(){return this.menu.isOpen()},open:function P(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function $(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function R(e){this.input.setQuery(j.toStr(e))},getVal:function O(){return this.input.getQuery()},select:function A(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj))&&(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0)},autocomplete:function N(e){var t,n;return t=this.input.getQuery(),!(!((n=this.menu.getSelectableData(e))&&t!==n.val)||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function H(e){var t,n,i,r;return t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),r=(i=this.menu.getSelectableData(n))?i.obj:null,!(this._minLengthMet()&&this.menu.update(t))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function L(){this.input.destroy(),this.menu.destroy()}}),e}();!function(){"use strict";function i(e,n){e.each(function(){var e,t=F(this);(e=t.data(v.typeahead))&&n(e,t)})}function p(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(n(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function g(e,t){e.data(v.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(n){}return e}function n(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function r(n){var e,t;e=n.data(v.www),t=n.parent().filter(e.selectors.wrapper),j.each(n.data(v.attrs),function(e,t){j.isUndefined(e)?n.removeAttr(t):n.attr(t,e)}),n.removeData(v.typeahead).removeData(v.www).removeData(v.attr).removeClass(e.classes.input),t.length&&(n.detach().insertAfter(t),t.remove())}function m(e){var t;return(t=j.isJQuery(e)||j.isElement(e)?F(e).first():[]).length?t:null}var e,v,t;e=F.fn.typeahead,v={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},t={initialize:function o(d,h){function e(){var e,t,n,i,r,o,a,s,l,c,u;j.each(h,function(e){e.highlight=!!d.highlight}),e=F(this),t=F(f.html.wrapper),n=m(d.hint),i=m(d.menu),r=!1!==d.hint&&!n,o=!1!==d.menu&&!i,r&&(n=p(e,f)),o&&(i=F(f.html.menu).css(f.css.menu)),n&&n.val(""),e=g(e,f),(r||o)&&(t.css(f.css.wrapper),e.css(r?f.css.input:f.css.inputWithNoHint),e.wrap(t).parent().prepend(r?n:null).append(o?i:null)),u=o?M:T,a=new D({el:e}),s=new z({hint:n,input:e},f),l=new u({node:i,datasets:h},f),c=new I({input:s,menu:l,eventBus:a,minLength:d.minLength},f),e.data(v.www,f),e.data(v.typeahead,c)}var f;return h=j.isArray(h)?h:[].slice.call(arguments,1),f=C((d=d||{}).classNames),this.each(e)},isEnabled:function a(){var t;return i(this.first(),function(e){t=e.isEnabled()}),t},enable:function s(){return i(this,function(e){e.enable()}),this},disable:function l(){return i(this,function(e){e.disable()}),this},isActive:function c(){var t;return i(this.first(),function(e){t=e.isActive()}),t},activate:function u(){return i(this,function(e){e.activate()}),this},deactivate:function d(){return i(this,function(e){e.deactivate()}),this},isOpen:function h(){var t;return i(this.first(),function(e){t=e.isOpen()}),t},open:function f(){return i(this,function(e){e.open()}),this},close:function y(){return i(this,function(e){e.close()}),this},select:function _(e){var t=!1,n=F(e);return i(this.first(),function(e){t=e.select(n)}),t},autocomplete:function b(e){var t=!1,n=F(e);return i(this.first(),function(e){t=e.autocomplete(n)}),t},moveCursor:function w(t){var n=!1;return i(this.first(),function(e){n=e.moveCursor(t)}),n},val:function x(t){var n;return arguments.length?(i(this,function(e){e.setVal(t)}),this):(i(this.first(),function(e){n=e.getVal()}),n)},destroy:function k(){return i(this,function(e,t){r(t),e.destroy()}),this}},F.fn.typeahead=function(e){return t[e]?t[e].apply(this,[].slice.call(arguments,1)):t.initialize.apply(this,arguments)},F.fn.typeahead.noConflict=function S(){return F.fn.typeahead=e,this}}()}),function(e){"object"==typeof module&&"object"==typeof module.exports?e(require("jquery"),window,document):"undefined"!=typeof jQuery&&e(jQuery,window,document)}(function(h,e,f){!function(){function c(e,t,n){return new Array(n+1-e.length).join(t)+e}function l(e,t,n){if(1!==arguments.length)return 3===arguments.length?new Date(0,0,0,e,t,n):2===arguments.length?new Date(0,0,0,e,t,0):new Date(0,0,0);var i=e;return"string"==typeof i&&(i=h.fn.timepicker.parseTime(i)),new Date(0,0,0,i.getHours(),i.getMinutes(),i.getSeconds())}var u,d;h.TimePicker=function(){var t=this;t.container=h(".ui-timepicker-container"),t.ui=t.container.find(".ui-timepicker"),0===t.container.length&&(t.container=h("<div></div>").addClass("ui-timepicker-container").addClass("ui-timepicker-hidden ui-helper-hidden").appendTo("body").hide(),t.ui=h("<div></div>").addClass("ui-timepicker").addClass("ui-widget ui-widget-content ui-menu").addClass("ui-corner-all").appendTo(t.container),t.viewport=h("<ul></ul>").addClass("ui-timepicker-viewport").appendTo(t.ui),"1.4.2"<=h.fn.jquery&&t.ui.delegate("a","mouseenter.timepicker",function(){t.activate(!1,h(this).parent())}).delegate("a","mouseleave.timepicker",function(){t.deactivate(!1)}).delegate("a","click.timepicker",function(e){e.preventDefault(),t.select(!1,h(this).parent())}))},h.TimePicker.count=0,h.TimePicker.instance=function(){return h.TimePicker._instance||(h.TimePicker._instance=new h.TimePicker),h.TimePicker._instance},h.TimePicker.prototype={keyCode:{ALT:18,BLOQ_MAYUS:20,CTRL:17,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SHIFT:16,TAB:9,UP:38},_items:function(e,t){var n,i,r=this,o=h("<ul></ul>"),a=null;for(-1===e.options.timeFormat.indexOf("m")&&e.options.interval%60!=0&&(e.options.interval=60*Math.max(Math.round(e.options.interval/60),1)),n=t?l(t):e.options.startTime?l(e.options.startTime):l(e.options.startHour,e.options.startMinutes),i=new Date(n.getTime()+864e5);n<i;)r._isValidTime(e,n)&&(a=h("<li>").addClass("ui-menu-item").appendTo(o),h("<a>").addClass("ui-corner-all").text(h.fn.timepicker.formatTime(e.options.timeFormat,n)).appendTo(a),a.data("time-value",n)),n=new Date(n.getTime()+60*e.options.interval*1e3);return o.children()},_isValidTime:function(e,t){var n=null,i=null;return t=l(t),null!==e.options.minTime?n=l(e.options.minTime):null===e.options.minHour&&null===e.options.minMinutes||(n=l(e.options.minHour,e.options.minMinutes)),null!==e.options.maxTime?i=l(e.options.maxTime):null===e.options.maxHour&&null===e.options.maxMinutes||(i=l(e.options.maxHour,e.options.maxMinutes)),null!==n&&null!==i?n<=t&&t<=i:null!==n?n<=t:null===i||t<=i},_hasScroll:function(){var e="undefined"!=typeof this.ui.prop?"prop":"attr";return this.ui.height()<this.ui[e]("scrollHeight")},_move:function(e,t,n){var i=this;if(i.closed()&&i.open(e),i.active){var r=i.active[t+"All"](".ui-menu-item").eq(0);r.length?i.activate(e,r):i.activate(e,i.viewport.children(n))}else i.activate(e,i.viewport.children(n))},register:function(e,t){var n=this,i={};i.element=h(e),i.element.data("TimePicker")||(i.options=h.metadata?h.extend({},t,i.element.metadata()):h.extend({},t),i.widget=n,h.extend(i,{next:function(){return n.next(i)},previous:function(){return n.previous(i)},first:function(){return n.first(i)},last:function(){return n.last(i)},selected:function(){return n.selected(i)},open:function(){return n.open(i)},close:function(){return n.close(i)},closed:function(){return n.closed(i)},destroy:function(){return n.destroy(i)},parse:function(e){return n.parse(i,e)},format:function(e,t){return n.format(i,e,t)},getTime:function(){return n.getTime(i)},setTime:function(e,t){return n.setTime(i,e,t)},option:function(e,t){return n.option(i,e,t)}}),n._setDefaultTime(i),n._addInputEventsHandlers(i),i.element.data("TimePicker",i))},_setDefaultTime:function(e){"now"===e.options.defaultTime?e.setTime(l(new Date)):e.options.defaultTime&&e.options.defaultTime.getFullYear?e.setTime(l(e.options.defaultTime)):e.options.defaultTime&&e.setTime(h.fn.timepicker.parseTime(e.options.defaultTime))},_addInputEventsHandlers:function(t){var n=this;t.element.bind("keydown.timepicker",function(e){switch(e.which||e.keyCode){case n.keyCode.ENTER:case n.keyCode.NUMPAD_ENTER:e.preventDefault(),n.closed()?t.element.trigger("change.timepicker"):n.select(t,n.active);break;case n.keyCode.UP:t.previous();break;case n.keyCode.DOWN:t.next();break;default:n.closed()||t.close(!0)}}).bind("focus.timepicker",function(){t.open()}).bind("blur.timepicker",function(){setTimeout(function(){t.element.data("timepicker-user-clicked-outside")&&t.close()})}).bind("change.timepicker",function(){t.closed()&&t.setTime(h.fn.timepicker.parseTime(t.element.val()))})},select:function(e,t){var n=this,i=!1===e?n.instance:e;n.setTime(i,h.fn.timepicker.parseTime(t.children("a").text())),n.close(i,!0)},activate:function(e,t){var n=this;if((!1===e?n.instance:e)===n.instance){if(n.deactivate(),n._hasScroll()){var i=t.offset().top-n.ui.offset().top,r=n.ui.scrollTop(),o=n.ui.height();i<0?n.ui.scrollTop(r+i):o<=i&&n.ui.scrollTop(r+i-o+t.height())}n.active=t.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-item").end()}},deactivate:function(){var e=this;e.active&&(e.active.children("a").removeClass("ui-state-hover").removeAttr("id"),e.active=null)},next:function(e){return(this.closed()||this.instance===e)&&this._move(e,"next",".ui-menu-item:first"),e.element},previous:function(e){return(this.closed()||this.instance===e)&&this._move(e,"prev",".ui-menu-item:last"),e.element},first:function(e){return this.instance===e&&(this.active&&0===this.active.prevAll(".ui-menu-item").length)},last:function(e){return this.instance===e&&(this.active&&0===this.active.nextAll(".ui-menu-item").length)},selected:function(e){return this.instance===e&&this.active?this.active:null},open:function(t){var n=this,i=t.getTime(),e=t.options.dynamic&&i;if(!t.options.dropdown)return t.element;switch(t.element.data("timepicker-event-namespace",Math.random()),h(f).bind("click.timepicker-"+t.element.data("timepicker-event-namespace"),function(e){t.element.get(0)===e.target?t.element.data("timepicker-user-clicked-outside",!1):t.element.data("timepicker-user-clicked-outside",!0).blur()}),(t.rebuild||!t.items||e)&&(t.items=n._items(t,e?i:null)),(t.rebuild||n.instance!==t||e)&&(h.fn.jquery<"1.4.2"?(n.viewport.children().remove(),n.viewport.append(t.items),n.viewport.find("a").bind("mouseover.timepicker",function(){n.activate(t,h(this).parent())}).bind("mouseout.timepicker",function(){n.deactivate(t)}).bind("click.timepicker",function(e){e.preventDefault(),n.select(t,h(this).parent())})):(n.viewport.children().detach(),n.viewport.append(t.items))),t.rebuild=!1,n.container.removeClass("ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners").show(),t.options.theme){case"standard":n.container.addClass("ui-timepicker-standard");break;case"standard-rounded-corners":n.container.addClass("ui-timepicker-standard ui-timepicker-corners")}n.container.hasClass("ui-timepicker-no-scrollbar")||t.options.scrollbar||(n.container.addClass("ui-timepicker-no-scrollbar"),n.viewport.css({paddingRight:40}));var r=n.container.outerHeight()-n.container.height(),o=t.options.zindex?t.options.zindex:t.element.offsetParent().css("z-index"),a=t.element.offset();n.container.css({top:a.top+t.element.outerHeight(),left:a.left}),n.container.show(),n.container.css({left:t.element.offset().left,height:n.ui.outerHeight()+r,width:t.element.outerWidth(),zIndex:o,cursor:"default"});var s=n.container.width()-(n.ui.outerWidth()-n.ui.width());return n.ui.css({width:s}),n.viewport.css({width:s}),t.items.css({width:s}),n.instance=t,i?t.items.each(function(){var e=h(this);return(h.fn.jquery<"1.4.2"?h.fn.timepicker.parseTime(e.find("a").text()):e.data("time-value")).getTime()!==i.getTime()||(n.activate(t,e),!1)}):n.deactivate(t),t.element},close:function(e){var t=this;return t.instance===e&&(t.container.addClass("ui-helper-hidden ui-timepicker-hidden").hide(),t.ui.scrollTop(0),t.ui.children().removeClass("ui-state-hover")),h(f).unbind("click.timepicker-"+e.element.data("timepicker-event-namespace")),e.element},closed:function(){return this.ui.is(":hidden")},destroy:function(e){return this.close(e,!0),e.element.unbind(".timepicker").data("TimePicker",null)},parse:function(e,t){return h.fn.timepicker.parseTime(t)},format:function(e,t,n){return n=n||e.options.timeFormat,h.fn.timepicker.formatTime(n,t)},getTime:function(e){var t=this,n=h.fn.timepicker.parseTime(e.element.val());return n instanceof Date&&!t._isValidTime(e,n)?null:n instanceof Date&&e.selectedTime?e.format(n)===e.format(e.selectedTime)?e.selectedTime:n:n instanceof Date?n:null},setTime:function(e,t,n){var i=this,r=e.selectedTime;if("string"==typeof t&&(t=e.parse(t)),t&&t.getMinutes&&i._isValidTime(e,t)){if(t=l(t),e.selectedTime=t,e.element.val(e.format(t,e.options.timeFormat)),n)return e}else e.selectedTime=null;return null===r&&null===e.selectedTime||(e.element.trigger("time-change",[t]),h.isFunction(e.options.change)&&e.options.change.apply(e.element,[t])),e.element},option:function(t,e,n){if(void 0===n)return t.options[e];var i,r,o=t.getTime();"string"==typeof e?(i={})[e]=n:i=e,r=["minHour","minMinutes","minTime","maxHour","maxMinutes","maxTime","startHour","startMinutes","startTime","timeFormat","interval","dropdown"],h.each(i,function(e){t.options[e]=i[e],t.rebuild=t.rebuild||-1<h.inArray(e,r)}),t.rebuild&&t.setTime(o)}},h.TimePicker.defaults={timeFormat:"hh:mm p",minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:null,startMinutes:null,startTime:null,interval:30,dynamic:!0,theme:"standard",zindex:null,dropdown:!0,scrollbar:!1,change:function(){}},h.TimePicker.methods={chainable:["next","previous","open","close","destroy","setTime"]},h.fn.timepicker=function(t){if("string"==typeof t){var e,n,i=Array.prototype.slice.call(arguments,1);return n=this[e="option"===t&&2<arguments.length?"each":-1!==h.inArray(t,h.TimePicker.methods.chainable)?"each":"map"](function(){var e=h(this).data("TimePicker");if("object"==typeof e)return e[t].apply(e,i)}),"map"===e&&1===this.length?h.makeArray(n).shift():"map"===e?h.makeArray(n):n}if(1===this.length&&this.data("TimePicker"))return this.data("TimePicker");var r=h.extend({},h.TimePicker.defaults,t);return this.each(function(){h.TimePicker.instance().register(this,r)})},h.fn.timepicker.formatTime=function(e,t){var n=t.getHours(),i=n%12,r=t.getMinutes(),o=t.getSeconds(),a={hh:c((0===i?12:i).toString(),"0",2),HH:c(n.toString(),"0",2),mm:c(r.toString(),"0",2),ss:c(o.toString(),"0",2),h:0===i?12:i,H:n,m:r,s:o,p:11<n?"PM":"AM"},s=e,l="";for(l in a)a.hasOwnProperty(l)&&(s=s.replace(new RegExp(l,"g"),a[l]));return s=s.replace(new RegExp("a","g"),11<n?"pm":"am")},h.fn.timepicker.parseTime=(d=(u=[[/^(\d+)$/,"$1"],[/^:(\d)$/,"$10"],[/^:(\d+)/,"$1"],[/^(\d):([7-9])$/,"0$10$2"],[/^(\d):(\d\d)$/,"$1$2"],[/^(\d):(\d{1,})$/,"0$1$20"],[/^(\d\d):([7-9])$/,"$10$2"],[/^(\d\d):(\d)$/,"$1$20"],[/^(\d\d):(\d*)$/,"$1$2"],[/^(\d{3,}):(\d)$/,"$10$2"],[/^(\d{3,}):(\d{2,})/,"$1$2"],[/^(\d):(\d):(\d)$/,"0$10$20$3"],[/^(\d{1,2}):(\d):(\d\d)/,"$10$2$3"]]).length,function(e){var t=l(new Date),n=!1,i=!1,r=!1,o=!1,a=!1;if(void 0===e||!e.toLowerCase)return null;e=e.toLowerCase(),i=!(n=/a/.test(e))&&/p/.test(e),e=e.replace(/[^0-9:]/g,"").replace(/:+/g,":");for(var s=0;s<d;s+=1)if(u[s][0].test(e)){e=e.replace(u[s][0],u[s][1]);break}return 1===(e=e.replace(/:/g,"")).length?r=e:2===e.length?r=e:3===e.length||5===e.length?(r=e.substr(0,1),o=e.substr(1,2),a=e.substr(3,2)):(4===e.length||5<e.length)&&(r=e.substr(0,2),o=e.substr(2,2),a=e.substr(4,2)),0<e.length&&e.length<5&&(e.length<3&&(o=0),a=0),!1!==r&&!1!==o&&!1!==a&&(r=parseInt(r,10),o=parseInt(o,10),a=parseInt(a,10),n&&12===r?r=0:i&&r<12&&(r+=12),24<r?6<=e.length?h.fn.timepicker.parseTime(e.substr(0,5)):h.fn.timepicker.parseTime(e+"0"+(n?"a":"")+(i?"p":"")):(t.setHours(r,o,a),t))})}()}),function(){var l,t,i,a,r=function(e,t){return function(){return e.apply(t,arguments)}},o={}.hasOwnProperty,n=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};(a=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,r,o,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),a=[],i=0,r=(o=e.childNodes).length;i<r;i++)n=o[i],a.push(this.add_option(n,t,e.disabled));return a},e.prototype.add_option=function(e,t,n){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:!0===n?n:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,n;return null==e||!1===e?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}()).select_to_array=function(e){var t,n,i,r,o;for(n=new a,i=0,r=(o=e.childNodes).length;i<r;i++)t=o[i],n.add_node(t);return n.parsed},t=function(){function n(e,t){this.form_field=e,this.options=null!=t?t:{},this.label_click_handler=r(this.label_click_handler,this),n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},n.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},n.prototype.label_click_handler=function(e){return this.is_multiple?this.container_mousedown(e):this.activate_field()},n.prototype.results_option_build=function(e){var t,n,i,r,o,a,s;for(t="",o=r=0,a=(s=this.results_data).length;o<a&&((i="")!==(i=(n=s[o]).group?this.result_add_group(n):this.result_add_option(n))&&(r++,t+=i),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(r>=this.max_shown_results));o++);return t},n.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},n.prototype.result_add_group=function(e){var t,n;return(e.search_match||e.group_match)&&0<e.active_options?((t=[]).push("group-result"),e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),n.innerHTML=e.search_text,e.title&&(n.title=e.title),this.outerHTML(n)):""},n.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},n.prototype.reset_single_select_options=function(){var e,t,n,i,r;for(r=[],t=0,n=(i=this.results_data).length;t<n;t++)(e=i[t]).selected?r.push(e.selected=!1):r.push(void 0);return r},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var e,t,n,i,r,o,a,s,l,c,u,d;for(this.no_results_clear(),r=0,e=(a=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=this.get_search_regex(e),t=this.get_highlight_regex(e),c=0,u=(d=this.results_data).length;c<u;c++)(n=d[c]).search_match=!1,o=null,this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(0===(o=this.results_data[n.group_array_index]).active_options&&o.search_match&&(r+=1),o.active_options+=1),n.search_text=n.group?n.label:n.html,n.group&&!this.group_search||(n.search_match=this.search_string_match(n.search_text,i),n.search_match&&!n.group&&(r+=1),n.search_match?(a.length&&(s=n.search_text.search(t),l=n.search_text.substr(0,s+a.length)+"</em>"+n.search_text.substr(s+a.length),n.search_text=l.substr(0,s)+"<em>"+l.substr(s)),null!=o&&(o.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),r<1&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(e){var t,n;return t=this.search_contains?"":"^",n=this.case_sensitive_search?"":"i",new RegExp(t+e,n)},n.prototype.get_highlight_regex=function(e){var t,n;return t=this.search_contains?"":"\\b",n=this.case_sensitive_search?"":"i",new RegExp(t+e,n)},n.prototype.search_string_match=function(e,t){var n,i,r,o;if(t.test(e))return!0;if(this.enable_split_word_search&&(0<=e.indexOf(" ")||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" ")).length)for(r=0,o=i.length;r<o;r++)if(n=i[r],t.test(n))return!0},n.prototype.choices_count=function(){var e,t,n;if(null!=this.selected_option_count)return this.selected_option_count;for(e=this.selected_option_count=0,t=(n=this.form_field.options).length;e<t;e++)n[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(e){if(e.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:e.preventDefault(),this.results_showing&&this.result_select(e);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},n.prototype.clipboard_event_checker=function(){var e=this;if(!this.is_disabled)return setTimeout(function(){return e.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},n.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},n.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},n.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},n.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:((t=document.createElement("div")).appendChild(e),t.innerHTML)},n.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},n.prototype.get_multi_html=function(){
return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},n.prototype.get_no_results_html=function(e){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+e+"</span>\n</li>"},n.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}(),(l=jQuery).fn.extend({chosen:function(n){return t.browser_is_supported()?this.each(function(){var e,t;t=(e=l(this)).data("chosen"),"destroy"!==n?t instanceof i||e.data("chosen",new i(this,n)):t instanceof i&&t.destroy()}):this}}),i=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.setup=function(){return this.form_field_jq=l(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},e.prototype.set_up_html=function(){var e,t;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),t={"class":e.join(" "),title:this.form_field.title},this.form_field.id.length&&(t.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=l("<div />",t),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},e.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},e.prototype.register_observers=function(){var t=this;return this.container.bind("touchstart.chosen",function(e){t.container_mousedown(e)}),this.container.bind("touchend.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.close_field(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},e.prototype.destroy=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.unbind("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_field)},e.prototype.container_mousedown=function(e){var t;if(!this.is_disabled)return!e||"mousedown"!==(t=e.type)&&"touchstart"!==t||this.results_showing||e.preventDefault(),null!=e&&l(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||l(e.target)[0]!==this.selected_item[0]&&!l(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),l(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},e.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},e.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},e.prototype.close_field=function(){return l(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},e.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(e){var t;return(t=l(e.target).closest(".chosen-container")).length&&this.container[0]===t[0]?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=a.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},e.prototype.result_do_highlight=function(e){var t,n,i,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),(i=parseInt(this.search_results.css("maxHeight"),10))+(r=this.search_results.scrollTop())<=(t=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight()))return this.search_results.scrollTop(0<t-i?t-i:0);if(n<r)return this.search_results.scrollTop(n)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},e.prototype.update_results_content=function(e){return this.search_results.html(e)},e.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},e.prototype.set_tab_index=function(){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},e.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=l("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.bind("click.chosen",this.label_click_handler)},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(e){var t;if((t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first()).length)return this.result_highlight=t,this.result_select(e),this.search_field.focus()},e.prototype.search_results_mouseover=function(e){var t;if(t=l(e.target).hasClass("active-result")?l(e.target):l(e.target).parents(".active-result").first())return this.result_do_highlight(t)},e.prototype.search_results_mouseout=function(e){if(l(e.target).hasClass("active-result"))return this.result_clear_highlight()},e.prototype.choice_build=function(e){var t,n,i=this;return t=l("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?t.addClass("search-choice-disabled"):((n=l("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index})).bind("click.chosen",function(e){return i.choice_destroy_link_click(e)}),t.append(n)),this.search_container.before(t)},e.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(l(e.target))},e.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},e.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(e){var t,n;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(n=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),this.is_multiple&&(!this.hide_results_on_select||e.metaKey||e.ctrlKey)||(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},e.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},e.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},e.prototype.get_search_field_value=function(){return this.search_field.val()},e.prototype.get_search_text=function(){return this.escape_html(l.trim(this.get_search_field_value()))},e.prototype.escape_html=function(e){return l("<div/>").text(e).html()},e.prototype.winnow_results_set_highlight=function(){var e,t;if(null!=(e=(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?t.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(e)},e.prototype.no_results=function(e){var t;return t=this.get_no_results_html(e),this.search_results.append(t),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},e.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.search_field_scale=function(){var e,t,n,i,r,o,a,s;if(this.is_multiple){for(i={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},a=0,s=(r=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;a<s;a++)i[n=r[a]]=this.search_field.css(n);return(t=l("<div />").css(i)).text(this.get_search_field_value()),l("body").append(t),o=t.width()+25,t.remove(),e=this.container.outerWidth(),o=Math.min(e-10,o),this.search_field.width(o)}},e.prototype.trigger_form_field_change=function(e){return this.form_field_jq.trigger("input",e),this.form_field_jq.trigger("change",e)},e}()}.call(this),function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(n){function i(e){if(r[e])return r[e].exports;var t=r[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var r={};return i.m=n,i.c=r,i.p="",i(0)}([function(e,t,n){"use strict";function i(){var n=h();return n.compile=function(e,t){return l.compile(e,t,n)},n.precompile=function(e,t){return l.precompile(e,t,n)},n.AST=a["default"],n.Compiler=l.Compiler,n.JavaScriptCompiler=c["default"],n.Parser=s.parser,n.parse=s.parse,n}var r=n(1)["default"];t.__esModule=!0;var o=r(n(2)),a=r(n(35)),s=n(36),l=n(41),c=r(n(42)),u=r(n(39)),d=r(n(34)),h=o["default"].create,f=i();f.create=i,d["default"](f),f.Visitor=u["default"],f["default"]=f,t["default"]=f,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,n){"use strict";function i(){var t=new a.HandlebarsEnvironment;return c.extend(t,a),t.SafeString=s["default"],t.Exception=l["default"],t.Utils=c,t.escapeExpression=c.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}var r=n(3)["default"],o=n(1)["default"];t.__esModule=!0;var a=r(n(4)),s=o(n(21)),l=o(n(6)),c=r(n(5)),u=r(n(22)),d=o(n(34)),h=i();h.create=i,d["default"](h),h["default"]=h,t["default"]=h,e.exports=t["default"]},function(e,t){"use strict";t["default"]=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},t.__esModule=!0},function(e,t,n){"use strict";function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}var r=n(1)["default"];t.__esModule=!0,t.HandlebarsEnvironment=i;var o=n(5),a=r(n(6)),s=n(10),l=n(18),c=r(n(20)),u="4.0.10";t.VERSION=u;var d=7;t.COMPILER_REVISION=d;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=h;var f="[object Object]";i.prototype={constructor:i,logger:c["default"],log:c["default"].log,registerHelper:function g(e,t){if(o.toString.call(e)===f){if(t)throw new a["default"]("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function m(e){delete this.helpers[e]},registerPartial:function v(e,t){if(o.toString.call(e)===f)o.extend(this.partials,e);else{if(void 0===t)throw new a["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function y(e){delete this.partials[e]},registerDecorator:function _(e,t){if(o.toString.call(e)===f){if(t)throw new a["default"]("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function b(e){delete this.decorators[e]}};var p=c["default"].log;t.log=p,t.createFrame=o.createFrame,t.logger=c["default"]},function(e,t){"use strict";function n(e){return u[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function o(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return h.test(e)?e.replace(d,n):e}function a(e){return!e&&0!==e||!(!g(e)||0!==e.length)}function s(e){var t=i({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function c(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=r,t.escapeExpression=o,t.isEmpty=a,t.createFrame=s,t.blockParams=l,t.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,h=/[&<>"'`=]/,f=Object.prototype.toString;t.toString=f;var p=function p(e){return"function"==typeof e};p(/x/)&&(t.isFunction=p=function(e){return"function"==typeof e&&"[object Function]"===f.call(e)}),t.isFunction=p;var g=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===f.call(e)};t.isArray=g},function(e,t,n){"use strict";function l(e,t){var n=t&&t.loc,i=undefined,r=undefined;n&&(e+=" - "+(i=n.start.line)+":"+(r=n.start.column));for(var o=Error.prototype.constructor.call(this,e),a=0;a<u.length;a++)this[u[a]]=o[u[a]];Error.captureStackTrace&&Error.captureStackTrace(this,l);try{n&&(this.lineNumber=i,c?Object.defineProperty(this,"column",{value:r,enumerable:!0}):this.column=r)}catch(s){}}var c=n(7)["default"];t.__esModule=!0;var u=["description","fileName","lineNumber","message","name","number","stack"];l.prototype=new Error,t["default"]=l,e.exports=t["default"]},function(e,t,n){e.exports={"default":n(8),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function r(e,t,n){return i.setDesc(e,t,n)}},function(e){var t=Object;e.exports={create:t.create,getProto:t.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:t.getOwnPropertyDescriptor,setDesc:t.defineProperty,setDescs:t.defineProperties,getKeys:t.keys,getNames:t.getOwnPropertyNames,getSymbols:t.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";function i(e){o["default"](e),a["default"](e),s["default"](e),l["default"](e),c["default"](e),u["default"](e),d["default"](e)}var r=n(1)["default"];t.__esModule=!0,t.registerDefaultHelpers=i;var o=r(n(11)),a=r(n(12)),s=r(n(13)),l=r(n(14)),c=r(n(15)),u=r(n(16)),d=r(n(17))},function(e,t,n){"use strict";t.__esModule=!0;var a=n(5);t["default"]=function(o){o.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse,i=t.fn;if(!0===e)return i(this);if(!1===e||null==e)return n(this);if(a.isArray(e))return 0<e.length?(t.ids&&(t.ids=[t.name]),o.helpers.each(e,t)):n(this);if(t.data&&t.ids){var r=a.createFrame(t.data);r.contextPath=a.appendContextPath(t.data.contextPath,t.name),t={data:r}}return i(e,t)})},e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=!0;var h=n(5),f=i(n(6));t["default"]=function(e){e.registerHelper("each",function(i,e){function t(e,t,n){s&&(s.key=e,s.index=t,s.first=0===t,s.last=!!n,l&&(s.contextPath=l+e)),a+=r(i[e],{data:s,blockParams:h.blockParams([i[e],e],[l+e,null])})}if(!e)throw new f["default"]("Must pass iterator to #each");var r=e.fn,n=e.inverse,o=0,a="",s=undefined,l=undefined;if(e.data&&e.ids&&(l=h.appendContextPath(e.data.contextPath,e.ids[0])+"."),h.isFunction(i)&&(i=i.call(this)),e.data&&(s=h.createFrame(e.data)),i&&"object"==typeof i)if(h.isArray(i))for(var c=i.length;o<c;o++)o in i&&t(o,o,o===i.length-1);else{var u=undefined;for(var d in i)i.hasOwnProperty(d)&&(u!==undefined&&t(u,o-1),u=d,o++);u!==undefined&&t(u,o-1,!0)}return 0===o&&(a=n(this)),a})},e.exports=t["default"]},function(e,t,n){"use strict";var i=n(1)["default"];t.__esModule=!0;var r=i(n(6));t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return undefined;throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t["default"]=function(n){n.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),n.registerHelper("unless",function(e,t){return n.helpers["if"].call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(r){r.registerHelper("log",function(){for(var e=[undefined],t=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var i=1;null!=t.hash.level?i=t.hash.level:t.data&&null!=t.data.level&&(i=t.data.level),e[0]=i,r.log.apply(r,e)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var r=n(5);t["default"]=function(e){e.registerHelper("with",function(e,t){r.isFunction(e)&&(e=e.call(this));var n=t.fn;if(r.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&((i=r.createFrame(t.data)).contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:r.blockParams([e],[i&&i.contextPath])})})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){o["default"](e)}var r=n(1)["default"];t.__esModule=!0,t.registerDefaultDecorators=i;var o=r(n(19))},function(e,t,n){"use strict";t.__esModule=!0;var s=n(5);t["default"]=function(e){e.registerDecorator("inline",function(r,o,a,e){var t=r;return o.partials||(o.partials={},t=function(e,t){var n=a.partials;a.partials=s.extend({},n,o.partials);var i=r(e,t);return a.partials=n,i}),o.partials[e.args[0]]=e.fn,t})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function r(e){if("string"==typeof e){var t=i.indexOf(o.methodMap,e.toLowerCase());e=0<=t?t:parseInt(e,10)}return e},log:function a(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];console[t].apply(console,i)}}};t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=u.COMPILER_REVISION;if(t!==n){if(t<n){var i=u.REVISION_CHANGES[n],r=u.REVISION_CHANGES[t];throw new y["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new y["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(s,l){function e(e,t,n){n.hash&&(t=v.extend({},t,n.hash),n.ids&&(n.ids[0]=!0)),e=l.VM.resolvePartial.call(this,e,t,n);var i=l.VM.invokePartial.call(this,e,t,n);if(null==i&&l.compile&&(n.partials[n.name]=l.compile(e,s.compilerOptions,l),i=n.partials[n.name](t,n)),null==i)throw new y["default"]("The partial "+n.name+" could not be compiled when running in runtime-only mode");if(n.indent){for(var r=i.split("\n"),o=0,a=r.length;o<a&&(r[o]||o+1!==a);o++)r[o]=n.indent+r[o];i=r.join("\n")}return i}function c(e,t){function n(e){return""+s.main(u,e,u.helpers,u.partials,r,a,o)}var i=arguments.length<=1||t===undefined?{}:arguments[1],r=i.data;c._setup(i),!i.partial&&s.useData&&(r=p(e,r));var o=undefined,a=s.useBlockParams?[]:undefined;return s.useDepths&&(o=i.depths?e!=i.depths[0]?[e].concat(i.depths):i.depths:[e]),(n=g(s.main,n,u,i.depths||[],r,a))(e,i)}if(!l)throw new y["default"]("No environment passed to template");if(!s||!s.main)throw new y["default"]("Unknown template object: "+typeof s);s.main.decorator=s.main_d,l.VM.checkRevision(s.compiler);var u={strict:function n(e,t){if(!(t in e))throw new y["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function r(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function i(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:v.escapeExpression,invokePartial:e,fn:function o(e){var t=s[e];return t.decorator=s[e+"_d"],t},programs:[],program:function d(e,t,n,i,r){var o=this.programs[e],a=this.fn(e);return t||r||i||n?o=f(this,e,a,t,n,i,r):o||(o=this.programs[e]=f(this,e,a)),o},data:function a(e,t){for(;e&&t--;)e=e._parent;return e},merge:function h(e,t){var n=e||t;return e&&t&&e!==t&&(n=v.extend({},t,e)),n},nullContext:m({}),noop:l.VM.noop,compilerInfo:s.compiler};return c.isTop=!0,c._setup=function(e){e.partial?(u.helpers=e.helpers,u.partials=e.partials,u.decorators=e.decorators):(u.helpers=u.merge(e.helpers,l.helpers),s.usePartial&&(u.partials=u.merge(e.partials,l.partials)),(s.usePartial||s.useDecorators)&&(u.decorators=u.merge(e.decorators,l.decorators)))},c._child=function(e,t,n,i){if(s.useBlockParams&&!n)throw new y["default"]("must pass block params");if(s.useDepths&&!i)throw new y["default"]("must pass parent depths");return f(u,e,s[e],t,0,n,i)},c}function f(r,e,o,a,t,s,l){function n(e,t){var n=arguments.length<=1||t===undefined?{}:arguments[1],i=l;return!l||e==l[0]||e===r.nullContext&&null===l[0]||(i=[e].concat(l)),o(r,e,r.helpers,r.partials,n.data||a,s&&[n.blockParams].concat(s),i)}return(n=g(o,n,r,l,a,s)).program=e,n.depth=l?l.length:0,n.blockParams=t||0,n}function o(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function a(e,t,n){var o=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=undefined;if(n.fn&&n.fn!==s&&function(){n.data=u.createFrame(n.data);var i=n.fn;a=n.data["partial-block"]=function r(e,t){var n=arguments.length<=1||t===undefined?{}:arguments[1];return n.data=u.createFrame(n.data),n.data["partial-block"]=o,i(e,n)},i.partials&&(n.partials=v.extend({},n.partials,i.partials))}(),e===undefined&&a&&(e=a),e===undefined)throw new y["default"]("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function s(){return""}function p(e,t){return t&&"root"in t||((t=t?u.createFrame(t):{}).root=e),t}function g(e,t,n,i,r,o){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],r,o,i),v.extend(t,a)}return t}var m=n(23)["default"],l=n(3)["default"],c=n(1)["default"];t.__esModule=!0,t.checkRevision=i,t.template=r,t.wrapProgram=f,t.resolvePartial=o,t.invokePartial=a,t.noop=s;var v=l(n(5)),y=c(n(6)),u=n(4)},function(e,t,n){e.exports={"default":n(24),__esModule:!0}},function(e,t,n){n(25),e.exports=n(30).Object.seal},function(e,t,n){var i=n(26);n(27)("seal",function(t){return function n(e){return t&&i(e)?t(e):e}})},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(28),o=n(30),a=n(33);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",i)}},function(e,t,n){var p=n(29),g=n(30),m=n(31),v="prototype",y=function(e,t,n){var i,r,o,a=e&y.F,s=e&y.G,l=e&y.S,c=e&y.P,u=e&y.B,d=e&y.W,h=s?g:g[t]||(g[t]={}),f=s?p:l?p[t]:(p[t]||{})[v];for(i in s&&(n=t),n)(r=!a&&f&&i in f)&&i in h||(o=r?f[i]:n[i],h[i]=s&&"function"!=typeof f[i]?n[i]:u&&r?m(o,p):d&&f[i]==o?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e[v]=t[v],e}(o):c&&"function"==typeof o?m(Function.call,o):o,c&&((h[v]||(h[v]={}))[i]=o))};y.F=1,y.G=2,y.S=4,y.P=8,y.B=16,y.W=32,e.exports=y},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){var t=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=t)},function(e,t,n){var o=n(32);e.exports=function(i,r,e){if(o(i),r===undefined)return i;switch(e){case 1:return function(e){return i.call(r,e)};case 2:return function(e,t){return i.call(r,e,t)};case 3:return function(e,t,n){return i.call(r,e,t,n)}}return function(){return i.apply(r,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){(function(i){"use strict";t.__esModule=!0,t["default"]=function(e){var t=void 0!==i?i:window,n=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=n),e}}
,e.exports=t["default"]}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function i(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function r(e){return/^\.|this\b/.test(e.original)},simpleId:function o(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e,t){return"Program"===e.type?e:((a["default"].yy=u).locInfo=function(e){return new u.SourceLocation(t&&t.srcName,e)},new s["default"](t).accept(a["default"].parse(e)))}var r=n(1)["default"],o=n(3)["default"];t.__esModule=!0,t.parse=i;var a=r(n(37)),s=r(n(38)),l=o(n(40)),c=n(5);t.parser=a["default"];var u={};c.extend(u,l)},function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(){this.yy={}}var t={trace:function i(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function c(e,t,n,i,r,o){var a=o.length-1;switch(r){case 1:return o[a-1];case 2:this.$=i.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[a]),strip:i.stripFlags(o[a],o[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var s=i.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),l=i.prepareProgram([s],o[a-1].loc);l.chained=!0,this.$={strip:o[a-2].strip,program:l,chain:!0};break;case 20:this.$=o[a];break;case 21:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:i.stripFlags(o[a-4],o[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:i.stripFlags(o[a-4],o[a])};break;case 27:case 28:this.$=o[a];break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[a-2]),value:o[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[a-1]);break;case 33:case 34:this.$=o[a];break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:undefined,value:undefined,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=o[a];break;case 42:this.$=i.preparePath(!0,o[a],this._$);break;case 43:this.$=i.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:i.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:i.id(o[a]),original:o[a]}];break;case 46:this.$=[];break;case 47:o[a-1].push(o[a]);break;case 48:this.$=[o[a]];break;case 49:o[a-1].push(o[a]);break;case 50:this.$=[];break;case 51:o[a-1].push(o[a]);break;case 58:this.$=[];break;case 59:o[a-1].push(o[a]);break;case 64:this.$=[];break;case 65:o[a-1].push(o[a]);break;case 70:this.$=[];break;case 71:o[a-1].push(o[a]);break;case 78:this.$=[];break;case 79:o[a-1].push(o[a]);break;case 82:this.$=[];break;case 83:o[a-1].push(o[a]);break;case 86:this.$=[];break;case 87:o[a-1].push(o[a]);break;case 90:this.$=[];break;case 91:o[a-1].push(o[a]);break;case 94:this.$=[];break;case 95:o[a-1].push(o[a]);break;case 98:this.$=[o[a]];break;case 99:o[a-1].push(o[a]);break;case 100:this.$=[o[a]];break;case 101:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function r(e){throw new Error(e)},parse:function S(e){function t(){var e;return"number"!=typeof(e=n.lexer.lex()||1)&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],o=[],a=this.table,s="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;o.push(d);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,g,m,v,y,_,b,w,x={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:(null==f&&(f=t()),m=a[g]&&a[g][f]),void 0===m||!m.length||!m[0]){var k="";if(!u){for(y in w=[],a[g])this.terminals_[y]&&2<y&&w.push("'"+this.terminals_[y]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:d,expected:w})}}if(m[0]instanceof Array&&1<m.length)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+f);switch(m[0]){case 1:i.push(f),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(m[1]),f=null,p?(f=p,p=null):(c=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,0<u&&u--);break;case 2:if(_=this.productions_[m[1]][1],x.$=r[r.length-_],x._$={first_line:o[o.length-(_||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(_||1)].first_column,last_column:o[o.length-1].last_column},h&&(x._$.range=[o[o.length-(_||1)].range[0],o[o.length-1].range[1]]),void 0!==(v=this.performAction.call(x,s,c,l,this.yy,m[1],r,o)))return v;_&&(i=i.slice(0,-1*_*2),r=r.slice(0,-1*_),o=o.slice(0,-1*_)),i.push(this.productions_[m[1]][0]),r.push(x.$),o.push(x._$),b=a[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},n={EOF:1,parseError:function o(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function a(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function s(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function l(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function u(){return this._more=!0,this},less:function d(e){this.unput(this.match.slice(e))},pastInput:function h(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function f(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function p(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function g(){if(this.done)return this.EOF;var e,t,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),a=0;a<o.length&&(!(n=this._input.match(this.rules[o[a]]))||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?((r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function m(){var e=this.next();return void 0!==e?e:this.lex()},begin:function v(e){this.conditionStack.push(e)},popState:function y(){return this.conditionStack.pop()},_currentRules:function _(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function b(){return this.conditionStack[this.conditionStack.length-2]},pushState:function v(e){this.begin(e)},options:{},performAction:function w(e,n,t){function i(e,t){return n.yytext=n.yytext.substr(e,n.yyleng-t)}switch(t){case 0:if("\\\\"===n.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===n.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),n.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(n.yytext=n.yytext.substr(5,n.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(n.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return n.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return n.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return n.yytext=n.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t.lexer=n,new((e.prototype=t).Parser=e)}();t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){var t=arguments.length<=0||e===undefined?{}:arguments[0];this.options=t}function f(e,t,n){t===undefined&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"ContentStatement"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function p(e,t,n){t===undefined&&(t=-1);var i=e[t+1],r=e[t+2];return i?"ContentStatement"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function g(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var r=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==r}}function m(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var r=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==r,i.leftStripped}}var r=n(1)["default"];t.__esModule=!0;var o=r(n(39));i.prototype=new o["default"],i.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,r=0,o=i.length;r<o;r++){var a=i[r],s=this.accept(a);if(s){var l=f(i,r,n),c=p(i,r,n),u=s.openStandalone&&l,d=s.closeStandalone&&c,h=s.inlineStandalone&&l&&c;s.close&&g(i,r,!0),s.open&&m(i,r,!0),t&&h&&(g(i,r),m(i,r)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(i[r-1].original)[1])),t&&u&&(g((a.program||a.inverse).body),m(i,r)),t&&d&&(g(i,r),m((a.inverse||a.program).body))}}return e},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,r=n;if(n&&n.chained)for(i=n.body[0].program;r.chained;)r=r.body[r.body.length-1].program;var o={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:p(t.body),closeStandalone:f((i||t).body)};if(e.openStrip.close&&g(t.body,null,!0),n){var a=e.inverseStrip;a.open&&m(t.body,null,!0),a.close&&g(i.body,null,!0),e.closeStrip.open&&m(r.body,null,!0),!this.options.ignoreStandalone&&f(t.body)&&p(i.body)&&(m(t.body),g(i.body))}else e.closeStrip.open&&m(t.body,null,!0);return o},i.prototype.Decorator=i.prototype.MustacheStatement=function(e){return e.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function i(){this.parents=[]}function r(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function o(e){r.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function a(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var s=n(1)["default"];t.__esModule=!0;var l=s(n(6));i.prototype={constructor:i,mutating:!1,acceptKey:function c(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!i.prototype[n.type])throw new l["default"]('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function u(e,t){if(this.acceptKey(e,t),!e[t])throw new l["default"](e.type+" requires "+t)},acceptArray:function d(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function h(e){if(e){if(!this[e.type])throw new l["default"]("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function f(e){this.acceptArray(e.body)},MustacheStatement:r,Decorator:r,BlockStatement:o,DecoratorBlock:o,PartialStatement:a,PartialBlockStatement:function p(e){a.call(this,e),this.acceptKey(e,"program")},ContentStatement:function g(){},CommentStatement:function m(){},SubExpression:r,PathExpression:function v(){},StringLiteral:function y(){},NumberLiteral:function _(){},BooleanLiteral:function b(){},UndefinedLiteral:function w(){},NullLiteral:function x(){},Hash:function k(e){this.acceptArray(e.pairs)},HashPair:function S(e){this.acceptRequired(e,"value")}},t["default"]=i,e.exports=t["default"]},function(e,t,n){"use strict";function c(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new g["default"](e.path.original+" doesn't match "+t,n)}}function i(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function r(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function o(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function a(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function s(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",r=[],o=0,a=0,s=t.length;a<s;a++){var l=t[a].part,c=t[a].original!==l;if(i+=(t[a].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)r.push(l);else{if(0<r.length)throw new g["default"]("Invalid path: "+i,{loc:n});".."===l&&(o++,"../")}}return{type:"PathExpression",data:e,depth:o,parts:r,original:i,loc:n}}function l(e,t,n,i,r,o){var a=i.charAt(3)||i.charAt(2),s="{"!==a&&"&"!==a;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:s,strip:r,loc:this.locInfo(o)}}function u(e,t,n,i){c(e,n);var r={type:"Program",body:t,strip:{},loc:i=this.locInfo(i)};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function d(e,t,n,i,r,o){i&&i.path&&c(e,i);var a=/\*/.test(e.open);t.blockParams=e.blockParams;var s=undefined,l=undefined;if(n){if(a)throw new g["default"]("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),l=n.strip,s=n.program}
return r&&(r=s,s=t,t=r),{type:a?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:s,openStrip:e.strip,inverseStrip:l,closeStrip:i&&i.strip,loc:this.locInfo(o)}}function h(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function f(e,t,n,i){return c(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}}var p=n(1)["default"];t.__esModule=!0,t.SourceLocation=i,t.id=r,t.stripFlags=o,t.stripComment=a,t.preparePath=s,t.prepareMustache=l,t.prepareRawBlock=u,t.prepareBlock=d,t.prepareProgram=h,t.preparePartialBlock=f;var g=p(n(6))},function(e,t,n){"use strict";function i(){}function r(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e,t),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function o(i,r,o){function a(){var e=o.parse(i,r),t=(new o.Compiler).compile(e,r),n=(new o.JavaScriptCompiler).compile(t,r,undefined,!0);return o.template(n)}function e(e,t){return s||(s=a()),s.call(this,e,t)}if(r===undefined&&(r={}),null==i||"string"!=typeof i&&"Program"!==i.type)throw new c["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+i);"data"in(r=u.extend({},r))||(r.data=!0),r.compat&&(r.useDepths=!0);var s=undefined;return e._setup=function(e){return s||(s=a()),s._setup(e)},e._child=function(e,t,n,i){return s||(s=a()),s._child(e,t,n,i)},e}function a(e,t){if(e===t)return!0;if(u.isArray(e)&&u.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!a(e[n],t[n]))return!1;return!0}}function s(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var l=n(1)["default"];t.__esModule=!0,t.Compiler=i,t.precompile=r,t.compile=o;var c=l(n(6)),u=n(5),d=l(n(35)),h=[].slice;i.prototype={compiler:i,equals:function f(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||!a(i.args,r.args))return!1}t=this.children.length;for(n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function o(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(this.options.knownHelpers[i]=n[i]);return this.accept(e)},compileProgram:function p(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function g(e){if(!this[e.type])throw new c["default"]("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function m(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;i<n;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function v(e){s(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function y(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,undefined),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function _(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(1<n.length)throw new c["default"]("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,r="SubExpression"===e.name.type;r&&this.accept(e.name),this.setupFullMustacheParams(e,t,undefined,!0);var o=e.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",r,i,o),this.opcode("append")},PartialBlockStatement:function b(e){this.PartialStatement(e)},MustacheStatement:function w(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function x(e){this.DecoratorBlock(e)},ContentStatement:function k(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function S(){},SubExpression:function C(e){s(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function D(e,t,n){var i=e.path,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function T(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function E(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.path,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new c["default"]("You specified knownHelpersOnly, but used the unknown helper "+o,e);r.strict=!0,r.falsy=!0,this.accept(r),this.opcode("invokeHelper",i.length,r.original,d["default"].helpers.simpleId(r))}},PathExpression:function M(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=d["default"].helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function I(e){this.opcode("pushString",e.value)},NumberLiteral:function P(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function $(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function R(){this.opcode("pushLiteral","undefined")},NullLiteral:function O(){this.opcode("pushLiteral","null")},Hash:function A(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function N(e){this.opcodes.push({opcode:e,args:h.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function H(e){e&&(this.useDepths=!0)},classifySexpr:function L(e){var t=d["default"].helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&d["default"].helpers.helperExpression(e),r=!n&&(i||t);if(r&&!i){var o=e.path.parts[0],a=this.options;a.knownHelpers[o]?i=!0:a.knownHelpersOnly&&(r=!1)}return i?"helper":r?"ambiguous":"simple"},pushParams:function F(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function j(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=undefined;if(!e.parts||d["default"].helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function z(e,t,n,i){var r=e.params;return this.pushParams(r),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),r},blockParamIndex:function B(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],r=i&&u.indexOf(i,e);if(i&&0<=r)return[t,r]}}}},function(e,t,n){"use strict";function l(e){this.value=e}function r(){}function s(e,t,n,i){var r=t.popStack(),o=0,a=n.length;for(e&&a--;o<a;o++)r=t.nameLookup(r,n[o],i);return e?[t.aliasable("container.strict"),"(",r,", ",t.quotedString(n[o]),")"]:r}var i=n(1)["default"];t.__esModule=!0;var o=n(4),p=i(n(6)),a=n(5),c=i(n(43));r.prototype={nameLookup:function u(e,t){return r.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function d(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function h(){var e=o.COMPILER_REVISION;return[e,o.REVISION_CHANGES[e]]},appendToBuffer:function f(e,t,n){return a.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function g(){return this.quotedString("")},compile:function m(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var r=e.opcodes,o=undefined,a=undefined,s=undefined,l=undefined;for(s=0,l=r.length;s<l;s++)o=r[s],this.source.currentLocation=o.loc,a=a||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new p["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=undefined:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(i);if(this.isChild)return c;var u={compiler:this.compilerInfo(),main:c};this.decorators&&(u.main_d=this.decorators,u.useDecorators=!0);var d=this.context,h=d.programs,f=d.decorators;for(s=0,l=h.length;s<l;s++)h[s]&&(u[s]=h[s],f[s]&&(u[s+"_d"]=f[s],u.useDecorators=!0));return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.useBlockParams&&(u.useBlockParams=!0),this.options.compat&&(u.compat=!0),i?u.compilerOptions=this.options:(u.compiler=JSON.stringify(u.compiler),this.source.currentLocation={start:{line:1,column:0}},u=this.objectLiteral(u),t.srcName?(u=u.toStringWithSourceMap({file:t.destName})).map=u.map&&u.map.toString():u=u.toString()),u},preamble:function v(){this.lastContext=0,this.source=new c["default"](this.options.srcName),this.decorators=new c["default"](this.options.srcName)},createFunctionContext:function y(e){var t="",n=this.stackVars.concat(this.registers.list);0<n.length&&(t+=", "+n.join(", "));var i=0;for(var r in this.aliases){var o=this.aliases[r];this.aliases.hasOwnProperty(r)&&o.children&&1<o.referenceCount&&(t+=", alias"+ ++i+"="+r,o.children[0]="alias"+i)}var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var s=this.mergeSource(t);return e?(a.push(s),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",s,"}"])},mergeSource:function _(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=undefined,r=undefined,o=undefined,a=undefined;return this.source.each(function(e){e.appendToBuffer?(o?e.prepend("  + "):o=e,a=e):(o&&(r?o.prepend("buffer += "):i=!0,a.add(";"),o=a=undefined),r=!0,t||(n=!1))}),n?o?(o.prepend("return "),a.add(";")):r||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function b(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function w(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function x(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function k(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,undefined,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",undefined,!0)," }"])}},appendEscaped:function S(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function C(e){this.lastContext=e},pushContext:function D(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function T(e,t,n,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[r++])),this.resolvePath("context",e,r,t,n)},lookupBlockParam:function E(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function M(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function I(n,i,r,o,e){var a=this;if(this.options.strict||this.options.assumeObjects)this.push(s(this.options.strict&&e,this,i,n));else for(var t=i.length;r<t;r++)this.replaceStack(function(e){var t=a.nameLookup(e,i[r],n);return o?[" && ",t]:[" != null ? ",t," : ",e]})},resolvePossibleLambda:function P(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function $(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function R(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function O(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function A(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function N(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function H(e){this.pushStackLiteral(e)},pushProgram:function L(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function F(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function j(e,t,n){var i=this.popStack(),r=this.setupHelper(e,t),o=n?[r.name," || "]:"",a=["("].concat(o,i);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",r.callParams))},invokeKnownHelper:function z(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function B(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function W(e,t,n){var i=[],r=this.setupParams(t,1,i);e&&(t=this.popStack(),delete r.name),n&&(r.indent=JSON.stringify(n)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function U(e){var t=this.popStack(),n=undefined,i=undefined,r=undefined;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[e]=n),i&&(o.types[e]=i),r&&(o.ids[e]=r),o.values[e]=t},pushId:function V(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:r,compileChildren:function q(e,t){for(var n=e.children,i=undefined,r=undefined,o=0,a=n.length;o<a;o++){i=n[o],r=new this.compiler;var s=this.matchExistingProgram(i);if(null==s){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=r.compile(i,t,this.context,!this.precompile),this.context.decorators[l]=r.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=s.index,i.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function Y(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function G(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function Z(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function X(e){return e instanceof l||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function K(e){this.push(new l(e))},pushSource:function Q(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=undefined),e&&this.source.push(e)},replaceStack:function J(e){var t=["("],n=undefined,i=undefined,r=undefined;if(!this.isInline())throw new p["default"]("replaceStack on non-inline");var o=this.popStack(!0);if(o instanceof l)t=["(",n=[o.value]],r=!0;else{i=!0;var a=this.incrStack();t=["((",this.push(a)," = ",o,")"],n=this.topStack()}var s=e.call(this,n);r||this.popStack(),i&&this.stackSlot--,this.push(t.concat(s,")"))},incrStack:function ee(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function te(){return"stack"+this.stackSlot},flushInline:function ne(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i instanceof l)this.compileStack.push(i);else{var r=this.incrStack();this.pushSource([r," = ",i,";"]),this.compileStack.push(r)}}},isInline:function ie(){return this.inlineStack.length},popStack:function re(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof l)return n.value;if(!t){if(!this.stackSlot)throw new p["default"]("Invalid stack pop");this.stackSlot--}return n},topStack:function oe(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof l?t.value:t},contextName:function ae(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function se(e){return this.source.quotedString(e)},objectLiteral:function le(e){return this.source.objectLiteral(e)},aliasable:function ce(e){var t=this.aliases[e];return t?t.referenceCount++:((t=this.aliases[e]=this.source.wrap(e)).aliasable=!0,t.referenceCount=1),t},setupHelper:function ue(e,t,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(t,e,i,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function de(e,t,n){var i={},r=[],o=[],a=[],s=!n,l=undefined;s&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var d=t;d--;)l=this.popStack(),n[d]=l,this.trackIds&&(a[d]=this.popStack()),this.stringParams&&(o[d]=this.popStack(),r[d]=this.popStack());return s&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(a)),this.stringParams&&(i.types=this.source.generateArray(o),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function he(e,t,n,i){var r=this.setupParams(e,t,n);return r=this.objectLiteral(r),i?(this.useRegister("options"),n.push("options"),["options=",r]):n?(n.push(r),""):r}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=r.RESERVED_WORDS={},n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),r.isValidJavaScriptVariableName=function(e){return!r.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function o(e,t,n){if(a.isArray(e)){for(var i=[],r=0,o=e.length;r<o;r++)i.push(t.wrap(e[r],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function i(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var a=n(5),r=undefined;try{}catch(s){}r||((r=function(e,t,n,i){this.src="",i&&this.add(i)}).prototype={add:function l(e){a.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function c(e){a.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function u(){return{code:this.toString()}},toString:function d(){return this.src}}),i.prototype={isEmpty:function h(){return!this.source.length},prepend:function c(e,t){this.source.unshift(this.wrap(e,t))},push:function f(e,t){this.source.push(this.wrap(e,t))},merge:function p(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function g(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function m(){var e=this.currentLocation||{start:{}};return new r(e.start.line,e.start.column,this.srcFile)},wrap:function v(e,t){var n=arguments.length<=1||t===undefined?this.currentLocation||{start:{}}:arguments[1];return e instanceof r?e:(e=o(e,this,n),new r(n.start.line,n.start.column,this.srcFile,e))},functionCall:function y(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function _(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function b(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=o(e[n],this);"undefined"!==i&&t.push([this.quotedString(n),":",i])}var r=this.generateList(t);return r.prepend("{"),r.add("}"),r},generateList:function w(e){for(var t=this.empty(),n=0,i=e.length;n<i;n++)n&&t.add(","),t.add(o(e[n],this));return t},generateArray:function x(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t["default"]=i,e.exports=t["default"]}])}),function(T){"use strict";var E=T.tablesorter={version:"2.28.15",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(t,n){if(t&&t.tHead&&0!==t.tBodies.length&&!0!==t.hasInitialized){var e,i="",r=T(t),o=T.metadata;t.hasInitialized=!1,t.isProcessing=!0,t.config=n,T.data(t,"tablesorter",n),n.debug&&(console[console.group?"group":"log"]("Initializing tablesorter v"+E.version),T.data(t,"startoveralltimer",new Date)),n.supportsDataObject=((e=T.fn.jquery.split("."))[0]=parseInt(e[0],10),1<e[0]||1===e[0]&&4<=parseInt(e[1],10)),n.emptyTo=n.emptyTo.toLowerCase(),n.stringTo=n.stringTo.toLowerCase(),n.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(r.attr("class"))||(i=""!==n.theme?" tablesorter-"+n.theme:""),n.namespace?n.namespace="."+n.namespace.replace(E.regex.nonWord,""):n.namespace=".tablesorter"+Math.random().toString(16).slice(2),n.table=t,n.$table=r.addClass(E.css.table+" "+n.tableClass+i+" "+n.namespace.slice(1)).attr("role","grid"),n.$headers=r.find(n.selectorHeaders),n.$table.children().children("tr").attr("role","row"),n.$tbodies=r.children("tbody:not(."+n.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),n.$table.children("caption").length&&((i=n.$table.children("caption")[0]).id||(i.id=n.namespace.slice(1)+"caption"),n.$table.attr("aria-labelledby",i.id)),n.widgetInit={},n.textExtraction=n.$table.attr("data-text-extraction")||n.textExtraction||"basic",E.buildHeaders(n),E.fixColumnWidth(t),E.addWidgetFromClass(t),E.applyWidgetOptions(t),E.setupParsers(n),n.totalRows=0,E.validateOptions(n),n.delayInit||E.buildCache(n),E.bindEvents(t,n.$headers,!0),E.bindMethods(n),n.supportsDataObject&&"undefined"!=typeof r.data().sortlist?n.sortList=r.data().sortlist:o&&r.metadata()&&r.metadata().sortlist&&(n.sortList=r.metadata().sortlist),E.applyWidget(t,!0),0<n.sortList.length?E.sortOn(n,n.sortList,{},!n.initWidgets):(E.setHeadersCss(n),n.initWidgets&&E.applyWidget(t,!1)),n.showProcessing&&r.unbind("sortBegin"+n.namespace+" sortEnd"+n.namespace).bind("sortBegin"+n.namespace+" sortEnd"+n.namespace,function(e){clearTimeout(n.timerProcessing),E.isProcessing(t),"sortBegin"===e.type&&(n.timerProcessing=setTimeout(function(){E.isProcessing(t,!0)},500))}),t.hasInitialized=!0,t.isProcessing=!1,n.debug&&(console.log("Overall initialization time:"+E.benchmark(T.data(t,"startoveralltimer"))),n.debug&&console.groupEnd&&console.groupEnd()),r.triggerHandler("tablesorter-initialized",t),"function"==typeof n.initialized&&n.initialized(t)}else n.debug&&(t.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",t))},bindMethods:function(n){var e=n.$table,t=n.namespace,i="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(t+" ");e.unbind(i.replace(E.regex.spaces," ")).bind("sortReset"+t,function(e,t){e.stopPropagation(),E.sortReset(this.config,function(e){e.isApplyingWidgets?setTimeout(function(){E.applyWidget(e,"",t)},100):E.applyWidget(e,"",t)})}).bind("updateAll"+t,function(e,t,n){e.stopPropagation(),E.updateAll(this.config,t,n)}).bind("update"+t+" updateRows"+t,function(e,t,n){e.stopPropagation(),E.update(this.config,t,n)}).bind("updateHeaders"+t,function(e,t){e.stopPropagation(),E.updateHeaders(this.config,t)}).bind("updateCell"+t,function(e,t,n,i){e.stopPropagation(),E.updateCell(this.config,t,n,i)}).bind("addRows"+t,function(e,t,n,i){e.stopPropagation(),E.addRows(this.config,t,n,i)}).bind("updateComplete"+t,function(){this.isUpdating=!1}).bind("sorton"+t,function(e,t,n,i){e.stopPropagation(),E.sortOn(this.config,t,n,i)}).bind("appendCache"+t,function(e,t,n){e.stopPropagation(),E.appendCache(this.config,n),T.isFunction(t)&&t(this)}).bind("updateCache"+t,function(e,t,n){e.stopPropagation(),E.updateCache(this.config,t,n)}).bind("applyWidgetId"+t,function(e,t){e.stopPropagation(),E.applyWidgetId(this,t)}).bind("applyWidgets"+t,function(e,t){e.stopPropagation(),E.applyWidget(this,t)}).bind("refreshWidgets"+t,function(e,t,n){e.stopPropagation(),E.refreshWidgets(this,t,n)}).bind("removeWidget"+t,function(e,t,n){e.stopPropagation(),E.removeWidget(this,t,n)}).bind("destroy"+t,function(e,t,n){e.stopPropagation(),E.destroy(this,t,n)}).bind("resetToLoadState"+t,function(e){e.stopPropagation(),E.removeWidget(this,!0,!1);var t=T.extend(!0,{},n.originalSettings);(n=T.extend(!0,{},E.defaults,t)).originalSettings=t,this.hasInitialized=!1,E.setup(this,n)})},bindEvents:function(e,s,t){var n,l=(e=T(e)[0]).config,i=l.namespace,c=null;!0!==t&&(s.addClass(i.slice(1)+"_extra_headers"),(n=T.fn.closest?s.closest("table")[0]:s.parents("table")[0])&&"TABLE"===n.nodeName&&n!==e&&T(n).addClass(i.slice(1)+"_extra_table")),n=(l.pointerDown+" "+l.pointerUp+" "+l.pointerClick+" sort keyup ").replace(E.regex.spaces," ").split(" ").join(i+" "),s.find(l.selectorSort).add(s.filter(l.selectorSort)).unbind(n).bind(n,
function(e,t){var n,i,r,o=T(e.target),a=" "+e.type+" ";if(!(1!==(e.which||e.button)&&!a.match(" "+l.pointerClick+" | sort | keyup ")||" keyup "===a&&e.which!==E.keyCodes.enter||a.match(" "+l.pointerClick+" ")&&"undefined"!=typeof e.which||a.match(" "+l.pointerUp+" ")&&c!==e.target&&!0!==t)){if(a.match(" "+l.pointerDown+" "))return c=e.target,void("1"===(r=o.jquery.split("."))[0]&&r[1]<4&&e.preventDefault());if(c=null,E.regex.formElements.test(e.target.nodeName)||o.hasClass(l.cssNoSort)||0<o.parents("."+l.cssNoSort).length||0<o.parents("button").length)return!l.cancelSelection;l.delayInit&&E.isEmptyObject(l.cache)&&E.buildCache(l),n=T.fn.closest?T(this).closest("th, td"):/TH|TD/.test(this.nodeName)?T(this):T(this).parents("th, td"),r=s.index(n),l.last.clickedIndex=r<0?n.attr("data-column"):r,(i=l.$headers[l.last.clickedIndex])&&!i.sortDisabled&&E.initSort(l,i,e)}}),l.cancelSelection&&s.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(l){var e,c,t,n;for(l.headerList=[],l.headerContent=[],l.sortVars=[],l.debug&&(t=new Date),l.columns=E.computeColumnIndex(l.$table.children("thead, tfoot").children("tr")),c=l.cssIcon?'<i class="'+(l.cssIcon===E.css.icon?E.css.icon:l.cssIcon+" "+E.css.icon)+'"></i>':"",l.$headers=T(T.map(l.$table.find(l.selectorHeaders),function(e,t){var n,i,r,o,a,s=T(e);if(!s.parent().hasClass(l.cssIgnoreRow))return n=E.getColumnData(l.table,l.headers,t,!0),l.headerContent[t]=s.html(),""===l.headerTemplate||s.find("."+E.css.headerIn).length||(o=l.headerTemplate.replace(E.regex.templateContent,s.html()).replace(E.regex.templateIcon,s.find("."+E.css.icon).length?"":c),l.onRenderTemplate&&(i=l.onRenderTemplate.apply(s,[t,o]))&&"string"==typeof i&&(o=i),s.html('<div class="'+E.css.headerIn+'">'+o+"</div>")),l.onRenderHeader&&l.onRenderHeader.apply(s,[t,l,l.$table]),r=parseInt(s.attr("data-column"),10),e.column=r,a=E.getOrder(E.getData(s,n,"sortInitialOrder")||l.sortInitialOrder),l.sortVars[r]={count:-1,order:a?l.sortReset?[1,0,2]:[1,0]:l.sortReset?[0,1,2]:[0,1],lockedOrder:!1},void 0!==(a=E.getData(s,n,"lockedOrder")||!1)&&!1!==a&&(l.sortVars[r].lockedOrder=!0,l.sortVars[r].order=E.getOrder(a)?[1,1]:[0,0]),l.headerList[t]=e,s.addClass(E.css.header+" "+l.cssHeader).parent().addClass(E.css.headerRow+" "+l.cssHeaderRow).attr("role","row"),l.tabIndex&&s.attr("tabindex",0),e})),l.$headerIndexed=[],n=0;n<l.columns;n++)E.isEmptyObject(l.sortVars[n])&&(l.sortVars[n]={}),e=l.$headers.filter('[data-column="'+n+'"]'),l.$headerIndexed[n]=e.length?e.not(".sorter-false").length?e.not(".sorter-false").filter(":last"):e.filter(":last"):T();l.$table.find(l.selectorHeaders).attr({scope:"col",role:"columnheader"}),E.updateHeader(l),l.debug&&(console.log("Built headers:"+E.benchmark(t)),console.log(l.$headers))},addInstanceMethods:function(e){T.extend(E.instanceMethods,e)},setupParsers:function(e,t){var n,i,r,o,a,s,l,c,u,d,h,f,p,g,m=e.table,v=0,y={};if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),0===(g=(p=void 0===t?e.$tbodies:t).length))return e.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(e.debug&&(f=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),i={extractors:[],parsers:[]};v<g;){if((n=p[v].rows).length)for(a=0,o=e.columns,s=0;s<o;s++){if((l=e.$headerIndexed[a])&&l.length&&(c=E.getColumnData(m,e.headers,a),h=E.getParserById(E.getData(l,c,"extractor")),d=E.getParserById(E.getData(l,c,"sorter")),u="false"===E.getData(l,c,"parser"),e.empties[a]=(E.getData(l,c,"empty")||e.emptyTo||(e.emptyToBottom?"bottom":"top")).toLowerCase(),e.strings[a]=(E.getData(l,c,"string")||e.stringTo||"max").toLowerCase(),u&&(d=E.getParserById("no-parser")),h||(h=!1),d||(d=E.detectParserForColumn(e,n,-1,a)),e.debug&&(y["("+a+") "+l.text()]={parser:d.id,extractor:h?h.id:"none",string:e.strings[a],empty:e.empties[a]}),i.parsers[a]=d,i.extractors[a]=h,0<(r=l[0].colSpan-1)))for(a+=r,o+=r;0<r+1;)i.parsers[a-r]=d,i.extractors[a-r]=h,r--;a++}v+=i.parsers.length?g:1}e.debug&&(E.isEmptyObject(y)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](y),console.log("Completed detecting parsers"+E.benchmark(f)),console.groupEnd&&console.groupEnd()),e.parsers=i.parsers,e.extractors=i.extractors},addParser:function(e){var t,n=E.parsers.length,i=!0;for(t=0;t<n;t++)E.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(i=!1);i&&(E.parsers[E.parsers.length]=e)},getParserById:function(e){if("false"==e)return!1;var t,n=E.parsers.length;for(t=0;t<n;t++)if(E.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return E.parsers[t];return!1},detectParserForColumn:function(e,t,n,i){for(var r,o,a,s=E.parsers.length,l=!1,c="",u=!0;""===c&&u;)(a=t[++n])&&n<50?a.className.indexOf(E.cssIgnoreRow)<0&&(l=t[n].cells[i],c=E.getElementText(e,l,i),o=T(l),e.debug&&console.log("Checking if value was empty on row "+n+", column: "+i+': "'+c+'"')):u=!1;for(;0<=--s;)if((r=E.parsers[s])&&"text"!==r.id&&r.is&&r.is(c,e.table,l,o))return r;return E.getParserById("text")},getElementText:function(e,t,n){if(!t)return"";var i,r=e.textExtraction||"",o=t.jquery?t:T(t);return"string"==typeof r?"basic"===r&&void 0!==(i=o.attr(e.textAttribute))?T.trim(i):T.trim(t.textContent||o.text()):"function"==typeof r?T.trim(r(o[0],e.table,n)):"function"==typeof(i=E.getColumnData(e.table,r,n))?T.trim(i(o[0],e.table,n)):T.trim(o[0].textContent||o.text())},getParsedText:function(e,t,n,i){void 0===i&&(i=E.getElementText(e,t,n));var r=""+i,o=e.parsers[n],a=e.extractors[n];return o&&(a&&"function"==typeof a.format&&(i=a.format(i,e.table,t,n)),r="no-parser"===o.id?"":o.format(""+i,e.table,t,n),e.ignoreCase&&"string"==typeof r&&(r=r.toLowerCase())),r},buildCache:function(e,t,n){var i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,_,b,w,x,k,S,C=e.table,D=e.parsers;if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),c=void 0===n?e.$tbodies:n,e.cache={},e.totalRows=0,!D)return e.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(e.debug&&(p=new Date),e.showProcessing&&E.isProcessing(C,!0),l=0;l<c.length;l++){for(y=[],i=e.cache[l]={normalized:[]},g=c[l]&&c[l].rows.length||0,a=0;a<g;++a)if(m={child:[],raw:[]},d=[],!(u=T(c[l].rows[a])).hasClass(e.selectorRemove.slice(1)))if(u.hasClass(e.cssChildRow)&&0!==a)for(k=i.normalized.length-1,(v=i.normalized[k][e.columns]).$row=v.$row.add(u),u.prev().hasClass(e.cssChildRow)||u.prev().addClass(E.css.cssHasChild),h=u.children("th, td"),k=v.child.length,v.child[k]=[],b=0,x=e.columns,s=0;s<x;s++)(f=h[s])&&(v.child[k][s]=E.getParsedText(e,f,s),0<(_=h[s].colSpan-1)&&(b+=_,x+=_)),b++;else{for(m.$row=u,m.order=a,b=0,x=e.columns,s=0;s<x;++s){if((f=u[0].cells[s])&&b<e.columns&&(!(w="undefined"!=typeof D[b])&&e.debug&&console.warn("No parser found for row: "+a+", column: "+s+'; cell containing: "'+T(f).text()+'"; does it have a header?'),r=E.getElementText(e,f,b),m.raw[b]=r,o=E.getParsedText(e,f,b,r),d[b]=o,w&&"numeric"===(D[b].type||"").toLowerCase()&&(y[b]=Math.max(Math.abs(o)||0,y[b]||0)),0<(_=f.colSpan-1))){for(S=0;S<=_;)o=e.duplicateSpan||0===S?r:"string"!=typeof e.textExtraction&&E.getElementText(e,f,b+S)||"",m.raw[b+S]=o,d[b+S]=o,S++;b+=_,x+=_}b++}d[e.columns]=m,i.normalized[i.normalized.length]=d}i.colMax=y,e.totalRows+=i.normalized.length}if(e.showProcessing&&E.isProcessing(C),e.debug){for(k=Math.min(5,e.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+e.totalRows+" rows (showing "+k+" rows in log) and "+e.columns+" columns"+E.benchmark(p)),r={},s=0;s<e.columns;s++)for(b=0;b<k;b++)r["row: "+b]||(r["row: "+b]={}),r["row: "+b][e.$headerIndexed[s].text()]=e.cache[0].normalized[b][s];console[console.table?"table":"log"](r),console.groupEnd&&console.groupEnd()}T.isFunction(t)&&t(C)},getColumnText:function(e,t,n,i){var r,o,a,s,l,c,u,d,h,f,p="function"==typeof n,g="all"===t,m={raw:[],parsed:[],$cell:[]},v=(e=T(e)[0]).config;if(!E.isEmptyObject(v)){for(l=v.$tbodies.length,r=0;r<l;r++)for(c=(a=v.cache[r].normalized).length,o=0;o<c;o++)s=a[o],i&&!s[v.columns].$row.is(i)||(f=!0,d=g?s.slice(0,v.columns):s[t],s=s[v.columns],u=g?s.raw:s.raw[t],h=g?s.$row.children():s.$row.children().eq(t),p&&(f=n({tbodyIndex:r,rowIndex:o,parsed:d,raw:u,$row:s.$row,$cell:h})),!1!==f&&(m.parsed[m.parsed.length]=d,m.raw[m.raw.length]=u,m.$cell[m.$cell.length]=h));return m}v.debug&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(o){var e,t,n=o.sortList,i=n.length,r=E.css.sortNone+" "+o.cssNone,a=[E.css.sortAsc+" "+o.cssAsc,E.css.sortDesc+" "+o.cssDesc],s=[o.cssIconAsc,o.cssIconDesc,o.cssIconNone],l=["ascending","descending"],c=o.$table.find("tfoot tr").children("td, th").add(T(o.namespace+"_extra_headers")).removeClass(a.join(" ")),u=o.$headers.add(T("thead "+o.namespace+"_extra_headers")).removeClass(a.join(" ")).addClass(r).attr("aria-sort","none").find("."+E.css.icon).removeClass(s.join(" ")).end();for(u.not(".sorter-false").find("."+E.css.icon).addClass(s[2]),o.cssIconDisabled&&u.filter(".sorter-false").find("."+E.css.icon).addClass(o.cssIconDisabled),e=0;e<i;e++)if(2!==n[e][1]&&(u=(u=o.$headers.filter(function(e){for(var t=!0,n=o.$headers.eq(e),i=parseInt(n.attr("data-column"),10),r=i+o.$headers[e].colSpan;i<r;i++)t=!!t&&(t||-1<E.isValueInArray(i,o.sortList));return t})).not(".sorter-false").filter('[data-column="'+n[e][0]+'"]'+(1===i?":last":""))).length){for(t=0;t<u.length;t++)u[t].sortDisabled||u.eq(t).removeClass(r).addClass(a[n[e][1]]).attr("aria-sort",l[n[e][1]]).find("."+E.css.icon).removeClass(s[2]).addClass(s[n[e][1]]);c.length&&c.filter('[data-column="'+n[e][0]+'"]').removeClass(r).addClass(a[n[e][1]])}for(i=o.$headers.length,e=0;e<i;e++)E.setColumnAriaLabel(o,o.$headers.eq(e))},setColumnAriaLabel:function(e,t,n){if(t.length){var i=parseInt(t.attr("data-column"),10),r=e.sortVars[i],o=t.hasClass(E.css.sortAsc)?"sortAsc":t.hasClass(E.css.sortDesc)?"sortDesc":"sortNone",a=T.trim(t.text())+": "+E.language[o];t.hasClass("sorter-false")||!1===n?a+=E.language.sortDisabled:(o=(r.count+1)%r.order.length,n=r.order[o],a+=E.language[0===n?"nextAsc":1===n?"nextDesc":"nextNone"]),t.attr("aria-label",a)}},updateHeader:function(e){var t,n,i,r,o=e.table,a=e.$headers.length;for(t=0;t<a;t++)i=e.$headers.eq(t),r=E.getColumnData(o,e.headers,t,!0),n="false"===E.getData(i,r,"sorter")||"false"===E.getData(i,r,"parser"),E.setColumnSort(e,i,n)},setColumnSort:function(e,t,n){var i=e.table.id;t[0].sortDisabled=n,t[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),e.tabIndex&&(n?t.removeAttr("tabindex"):t.attr("tabindex","0")),i&&(n?t.removeAttr("aria-controls"):t.attr("aria-controls",i))},updateHeaderSortCount:function(e,t){var n,i,r,o,a,s,l,c,u=t||e.sortList,d=u.length;for(e.sortList=[],o=0;o<d;o++)if(l=u[o],(n=parseInt(l[0],10))<e.columns){switch(e.sortVars[n].order||(c=E.getOrder(e.sortInitialOrder)?e.sortReset?[1,0,2]:[1,0]:e.sortReset?[0,1,2]:[0,1],e.sortVars[n].order=c,e.sortVars[n].count=0),c=e.sortVars[n].order,i=(i=(""+l[1]).match(/^(1|d|s|o|n)/))?i[0]:""){case"1":case"d":i=1;break;case"s":i=a||0;break;case"o":i=0===(s=c[(a||0)%c.length])?1:1===s?0:2;break;case"n":i=c[++e.sortVars[n].count%c.length];break;default:i=0}a=0===o?i:a,r=[n,parseInt(i,10)||0],e.sortList[e.sortList.length]=r,i=T.inArray(r[1],c),e.sortVars[n].count=0<=i?i:r[1]%c.length}},updateAll:function(e,t,n){var i=e.table;i.isUpdating=!0,E.refreshWidgets(i,!0,!0),E.buildHeaders(e),E.bindEvents(i,e.$headers,!0),E.bindMethods(e),E.commonUpdate(e,t,n)},update:function(e,t,n){e.table.isUpdating=!0,E.updateHeader(e),E.commonUpdate(e,t,n)},updateHeaders:function(e,t){e.table.isUpdating=!0,E.buildHeaders(e),E.bindEvents(e.table,e.$headers,!0),E.resortComplete(e,t)},updateCell:function(e,t,n,i){if(T(t).closest("tr").hasClass(e.cssChildRow))console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');else{if(E.isEmptyObject(e.cache))return E.updateHeader(e),void E.commonUpdate(e,n,i);e.table.isUpdating=!0,e.$table.find(e.selectorRemove).remove();var r,o,a,s,l,c,u=e.$tbodies,d=T(t),h=u.index(T.fn.closest?d.closest("tbody"):d.parents("tbody").filter(":first")),f=e.cache[h],p=T.fn.closest?d.closest("tr"):d.parents("tr").filter(":first");if(t=d[0],u.length&&0<=h){if(a=u.eq(h).find("tr").not("."+e.cssChildRow).index(p),l=f.normalized[a],(c=p[0].cells.length)!==e.columns)for(r=!1,o=s=0;o<c;o++)r||p[0].cells[o]===t?r=!0:s+=p[0].cells[o].colSpan;else s=d.index();r=E.getElementText(e,t,s),l[e.columns].raw[s]=r,r=E.getParsedText(e,t,s,r),l[s]=r,"numeric"===(e.parsers[s].type||"").toLowerCase()&&(f.colMax[s]=Math.max(Math.abs(r)||0,f.colMax[s]||0)),!1!==(r="undefined"!==n?n:e.resort)?E.checkResort(e,r,i):E.resortComplete(e,i)}else e.debug&&console.error("updateCell aborted, tbody missing or not within the indicated table"),e.table.isUpdating=!1}},addRows:function(e,t,n,i){var r,o,a,s,l,c,u,d,h,f,p,g,m,v="string"==typeof t&&1===e.$tbodies.length&&/<tr/.test(t||""),y=e.table;if(v)t=T(t),e.$tbodies.append(t);else if(!(t&&t instanceof jQuery&&(T.fn.closest?t.closest("table")[0]:t.parents("table")[0])===e.table))return e.debug&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(y.isUpdating=!0,E.isEmptyObject(e.cache))E.updateHeader(e),E.commonUpdate(e,n,i);else{for(l=t.filter("tr").attr("role","row").length,a=e.$tbodies.index(t.parents("tbody").filter(":first")),e.parsers&&e.parsers.length||E.setupParsers(e),s=0;s<l;s++){for(h=0,u=t[s].cells.length,d=e.cache[a].normalized.length,p=[],f={child:[],raw:[],$row:t.eq(s),order:d},c=0;c<u;c++)g=t[s].cells[c],r=E.getElementText(e,g,h),f.raw[h]=r,o=E.getParsedText(e,g,h,r),p[h]=o,"numeric"===(e.parsers[h].type||"").toLowerCase()&&(e.cache[a].colMax[h]=Math.max(Math.abs(o)||0,e.cache[a].colMax[h]||0)),0<(m=g.colSpan-1)&&(h+=m),h++;p[e.columns]=f,e.cache[a].normalized[d]=p}E.checkResort(e,n,i)}},updateCache:function(e,t,n){e.parsers&&e.parsers.length||E.setupParsers(e,n),E.buildCache(e,t,n)},appendCache:function(e,t){var n,i,r,o,a,s,l,c=e.table,u=e.widgetOptions,d=e.$tbodies,h=[],f=e.cache;if(E.isEmptyObject(f))return e.appender?e.appender(c,h):c.isUpdating?e.$table.triggerHandler("updateComplete",c):"";for(e.debug&&(l=new Date),s=0;s<d.length;s++)if((r=d.eq(s)).length){for(o=E.processTbody(c,r,!0),i=(n=f[s].normalized).length,a=0;a<i;a++)h[h.length]=n[a][e.columns].$row,e.appender&&(!e.pager||e.pager.removeRows&&u.pager_removeRows||e.pager.ajax)||o.append(n[a][e.columns].$row);E.processTbody(c,o,!1)}e.appender&&e.appender(c,h),e.debug&&console.log("Rebuilt table"+E.benchmark(l)),t||e.appender||E.applyWidget(c),c.isUpdating&&e.$table.triggerHandler("updateComplete",c)},commonUpdate:function(e,t,n){e.$table.find(e.selectorRemove).remove(),E.setupParsers(e),E.buildCache(e),E.checkResort(e,t,n)},initSort:function(e,t,n){if(e.table.isUpdating)return setTimeout(function(){E.initSort(e,t,n)},50);var i,r,o,a,s,l,c,u=!n[e.sortMultiSortKey],d=e.table,h=e.$headers.length,f=parseInt(T(t).attr("data-column"),10),p=e.sortVars[f].order;if(e.$table.triggerHandler("sortStart",d),l=(e.sortVars[f].count+1)%p.length,e.sortVars[f].count=n[e.sortResetKey]?2:l,e.sortRestart)for(o=0;o<h;o++)c=e.$headers.eq(o),f!==(l=parseInt(c.attr("data-column"),10))&&(u||c.hasClass(E.css.sortNone))&&(e.sortVars[l].count=-1);if(u){if(e.sortList=[],e.last.sortList=[],null!==e.sortForce)for(i=e.sortForce,r=0;r<i.length;r++)i[r][0]!==f&&(e.sortList[e.sortList.length]=i[r]);if((a=p[e.sortVars[f].count])<2&&(e.sortList[e.sortList.length]=[f,a],1<t.colSpan))for(r=1;r<t.colSpan;r++)e.sortList[e.sortList.length]=[f+r,a],e.sortVars[f+r].count=T.inArray(a,p)}else if(e.sortList=T.extend([],e.last.sortList),0<=E.isValueInArray(f,e.sortList))for(r=0;r<e.sortList.length;r++)(l=e.sortList[r])[0]===f&&(l[1]=p[e.sortVars[f].count],2===l[1]&&(e.sortList.splice(r,1),e.sortVars[f].count=-1));else if((a=p[e.sortVars[f].count])<2&&(e.sortList[e.sortList.length]=[f,a],1<t.colSpan))for(r=1;r<t.colSpan;r++)e.sortList[e.sortList.length]=[f+r,a],e.sortVars[f+r].count=T.inArray(a,p);if(e.last.sortList=T.extend([],e.sortList),e.sortList.length&&e.sortAppend&&(i=T.isArray(e.sortAppend)?e.sortAppend:e.sortAppend[e.sortList[0][0]],!E.isEmptyObject(i)))for(r=0;r<i.length;r++)if(i[r][0]!==f&&E.isValueInArray(i[r][0],e.sortList)<0){if(s=(""+(a=i[r][1])).match(/^(a|d|s|o|n)/))switch(l=e.sortList[0][1],s[0]){case"d":a=1;break;case"s":a=l;break;case"o":a=0===l?1:0;break;case"n":a=(l+1)%p.length;break;default:a=0}e.sortList[e.sortList.length]=[i[r][0],a]}e.$table.triggerHandler("sortBegin",d),setTimeout(function(){E.setHeadersCss(e),E.multisort(e),E.appendCache(e),e.$table.triggerHandler("sortBeforeEnd",d),e.$table.triggerHandler("sortEnd",d)},1)},multisort:function(c){var e,t,u,n,d=c.table,h=[],f=0,p=c.textSorter||"",g=c.sortList,m=g.length,i=c.$tbodies.length;if(!c.serverSideSorting&&!E.isEmptyObject(c.cache)){if(c.debug&&(t=new Date),"object"==typeof p)for(u=c.columns;u--;)"function"==typeof(n=E.getColumnData(d,p,u))&&(h[u]=n);for(e=0;e<i;e++)u=c.cache[e].colMax,c.cache[e].normalized.sort(function(e,t){var n,i,r,o,a,s,l;for(n=0;n<m;n++){if(r=g[n][0],o=g[n][1],f=0===o,c.sortStable&&e[r]===t[r]&&1===m)return e[c.columns].order-t[c.columns].order;if((i=/n/i.test(E.getSortType(c.parsers,r)))&&c.strings[r]?(i="boolean"==typeof E.string[c.strings[r]]?(f?1:-1)*(E.string[c.strings[r]]?-1:1):c.strings[r]&&E.string[c.strings[r]]||0,a=c.numberSorter?c.numberSorter(e[r],t[r],f,u[r],d):E["sortNumeric"+(f?"Asc":"Desc")](e[r],t[r],i,u[r],r,c)):(s=f?e:t,l=f?t:e,a="function"==typeof p?p(s[r],l[r],f,r,d):"function"==typeof h[r]?h[r](s[r],l[r],f,r,d):E["sortNatural"+(f?"Asc":"Desc")](e[r],t[r],r,c)),a)return a}return e[c.columns].order-t[c.columns].order});c.debug&&console.log("Applying sort "+g.toString()+E.benchmark(t))}},resortComplete:function(e,t){e.table.isUpdating&&e.$table.triggerHandler("updateComplete",e.table),T.isFunction(t)&&t(e.table)},checkResort:function(e,t,n){var i=T.isArray(t)?t:e.sortList;!1===(void 0===t?e.resort:t)||e.serverSideSorting||e.table.isProcessing?(E.resortComplete(e,n),E.applyWidget(e.table,!1)):i.length?E.sortOn(e,i,function(){E.resortComplete(e,n)},!0):E.sortReset(e,function(){E.resortComplete(e,n),E.applyWidget(e.table,!1)})},sortOn:function(e,t,n,i){var r=e.table;e.$table.triggerHandler("sortStart",r),E.updateHeaderSortCount(e,t),E.setHeadersCss(e),e.delayInit&&E.isEmptyObject(e.cache)&&E.buildCache(e),e.$table.triggerHandler("sortBegin",r),E.multisort(e),E.appendCache(e,i),e.$table.triggerHandler("sortBeforeEnd",r),e.$table.triggerHandler("sortEnd",r),E.applyWidget(r),T.isFunction(n)&&n(r)},sortReset:function(e,t){var n;for(e.sortList=[],E.setHeadersCss(e),E.multisort(e),E.appendCache(e),n=0;n<e.columns;n++)e.sortVars[n].count=-1;T.isFunction(t)&&t(e.table)},getSortType:function(e,t){return e&&e[t]&&e[t].type||""},getOrder:function(e){return/^d/i.test(e)||1===e},sortNatural:function(e,t){if(e===t)return 0;e=e.toString(),t=t.toString();var n,i,r,o,a,s,l=E.regex;if(l.hex.test(t)){if((n=parseInt((e||"").match(l.hex),16))<(i=parseInt((t||"").match(l.hex),16)))return-1;if(i<n)return 1}for(n=(e||"").replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),i=(t||"").replace(l.chunk,"\\0$1\\0").replace(l.chunks,"").split("\\0"),s=Math.max(n.length,i.length),a=0;a<s;a++){if(r=isNaN(n[a])?n[a]||0:parseFloat(n[a])||0,o=isNaN(i[a])?i[a]||0:parseFloat(i[a])||0,isNaN(r)!==isNaN(o))return isNaN(r)?1:-1;if(typeof r!=typeof o&&(r+="",o+=""),r<o)return-1;if(o<r)return 1}return 0},sortNaturalAsc:function(e,t,n,i){if(e===t)return 0;var r=E.string[i.empties[n]||i.emptyTo];return""===e&&0!==r?"boolean"==typeof r?r?-1:1:-r||-1:""===t&&0!==r?"boolean"==typeof r?r?1:-1:r||1:E.sortNatural(e,t)},sortNaturalDesc:function(e,t,n,i){if(e===t)return 0;var r=E.string[i.empties[n]||i.emptyTo];return""===e&&0!==r?"boolean"==typeof r?r?-1:1:r||1:""===t&&0!==r?"boolean"==typeof r?r?1:-1:-r||-1:E.sortNatural(t,e)},sortText:function(e,t){return t<e?1:e<t?-1:0},getTextValue:function(e,t,n){if(n){var i,r=e?e.length:0,o=n+t;for(i=0;i<r;i++)o+=e.charCodeAt(i);return t*o}return 0},sortNumericAsc:function(e,t,n,i,r,o){if(e===t)return 0;var a=E.string[o.empties[r]||o.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(e)&&(e=E.getTextValue(e,n,i)),isNaN(t)&&(t=E.getTextValue(t,n,i)),e-t)},sortNumericDesc:function(e,t,n,i,r,o){if(e===t)return 0;var a=E.string[o.empties[r]||o.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(e)&&(e=E.getTextValue(e,n,i)),isNaN(t)&&(t=E.getTextValue(t,n,i)),t-e)},sortNumeric:function(e,t){return e-t},addWidget:function(e){e.id&&!E.isEmptyObject(E.getWidgetById(e.id))&&console.warn('"'+e.id+'" widget was loaded more than once!'),E.widgets[E.widgets.length]=e},hasWidget:function(e,t){return(e=T(e)).length&&e[0].config&&e[0].config.widgetInit[t]||!1},getWidgetById:function(e){var t,n,i=E.widgets.length;for(t=0;t<i;t++)if((n=E.widgets[t])&&n.id&&n.id.toLowerCase()===e.toLowerCase())return n},applyWidgetOptions:function(e){var t,n,i,r=e.config,o=r.widgets.length;if(o)for(t=0;t<o;t++)(n=E.getWidgetById(r.widgets[t]))&&n.options&&(i=T.extend(!0,{},n.options),r.widgetOptions=T.extend(!0,i,r.widgetOptions),T.extend(!0,E.defaults.widgetOptions,n.options))},addWidgetFromClass:function(e){var t,n,i=e.config,r="^"+i.widgetClass.replace(E.regex.templateName,"(\\S+)+")+"$",o=new RegExp(r,"g"),a=(e.className||"").split(E.regex.spaces);if(a.length)for(t=a.length,n=0;n<t;n++)a[n].match(o)&&(i.widgets[i.widgets.length]=a[n].replace(o,"$1"))},applyWidgetId:function(e,t,n){var i,r,o,a=(e=T(e)[0]).config,s=a.widgetOptions,l=E.getWidgetById(t);l&&(o=l.id,i=!1,T.inArray(o,a.widgets)<0&&(a.widgets[a.widgets.length]=o),a.debug&&(r=new Date),!n&&a.widgetInit[o]||(a.widgetInit[o]=!0,e.hasInitialized&&E.applyWidgetOptions(e),"function"==typeof l.init&&(i=!0,a.debug&&console[console.group?"group":"log"]("Initializing "+o+" widget"),l.init(e,l,a,s))),n||"function"!=typeof l.format||(i=!0,a.debug&&console[console.group?"group":"log"]("Updating "+o+" widget"),l.format(e,a,s,!1)),a.debug&&i&&(console.log("Completed "+(n?"initializing ":"applying ")+o+" widget"+E.benchmark(r)),console.groupEnd&&console.groupEnd()))},applyWidget:function(e,t,n){var i,r,o,a,s,l=(e=T(e)[0]).config,c=[];if(!1===t||!e.hasInitialized||!e.isApplyingWidgets&&!e.isUpdating){if(l.debug&&(s=new Date),E.addWidgetFromClass(e),clearTimeout(l.timerReady),l.widgets.length){for(e.isApplyingWidgets=!0,l.widgets=T.grep(l.widgets,function(e,t){return T.inArray(e,l.widgets)===t}),r=(o=l.widgets||[]).length,i=0;i<r;i++)(a=E.getWidgetById(o[i]))&&a.id?(a.priority||(a.priority=10),c[i]=a):l.debug&&console.warn('"'+o[i]+'" widget code does not exist!');for(c.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),r=c.length,l.debug&&console[console.group?"group":"log"]("Start "+(t?"initializing":"applying")+" widgets"),i=0;i<r;i++)(a=c[i])&&a.id&&E.applyWidgetId(e,a.id,t);l.debug&&console.groupEnd&&console.groupEnd()}l.timerReady=setTimeout(function(){e.isApplyingWidgets=!1,T.data(e,"lastWidgetApplication",new Date),l.$table.triggerHandler("tablesorter-ready"),t||"function"!=typeof n||n(e),l.debug&&(a=l.widgets.length,console.log("Completed "+(!0===t?"initializing ":"applying ")+a+" widget"+(1!==a?"s":"")+E.benchmark(s)))},10)}},removeWidget:function(e,t,n){var i,r,o,a,s=(e=T(e)[0]).config;if(!0===t)for(t=[],a=E.widgets.length,o=0;o<a;o++)(r=E.widgets[o])&&r.id&&(t[t.length]=r.id);else t=(T.isArray(t)?t.join(","):t||"").toLowerCase().split(/[\s,]+/);for(a=t.length,i=0;i<a;i++)r=E.getWidgetById(t[i]),0<=(o=T.inArray(t[i],s.widgets))&&!0!==n&&s.widgets.splice(o,1),r&&r.remove&&(s.debug&&console.log((n?"Refreshing":"Removing")+' "'+t[i]+'" widget'),r.remove(e,s,s.widgetOptions,n),s.widgetInit[t[i]]=!1)},refreshWidgets:function(e,t,n){var i,r,o=(e=T(e)[0]).config.widgets,a=E.widgets,s=a.length,l=[],c=function(e){T(e).triggerHandler("refreshComplete")};for(i=0;i<s;i++)(r=a[i])&&r.id&&(t||T.inArray(r.id,o)<0)&&(l[l.length]=r.id);E.removeWidget(e,l.join(","),!0),!0!==n?(E.applyWidget(e,t||!1,c),t&&E.applyWidget(e,!1,c)):c(e)},benchmark:function(e){return" ("+((new Date).getTime()-e.getTime())+" ms)"},log:function(){console.log(arguments)},isEmptyObject:function(e){for(var t in e)return!1;return!0},isValueInArray:function(e,t){var n,i=t&&t.length||0;for(n=0;n<i;n++)if(t[n][0]===e)return n;return-1},formatFloat:function(e,t){return"string"!=typeof e||""===e?e:(e=(t&&t.config?!1!==t.config.usNumberFormat:void 0===t||t)?e.replace(E.regex.comma,""):e.replace(E.regex.digitNonUS,"").replace(E.regex.comma,"."),E.regex.digitNegativeTest.test(e)&&(e=e.replace(E.regex.digitNegativeReplace,"-$1")),n=parseFloat(e),isNaN(n)?T.trim(e):n);var n},isDigit:function(e){return isNaN(e)?E.regex.digitTest.test(e.toString().replace(E.regex.digitReplace,"")):""!==e},computeColumnIndex:function(e,t){var n,i,r,o,a,s,l,c,u,d,h=t&&t.columns||0,f=[],p=new Array(h);for(n=0;n<e.length;n++)for(s=e[n].cells,i=0;i<s.length;i++){for(l=n,c=(a=s[i]).rowSpan||1,u=a.colSpan||1,"undefined"==typeof f[l]&&(f[l]=[]),r=0;r<f[l].length+1;r++)if("undefined"==typeof f[l][r]){d=r;break}for(h&&a.cellIndex===d||(a.setAttribute?a.setAttribute("data-column",d):T(a).attr("data-column",d)),r=l;r<l+c;r++)for("undefined"==typeof f[r]&&(f[r]=[]),p=f[r],o=d;o<d+u;o++)p[o]="x"}return E.checkColumnCount(e,f,p.length),p.length},checkColumnCount:function(e,t,n){var i,r,o=!0,a=[];for(i=0;i<t.length;i++)if(t[i]&&(r=t[i].length,t[i].length!==n)){o=!1;break}o||(e.each(function(e,t){var n=t.parentElement.nodeName;a.indexOf(n)<0&&a.push(n)}),console.error("Invalid or incorrect number of columns in the "+a.join(" or ")+"; expected "+n+", but found "+r+" columns"))},fixColumnWidth:function(e){var t,n,i,r,o,a=(e=T(e)[0]).config,s=a.$table.children("colgroup");if(s.length&&s.hasClass(E.css.colgroup)&&s.remove(),a.widthFixed&&0===a.$table.children("colgroup").length){for(s=T('<colgroup class="'+E.css.colgroup+'">'),t=a.$table.width(),r=(i=a.$tbodies.find("tr:first").children(":visible")).length,o=0;o<r;o++)n=parseInt(i.eq(o).width()/t*1e3,10)/10+"%",s.append(T("<col>").css("width",n));a.$table.prepend(s)}},getData:function(e,t,n){var i,r,o="",a=T(e);return a.length?(i=!!T.metadata&&a.metadata(),r=" "+(a.attr("class")||""),void 0!==a.data(n)||void 0!==a.data(n.toLowerCase())?o+=a.data(n)||a.data(n.toLowerCase()):i&&"undefined"!=typeof i[n]?o+=i[n]:t&&"undefined"!=typeof t[n]?o+=t[n]:" "!==r&&r.match(" "+n+"-")&&(o=r.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),T.trim(o)):""},getColumnData:function(e,t,n,i,r){if("object"!=typeof t||null===t)return t;var o,a=(e=T(e)[0]).config,s=r||a.$headers,l=a.$headerIndexed&&a.$headerIndexed[n]||s.filter('[data-column="'+n+'"]:last');if("undefined"!=typeof t[n])return i?t[n]:t[s.index(l)];for(o in t)if("string"==typeof o&&l.filter(o).add(l.find(o)).length)return t[o]},isProcessing:function(e,t,n){var i=(e=T(e))[0].config,r=n||e.find("."+E.css.header);t?(void 0!==n&&0<i.sortList.length&&(r=r.filter(function(){return!this.sortDisabled&&0<=E.isValueInArray(parseFloat(T(this).attr("data-column")),i.sortList)})),e.add(r).addClass(E.css.processing+" "+i.cssProcessing)):e.add(r).removeClass(E.css.processing+" "+i.cssProcessing)},processTbody:function(e,t,n){if(e=T(e)[0],n)return e.isProcessing=!0,t.before('<colgroup class="tablesorter-savemyplace"/>'),T.fn.detach?t.detach():t.remove();var i=T(e).find("colgroup.tablesorter-savemyplace");t.insertAfter(i),i.remove(),e.isProcessing=!1},clearTableBody:function(e){T(e)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},replaceAccents:function(e){var t,n="[",i=E.characterEquivalents;if(!E.characterRegex){for(t in E.characterRegexArray={},i)"string"==typeof t&&(n+=i[t],E.characterRegexArray[t]=new RegExp("["+i[t]+"]","g"));E.characterRegex=new RegExp(n+"]")}if(E.characterRegex.test(e))for(t in i)"string"==typeof t&&(e=e.replace(E.characterRegexArray[t],t));return e},validateOptions:function(e){var t,n,i,r,o="headers sortForce sortList sortAppend widgets".split(" "),a=e.originalSettings;if(a){for(t in e.debug&&(r=new Date),a)if("undefined"===(i=typeof E.defaults[t]))console.warn('Tablesorter Warning! "table.config.'+t+'" option not recognized');else if("object"===i)for(n in a[t])i=E.defaults[t]&&typeof E.defaults[t][n],T.inArray(t,o)<0&&"undefined"===i&&console.warn('Tablesorter Warning! "table.config.'+t+"."+n+'" option not recognized');e.debug&&console.log("validate options time:"+E.benchmark(r))}},restoreHeaders:function(e){var t,n,i=T(e)[0].config,r=i.$table.find(i.selectorHeaders),o=r.length;for(t=0;t<o;t++)(n=r.eq(t)).find("."+E.css.headerIn).length&&n.html(i.headerContent[t])},destroy:function(e,t,n){if((e=T(e)[0]).hasInitialized){E.removeWidget(e,!0,!1);var i,r=T(e),o=e.config,a=o.debug,s=r.find("thead:first"),l=s.find("tr."+E.css.headerRow).removeClass(E.css.headerRow+" "+o.cssHeaderRow),c=r.find("tfoot:first > tr").children("th, td");!1===t&&0<=T.inArray("uitheme",o.widgets)&&(r.triggerHandler("applyWidgetId",["uitheme"]),r.triggerHandler("applyWidgetId",["zebra"])),s.find("tr").not(l).remove(),i="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(o.namespace+" "),r.removeData("tablesorter").unbind(i.replace(E.regex.spaces," ")),o.$headers.add(c).removeClass([E.css.header,o.cssHeader,o.cssAsc,o.cssDesc,E.css.sortAsc,E.css.sortDesc,E.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),l.find(o.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(o.namespace+" ").replace(E.regex.spaces," ")),E.restoreHeaders(e),r.toggleClass(E.css.table+" "+o.tableClass+" tablesorter-"+o.theme,!1===t),r.removeClass(o.namespace.slice(1)),e.hasInitialized=!1,delete e.config.cache,"function"==typeof n&&n(e),a&&console.log("tablesorter has been removed")}}};T.fn.tablesorter=function(n){return this.each(function(){var e=this,t=T.extend(!0,{},E.defaults,n,E.instanceMethods);t.originalSettings=n,!e.hasInitialized&&E.buildTable&&"TABLE"!==this.nodeName?E.buildTable(e,t):E.setup(e,t)})},window.console&&window.console.log||(E.logs=[],console={},console.log=console.warn=console.error=console.table=function(e){var t=1<arguments.length?arguments:e;E.logs[E.logs.length]={date:Date.now(),log:t}}),E.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),E.addParser({id:"text",is:function(){return!0},format:function(e,t){var n=t.config;return e&&(e=T.trim(n.ignoreCase?e.toLocaleLowerCase():e),e=n.sortLocaleCompare?E.replaceAccents(e):e),e},type:"text"}),E.regex.nondigit=/[^\w,. \-()]/g,E.addParser({id:"digit",is:function(e){return E.isDigit(e)},format:function(e,t){var n=E.formatFloat((e||"").replace(E.regex.nondigit,""),t);return e&&"number"==typeof n?n:e?T.trim(e&&t.config.ignoreCase?e.toLocaleLowerCase():e):e},type:"numeric"}),E.regex.currencyReplace=/[+\-,. ]/g,E.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,E.addParser({id:"currency",is:function(e){return e=(e||"").replace(E.regex.currencyReplace,""),E.regex.currencyTest.test(e)},format:function(e,t){var n=E.formatFloat((e||"").replace(E.regex.nondigit,""),t);return e&&"number"==typeof n?n:e?T.trim(e&&t.config.ignoreCase?e.toLocaleLowerCase():e):e},type:"numeric"}),E.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,E.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,E.addParser({id:"url",is:function(e){return E.regex.urlProtocolTest.test(e)},format:function(e){return e?T.trim(e.replace(E.regex.urlProtocolReplace,"")):e},type:"text"}),E.regex.dash=/-/g,E.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,E.addParser({id:"isoDate",is:function(e){return E.regex.isoDate.test(e)},format:function(e){var t=e?new Date(e.replace(E.regex.dash,"/")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),E.regex.percent=/%/g,E.regex.percentTest=/(\d\s*?%|%\s*?\d)/,
E.addParser({id:"percent",is:function(e){return E.regex.percentTest.test(e)&&e.length<15},format:function(e,t){return e?E.formatFloat(e.replace(E.regex.percent,""),t):e},type:"numeric"}),E.addParser({id:"image",is:function(e,t,n,i){return 0<i.find("img").length},format:function(e,t,n){return T(n).find("img").attr(t.config.imgAttr||"alt")||e},parsed:!0,type:"text"}),E.regex.dateReplace=/(\S)([AP]M)$/i,E.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,E.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,E.addParser({id:"usLongDate",is:function(e){return E.regex.usLongDateTest1.test(e)||E.regex.usLongDateTest2.test(e)},format:function(e){var t=e?new Date(e.replace(E.regex.dateReplace,"$1 $2")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),E.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,E.regex.shortDateReplace=/[\-.,]/g,E.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,E.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,E.convertFormat=function(e,t){e=(e||"").replace(E.regex.spaces," ").replace(E.regex.shortDateReplace,"/"),"mmddyyyy"===t?e=e.replace(E.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===t?e=e.replace(E.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===t&&(e=e.replace(E.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(e);return n instanceof Date&&isFinite(n)?n.getTime():""},E.addParser({id:"shortDate",is:function(e){return e=(e||"").replace(E.regex.spaces," ").replace(E.regex.shortDateReplace,"/"),E.regex.shortDateTest.test(e)},format:function(e,t,n,i){if(e){var r=t.config,o=r.$headerIndexed[i],a=o.length&&o.data("dateFormat")||E.getData(o,E.getColumnData(t,r.headers,i),"dateFormat")||r.dateFormat;return o.length&&o.data("dateFormat",a),E.convertFormat(e,a)||e}return e},type:"numeric"}),E.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,E.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,E.addParser({id:"time",is:function(e){return E.regex.timeTest.test(e)},format:function(e){var t=(e||"").match(E.regex.timeMatch),n=new Date(e),i=e&&(null!==t?t[0]:"00:00 AM"),r=i?new Date("2000/01/01 "+i.replace(E.regex.dateReplace,"$1 $2")):i;return r instanceof Date&&isFinite(r)?(n instanceof Date&&isFinite(n)?n.getTime():0)?parseFloat(r.getTime()+"."+n.getTime()):r.getTime():e},type:"numeric"}),E.addParser({id:"metadata",is:function(){return!1},format:function(e,t,n){var i=t.config,r=i.parserMetadataName?i.parserMetadataName:"sortValue";return T(n).metadata()[r]},type:"numeric"}),E.addWidget({id:"zebra",priority:90,format:function(e,t,n){var i,r,o,a,s,l,c,u=new RegExp(t.cssChildRow,"i"),d=t.$tbodies.add(T(t.namespace+"_extra_table").children("tbody:not(."+t.cssInfoBlock+")"));for(s=0;s<d.length;s++)for(o=0,c=(i=d.eq(s).children("tr:visible").not(t.selectorRemove)).length,l=0;l<c;l++)r=i.eq(l),u.test(r[0].className)||o++,a=o%2==0,r.removeClass(n.zebra[a?1:0]).addClass(n.zebra[a?0:1])},remove:function(e,t,n,i){if(!i){var r,o,a=t.$tbodies,s=(n.zebra||["even","odd"]).join(" ");for(r=0;r<a.length;r++)(o=E.processTbody(e,a.eq(r),!0)).children().removeClass(s),E.processTbody(e,o,!1)}}})}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(y){"use strict";function _(e){return!e.nodeName||-1!==y.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function t(e){return y.isFunction(e)||y.isPlainObject(e)?e:{top:e,left:e}}var b=y.scrollTo=function(e,t,n){return y(window).scrollTo(e,t,n)};return b.defaults={axis:"xy",duration:0,limit:!0},y.fn.scrollTo=function(e,n,m){"object"==typeof n&&(m=n,n=0),"function"==typeof m&&(m={onAfter:m}),"max"===e&&(e=9e9),m=y.extend({},b.defaults,m),n=n||m.duration;var v=m.queue&&1<m.axis.length;return v&&(n/=2),m.offset=t(m.offset),m.over=t(m.over),this.each(function(){function l(e){var t=y.extend({},m,{queue:!0,duration:n,complete:e&&function(){e.call(d,f,m)}});h.animate(p,t)}if(null!==e){var c,u=_(this),d=u?this.contentWindow||window:this,h=y(d),f=e,p={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=t(f);break}f=u?y(f):y(f,d);case"object":if(0===f.length)return;(f.is||f.style)&&(c=(f=y(f)).offset())}var g=y.isFunction(m.offset)&&m.offset(d,f)||m.offset;y.each(m.axis.split(""),function(e,t){var n="x"===t?"Left":"Top",i=n.toLowerCase(),r="scroll"+n,o=h[r](),a=b.max(d,t);if(c)p[r]=c[i]+(u?0:o-h.offset()[i]),m.margin&&(p[r]-=parseInt(f.css("margin"+n),10)||0,p[r]-=parseInt(f.css("border"+n+"Width"),10)||0),p[r]+=g[i]||0,m.over[i]&&(p[r]+=f["x"===t?"width":"height"]()*m.over[i]);else{var s=f[i];p[r]=s.slice&&"%"===s.slice(-1)?parseFloat(s)/100*a:s}m.limit&&/^\d+$/.test(p[r])&&(p[r]=p[r]<=0?0:Math.min(p[r],a)),!e&&1<m.axis.length&&(o===p[r]?p={}:v&&(l(m.onAfterFirst),p={}))}),l(m.onAfter)}})},b.max=function(e,t){var n="x"===t?"Width":"Height",i="scroll"+n;if(!_(e))return e[i]-y(e)[n.toLowerCase()]();var r="client"+n,o=e.ownerDocument||e.document,a=o.documentElement,s=o.body;return Math.max(a[i],s[i])-Math.min(a[r],s[r])},y.Tween.propHooks.scrollLeft=y.Tween.propHooks.scrollTop={get:function(e){return y(e.elem)[e.prop]()},set:function(e){var t=this.get(e);if(e.options.interrupt&&e._last&&e._last!==t)return y(e.elem).stop();var n=Math.round(e.now);t!==n&&(y(e.elem)[e.prop](n),e._last=this.get(e))}},b}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Autogrow=t()}(this,function(){return function(n,e){var i=this;e===undefined&&(e=999),i.getOffset=function(e){for(var t=window.getComputedStyle(e,null),n=["paddingTop","paddingBottom"],i=0,r=0;r<n.length;r++)i+=parseInt(t[n[r]]);return i},i.autogrowFn=function(){var e=0,t=!1;return n.scrollHeight-r>i.maxAllowedHeight?(n.style.overflowY="scroll",e=i.maxAllowedHeight):(n.style.overflowY="hidden",n.style.height="auto",e=n.scrollHeight-r,t=!0),n.style.height=e+"px",t};var r=i.getOffset(n);i.rows=n.rows||1,i.lineHeight=n.scrollHeight/i.rows-r/i.rows,i.maxAllowedHeight=i.lineHeight*e-r,n.addEventListener("input",i.autogrowFn)}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(u){u.ui=u.ui||{};u.ui.version="1.12.1";var o,n=0,s=Array.prototype.slice;u.cleanData=(o=u.cleanData,function(e){var t,n,i;for(i=0;null!=(n=e[i]);i++)try{(t=u._data(n,"events"))&&t.remove&&u(n).triggerHandler("remove")}catch(r){}o(e)}),u.widget=function(e,n,t){var i,r,o,a={},s=e.split(".")[0],l=s+"-"+(e=e.split(".")[1]);return t||(t=n,n=u.Widget),u.isArray(t)&&(t=u.extend.apply(null,[{}].concat(t))),u.expr[":"][l.toLowerCase()]=function(e){return!!u.data(e,l)},u[s]=u[s]||{},i=u[s][e],r=u[s][e]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},u.extend(r,i,{version:t.version,_proto:u.extend({},t),_childConstructors:[]}),(o=new n).options=u.widget.extend({},o.options),u.each(t,function(t,o){u.isFunction(o)?a[t]=function(){function i(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=r,e=o.apply(this,arguments),this._super=t,this._superApply=n,e}}():a[t]=o}),r.prototype=u.widget.extend(o,{widgetEventPrefix:i&&o.widgetEventPrefix||e},a,{constructor:r,namespace:s,widgetName:e,widgetFullName:l}),i?(u.each(i._childConstructors,function(e,t){var n=t.prototype;u.widget(n.namespace+"."+n.widgetName,r,t._proto)}),delete i._childConstructors):n._childConstructors.push(r),u.widget.bridge(e,r),r},u.widget.extend=function(e){for(var t,n,i=s.call(arguments,1),r=0,o=i.length;r<o;r++)for(t in i[r])n=i[r][t],i[r].hasOwnProperty(t)&&n!==undefined&&(u.isPlainObject(n)?e[t]=u.isPlainObject(e[t])?u.widget.extend({},e[t],n):u.widget.extend({},n):e[t]=n);return e},u.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;u.fn[o]=function(n){var e="string"==typeof n,i=s.call(arguments,1),r=this;return e?this.length||"instance"!==n?this.each(function(){var e,t=u.data(this,a);return"instance"===n?(r=t,!1):t?u.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i))!==t&&e!==undefined?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:u.error("no such method '"+n+"' for "+o+" widget instance"):u.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):r=undefined:(i.length&&(n=u.widget.extend.apply(null,[n].concat(i))),this.each(function(){var e=u.data(this,a);e?(e.option(n||{}),e._init&&e._init()):u.data(this,a,new t(n,this))})),r}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=u(t||this.defaultElement||this)[0],this.element=u(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=u(),this.hoverable=u(),this.focusable=u(),this.classesElementLookup={},t!==this&&(u.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=u(t.style?t.ownerDocument:t.document||t),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this.options=u.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){var n=this;this._destroy(),u.each(this.classesElementLookup,function(e,t){n._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:u.noop,widget:function(){return this.element},option:function(e,t){var n,i,r,o=e;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(i=o[e]=u.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(e=n.pop(),1===arguments.length)return i[e]===undefined?null:i[e];i[e]=t}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,n,i;for(t in e)i=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&i&&i.length&&(n=u(i.get()),this._removeClass(i,t),n.addClass(this._classes({element:n,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){function e(e,t){var n,i;for(i=0;i<e.length;i++)n=a.classesElementLookup[e[i]]||u(),n=r.add?u(u.unique(n.get().concat(r.element.get()))):u(n.not(r.element).get()),a.classesElementLookup[e[i]]=n,o.push(e[i]),t&&r.classes[e[i]]&&o.push(r.classes[e[i]])}var o=[],a=this;return r=u.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&e(r.keys.match(/\S+/g)||[],!0),r.extra&&e(r.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(n){var i=this;u.each(i.classesElementLookup,function(e,t){-1!==u.inArray(n.target,t)&&(i.classesElementLookup[e]=u(t.not(n.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,o={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(a,s,e){var l,c=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=l=u(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,l=this.widget()),u.each(e,function(e,t){function n(){if(a||!0!==c.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||u.guid++);var i=e.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+c.eventNamespace,o=i[2];o?l.on(r,o,n):s.on(r,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=u(this.bindings.not(e).get()),this.focusable=u(this.focusable.not(e).get()),this.hoverable=u(this.hoverable.not(e).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(u(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(u(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(u(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(u(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,n){var i,r,o=this.options[e];if(n=n||{},(t=u.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(i in r)i in t||(t[i]=r[i]);return this.element.trigger(t,n),!(u.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(o,a){u.Widget.prototype["_"+o]=function(t,e,n){var i;"string"==typeof e&&(e={effect:e});var r=e?!0===e||"number"==typeof e?a:e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),i=!u.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),i&&u.effects&&u.effects.effect[r]?t[o](e):r!==o&&t[r]?t[r](e.duration,e.easing,n):t.queue(function(e){u(this)[o](),n&&n.call(t[0]),e()})}});u.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}(function(l){"use strict";var i=0,t=l,n="parseJSON";"JSON"in window&&"parse"in JSON&&(t=JSON,n="parse"),l.ajaxTransport("iframe",function(r){if(r.async){var o,a,t,s=r.initialIframeSrc||"javascript:false;";return{send:function(e,n){(o=l('<form style="display:none;"></form>')).attr("accept-charset",r.formAcceptCharset),t=/\?/.test(r.url)?"&":"?","DELETE"===r.type?(r.url=r.url+t+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+t+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+t+"_method=PATCH",r.type="POST"),a=l('<iframe src="'+s+'" name="iframe-transport-'+(i+=1)+'"></iframe>').bind("load",function(){var i,t=l.isArray(r.paramName)?r.paramName:[r.paramName];a.unbind("load").bind("load",function(){var e;try{if(!(e=a.contents()).length||!e[0].firstChild)throw new Error}catch(t){e=undefined}n(200,"success",{iframe:e}),l('<iframe src="'+s+'"></iframe>').appendTo(o),window.setTimeout(function(){o.remove()},0)}),o.prop("target",a.prop("name")).prop("action",r.url).prop("method",r.type),r.formData&&l.each(r.formData,function(e,t){l('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(o)}),r.fileInput&&r.fileInput.length&&"POST"===r.type&&(i=r.fileInput.clone(),r.fileInput.after(function(e){return i[e]}),r.paramName&&r.fileInput.each(function(e){l(this).prop("name",t[e]||r.paramName)}),o.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),r.fileInput.removeAttr("form")),o.submit(),i&&i.length&&r.fileInput.each(function(e,t){var n=l(i[e]);l(t).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(t)})}),o.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src",s),o&&o.remove()}}}}),l.ajaxSetup({converters:{"iframe text":function(e){return e&&l(e[0].body).text()},"iframe json":function(e){return e&&t[n](l(e[0].body).text())},"iframe html":function(e){return e&&l(e[0].body).html()},"iframe xml":function(e){var t=e&&e[0];return t&&l.isXMLDoc(t)?t:l.parseXML(t.XMLDocument&&t.XMLDocument.xml||l(t.body).html())},"iframe script":function(e){return e&&l.globalEval(l(e[0].body).text())}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(v){"use strict";function e(n){var i="dragover"===n;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=e.dataTransfer;t&&-1!==v.inArray("Files",t.types)&&!1!==this._trigger(n,v.Event(n,{delegatedEvent:e}))&&(e.preventDefault(),i&&(t.dropEffect="copy"))}}v.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||v('<input type="file"/>').prop("disabled")),v.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),v.support.xhrFormDataFileUpload=!!window.FormData,v.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),v.widget("blueimp.fileupload",{options:{dropZone:v(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(n,e){return n=this.messages[n]||n.toString(),e&&v.each(e,function(e,t){n=n.replace("{"+e+"}",t)}),n},formData:function(e){return e.serializeArray()},add:function(e,t){if(e.isDefaultPrevented())return!1;(t.autoUpload||!1!==t.autoUpload&&v(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:v.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||n<i)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&v.support.xhrFileUpload||v.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===v.type(e.formData)?e.formData(e.form):v.isArray(e.formData)?e.formData:"object"===v.type(e.formData)?(n=[],v.each(e.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(e){var n=0;return v.each(e,function(e,t){n+=t.size||1}),n},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?v.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var n,i=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&i-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=i,n=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=n-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(i,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=n,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(i,n,t.bitrateInterval),this._trigger("progress",v.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",v.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(n){var i=this,e=n.xhr?n.xhr():v.ajaxSettings.xhr();e.upload&&(v(e.upload).bind("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,i._onProgress(e,n)}),n.xhr=function(){return e})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(n){var i,r=this,e=n.files[0],t=n.multipart||!v.support.xhrFileUpload,o="array"===v.type(n.paramName)?n.paramName[0]:n.paramName;n.headers=v.extend({},n.headers),n.contentRange&&(n.headers["Content-Range"]=n.contentRange),t&&!n.blob&&this._isInstanceOf("File",e)||(n.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.uploadName||e.name)+'"'),t?v.support.xhrFormDataFileUpload&&(n.postMessage?(i=this._getFormData(n),n.blob?i.push({name:o,value:n.blob}):v.each(n.files,function(e,t){i.push({name:"array"===v.type(n.paramName)&&n.paramName[e]||o,value:t})})):(r._isInstanceOf("FormData",n.formData)?i=n.formData:(i=new FormData,v.each(this._getFormData(n),function(e,t){i.append(t.name,t.value)})),n.blob?i.append(o,n.blob,e.uploadName||e.name):v.each(n.files,function(e,t){(r._isInstanceOf("File",t)||r._isInstanceOf("Blob",t))&&i.append("array"===v.type(n.paramName)&&n.paramName[e]||o,t,t.uploadName||t.name)})),n.data=i):(n.contentType=e.type||"application/octet-stream",n.data=n.blob||e),n.blob=null},_initIframeSettings:function(e){var t=v("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=v(e.fileInput),i=e.paramName;return i?v.isArray(i)||(i=[i]):(i=[],t.each(function(){for(var e=v(this),t=e.prop("name")||"files[]",n=(e.prop("files")||[1]).length;n;)i.push(t),n-=1}),i.length||(i=[t.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=v(e.fileInput.prop("form")),e.form.length||(e.form=v(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===v.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=v.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,n){var i=v.Deferred(),r=i.promise();return t=t||this.options.context||r,!0===e?i.resolveWith(t,n):!1===e&&i.rejectWith(t,n),r.abort=i.promise,this._enhancePromise(r)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return v.Deferred().resolveWith(i,e).promise()};n.process=function(e,t){return(e||t)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).then(function(){return n.errorThrown?v.Deferred().rejectWith(i,[n]).promise():r(arguments)}).then(e,t)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",v.Event("submit",{delegatedEvent:e}),this)&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&1<n.length&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(o,e){o.uploadedBytes=o.uploadedBytes||0;var t,a,s=this,n=o.files[0],l=n.size,c=o.uploadedBytes,u=o.maxChunkSize||l,d=this._blobSlice,h=v.Deferred(),i=h.promise();return!(!(this._isXHRUpload(o)&&d&&(c||("function"===v.type(u)?u(o):u)<l))||o.data)&&(!!e||(l<=c?(n.error=o.i18n("uploadedBytes"),this._getXHRPromise(!1,o.context,[null,"error",n.error])):(a=function(){var i=v.extend({},o),r=i._progress.loaded;i.blob=d.call(n,c,c+("function"===v.type(u)?u(i):u),n.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+c+"-"+(c+i.chunkSize-1)+"/"+l,s._trigger("chunkbeforesend",null,i),s._initXHRData(i),s._initProgressListener(i),t=(!1!==s._trigger("chunksend",null,i)&&v.ajax(i)||s._getXHRPromise(!1,i.context)).done(function(e,t,n){c=s._getUploadedBytes(n)||c+i.chunkSize,r+i.chunkSize-i._progress.loaded&&s._onProgress(v.Event("progress",{lengthComputable:!0,loaded:c-i.uploadedBytes,total:c-i.uploadedBytes}),i),o.uploadedBytes=i.uploadedBytes=c,i.result=e,i.textStatus=t,i.jqXHR=n,s._trigger("chunkdone",null,i),s._trigger("chunkalways",null,i),c<l?a():h.resolveWith(i.context,[e,t,n])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,s._trigger("chunkfail",null,i),s._trigger("chunkalways",null,i),h.rejectWith(i.context,[e,t,n])})},this._enhancePromise(i),i.abort=function(){return t.abort()},a(),i)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,n,i){var r=i._progress.total,o=i._response;i._progress.loaded<r&&this._onProgress(v.Event("progress",{lengthComputable:!0,loaded:r,total:r}),i),o.result=i.result=e,o.textStatus=i.textStatus=t,o.jqXHR=i.jqXHR=n,this._trigger("done",null,i)},_onFail:function(e,t,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=e,r.textStatus=i.textStatus=t,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var n,i,r,o,a=this,s=a._getAJAXSettings(t),l=function(){return a._sending+=1,s._bitrateTimer=new a._BitrateTimer,n=n||((i||!1===a._trigger("send",v.Event("send",{delegatedEvent:e}),s))&&a._getXHRPromise(!1,s.context,i)||a._chunkedUpload(s)||v.ajax(s)).done(function(e,t,n){a._onDone(e,t,n,s)}).fail(function(e,t,n){a._onFail(e,t,n,s)}).always(function(e,t,n){if(a._onAlways(e,t,n,s),a._sending-=1,a._active-=1,s.limitConcurrentUploads&&s.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(r=v.Deferred(),this._slots.push(r),o=r.then(l)):(this._sequence=this._sequence.then(l,l),o=this._sequence),o.abort=function(){return i=[undefined,"abort","abort"],n?n.abort():(r&&r.rejectWith(s.context,i),l())},this._enhancePromise(o)):l()},_onAdd:function(i,r){var o,e,a,t,s=this,l=!0,n=v.extend({},this.options,r),c=r.files,u=c.length,d=n.limitMultiFileUploads,h=n.limitMultiFileUploadSize,f=n.limitMultiFileUploadSizeOverhead,p=0,g=this._getParamName(n),m=0;if(!u)return!1;if(h&&c[0].size===undefined&&(h=undefined),(n.singleFileUploads||d||h)&&this._isXHRUpload(n))if(n.singleFileUploads||h||!d)if(!n.singleFileUploads&&h)for(a=[],o=[],t=0;t<u;t+=1)p+=c[t].size+f,(t+1===u||p+c[t+1].size+f>h||d&&d<=t+1-m)&&(a.push(c.slice(m,t+1)),(e=g.slice(m,t+1)).length||(e=g),o.push(e),m=t+1,p=0);else o=g;else for(a=[],o=[],t=0;t<u;t+=d)a.push(c.slice(t,t+d)),(e=g.slice(t,t+d)).length||(e=g),o.push(e);else a=[c],o=[g];return r.originalFiles=c,v.each(a||c,function(e,t){var n=v.extend({},r);return n.files=a?t:[t],n.paramName=o[e],s._initResponseObject(n),s._initProgressObject(n),s._addConvenienceMethods(i,n),l=s._trigger("add",v.Event("add",{delegatedEvent:i}),n)}),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),t=n.is(document.activeElement);e.fileInputClone=i,v("<form></form>").append(i)[0].reset(),n.after(i).detach(),t&&i.focus(),v.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?i[0]:t}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var e,i=this,r=v.Deferred(),o=[],a=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])},s=function(e){i._handleFileTreeEntries(e,n+t.name+"/").done(function(e){r.resolve(e)}).fail(a)},l=function(){e.readEntries(function(e){e.length?(o=o.concat(e),l()):s(o)},a)};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,r.resolve(t._file)):t.file(function(e){e.relativePath=n,r.resolve(e)},a):t.isDirectory?(e=t.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,t){var n=this;return v.when.apply(v,v.map(e,function(e){return n._handleFileTreeEntry(e,t)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(v.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):v.Deferred().resolve(v.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t,n,i=(e=v(e)).prop("webkitEntries")||e.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if((t=v.makeArray(e.prop("files"))).length)t[0].name===undefined&&t[0].fileName&&v.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(n=e.prop("value")))return v.Deferred().resolve([]).promise();t=[{name:n.replace(/^.*\\/,"")}]}return v.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof v&&1!==e.length?v.when.apply(v,v.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var n=this,i={fileInput:v(t.target),form:v(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(e){i.files=e,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",v.Event("change",{delegatedEvent:t}),i)&&n._onAdd(t,i)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};t&&t.length&&(v.each(t,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),!1!==this._trigger("paste",v.Event("paste",{delegatedEvent:e}),i)&&this._onAdd(e,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,e=t.dataTransfer,i={};e&&e.files&&e.files.length&&(t.preventDefault(),this._getDroppedFiles(e).always(function(e){i.files=e,!1!==n._trigger("drop",v.Event("drop",{delegatedEvent:t}),i)&&n._onAdd(t,i)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),v.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,
"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,t){var n=-1!==v.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,t),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof v||(e.fileInput=v(e.fileInput)),e.dropZone instanceof v||(e.dropZone=v(e.dropZone)),e.pasteZone instanceof v||(e.pasteZone=v(e.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===v.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var r=this,o=this.options,a=this.element.data();v.each(this.element[0].attributes,function(e,t){var n,i=t.name.toLowerCase();/^data-/.test(i)&&(i=i.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),n=a[i],r._isRegExpOption(i,n)&&(n=r._getRegExp(n)),o[i]=n)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=v.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,o=v.Deferred(),e=o.promise();return e.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){i||(e.length?(t.files=e,(n=r._onSend(null,t)).then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)})):o.reject())}),this._enhancePromise(e)}if(t.files=v.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})});var _nfs_store={fs_browser:function(s){"use strict";var e=function(){return $('.container-browser-outer[data-container-id="'+p+'"] .container-browser')},r=function(e,t){n("download",e,t),n("trash",e,t)},n=function(e,t,n){n||(n=!("true"==g.attr("data-can-submit-"+e)));var i=n?"disabled":null;$("#container-browse-"+e+"-"+p).attr("disabled",i),$("#container-browse-"+e+"-in-form-"+p).attr("disabled",i)},o=function(e,t){$("#container-browse-download-"+p+" .btn-caption").html(t)},t=function(){var e=$("#container-browse-download-in-form-"+p),t=e.parents("form").first();t.removeAttr("data-remote"),t.removeData("remote"),e.click()},i=function(){var e=$("#container-browse-trash-in-form-"+p),t=e.parents("form").first();t&&0!==t.length&&(t.attr("data-remote","true"),t[0].app_callback=function(){a(s,p)},e.click())},a=function(e,t){$('.refresh-container-list[data-container-id="'+t+'"]').click(),l(e)},l=function(e){s.removeClass("ajax-running"),r(e,!0),d(e)},c=function(e,t,n){t.stopPropagation();var i=g.find('.folder-icon[aria-controls="'+e.attr("id")+'"]');n?(i.addClass("glyphicon-folder-close"),i.removeClass("glyphicon-folder-open")):(i.addClass("glyphicon-folder-open"),i.removeClass("glyphicon-folder-close"))},u=function(e,t){var n=s.find(".container-browser");if(n.addClass("browser-hide-meta browser-hide-classifications"),e||(e=$('input[name="container-meta-controls-'+p+'"]:checked')),e){var i=e.val();n.removeClass("browser-hide-"+i)}var r=s.parents(".common-template-item.is-activity-log").first(),o=r.hasClass("col-md-8"),a=!1;r.removeClass("col-md-8 col-lg-6 col-lg-8 col-md-12 col-lg-12"),"classifications"==i?r.addClass("col-md-12 col-lg-12"):"meta"==i?r.addClass("col-md-12 col-lg-12"):(a=!0,r.addClass("col-md-8 col-lg-6")),o!=a&&window.setTimeout(function(){t||_fpa.utils.jump_to_linked_item(r,null,{no_highlight:!0}),_fpa.form_utils.resize_children(s)},100)},d=function(e){var t=g.find('.container-entry input[type="checkbox"]:checked'),n=g.find('.container-folder input[type="checkbox"]:checked'),i=t.length;o(e,"download "+i+" "+(1!=i?"files":"file")),r(e,!i),g.find(".container-entry.checked").removeClass("checked"),t.each(function(){$(this).is(":checked")&&$(this).parent().addClass("checked")}),g.find(".container-folder.checked").removeClass("checked"),n.each(function(){$(this).is(":checked")&&$(this).parent().addClass("checked")})},h=function(e){var t=e.parents(".container-folder-items").first(),n=t.attr("data-folder-items"),i=t.find('> .container-entry input[type="checkbox"]'),r=i.length==i.closest(":checked").length;g.find('.container-folder input[type="checkbox"][data-folder-path="'+n+'"] ').prop("checked",r),d(e)},f=function(e){var t=e.attr("data-folder-path"),n=e.is(":checked");g.find('.container-folder-items[data-folder-items="'+t+'"] li input[type="checkbox"]').prop("checked",n),d(e)},p=function(e){var t=e.attr("data-container-id");return t||e.parents(".container-browser-outer").attr("data-container-id")}(s),g=e();s.on("change",'.container-browser .container-entry input[type="checkbox"]',function(){h($(this))}).on("change",'.container-browser .container-folder input[type="checkbox"]',function(){f($(this))}).on("hidden.bs.collapse",".container-browser .container-folder-items",function(e){c($(this),e,!0)}).on("shown.bs.collapse",".container-browser .container-folder-items",function(e){c($(this),e,!1)}).on("click",".container-browse-download",function(){var e=$($(this).attr("data-target-browser"));t(e),r(e,!0),o(e,"request submitted")}).on("click",".container-browse-trash",function(){var e=$($(this).attr("data-target-browser"));i(e),r(e,!0)}),$(document).on("click",'.refresh-container-list[data-container-id="'+p+'"]',function(){s.find(".container-browser").addClass("ajax-running")}).on("change",'input[name="container-meta-controls-'+p+'"]',function(){u($(this))});var m=$('input[name="container-meta-controls-'+p+'"]:checked');return u(m,!0),l(s),this},uploader:function(l){"use strict";function n(e,t){if(c)t=null;else{e&&(m=0,o=null,f=e,g=Math.ceil(f.size/p),a=t,!1,d=[]);var n=new FileReader;n.onload=y,n.onerror=_;var i=m*p,r=i+p>=f.size?f.size:i+p;n.readAsArrayBuffer(h.call(f,i,r))}}var o,a,c,s,i,u={url:"/nfs_store/chunk",dataType:"json",autoUpload:!1,dropZone:l.find(".upload-dropzone"),disableImageResize:!0,singleFileUploads:!0,sequentialUploads:!0,previewMaxWidth:100,previewMaxHeight:100,previewCrop:!0,maxChunkSize:1e7,headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")}},d=[],h=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,f=null,p=u.maxChunkSize,g=0,m=0,r=new SparkMD5.ArrayBuffer,v=new SparkMD5.ArrayBuffer,y=function(e){var t=e.target.result;v.reset(),v.append(t),d.push(v.end()),r.append(t),++m<g?n():(o=r.end(),!0,a&&a(o))},_=function(){!0},b=function(e,t,n,i,r){var o=l.find(".template .file-block").clone(!0).attr("data-file-index",t);o.find(".file-name").text(n.name),c=!1,o.find(".button-upload-abort").on("click",function(){var e=$(this),t=e.data();e.hide(),c=!0,o.find(".button-upload-resume").show(),t.abort()}).data(e),o.find(".button-upload-resume").on("click",function(){$(this).hide(),o.find(".button-upload-abort").show(),c=!1,k(o),O(r,i)}),o.find(".started-at").html((new Date).toLocaleTimeString());var a=l.find(".data-context");o.appendTo(a),o.data(e);var s=a.get(0).getBoundingClientRect();return!(0<=s.top&&s.top<=.8*$(window).height())&&$.scrollTo(a,0,{offset:.8*-$(window).height()}),o},w=function(e){e.removeClass("process-ready").addClass("process-complete"),e.removeClass("progress-running"),S(e),console.log("completed upload of file")},x=function(e,t){t||(t=D()),e.join||(e=[e]),t.find(".file-error").text("file upload failed: "+e.join(" | ")),t.find(".progress-bar").addClass("progress-bar-failed").removeClass("progress-bar-success"),t.find(".progress-bar-status-text").text("failed"),t.removeClass("progress-running"),S(t),C()},k=function(e){e.addClass("process-ready").removeClass("process-complete"),e.find(".file-error").text(""),e.find(".progress-bar").removeClass("progress-bar-failed").addClass("progress-bar-success"),e.find(".progress-bar-status-text").text("processing")},S=function(e){e.find(".button-upload-abort").hide()},C=function(){l.find(".fileinput-button").show()},e=function(){l.find(".fileinput-button").hide()},t=function(){l.find(".data-context .file-block[data-file-index]").remove()},D=function(){return l.find(".data-context .file-block.process-ready").first()},T=function(){return l.find(".data-context .file-block")},E=function(e){var t=[],n=e.jqXHR.responseJSON;if(n&&n.message)return t.push(n.message),t;var i=e.jqXHR.getResponseHeader("X-Upload-Errors"),r=JSON.parse(i);for(var o in r)r.hasOwnProperty(o)&&t.push(o.replace("_"," ")+" "+r[o].join("; "));return 0==t.length&&t.push("unknown server error"),t},M=function(){l.find(".refresh-container-list").click()},I=function(){var e=R(),t=P(),n={activity_log_id:e.activity_log_id,activity_log_type:e.activity_log_type,container_id:t,"do":"done",uploaded_ids:s.join(",")};$.ajax({url:u.url+"/"+t,data:n,type:"PUT",success:function(){console.log("Sent all done message")}})},P=function(){return l.find("#uploader_container_id").val()},R=function(){var e=l.find(".nfs-store-container-block");return{activity_log_id:e.attr("data-activity-log-id"),activity_log_type:e.attr("data-activity-log-type")}},O=function(r,o){var e=D();if(0!=e.length){var a=e.data();c=!1,e.addClass("progress-running"),e.find(".progress-bar-status-text").text("processing"),i=i||T().length.toString()+"--"+Date.now().toString()+"--"+Math.random().toString(),n(a.files[0],function(e){a.formData||(a.formData={}),a.formData.file_hash=e,a.formData.container_id=P(),a.formData.upload_set=i,a.files[0].relativePath&&""!=a.files[0].relativePath&&(a.formData.relative_path=a.files[0].relativePath),1==d.length&&(a.formData.chunk_hash=d.shift());var t=R();if(r){var n={file_name:a.files[0].name,file_hash:a.formData.file_hash,relative_path:a.formData.relative_path,activity_log_id:t.activity_log_id,activity_log_type:t.activity_log_type};$.getJSON(u.url+"/"+P(),n,function(e){if("found"==e.result&&!e.completed){var t=e.file_size,n=e.chunk_count;a.uploadedBytes=t;for(var i=0;i<n;i++)a.formData.chunk_hash=d.shift();$.blueimp.fileupload.prototype.options.add.call(r,o,a)}setTimeout(function(){a.submit()},100)}).fail(function(e){var t=["The upload failed"];e.responseJSON&&e.responseJSON.message&&(t=e.responseJSON.message),x(t)})}else setTimeout(function(){a.submit()},100)})}};l.find(".upload-dropzone").on("dragover",function(){$(this).addClass("on-drag")}).on("dragleave",function(){$(this).removeClass("on-drag")}).on("drop",function(){l.find(".fileinput-button").is(":visible")?(e(),t(),$(this).removeClass("on-drag")):console.log("Upload not enabled!")});l.find("input.nfs-store-fileupload").fileupload(u).on("click",function(){t()}).on("fileuploadadd",function(i,r){if("false"!=l.find(".container-browser").attr("data-container-writable")){e();var o=this;$.each(r.files,function(e,t){var n=0==D().length;b(r,e,t,i,o);n&&(s=[],setTimeout(function(){O(o,i)},1e3))})}else console.log("Upload not enabled!")}).on("fileuploadchunkbeforesend",function(e,t){t.formData||(t.formData={}),t.formData.chunk_hash=d.shift(),t.formData.upload_set=i,D().find(".progress-bar-status-text").text("uploading")}).on("fileuploadchunksend",function(){return!c}).on("fileuploadprocessalways",function(e,t){console.log("fileuploadprocessalways");var n=0,i=t.files[n],r=D();r.find(".progress-bar-status-text").text("uploading"),i.error&&r.find(".file-error").text(i.error)}).on("fileuploadprogress",function(e,t){var n=D(),i=parseInt(t.loaded/t.total*100,10);n.find(".progress .progress-bar").css("width",i+"%");var r=n.get(0).getBoundingClientRect();!(0<=r.top&&r.top<=.8*$(window).height())&&$.scrollTo(n,0,{offset:.8*-$(window).height()})}).on("fileuploaddone",function(e,t){console.log("fileuploadaddone");var n=t.result.file,i=D();n.url?(i.find(".progress-bar-status-text").text("completed"),s.push(n.id)):n.error&&i.find(".file-error").text(n.error)}).on("fileuploadfail",function(e,t){var n;console.log("fileuploadfail"),n=c?["Upload canceled"]:E(t),x(n)}).on("fileuploadalways",function(n,e){console.log("fileuploadalways");var i=this;$.each(e.files,function(){var e=D();e.find(".ended-at").text((new Date).toLocaleTimeString()),w(e);var t=D();!c&&0<t.length?O(i,n):(C(),M(),I())})}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?undefined:"disabled")}};(function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)})(function(y){"use strict";function _(e){return!e.nodeName||-1!==y.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function t(e){return y.isFunction(e)||y.isPlainObject(e)?e:{top:e,left:e}}var b=y.scrollTo=function(e,t,n){return y(window).scrollTo(e,t,n)};return b.defaults={axis:"xy",duration:0,limit:!0},y.fn.scrollTo=function(e,n,m){"object"==typeof n&&(m=n,n=0),"function"==typeof m&&(m={onAfter:m}),"max"===e&&(e=9e9),m=y.extend({},b.defaults,m),n=n||m.duration;var v=m.queue&&1<m.axis.length;return v&&(n/=2),m.offset=t(m.offset),m.over=t(m.over),this.each(function(){function l(e){var t=y.extend({},m,{queue:!0,duration:n,complete:e&&function(){e.call(d,f,m)}});h.animate(p,t)}if(null!==e){var c,u=_(this),d=u?this.contentWindow||window:this,h=y(d),f=e,p={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=t(f);break}f=u?y(f):y(f,d);case"object":if(0===f.length)return;(f.is||f.style)&&(c=(f=y(f)).offset())}var g=y.isFunction(m.offset)&&m.offset(d,f)||m.offset;y.each(m.axis.split(""),function(e,t){var n="x"===t?"Left":"Top",i=n.toLowerCase(),r="scroll"+n,o=h[r](),a=b.max(d,t);if(c)p[r]=c[i]+(u?0:o-h.offset()[i]),m.margin&&(p[r]-=parseInt(f.css("margin"+n),10)||0,p[r]-=parseInt(f.css("border"+n+"Width"),10)||0),p[r]+=g[i]||0,m.over[i]&&(p[r]+=f["x"===t?"width":"height"]()*m.over[i]);else{var s=f[i];p[r]=s.slice&&"%"===s.slice(-1)?parseFloat(s)/100*a:s}m.limit&&/^\d+$/.test(p[r])&&(p[r]=p[r]<=0?0:Math.min(p[r],a)),!e&&1<m.axis.length&&(o===p[r]?p={}:v&&(l(m.onAfterFirst),p={}))}),l(m.onAfter)}})},b.max=function(e,t){var n="x"===t?"Width":"Height",i="scroll"+n;if(!_(e))return e[i]-y(e)[n.toLowerCase()]();var r="client"+n,o=e.ownerDocument||e.document,a=o.documentElement,s=o.body;return Math.max(a[i],s[i])-Math.min(a[r],s[r])},y.Tween.propHooks.scrollLeft=y.Tween.propHooks.scrollTop={get:function(e){return y(e.elem)[e.prop]()},set:function(e){var t=this.get(e);if(e.options.interrupt&&e._last&&e._last!==t)return y(e.elem).stop();var n=Math.round(e.now);t!==n&&(y(e.elem)[e.prop](n),e._last=this.get(e))}},b}),function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;try{t=window}catch(n){t=self}t.SparkMD5=e()}}(function(u){"use strict";function c(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+t[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+t[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+t[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+t[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function d(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function h(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function i(e){var t,n,i,r,o,a,s=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)c(l,d(e.substring(t-64,t)));for(n=(e=e.substring(t-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),55<t)for(c(l,i),t=0;t<16;t+=1)i[t]=0;return r=(r=8*s).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),a=parseInt(r[1],16)||0,i[14]=o,i[15]=a,c(l,i),l}function r(e){var t,n,i,r,o,a,s=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=s;t+=64)c(l,h(e.subarray(t-64,t)));for(n=(e=t-64<s?e.subarray(t-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),55<t)for(c(l,i),t=0;t<16;t+=1)i[t]=0;return r=(r=8*s).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),a=parseInt(r[1],16)||0,i[14]=o,i[15]=a,c(l,i),l}function n(e){var t,n="";for(t=0;t<4;t+=1)n+=g[e>>8*t+4&15]+g[e>>8*t&15];return n}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=n(e[t]);return e.join("")}function o(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function t(e,t){var n,i=e.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=e.charCodeAt(n);return t?o:r}function s(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function l(e,t,n){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e)),i.set(new Uint8Array(t),e.byteLength),n?i:i.buffer}function f(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}var g=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==a(i("hello"))&&function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function c(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(e,t){var n,i,r,o,a=this.byteLength,s=c(e,a),l=a;return t!==u&&(l=c(t,a)),l<s?new ArrayBuffer(0):(n=l-s,i=new ArrayBuffer(n),r=new Uint8Array(i),o=new Uint8Array(this,s,n),r.set(o),i)}}(),p.prototype.append=function(e){return this.appendBinary(o(e)),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)c(this._hash,d(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},p.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=f(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},p.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(e,t){var n,i,r,o=t;if(e[o>>2]|=128<<(o%4<<3),55<o)for(c(this._hash,e),o=0;o<16;o+=1)e[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),r=parseInt(n[1],16)||0,e[14]=i,e[15]=r,c(this._hash,e)},p.hash=function(e,t){return p.hashBinary(o(e),t)},p.hashBinary=function(e,t){var n=a(i(e));return t?f(n):n},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(e){var t,n=l(this._buff.buffer,e,!0),i=n.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)c(this._hash,h(n.subarray(t-64,t)));return this._buff=t-64<i?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=f(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var e=p.prototype.getState.call(this);return e.buff=s(e.buff),e},p.ArrayBuffer.prototype.setState=function(e){return e.buff=t(e.buff,!0),p.prototype.setState.call(this,e)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(e,t){var n=a(r(new Uint8Array(e)));return t?f(n):n},p});var SecureView=function(){var l=this;return this.init=function(){this.app_specific=null,this.page_count=0,this.preview_as=null,this.current_page=1,this.current_zoom="",this.get_page_path="",this.download_path="",this.allow_actions={},this.initial_html_overflow=null,this.initial_body_overflow=null,this.$owner_el=null,this.$secure_view=null,this.$pages_block=null,this.$preview_as_selector=null,this.$zoom_factor_selector=null,this.$page_controls=null,this.$zoom_selectors=null,this.$loading_page_message=null,this.$download_link=null,this.$no_preview_possible=null,this.$failure_message_block=null,this.$failure_message=null,this.$control_blocks=null,this.$zoom_selector_fit=null,this.$extra_actions=null,this.$download_actions=null,this.$pages=null,this.$preview_item=null,this.$body=null,this.html=null},this.init(),this.setup_links=function(n,e,i){var r=this;n&&e&&$(n).not(".sv-added-setup-links").on("click",e,function(e){var t;(i=i||{}).page_path=$(this).attr("href"),i.$owner_el=n,t=i.attr_for_filename?$(this).attr(i.attr_for_filename):$(this).html(),i.file_name=t,$(".sv-selected").removeClass("sv-selected"),$(this).parent().addClass("sv-selected"),r.setup(i.set_preview_as,i),e.preventDefault()}).addClass("sv-added-setup-links")},this.setup=function(e,t){var n=this;t&&(this.get_page_path=t.page_path,this.download_path=t.download_path||t.page_path,this.allow_actions=t.allow_actions||{},this.$owner_el=t.$owner_el,this.file_name=t.file_name),this.set_current_page(1),this.$html=$("html"),this.$body=$("body"),this.$preview_as_selectors=$(".secure-view-preview-as-selectors"),this.$preview_as_selector=$(".secure-view-preview-as-selector"),this.$zoom_factor_selector=$(".secure-view-zoom-factor-selector"),this.$zoom_selectors=$(".secure-view-zoom-selector"),this.$page_controls=$(".secure-view-page-controls"),this.$pages_block=$("#secure-view-pages"),this.$secure_view=$(".secure-view"),this.$pages=$("#secure-view-pages"),this.$loading_page_message=$(".secure-view-loading-page"),this.$download_link=$(".sv-download-link"),this.$no_preview_possible=$(".secure-view-no-preview"),this.$control_blocks=$(".sv-control-block"),this.$no_preview_no_download=$(".secure-view-no-preview-no-download"),this.$failure_message_block=$(".secure-view-message-block"),this.$failure_message=$(".secure-view-message-block .secure-view-message"),this.$zoom_selector_fit=$("#secure-view-zoom-factor-fit"),this.$extra_actions=$(".secure-view-extra-actions"),this.$file_name=$(".secure-view-file-name"),this.$download_actions=$(".secure-download-actions"),this.$loading_page_message.show(),this.$body.hasClass("fixed-overlay")||(this.initial_html_overflow=this.$html[0].style.overflow,this.initial_body_overflow=this.$body[0].style.overflow,this.$html.css({overflow:"hidden"}),this.$body.css({overflow:"hidden"}).addClass("fixed-overlay")),this.$control_blocks.hide(),this.$no_preview_possible.hide(),this.$loading_page_message.show(),this.close(!0),this.$file_name.html(this.file_name),this.$loading_page_message.show(),e?this.preview_as=e:this.preview_as||(this.preview_as="png"),$('.secure-view-preview-as-selector[data-preview-as="'+this.preview_as+'"]').addClass("focus"),this.$secure_view.attr("data-preview-as",this.preview_as),this.page_count?this.show_first_page():this.get_info(this.show_first_page),this.set_controls(),this.$preview_as_selector.not(".sv-added-click-ev").on("click",function(e){n.preview_as=$(this).attr("data-preview-as"),n.$preview_as_selector.removeClass("focus"),$(this).addClass("focus"),n.clear(),n.setup(n.preview_as),e.preventDefault()}).addClass("sv-added-click-ev"),this.$zoom_factor_selector.not(".sv-added-click-ev").on("click",function(e){n.$preview_item.css({transition:"all 0.7s"}),n.set_zoom_for_selector($(this)),window.setTimeout(function(){n.$preview_item.css({transition:""})},1e3),window.setTimeout(function(){n.set_zoom(null,$(".secure-view-page").not("#"+n.page_id(n.current_page)))},100),e.preventDefault()}).addClass("sv-added-click-ev"),$("#preview-next-page").not(".sv-added-click-ev").on("click",function(e){n.show_next_page(),e.preventDefault()}).addClass("sv-added-click-ev"),$("#preview-prev-page").not(".sv-added-click-ev").on("click",function(e){n.show_prev_page(),e.preventDefault()}).addClass("sv-added-click-ev"),$("#secure-view-current-page").not(".sv-added-keyup-ev").on("keyup",function(){var e=$(this).val();""!=e&&(1<=(e=parseInt(e))&&e<=n.page_count&&e!=n.current_page?n.show_page(e):$(this).val(n.current_page))}).addClass("sv-added-keyup-ev"),$(".sv-close").not(".sv-added-click-ev").on("click",function(){n.close()}).addClass("sv-added-click-ev"),this.$secure_view.fadeIn(400,"swing",function(){window.setTimeout(function(){n.page_count&&n.show_first_page(),n.app_specific=(new SecureViewAppSpecific).setup(n)},10)})},this.set_controls=function(){this.$control_blocks.hide(),this.$extra_actions.show(),this.$file_name.show(),"html"==this.preview_as?(this.$zoom_selectors.show(),this.$page_controls.hide(),this.$zoom_selector_fit.hide()):(this.$zoom_selectors.show(),this.$page_controls.show(),this.$zoom_selector_fit.show()),this.set_actions()},this.set_actions=function(){this.$preview_as_selectors.hide(),this.allow_actions.download_files?(this.$download_link.show().attr("href",this.download_path),this.$download_actions.show()):(this.$download_link.hide(),this.$download_actions.hide());var e=$('.secure-view-preview-as-selector[data-preview-as="html"]');this.allow_actions.view_files_as_html?(e.show(),this.$preview_as_selectors.show()):e.hide();e=$('.secure-view-preview-as-selector[data-preview-as="png"]');this.allow_actions.view_files_as_image?(e.show(),this.$preview_as_selectors.show()):e.hide()},this.clean_page=function(){l.$control_blocks.hide(),l.$no_preview_possible.hide(),l.$no_preview_no_download.hide(),l.$loading_page_message.hide(),l.$failure_message_block.hide()},this.show_first_page=function(){l.clean_page(),l.set_controls(),l.can_preview?(l.set_current_page(1),l.show_page(l.current_page),l.$pages.removeClass(".sv-pages-as-png, .sv-pages-as-html").addClass("sv-pages-as-"+l.preview_as)):l.allow_actions.download_files?l.$no_preview_possible.show():l.$no_preview_no_download.show()},this.get_info=function(t){var e={secure_view:{"do":"info",preview_as:l.preview_as}},n=l.get_page_path;0<n.indexOf("?")?n+="&":n+="?",n+=$.param(e),$.ajax({url:n}).done(function(e){l.page_count=e.page_count,l.current_zoom=e.default_zoom,l.can_preview=e.can_preview,$("#secure-view-page-count").html(l.page_count),t&&t()}).fail(function(e,t,n){l.clean_page(),401==e.status?l.$no_preview_no_download.show():0==e.status?l.show_failure_message("Failed to get the requested item from the server: possible network error"):l.show_failure_message("Failed to get the requested item from the server: "+n),console.log("Failed to get info: "+n)})},this.show_failure_message=function(e){l.$failure_message.html(e),l.$failure_message_block.show()},this.set_zoom=function(e,t){(t=t||l.$preview_item)&&(e&&(l.current_zoom=e),l.current_zoom?("html"==l.preview_as?("fit"==l.current_zoom&&(l.current_zoom=100),l.$pages_block.css({overflow:"hidden"}),$("#sv-preview-item-html-1")[0].contentWindow.document.body.style.zoom=l.current_zoom+"%"):("fit"==l.current_zoom?l.$pages_block.css({overflow:"hidden"}):l.$pages_block.css({overflow:"auto"}),t.each(function(){var e=$(this);if("fit"==l.current_zoom){var t=l.$pages.height(),n=e.height(),i=e.width(),r=l.$pages.parent().width();if(0==t||0==n||0==r||0==i)return;var o=i/r,a=n/t;o<a?e.width(i/a):e.width(i/o)}else{var s=(i=e[0].naturalWidth||1200)*parseInt(l.current_zoom)/100;e.width(s+"px")}})),$(".secure-view-zoom-factor-selector").removeClass("focus"),$('.secure-view-zoom-factor-selector[data-zoom-factor="'+l.current_zoom+'"]').addClass("focus")):l.set_zoom_for_selector())},this.set_zoom_for_selector=function(e){e||(e=l.$zoom_factor_selector.filter(".focus"));var t=e.attr("data-zoom-factor");l.set_zoom(t)},this.show_page=function(e){l.got_page(e)||l.$loading_page_message.show(),l.get_page(e),$(".secure-view-page").hide(),l.$preview_item=$("#"+l.page_id(e)),l.$preview_item.show(),"png"==l.preview_as?l.show_img_page(l.current_page):"html"==l.preview_as&&l.show_html_page(l.current_page),l.set_current_page(e)},this.show_img_page=function(e){l.set_zoom(),e+1<=l.page_count&&l.get_page(e+1),e+2<=l.page_count&&l.get_page(e+2),e+3<=l.page_count&&l.get_page(e+3),1<=e-1&&l.get_page(e-1)},this.show_html_page=function(){},this.set_current_page=function(e){l.current_page=e,l.$preview_item=$("#"+l.page_id(e)),$("#secure-view-current-page").val(l.current_page),$("#preview-next-page").attr("disabled",l.current_page==l.page_count),$("#preview-prev-page").attr("disabled",1==l.current_page)},this.show_next_page=function(){var e=l.current_page+1;e>l.page_count||l.show_page(e)},this.show_prev_page=function(){var e=l.current_page-1;e<1||l.show_page(e)},this.page_loaded=function(e){l.$loading_page_message.hide(),l.set_zoom(null,e)},this.got_page=function(e){var t=l.page_id(e);return $("#"+t).length},l.page_id=function(e){return"sv-preview-item-"+l.preview_as+"-"+e},l.get_page=function(e){if(!(e>l.page_count)){var t=l.page_id(e);if(!l.got_page(e)){var n={secure_view:{page:e,"do":"convert_to",preview_as:l.preview_as}},i=l.get_page_path;if(0<i.indexOf("?")?i+="&":i+="?",i+=$.param(n),"png"==l.preview_as)var r=$(
'<img id="'+t+'" src="'+i+'" class="secure-view-page" data-secure-view-page="'+e+'" style="display: none; width: 1px;" draggable="false" />');else if("html"==l.preview_as)r=$('<iframe id="'+t+'" src="'+i+'" class="secure-view-page-iframe" data-secure-view-page="'+e+'" style="display: none;" ></iframe>');else console.log("preview_as not set");l.$pages.append(r),r.on("hover",function(e){e.preventDefault()}),r[0].complete||4==r[0].readyState?l.page_loaded(r):r.on("load",function(){l.page_loaded($(this))}).on("error",function(){l.clean_page(),$(".secure-view-page").hide(),l.show_failure_message("Failed to get the requested page from the server")})}}},l.clear=function(){$(".secure-view-page").remove(),$(".secure-view-page-iframe").remove(),$("#secure-view-page-count").html(""),l.$file_name.html(""),l.clean_page()},l.close=function(e){e||(l.$secure_view.fadeOut(),l.$html.css({overflow:l.initial_html_overflow}),l.$body.css({overflow:l.initial_body_overflow}).removeClass("fixed-overlay"),$(".sv-selected").removeClass("sv-selected")),l.clear(),l.page_count=null,l.preview_as=null,l.$preview_as_selector.removeClass("focus"),l.app_specific&&l.app_specific.close()},this};!function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(t||n)}(function(s){var l=function(h,w,x){var k={invalid:[],getCaret:function(){try{var e,t=0,n=h.get(0),i=document.selection,r=n.selectionStart;return i&&-1===navigator.appVersion.indexOf("MSIE 10")?((e=i.createRange()).moveStart("character",-k.val().length),t=e.text.length):(r||"0"===r)&&(t=r),t}catch(o){}},setCaret:function(e){try{if(h.is(":focus")){var t,n=h.get(0);n.setSelectionRange?n.setSelectionRange(e,e):((t=n.createTextRange()).collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select())}}catch(i){}},events:function(){h.on("keydown.mask",function(e){h.data("mask-keycode",e.keyCode||e.which),h.data("mask-previus-value",h.val()),h.data("mask-previus-caret-pos",k.getCaret()),k.maskDigitPosMapOld=k.maskDigitPosMap}).on(s.jMaskGlobals.useInput?"input.mask":"keyup.mask",k.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){h.keydown().keyup()},100)}).on("change.mask",function(){h.data("changed",!0)}).on("blur.mask",function(){a===k.val()||h.data("changed")||h.trigger("change"),h.data("changed",!1)}).on("blur.mask",function(){a=k.val()}).on("focus.mask",function(e){!0===x.selectOnFocus&&s(e.target).select()}).on("focusout.mask",function(){x.clearIfNotMatch&&!o.test(k.val())&&k.val("")})},getRegexMask:function(){for(var e,t,n,i,r,o,a=[],s=0;s<w.length;s++)(e=S.translation[w.charAt(s)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),n=e.optional,(i=e.recursive)?(a.push(w.charAt(s)),r={digit:w.charAt(s),pattern:t}):a.push(n||i?t+"?":t)):a.push(w.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=a.join(""),r&&(o=o.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(o)},destroyEvents:function(){h.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(e){var t,n=h.is("input")?"val":"text";return 0<arguments.length?(h[n]()!==e&&h[n](e),t=h):t=h[n](),t},calculateCaretPosition:function(){var e=h.data("mask-previus-value")||"",t=k.getMasked(),n=k.getCaret();if(e!==t){var i=h.data("mask-previus-caret-pos")||0,r=t.length,o=e.length,a=0,s=0,l=0,c=0,u=0;for(u=n;u<r&&k.maskDigitPosMap[u];u++)s++;for(u=n-1;0<=u&&k.maskDigitPosMap[u];u--)a++;for(u=n-1;0<=u;u--)k.maskDigitPosMap[u]&&l++;for(u=i-1;0<=u;u--)k.maskDigitPosMapOld[u]&&c++;if(o<n)n=10*r;else if(n<=i&&i!==o){if(!k.maskDigitPosMapOld[n]){var d=n;n-=c-l,n-=a,k.maskDigitPosMap[n]&&(n=d)}}else i<n&&(n+=l-c,n+=s)}return n},behaviour:function(e){e=e||window.event,k.invalid=[];var t=h.data("mask-keycode");if(-1===s.inArray(t,S.byPassKeys)){var n=k.getMasked();k.getCaret();return setTimeout(function(){k.setCaret(k.calculateCaretPosition())},10),k.val(n),k.callbacks(e)}},getMasked:function(e,t){var n,i,r,o=[],a=t===undefined?k.val():t+"",s=0,l=w.length,c=0,u=a.length,d=1,h="push",f=-1,p=0,g=[];for(x.reverse?(h="unshift",d=-1,n=0,s=l-1,c=u-1,i=function(){return-1<s&&-1<c}):(n=l-1,i=function(){return s<l&&c<u});i();){var m=w.charAt(s),v=a.charAt(c),y=S.translation[m];y?(v.match(y.pattern)?(o[h](v),y.recursive&&(-1===f?f=s:s===n&&(s=f-d),n===f&&(s-=d)),s+=d):v===r?(p--,r=undefined):y.optional?(s+=d,c-=d):y.fallback?(o[h](y.fallback),s+=d,c-=d):k.invalid.push({p:c,v:v,e:y.pattern}),c+=d):(e||o[h](m),v===m?(g.push(c),c+=d):(r=m,g.push(c+p),p++),s+=d)}var _=w.charAt(n);l!==u+1||S.translation[_]||o.push(_);var b=o.join("");return k.mapMaskdigitPositions(b,g,u),b},mapMaskdigitPositions:function(e,t,n){var i=x.reverse?e.length-n:0;k.maskDigitPosMap={};for(var r=0;r<t.length;r++)k.maskDigitPosMap[t[r]+i]=1},callbacks:function(e){var t=k.val(),n=t!==a,i=[t,e,h,x],r=function(e,t,n){"function"==typeof x[e]&&t&&x[e].apply(this,n)};r("onChange",!0===n,i),r("onKeyPress",!0===n,i),r("onComplete",t.length===w.length,i),r("onInvalid",0<k.invalid.length,[t,e,h,k.invalid,x])}};h=s(h);var o,S=this,a=k.val();w="function"==typeof w?w(k.val(),undefined,h,x):w,S.mask=w,S.options=x,S.remove=function(){var e=k.getCaret();return k.destroyEvents(),k.val(S.getCleanVal()),k.setCaret(e),h},S.getCleanVal=function(){return k.getMasked(!0)},S.getMaskedVal=function(e){return k.getMasked(!1,e)},S.init=function(e){if(e=e||!1,x=x||{},S.clearIfNotMatch=s.jMaskGlobals.clearIfNotMatch,S.byPassKeys=s.jMaskGlobals.byPassKeys,S.translation=s.extend({},s.jMaskGlobals.translation,x.translation),S=s.extend(!0,{},S,x),o=k.getRegexMask(),e)k.events(),k.val(k.getMasked());else{x.placeholder&&h.attr("placeholder",x.placeholder),h.data("mask")&&h.attr("autocomplete","off");for(var t=0,n=!0;t<w.length;t++){var i=S.translation[w.charAt(t)];if(i&&i.recursive){n=!1;break}}n&&h.attr("maxlength",w.length),k.destroyEvents(),k.events();var r=k.getCaret();k.val(k.getMasked()),k.setCaret(r)}},S.init(!h.is("input"))};s.maskWatchers={};var t=function(){var e=s(this),t={},n="data-mask-",i=e.attr("data-mask");if(e.attr(n+"reverse")&&(t.reverse=!0),e.attr(n+"clearifnotmatch")&&(t.clearIfNotMatch=!0),"true"===e.attr(n+"selectonfocus")&&(t.selectOnFocus=!0),c(e,i,t))return e.data("mask",new l(this,i,t))},c=function(e,t,n){n=n||{};var i=s(e).data("mask"),r=JSON.stringify,o=s(e).val()||s(e).text();try{return"function"==typeof t&&(t=t(o)),"object"!=typeof i||r(i.options)!==r(n)||i.mask!==t}catch(a){}},e=function(e){var t,n=document.createElement("div");return(t=(e="on"+e)in n)||(n.setAttribute(e,"return;"),t="function"==typeof n[e]),n=null,t};s.fn.mask=function(e,t){t=t||{};var n=this.selector,i=s.jMaskGlobals,r=i.watchInterval,o=t.watchInputs||i.watchInputs,a=function(){if(c(this,e,t))return s(this).data("mask",new l(this,e,t))};return s(this).each(a),n&&""!==n&&o&&(clearInterval(s.maskWatchers[n]),s.maskWatchers[n]=setInterval(function(){s(document).find(n).each(a)},r)),this},s.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},s.fn.unmask=function(){return clearInterval(s.maskWatchers[this.selector]),delete s.maskWatchers[this.selector],this.each(function(){var e=s(this).data("mask");e&&e.remove().removeData("mask")})},s.fn.cleanVal=function(){return this.data("mask").getCleanVal()},s.applyDataMask=function(e){((e=e||s.jMaskGlobals.maskElements)instanceof s?e:s(e)).filter(s.jMaskGlobals.dataMaskAttr).each(t)};var n={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&e("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};s.jMaskGlobals=s.jMaskGlobals||{},(n=s.jMaskGlobals=s.extend(!0,{},n,s.jMaskGlobals)).dataMask&&s.applyDataMask(),s.jMaskGlobals.watchDataMask&&setInterval(function(){s.jMaskGlobals.watchDataMask&&s.applyDataMask()},n.watchInterval)},window.jQuery,window.Zepto),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).FullCalendar={})}(this,function(e){"use strict";function s(e,t,n){var i=document.createElement(e);if(t)for(var r in t)"style"===r?p(i,t[r]):pr[r]?i[r]=t[r]:i.setAttribute(r,t[r]);return"string"==typeof n?i.innerHTML=n:null!=n&&b(i,n),i}function _(e){e=e.trim();var t=document.createElement(n(e));return t.innerHTML=e,t.firstChild}function o(e){return Array.prototype.slice.call(t(e))}function t(e){e=e.trim();var t=document.createElement(n(e));return t.innerHTML=e,t.childNodes}function n(e){return gr[e.substr(0,3)]||"div"}function b(e,t){for(var n=a(t),i=0;i<n.length;i++)e.appendChild(n[i])}function h(e,t){for(var n=a(t),i=e.firstChild||null,r=0;r<n.length;r++)e.insertBefore(n[r],i)}function i(e,t){for(var n=a(t),i=e.nextSibling||null,r=0;r<n.length;r++)e.parentNode.insertBefore(n[r],i)}function a(e){return"string"==typeof e?o(e):e instanceof Node?[e]:Array.prototype.slice.call(e)}function l(e){e.parentNode&&e.parentNode.removeChild(e)}function c(e,t){return vr.call(e,t)}function u(e,t){return mr.call(e,t)}function r(e,t){for(var n=e instanceof HTMLElement?[e]:e,i=[],r=0;r<n.length;r++)for(var o=n[r].querySelectorAll(t),a=0;a<o.length;a++)i.push(o[a]);return i}function d(e,t){for(var n=e instanceof HTMLElement?[e]:e,i=[],r=0;r<n.length;r++)for(var o=n[r].children,a=0;a<o.length;a++){var s=o[a];t&&!u(s,t)||i.push(s)}return i}function f(e,t,n){n?e.classList.add(t):e.classList.remove(t)}function p(e,t){for(var n in t)g(e,n,t[n])}function g(e,t,n){null==n?e.style[t]="":"number"==typeof n&&yr.test(t)?e.style[t]=n+"px":e.style[t]=n}function m(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function v(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function y(e,t,n){return{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n}}function w(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function x(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function k(e,t){return{left:e.left-t.left,top:e.top-t.top}}function S(){return null===_r&&(_r=C()),_r}function C(){var e=s("div",{style:{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}},"<div></div>");document.body.appendChild(e);var t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return l(e),t}function D(e){return e=Math.max(0,e),e=Math.round(e)}function T(e,t){void 0===t&&(t=!1);var n=window.getComputedStyle(e),i=parseInt(n.borderLeftWidth,10)||0,r=parseInt(n.borderRightWidth,10)||0,o=parseInt(n.borderTopWidth,10)||0,a=parseInt(n.borderBottomWidth,10)||0,s=D(e.offsetWidth-e.clientWidth-i-r),l={borderLeft:i,borderRight:r,borderTop:o,borderBottom:a,scrollbarBottom:D(e.offsetHeight-e.clientHeight-o-a),scrollbarLeft:0,scrollbarRight:0};return S()&&"rtl"===n.direction?l.scrollbarLeft=s:l.scrollbarRight=s,t&&(l.paddingLeft=parseInt(n.paddingLeft,10)||0,l.paddingRight=parseInt(n.paddingRight,10)||0,l.paddingTop=parseInt(n.paddingTop,10)||0,l.paddingBottom=parseInt(n.paddingBottom,10)||0),l}function E(e,t){void 0===t&&(t=!1);var n=M(e),i=T(e,t),r={left:n.left+i.borderLeft+i.scrollbarLeft,right:n.right-i.borderRight-i.scrollbarRight,top:n.top+i.borderTop,bottom:n.bottom-i.borderBottom-i.scrollbarBottom};return t&&(r.left+=i.paddingLeft,r.right-=i.paddingRight,r.top+=i.paddingTop,r.bottom-=i.paddingBottom),r}function M(e){var t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset}}function I(){return{left:window.pageXOffset,right:window.pageXOffset+document.documentElement.clientWidth,top:window.pageYOffset,bottom:window.pageYOffset+document.documentElement.clientHeight}}function P(e){var t=window.getComputedStyle(e);return e.getBoundingClientRect().height+parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}function $(e){for(var t=[];e instanceof HTMLElement;){var n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}function R(e){return $(e).map(function(e){return E(e)}).concat(I()).reduce(function(e,t){return v(e,t)||t})}function O(e){e.preventDefault()}function A(e,t,n,i){function r(e){var t=c(e.target,n);t&&i.call(t,e,t)}return e.addEventListener(t,r),function(){e.removeEventListener(t,r)}}function N(e,t,i,r){var o;return A(e,"mouseover",t,function(e,t){if(t!==o){i(e,o=t);var n=function(e){o=null,r(e,t),t.removeEventListener("mouseleave",n)};t.addEventListener("mouseleave",n)}})}function H(t,n){var i=function(e){n(e),br.forEach(function(e){t.removeEventListener(e,i)})};br.forEach(function(e){t.addEventListener(e,i)})}function L(e,t){var n=re(e);return n[2]+=7*t,oe(n)}function F(e,t){var n=re(e);return n[2]+=t,oe(n)}function j(e,t){var n=re(e);return n[6]+=t,oe(n)}function z(e,t){return B(e,t)/7}function B(e,t){return(t.valueOf()-e.valueOf())/864e5}function W(e,t){return(t.valueOf()-e.valueOf())/36e5}function U(e,t){return(t.valueOf()-e.valueOf())/6e4}function V(e,t){return(t.valueOf()-e.valueOf())/1e3}function q(e,t){var n=Z(e),i=Z(t);return{years:0,months:0,days:Math.round(B(n,i)),milliseconds:t.valueOf()-i.valueOf()-(e.valueOf()-n.valueOf())}}function Y(e,t){var n=G(e,t);return null!==n&&n%7==0?n/7:null}function G(e,t){return se(e)===se(t)?Math.round(B(e,t)):null}function Z(e){return oe([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function X(e){return oe([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function K(e){return oe([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function Q(e){return oe([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function J(e,t,n){var i=e.getUTCFullYear(),r=ee(e,i,t,n);if(r<1)return ee(e,i-1,t,n);var o=ee(e,i+1,t,n);return 1<=o?Math.min(r,o):r}function ee(e,t,n,i){var r=oe([t,0,1+te(t,n,i)]),o=Z(e),a=Math.round(B(r,o));return Math.floor(a/7)+1}function te(e,t,n){var i=7+t-n;return-((7+oe([e,0,i]).getUTCDay()-t)%7)+i-1}function ne(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function ie(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function re(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function oe(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC.apply(Date,e))}function ae(e){return!isNaN(e.valueOf())}function se(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function le(e,t){var n;return"string"==typeof e?ce(e):"object"==typeof e&&e?ue(e):"number"==typeof e?ue(((n={})[t||"milliseconds"]=e,n)):null}function ce(e){var t=kr.exec(e);if(t){var n=t[1]?-1:1;return{years:0,months:0,days:n*(t[2]?parseInt(t[2],10):0),milliseconds:n*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}function ue(e){return{years:e.years||e.year||0,months:e.months||e.month||0,days:(e.days||e.day||0)+7*de(e),milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)}}function de(e){return e.weeks||e.week||0}function he(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function fe(e){return 0===e.years&&0===e.months&&1===e.days&&0===e.milliseconds}function pe(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function ge(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function me(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function ve(e){return _e(e)/365}function ye(e){return _e(e)/30}function _e(e){return xe(e)/864e5}function be(e){return xe(e)/6e4}function we(e){return xe(e)/1e3}function xe(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function ke(e,t){for(var n=null,i=0;i<xr.length;i++){var r=xr[i];if(t[r]){var o=e[r]/t[r];if(!Ue(o)||null!==n&&n!==o)return null;n=o}else if(e[r])return null}return n}function Se(e,t){var n=e.milliseconds;if(n){if(n%1e3!=0)return{unit:"millisecond",value:n};if(n%6e4!=0)return{unit:"second",value:n/1e3};if(n%36e5!=0)return{unit:"minute",value:n/6e4};if(n)return{unit:"hour",value:n/36e5}}return e.days?t||e.days%7!=0?{unit:"day",value:e.days}:{unit:"week",value:e.days/7}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function Ce(e,t){t.left&&p(e,{borderLeftWidth:1,marginLeft:t.left-1}),t.right&&p(e,{borderRightWidth:1,marginRight:t.right-1})}function De(e){p(e,{marginLeft:"",marginRight:"",borderLeftWidth:"",borderRightWidth:""})}function Te(){document.body.classList.add("fc-not-allowed")}function Ee(){document.body.classList.remove("fc-not-allowed")}function Me(r,e,t){var o=Math.floor(e/r.length),a=Math.floor(e-o*(r.length-1)),s=[],l=[],c=[],u=0;Ie(r),r.forEach(function(e,t){var n=t===r.length-1?a:o,i=P(e);i<n?(s.push(e),l.push(i),c.push(e.offsetHeight)):u+=i}),t&&(e-=u,o=Math.floor(e/s.length),a=Math.floor(e-o*(s.length-1))),s.forEach(function(e,t){var n=t===s.length-1?a:o,i=l[t],r=n-(i-c[t]);i<n&&(e.style.height=r+"px")})}function Ie(e){e.forEach(function(e){e.style.height=""})}function Pe(e){var i=0;return e.forEach(function(e){var t=e.firstChild;if(t instanceof HTMLElement){var n=t.offsetWidth;i<n&&(i=n)}}),i++,e.forEach(function(e){e.style.width=i+"px"}),i}function $e(e,t){var n={position:"relative",left:-1};p(e,n),p(t,n);var i=e.offsetHeight-t.offsetHeight,r={position:"",left:""};return p(e,r),p(t,r),i}function Re(e){e.classList.add("fc-unselectable"),e.addEventListener("selectstart",O)}function Oe(e){e.classList.remove("fc-unselectable"),e.removeEventListener("selectstart",O)}function Ae(e){e.addEventListener("contextmenu",O)}function Ne(e){e.removeEventListener("contextmenu",O)}function He(e){var t,n,i=[],r=[];for("string"==typeof e?r=e.split(/\s*,\s*/):"function"==typeof e?r=[e]:Array.isArray(e)&&(r=e),t=0;t<r.length;t++)"string"==typeof(n=r[t])?i.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&i.push({func:n});return i}function Le(e,t,n){var i,r;for(i=0;i<n.length;i++)if(r=Fe(e,t,n[i]))return r;return 0}function Fe(e,t,n){return n.func?n.func(e,t):je(e[n.field],t[n.field])*(n.order||1)}function je(e,t){return e||t?null==t?-1:null==e?1:"string"==typeof e||"string"==typeof t?String(e).localeCompare(String(t)):e-t:0}function ze(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Be(e,t){var n=String(e);return"000".substr(0,t-n.length)+n}function We(e,t){return e-t}function Ue(e){return e%1==0}function Ve(e,t,n){if("function"==typeof e&&(e=[e]),e){var i=void 0,r=void 0;for(i=0;i<e.length;i++)r=e[i].apply(t,n)||r;return r}}function qe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++)if(e[n]!==undefined)return e[n]}function Ye(t,n){var i,r,o,a,s,l=function(){var e=(new Date).valueOf()-a;e<n?i=setTimeout(l,n-e):(i=null,s=t.apply(o,r),o=r=null)};return function(){return o=this,r=arguments,a=(new Date).valueOf(),i||(i=setTimeout(l,n)),s}}function Ge(e,t,n,i){void 0===n&&(n={});var r={};for(var o in t){var a=t[o];e[o]!==undefined?a===Function?r[o]="function"==typeof e[o]?e[o]:null:r[o]=a?a(e[o]):e[o]:n[o]!==undefined?r[o]=n[o]:a===String?r[o]="":a&&a!==Number&&a!==Boolean&&a!==Function?r[o]=a(null):r[o]=null}if(i)for(var o in e)t[o]===undefined&&(i[o]=e[o]);return r}function Ze(e){var t=Math.floor(B(e.start,e.end))||1,n=Z(e.start);return{start:n,end:F(n,t)}}function Xe(e,t){void 0===t&&(t=le(0));var n=null,i=null;if(e.end){i=Z(e.end);var r=e.end.valueOf()-i.valueOf();r&&r>=xe(t)&&(i=F(i,1))}return e.start&&(n=Z(e.start),i&&i<=n&&(i=F(n,1))),{start:n,end:i}}function Ke(e){var t=Xe(e);return 1<B(t.start,t.end)}function Qe(e,t,n,i){return"year"===i?le(n.diffWholeYears(e,t),"year"):"month"===i?le(n.diffWholeMonths(e,t),"month"):q(e,t)}function Je(e,t){function n(){this.constructor=e}Sr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function et(e,t,n,i,r){for(var o=0;o<i.length;o++){var a={},s=i[o].parse(e,a,n);if(s){var l=a.allDay;return delete a.allDay,null==l&&null==(l=t)&&null==(l=s.allDayGuess)&&(l=!1),Cr(r,a),{allDay:l,duration:s.duration,typeData:s.typeData,typeId:o}}}return null}function tt(e,t,n,i,r){var o=r[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:i.subtract(n.start,t),end:n.end},i);return e.allDay&&(o=o.map(Z)),o}function nt(e,t){var n,i,r,o,a,s,l={};if(t)for(n=0;n<t.length;n++){for(i=t[n],r=[],o=e.length-1;0<=o;o--)if("object"==typeof(a=e[o][i])&&a)r.unshift(a);else if(a!==undefined){l[i]=a;break}r.length&&(l[i]=nt(r))}for(n=e.length-1;0<=n;n--)for(i in s=e[n])i in l||(l[i]=s[i]);return l}function it(e,t){var n={};for(var i in e)t(e[i],i)&&(n[i]=e[i]);return n}function rt(e,t){var n={};for(var i in e)n[i]=t(e[i],i);return n}function ot(e){for(var t={},n=0,i=e;n<i.length;n++){t[i[n]]=!0}return t}function at(e){var t=[];for(var n in e)t.push(e[n]);return t}function st(e,t){for(var n in e)if(Dr.call(e,n)&&!(n in t))return!1;for(var n in t)if(Dr.call(t,n)&&e[n]!==t[n])return!1;return!0}function lt(e,t,n,i){for(var r=gt(),o=0,a=e;o<a.length;o++){var s=In(a[o],t,n,i);s&&ct(s,r)}return r}function ct(e,t){return void 0===t&&(t=gt()),t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function ut(e,t,n){var i=n.dateEnv,r=e.defs,o=e.instances;for(var a in o=it(o,function(e){return!r[e.defId].recurringDef}),r){var s=r[a];if(s.recurringDef){var l=s.recurringDef.duration;l||(l=s.allDay?n.defaultAllDayEventDuration:n.defaultTimedEventDuration);for(var c=0,u=tt(s,l,t,n.dateEnv,n.pluginSystem.hooks.recurringTypes);c<u.length;c++){var d=u[c],h=$n(a,{start:d,end:i.add(d,l)});o[h.instanceId]=h}}}return{defs:r,instances:o}}function dt(e,t){var n=e.instances[t];if(n){var i=e.defs[n.defId],r=vt(e,function(e){return ht(i,e)});return r.defs[i.defId]=i,r.instances[n.instanceId]=n,r}return gt()}function ht(e,t){return Boolean(e.groupId&&e.groupId===t.groupId)}function ft(e,t,n){var i=n.opt("eventDataTransform"),r=t?t.eventDataTransform:null;return r&&(e=pt(e,r)),i&&(e=pt(e,i)),e}function pt(e,t){var n;if(t){n=[];for(var i=0,r=e;i<r.length;i++){var o=r[i],a=t(o);a?n.push(a):null==a&&n.push(o)}}else n=e;return n}function gt(){return{defs:{},instances:{}}}function mt(e,t){return{defs:Cr({},e.defs,t.defs),instances:Cr({},e.instances,t.instances)}}function vt(e,t){var n=it(e.defs,t),i=it(e.instances,function(e){return n[e.defId]});return{defs:n,instances:i}}function yt(e,t){var n=null,i=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(i=t.createMarker(e.end)),n||i?n&&i&&i<n?null:{start:n,end:i}:null}function _t(e,t){var n,i,r=[],o=t.start;for(e.sort(bt),n=0;n<e.length;n++)(i=e[n]).start>o&&r.push({start:o,end:i.start}),i.end>o&&(o=i.end);return o<t.end&&r.push({start:o,end:t.end}),r}function bt(e,t){return e.start.valueOf()-t.start.valueOf()}function wt(e,t){var n=e.start,i=e.end,r=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(i=null===i?t.end:new Date(Math.min(i.valueOf(),t.end.valueOf()))),(null===n||null===i||n<i)&&(r={start:n,end:i}),r}function xt(e,t){return(null===e.start?null:e.start.valueOf())===(null===t.start?null:t.start.valueOf())&&(null===e.end?null:e.end.valueOf())===(null===t.end?null:t.end.valueOf())}function kt(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function St(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function Ct(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function Dt(e,t){return null!=t.start&&e<t.start?t.start:null!=t.end&&e>=t.end?new Date(t.end.valueOf()-1):e}function Tt(e,t){for(var n=0,i=0;i<e.length;)e[i]===t?(e.splice(i,1),n++):i++;return n}function Et(e,t){var n,i=e.length;if(i!==t.length)return!1;for(n=0;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Mt(e){var t,n;return function(){return t&&Et(t,arguments)||(t=arguments,n=e.apply(this,arguments)),n}}function It(t,n){var i=null;return function(){var e=t.apply(this,arguments);return(null===i||i!==e&&!n(i,e))&&(i=e),i}}function Pt(e,t,n){var i=Object.keys(e).length;return 1===i&&"short"===e.timeZoneName?function(e){return Wt(e.timeZoneOffset)}:0===i&&t.week?function(e){return Nt(n.computeWeekNumber(e.marker),n.weekLabel,n.locale,t.week)}:$t(e,t,n)}function $t(n,i,r){n=Cr({},n),i=Cr({},i),Rt(n,i),n.timeZone="UTC";var o,a=new Intl.DateTimeFormat(r.locale.codes,n);if(i.omitZeroMinute){var e=Cr({},n);delete e.minute,o=new Intl.DateTimeFormat(r.locale.codes,e)}return function(e){var t=e.marker;return Ot((o&&!t.getUTCMinutes()?o:a).format(t),e,n,i,r)}}function Rt(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),"long"===e.timeZoneName&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function Ot(e,t,n,i,r){return e=e.replace($r,""),"short"===n.timeZoneName&&(e=At(e,"UTC"===r.timeZone||null==t.timeZoneOffset?"UTC":Wt(t.timeZoneOffset))),i.omitCommas&&(e=e.replace(Ir,"").trim()),i.omitZeroMinute&&(e=e.replace(":00","")),!1===i.meridiem?e=e.replace(Mr,"").trim():"narrow"===i.meridiem?e=e.replace(Mr,function(e,t){return t.toLocaleLowerCase()}):"short"===i.meridiem?e=e.replace(Mr,function(e,t){return t.toLocaleLowerCase()+"m"}):"lowercase"===i.meridiem&&(e=e.replace(Mr,function(e){return e.toLocaleLowerCase()})),e=(e=e.replace(Pr," ")).trim()}function At(e,t){var n=!1;return e=e.replace(Rr,function(){return n=!0,t}),n||(e+=" "+t),e}function Nt(e,t,n,i){var r=[];return"narrow"===i?r.push(t):"short"===i&&r.push(t," "),r.push(n.simpleNumberFormat.format(e)),n.options.isRtl&&r.reverse(),r.join("")}function Ht(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:se(e)!==se(t)?1:0}function Lt(e,t){var n={};for(var i in e)i in Er&&!(Er[i]<=t)||(n[i]=e[i]);return n}function Ft(e,t,n,i){for(var r=0;r<e.length;){var o=e.indexOf(t,r);if(-1===o)break;var a=e.substr(0,o);r=o+t.length;for(var s=e.substr(r),l=0;l<n.length;){var c=n.indexOf(i,l);if(-1===c)break;var u=n.substr(0,c);l=c+i.length;var d=n.substr(l);if(a===u&&s===d)return{before:a,after:s}}}return null}function jt(e,t){return"object"==typeof e&&e?("string"==typeof t&&(e=Cr({separator:t},e)),new Or(e)):"string"==typeof e?new Ar(e,t):"function"==typeof e?new Nr(e):void 0}function zt(e,t,n){void 0===n&&(n=!1);var i=e.toISOString();return i=i.replace(".000",""),n&&(i=i.replace("T00:00:00Z","")),10<i.length&&(null==t?i=i.replace("Z",""):0!==t&&(i=i.replace("Z",Wt(t,!0)))),i}function Bt(e){return Be(e.getUTCHours(),2)+":"+Be(e.getUTCMinutes(),2)+":"+Be(e.getUTCSeconds(),2)}function Wt(e,t){void 0===t&&(t=!1);var n=e<0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),o=Math.round(i%60);return t?n+Be(r,2)+":"+Be(o,2):"GMT"+n+r+(o?":"+Be(o,2):"")}function Ut(e,t,n,i){var r=Vt(e,n.calendarSystem);return{date:r,start:r,end:t?Vt(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,separator:i}}function Vt(e,t){var n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function qt(e,t,n,i){var r={},o={},a={},s=[],l=[],c=Kt(e.defs,t);for(var u in e.defs){"inverse-background"===(b=e.defs[u]).rendering&&(b.groupId?(r[b.groupId]=[],a[b.groupId]||(a[b.groupId]=b)):o[u]=[])}for(var d in e.instances){var h=e.instances[d],f=c[(b=e.defs[h.defId]).defId],p=h.range,g=!b.allDay&&i?Xe(p,i):p,m=wt(g,n);m&&("inverse-background"===b.rendering?b.groupId?r[b.groupId].push(m):o[h.defId].push(m):("background"===b.rendering?s:l).push({def:b,ui:f,instance:h,range:m,isStart:g.start&&g.start.valueOf()===m.start.valueOf(),isEnd:g.end&&g.end.valueOf()===m.end.valueOf()}))}for(var v in r)for(var y=0,_=_t(r[v],n);y<_.length;y++){var b,w=_[y];f=c[(b=a[v]).defId];s.push({def:b,ui:f,instance:null,range:w,isStart:!1,isEnd:!1})}for(var u in o)for(var x=0,k=_t(o[u],n);x<k.length;x++){w=k[x];s.push({def:e.defs[u],ui:c[u],instance:null,range:w,isStart:!1,isEnd:!1})}return{bg:s,fg:l}}function Yt(e){return"background"===e.rendering||"inverse-background"===e.rendering}function Gt(n,e,i){n.hasPublicHandlers("eventRender")&&(e=e.filter(function(e){var t=n.publiclyTrigger("eventRender",[{event:new Lr(n.calendar,e.eventRange.def,e.eventRange.instance),isMirror:i,isStart:e.isStart,isEnd:e.isEnd,el:e.el,view:n}]);return!1!==t&&(t&&!0!==t&&(e.el=t),!0)}));for(var t=0,r=e;t<r.length;t++){var o=r[t];Zt(o.el,o)}return e}function Zt(e,t){e.fcSeg=t}function Xt(e){return e.fcSeg||null}function Kt(e,t){return rt(e,function(e){return Qt(e,t)})}function Qt(e,t){var n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),En(n)}function Jt(e,t,n,i){var r=Kt(e.defs,t),o=gt();for(var a in e.defs){var s=e.defs[a];o.defs[a]=en(s,r[a],n,i.pluginSystem.hooks.eventDefMutationAppliers,i)}for(var l in e.instances){var c=e.instances[l];s=o.defs[c.defId];o.instances[l]=nn(c,s,r[c.defId],n,i)}return o}function en(e,t,n,i,r){var o=n.standardProps||{};null==o.hasEnd&&t.durationEditable&&tn(t.startEditable?n.startDelta:null,n.endDelta||null)&&(o.hasEnd=!0);var a=Cr({},e,o,{ui:Cr({},e.ui,o.ui)});n.extendedProps&&(a.extendedProps=Cr({},a.extendedProps,n.extendedProps));for(var s=0,l=i;s<l.length;s++){(0,l[s])(a,n,r)}return!a.hasEnd&&r.opt("forceEventDuration")&&(a.hasEnd=!0),a}function tn(e,t){return e&&!xe(e)&&(e=null),t&&!xe(t)&&(t=null),!(!e&&!t)&&(Boolean(e)!==Boolean(t)||!he(e,t))}function nn(e,t,n,i,r){var o=r.dateEnv,a=i.standardProps&&!0===i.standardProps.allDay,s=i.standardProps&&!1===i.standardProps.hasEnd,l=Cr({},e);return a&&(l.range=Ze(l.range)),i.startDelta&&n.startEditable&&(l.range={start:o.add(l.range.start,i.startDelta),end:l.range.end}),s?l.range={start:l.range.start,end:r.getDefaultEventEnd(t.allDay,l.range.start)}:!i.endDelta||!n.durationEditable&&tn(n.startEditable?i.startDelta:null,i.endDelta)||(l.range={start:l.range.start,end:o.add(l.range.end,i.endDelta)}),t.allDay&&(l.range={start:Z(l.range.start),end:Z(l.range.end)}),l.range.end<l.range.start&&(l.range.end=r.getDefaultEventEnd(t.allDay,l.range.start)),l}function rn(e,t,n,i,r){switch(t.type){case"RECEIVE_EVENTS":return on(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,r);case"ADD_EVENTS":return an(e,t.eventStore,i?i.activeRange:null,r);case"MERGE_EVENTS":return mt(e,t.eventStore);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return i?ut(e,i.activeRange,r):e;case"CHANGE_TIMEZONE":return sn(e,t.oldDateEnv,r.dateEnv);case"MUTATE_EVENTS":return ln(e,t.instanceId,t.mutation,t.fromApi,r);case"REMOVE_EVENT_INSTANCES":return un(e,t.instances);case"REMOVE_EVENT_DEF":return vt(e,function(e){return e.defId!==t.defId});case"REMOVE_EVENT_SOURCE":return cn(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return vt(e,function(e){return!e.sourceId});case"REMOVE_ALL_EVENTS":return gt();case"RESET_EVENTS":return{defs:e.defs,instances:e.instances};default:return e}}function on(e,t,n,i,r,o){if(t&&n===t.latestFetchId){var a=lt(ft(r,t,o),t.sourceId,o);return i&&(a=ut(a,i,o)),mt(cn(e,t.sourceId),a)}return e}function an(e,t,n,i){return n&&(t=ut(t,n,i)),mt(e,t)}function sn(e,n,i){var r=e.defs,t=rt(e.instances,function(e){var t=r[e.defId];return t.allDay||t.recurringDef?e:Cr({},e,{range:{start:i.createMarker(n.toDate(e.range.start,e.forcedStartTzo)),end:i.createMarker(n.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:i.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:i.canComputeOffset?null:e.forcedEndTzo})});return{defs:r,instances:t}}function ln(e,t,n,i,r){var o=dt(e,t);return mt(e,o=Jt(o,i?{"":{startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}}:r.eventUiBases,n,r))}function cn(e,t){return vt(e,function(e){
return e.sourceId!==t})}function un(e,t){return{defs:e.defs,instances:it(e.instances,function(e){return!t[e.instanceId]})}}function dn(e,t){return fn({eventDrag:e},t)}function hn(e,t){return fn({dateSelection:e},t)}function fn(e,t){var n=t.view,i=Cr({businessHours:n?n.props.businessHours:gt(),dateSelection:"",eventStore:t.state.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginSystem.hooks.isPropsValid||pn)(i,t)}function pn(e,t,n,i){return void 0===n&&(n={}),!(e.eventDrag&&!gn(e,t,n,i))&&!(e.dateSelection&&!mn(e,t,n,i))}function gn(e,t,n,i){var r=e.eventDrag,o=r.mutatedEvents,a=o.defs,s=o.instances,l=Kt(a,r.isEvent?e.eventUiBases:{"":t.selectionConfig});i&&(l=rt(l,i));var c=un(e.eventStore,r.affectedEvents.instances),u=c.defs,d=c.instances,h=Kt(u,e.eventUiBases);for(var f in s){var p=s[f],g=p.range,m=l[p.defId],v=a[p.defId];if(!vn(m.constraints,g,c,e.businessHours,t))return!1;var y=t.opt("eventOverlap");for(var _ in"function"!=typeof y&&(y=null),d){var b=d[_];if(kt(g,b.range)){if(!1===h[b.defId].overlap&&r.isEvent)return!1;if(!1===m.overlap)return!1;if(y&&!y(new Lr(t,u[b.defId],b),new Lr(t,v,p)))return!1}}for(var w=0,x=m.allows;w<x.length;w++){var k=x[w],S=Cr({},n,{range:p.range,allDay:v.allDay}),C=e.eventStore.defs[v.defId],D=e.eventStore.instances[f],T=void 0;if(T=C?new Lr(t,C,D):new Lr(t,v),!k(t.buildDateSpanApi(S),T))return!1}}return!0}function mn(e,t,n,i){var r=e.eventStore,o=r.defs,a=r.instances,s=e.dateSelection,l=s.range,c=t.selectionConfig;if(i&&(c=i(c)),!vn(c.constraints,l,r,e.businessHours,t))return!1;var u=t.opt("selectOverlap");for(var d in"function"!=typeof u&&(u=null),a){var h=a[d];if(kt(l,h.range)){if(!1===c.overlap)return!1;if(u&&!u(new Lr(t,o[h.defId],h)))return!1}}for(var f=0,p=c.allows;f<p.length;f++){var g=p[f],m=Cr({},n,s);if(!g(t.buildDateSpanApi(m),null))return!1}return!0}function vn(e,t,n,i,r){for(var o=0,a=e;o<a.length;o++){if(!bn(yn(a[o],t,n,i,r),t))return!1}return!0}function yn(t,e,n,i,r){return"businessHours"===t?_n(ut(i,e,r)):"string"==typeof t?_n(vt(n,function(e){return e.groupId===t})):"object"==typeof t&&t?_n(ut(t,e,r)):[]}function _n(e){var t=e.instances,n=[];for(var i in t)n.push(t[i].range);return n}function bn(e,t){for(var n=0,i=e;n<i.length;n++){if(St(i[n],t))return!0}return!1}function wn(e,t){return Array.isArray(e)?lt(e,"",t,!0):"object"==typeof e&&e?lt([e],"",t,!0):null!=e?String(e):null}function xn(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function kn(e){var t=[];for(var n in e){var i=e[n];null!=i&&""!==i&&t.push(n+":"+i)}return t.join(";")}function Sn(e){var t=[];for(var n in e){var i=e[n];null!=i&&t.push(n+'="'+xn(i)+'"')}return t.join(" ")}function Cn(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}function Dn(e,t,n){var i=Ge(e,Fr,{},n),r=wn(i.constraint,t);return{startEditable:null!=i.startEditable?i.startEditable:i.editable,durationEditable:null!=i.durationEditable?i.durationEditable:i.editable,constraints:null!=r?[r]:[],overlap:i.overlap,allows:null!=i.allow?[i.allow]:[],backgroundColor:i.backgroundColor||i.color,borderColor:i.borderColor||i.color,textColor:i.textColor,classNames:i.classNames.concat(i.className)}}function Tn(e,t,n,i){var r={},o={};for(var a in Fr){var s=e+ze(a);r[a]=t[s],o[s]=!0}if("event"===e&&(r.editable=t.editable),i)for(var a in t)o[a]||(i[a]=t[a]);return Dn(r,n)}function En(e){return e.reduce(Mn,jr)}function Mn(e,t){return{startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}function In(e,t,n,i){var r=Nn(t,n),o={},a=et(e,r,n.dateEnv,n.pluginSystem.hooks.recurringTypes,o);if(a)return(s=Pn(o,t,a.allDay,Boolean(a.duration),n)).recurringDef={typeId:a.typeId,typeData:a.typeData,duration:a.duration},{def:s,instance:null};var s,l={},c=Rn(e,r,n,l,i);return c?{def:s=Pn(l,t,c.allDay,c.hasEnd,n),instance:$n(s.defId,c.range,c.forcedStartTzo,c.forcedEndTzo)}:null}function Pn(e,t,n,i,r){var o={},a=An(e,r,o);a.defId=String(Wr++),a.sourceId=t,a.allDay=n,a.hasEnd=i;for(var s=0,l=r.pluginSystem.hooks.eventDefParsers;s<l.length;s++){var c={};(0,l[s])(a,o,c),o=c}return a.extendedProps=Cr(o,a.extendedProps||{}),Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function $n(e,t,n,i){return{instanceId:String(Wr++),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==i?null:i}}function Rn(e,t,n,i,r){var o,a,s=On(e,i),l=s.allDay,c=null,u=!1,d=null;if(o=n.dateEnv.createMarkerMeta(s.start))c=o.marker;else if(!r)return null;return null!=s.end&&(a=n.dateEnv.createMarkerMeta(s.end)),null==l&&(l=null!=t?t:(!o||o.isTimeUnspecified)&&(!a||a.isTimeUnspecified)),l&&c&&(c=Z(c)),a&&(d=a.marker,l&&(d=Z(d)),c&&d<=c&&(d=null)),d?u=!0:r||(u=n.opt("forceEventDuration")||!1,d=n.dateEnv.add(c,l?n.defaultAllDayEventDuration:n.defaultTimedEventDuration)),{allDay:l,hasEnd:u,range:{start:c,end:d},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:a?a.forcedTzo:null}}function On(e,t){var n=Ge(e,Br,{},t);return n.start=null!==n.start?n.start:n.date,delete n.date,n}function An(e,t,n){var i={},r=Ge(e,zr,{},i),o=Dn(i,t,n);return r.publicId=r.id,delete r.id,r.ui=o,r}function Nn(e,t){var n=null;e&&(n=t.state.eventSources[e].allDayDefault);return null==n&&(n=t.opt("allDayDefault")),n}function Hn(e,t){return lt(Ln(e),"",t)}function Ln(e){return(!0===e?[{}]:Array.isArray(e)?e.filter(function(e){return e.daysOfWeek}):"object"==typeof e&&e?[e]:[]).map(function(e){return Cr({},Ur,e)})}function Fn(e,n,t){function i(){if(a){for(var e=0,t=s;e<t.length;e++){t[e].unrender()}n&&n.apply(o,a),a=null}}function r(){a&&Et(a,arguments)||(i(),o=this,a=arguments,e.apply(this,arguments))}void 0===t&&(t=[]);var o,a,s=[];r.dependents=s,r.unrender=i;for(var l=0,c=t;l<c.length;l++){c[l].dependents.push(r)}return r}function jn(e,t,n){var i=[];e&&i.push(e),t&&i.push(t);var r={"":En(i)};return n&&Cr(r,n),r}function zn(e,t,n,i){var r,o,a,s,l=e.dateEnv;return t instanceof Date?r=t:(r=t.date,o=t.type,a=t.forceOff),s={date:l.formatIso(r,{omitTime:!0}),type:o||"day"},"string"==typeof n&&(i=n,n=null),n=n?" "+Sn(n):"",i=i||"",!a&&e.opt("navLinks")?"<a"+n+' data-goto="'+xn(JSON.stringify(s))+'">'+i+"</a>":"<span"+n+">"+i+"</span>"}function Bn(e){return e.opt("allDayHtml")||xn(e.opt("allDayText"))}function Wn(e,t,n,i){var r,o,a=n.calendar,s=n.view,l=n.theme,c=n.dateEnv,u=[];return Ct(t.activeRange,e)?(u.push("fc-"+wr[e.getUTCDay()]),s.opt("monthMode")&&c.getMonth(e)!==c.getMonth(t.currentRange.start)&&u.push("fc-other-month"),o=F(r=Z(a.getNow()),1),e<r?u.push("fc-past"):o<=e?u.push("fc-future"):(u.push("fc-today"),!0!==i&&u.push(l.getClass("today")))):u.push("fc-disabled-day"),u}function Un(e,t,n){var i=!1,r=function(){i||(i=!0,t.apply(this,arguments))},o=function(){i||(i=!0,n&&n.apply(this,arguments))},a=e(r,o);a&&"function"==typeof a.then&&a.then(r,o)}function Vn(e,t,n){(e[t]||(e[t]=[])).push(n)}function qn(e,t,n){n?e[t]&&(e[t]=e[t].filter(function(e){return e!==n})):delete e[t]}function Yn(e,t,n){var i={},r=!1;for(var o in t)o in e&&(e[o]===t[o]||n[o]&&n[o](e[o],t[o]))?i[o]=e[o]:(i[o]=t[o],r=!0);for(var o in e)if(!(o in t)){r=!0;break}return{anyChanges:r,comboProps:i}}function Gn(e){return{id:String(ro++),deps:e.deps||[],reducers:e.reducers||[],eventDefParsers:e.eventDefParsers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],eventResizeJoinTransforms:e.eventResizeJoinTransforms||[],viewContainerModifiers:e.viewContainerModifiers||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,defaultView:e.defaultView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{}}}function Zn(e,t){return{reducers:e.reducers.concat(t.reducers),eventDefParsers:e.eventDefParsers.concat(t.eventDefParsers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Cr({},e.views,t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),eventResizeJoinTransforms:e.eventResizeJoinTransforms.concat(t.eventResizeJoinTransforms),viewContainerModifiers:e.viewContainerModifiers.concat(t.viewContainerModifiers),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Cr({},e.themeClasses,t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,defaultView:e.defaultView||t.defaultView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Cr({},e.optionChangeHandlers,t.optionChangeHandlers)}}function Xn(e,t,n,i,r){var o=null;"GET"===(e=e.toUpperCase())?t=Kn(t,n):o=Qn(n);var a=new XMLHttpRequest;a.open(e,t,!0),"GET"!==e&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){if(200<=a.status&&a.status<400)try{var e=JSON.parse(a.responseText);i(e,a)}catch(t){r("Failure parsing JSON",a)}else r("Request failed",a)},a.onerror=function(){r("Request failed",a)},a.send(o)}function Kn(e,t){return e+(-1===e.indexOf("?")?"?":"&")+Qn(t)}function Qn(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function Jn(e,t,n){var i,r,o,a,s=n.dateEnv,l={};return null==(i=e.startParam)&&(i=n.opt("startParam")),null==(r=e.endParam)&&(r=n.opt("endParam")),null==(o=e.timeZoneParam)&&(o=n.opt("timeZoneParam")),a="function"==typeof e.extraParams?e.extraParams():e.extraParams||{},Cr(l,a),l[i]=s.formatIso(t.start),l[r]=s.formatIso(t.end),"local"!==s.timeZone&&(l[o]=s.timeZone),l}function ei(e,t,n,i){for(var r=e?ot(e):null,o=Z(n.start),a=n.end,s=[];o<a;){var l=void 0;r&&!r[o.getUTCDay()]||(l=t?i.add(o,t):o,s.push(l)),o=F(o,1)}return s}function ti(e,t,n){for(var i=at(t.state.eventSources),r=[],o=0,a=e;o<a.length;o++){for(var s=a[o],l=!1,c=0;c<i.length;c++)if(n(i[c]._raw,s)){i.splice(c,1),l=!0;break}l||r.push(s)}for(var u=0,d=i;u<d.length;u++){var h=d[u];t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:h.sourceId})}for(var f=0,p=r;f<p.length;f++){var g=p[f];t.addEventSource(g)}}function ni(e,t){t.addPluginInputs(e)}function ii(e){return nt(e,go)}function ri(e){for(var t=[],n=0,i=e;n<i.length;n++){var r=i[n];if("string"==typeof r){var o="FullCalendar"+ze(r);window[o]?t.push(window[o]["default"]):console.warn("Plugin file not loaded for "+r)}else t.push(r)}return mo.concat(t)}function oi(e){for(var t=0<e.length?e[0].code:"en",n=window.FullCalendarLocalesAll||[],i=window.FullCalendarLocales||{},r=n.concat(at(i),e),o={en:vo},a=0,s=r;a<s.length;a++){var l=s[a];o[l.code]=l}return{map:o,defaultCode:t}}function ai(e,t){return"object"!=typeof e||Array.isArray(e)?si(e,t):ci(e.code,[e.code],e)}function si(e,t){var n=[].concat(e||[]);return ci(e,n,li(n,t)||vo)}function li(e,t){for(var n=0;n<e.length;n++)for(var i=e[n].toLocaleLowerCase().split("-"),r=i.length;0<r;r--){var o=i.slice(0,r).join("-");if(t[o])return t[o]}return null}function ci(e,t,n){var i=nt([vo,n],["buttonText"]);delete i.code;var r=i.week;return delete i.week,{codeArg:e,codes:t,week:r,simpleNumberFormat:new Intl.NumberFormat(e),options:i}}function ui(e,t){_o[e]=t}function di(e){return new _o[e]}function hi(e){var t=bo.exec(e);if(t){var n=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number("0."+t[12]):0));if(ae(n)){var i=null;return t[13]&&(i=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:n,isTimeUnspecified:!t[6],timeZoneOffset:i}}}return null}function fi(e,t){return!t.pluginSystem.hooks.eventSourceDefs[e.sourceDefId].ignoreRange}function pi(e,t){for(var n=t.pluginSystem.hooks.eventSourceDefs,i=n.length-1;0<=i;i--){var r=n[i].parseMeta(e);if(r){var o=gi("object"==typeof e?e:{},r,i,t);return o._raw=e,o}}return null}function gi(e,t,n,i){var r={},o=Ge(e,xo,{},r),a={},s=Dn(r,i,a);return o.isFetching=!1,o.latestFetchId="",o.fetchRange=null,o.publicId=String(e.id||""),o.sourceId=String(ko++),o.sourceDefId=n,o.meta=t,o.ui=s,o.extendedProps=a,o}function mi(e,t,n,i){switch(t.type){case"ADD_EVENT_SOURCES":return vi(e,t.sources,n?n.activeRange:null,i);case"REMOVE_EVENT_SOURCE":return yi(e,t.sourceId);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return n?_i(e,n.activeRange,i):e;case"FETCH_EVENT_SOURCES":case"CHANGE_TIMEZONE":return wi(e,t.sourceIds?ot(t.sourceIds):Si(e,i),n?n.activeRange:null,i);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return ki(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function vi(e,t,n,i){for(var r={},o=0,a=t;o<a.length;o++){var s=a[o];r[s.sourceId]=s}return n&&(r=_i(r,n,i)),Cr({},e,r)}function yi(e,t){return it(e,function(e){return e.sourceId!==t})}function _i(e,t,n){return wi(e,it(e,function(e){return bi(e,t,n)}),t,n)}function bi(e,t,n){return fi(e,n)?!n.opt("lazyFetching")||!e.fetchRange||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function wi(e,t,n,i){var r={};for(var o in e){var a=e[o];t[o]?r[o]=xi(a,n,i):r[o]=a}return r}function xi(o,a,s){var e=s.pluginSystem.hooks.eventSourceDefs[o.sourceDefId],l=String(So++);return e.fetch({eventSource:o,calendar:s,range:a},function(e){var t,n,i=e.rawEvents,r=s.opt("eventSourceSuccess");o.success&&(n=o.success(i,e.xhr)),r&&(t=r(i,e.xhr)),i=n||t||i,s.dispatch({type:"RECEIVE_EVENTS",sourceId:o.sourceId,fetchId:l,fetchRange:a,rawEvents:i})},function(e){var t=s.opt("eventSourceFailure");console.warn(e.message,e),o.failure&&o.failure(e),t&&t(e),s.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:o.sourceId,fetchId:l,fetchRange:a,error:e})}),Cr({},o,{isFetching:!0,latestFetchId:l})}function ki(e,t,n,i){var r,o=e[t];return o&&n===o.latestFetchId?Cr({},e,((r={})[t]=Cr({},o,{isFetching:!1,fetchRange:i}),r)):e}function Si(e,t){return it(e,function(e){return fi(e,t)})}function Ci(e,t){return xt(e.activeRange,t.activeRange)&&xt(e.validRange,t.validRange)&&he(e.minTime,t.minTime)&&he(e.maxTime,t.maxTime)}function Di(e,t,n){for(var i=Ti(e.viewType,t),r=Ei(e.dateProfile,t,e.currentDate,i,n),o=mi(e.eventSources,t,r,n),a=Cr({},e,{viewType:i,dateProfile:r,currentDate:Mi(e.currentDate,t,r),eventSources:o,eventStore:rn(e.eventStore,t,o,r,n),dateSelection:Ii(e.dateSelection,t,n),eventSelection:Pi(e.eventSelection,t),eventDrag:$i(e.eventDrag,t,o,n),eventResize:Ri(e.eventResize,t,o,n),eventSourceLoadingLevel:Oi(o),loadingLevel:Oi(o)}),s=0,l=n.pluginSystem.hooks.reducers;s<l.length;s++){a=(0,l[s])(a,t,n)}return a}function Ti(e,t){switch(t.type){case"SET_VIEW_TYPE":return t.viewType;default:return e}}function Ei(e,t,n,i,r){var o;switch(t.type){case"PREV":o=r.dateProfileGenerators[i].buildPrev(e,n);break;case"NEXT":o=r.dateProfileGenerators[i].buildNext(e,n);break;case"SET_DATE":e.activeRange&&Ct(e.currentRange,t.dateMarker)||(o=r.dateProfileGenerators[i].build(t.dateMarker,undefined,!0));break;case"SET_VIEW_TYPE":var a=r.dateProfileGenerators[i];if(!a)throw new Error(i?'The FullCalendar view "'+i+'" does not exist. Make sure your plugins are loaded correctly.':"No available FullCalendar view plugins.");o=a.build(t.dateMarker||n,undefined,!0)}return!o||!o.isValid||e&&Ci(e,o)?e:o}function Mi(e,t,n){switch(t.type){case"PREV":case"NEXT":return Ct(n.currentRange,e)?e:n.currentRange.start;case"SET_DATE":case"SET_VIEW_TYPE":var i=t.dateMarker||e;return n.activeRange&&!Ct(n.activeRange,i)?n.currentRange.start:i;default:return e}}function Ii(e,t){switch(t.type){case"SELECT_DATES":return t.selection;case"UNSELECT_DATES":return null;default:return e}}function Pi(e,t){switch(t.type){case"SELECT_EVENT":return t.eventInstanceId;case"UNSELECT_EVENT":return"";default:return e}}function $i(e,t){switch(t.type){case"SET_EVENT_DRAG":var n=t.state;return{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent,origSeg:n.origSeg};case"UNSET_EVENT_DRAG":return null;default:return e}}function Ri(e,t){switch(t.type){case"SET_EVENT_RESIZE":var n=t.state;return{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent,origSeg:n.origSeg};case"UNSET_EVENT_RESIZE":return null;default:return e}}function Oi(e){var t=0;for(var n in e)e[n].isFetching&&t++;return t}function Ai(e,t,n){var i=Ni(e,t),r=i.range;if(!r.start)return null;if(!r.end){if(null==n)return null;r.end=t.add(r.start,n)}return i}function Ni(e,t){var n={},i=Ge(e,Do,{},n),r=i.start?t.createMarkerMeta(i.start):null,o=i.end?t.createMarkerMeta(i.end):null,a=i.allDay;return null==a&&(a=r&&r.isTimeUnspecified&&(!o||o.isTimeUnspecified)),n.range={start:r?r.marker:null,end:o?o.marker:null},n.allDay=a,n}function Hi(e,t){return xt(e.range,t.range)&&e.allDay===t.allDay&&Li(e,t)}function Li(e,t){for(var n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(var n in e)if(!(n in t))return!1;return!0}function Fi(e,t){return{start:t.toDate(e.range.start),end:t.toDate(e.range.end),startStr:t.formatIso(e.range.start,{omitTime:e.allDay}),endStr:t.formatIso(e.range.end,{omitTime:e.allDay}),allDay:e.allDay}}function ji(e,t){return{date:t.toDate(e.range.start),dateStr:t.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}}function zi(e,t,n){var i=Pn({editable:!1},"",e.allDay,!0,n);return{def:i,ui:Qt(i,t),instance:$n(i.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function Bi(e,t){var n,i={};for(n in e)Wi(n,i,e,t);for(n in t)Wi(n,i,e,t);return i}function Wi(e,t,n,i){if(t[e])return t[e];var r=Ui(e,t,n,i);return r&&(t[e]=r),r}function Ui(e,t,n,i){var r=n[e],o=i[e],a=function(e){return r&&null!==r[e]?r[e]:o&&null!==o[e]?o[e]:null},s=a("class"),l=a("superType");!l&&s&&(l=Vi(s,i)||Vi(s,n));var c=l?Wi(l,t,n,i):null;return!s&&c&&(s=c["class"]),s?{type:e,"class":s,defaults:Cr({},c?c.defaults:{},r?r.options:{}),overrides:Cr({},c?c.overrides:{},o?o.options:{})}:null}function Vi(e,t){var n=Object.getPrototypeOf(e.prototype);for(var i in t){var r=t[i];if(r["class"]&&r["class"].prototype===n)return i}return""}function qi(e){return rt(e,Yi)}function Yi(e){"function"==typeof e&&(e={"class":e});var t={},n=Ge(e,To,{},t);return{superType:n.type,"class":n["class"],options:t}}function Gi(e,t){var n=qi(e),i=qi(t.overrides.views);return rt(Bi(n,i),function(e){return Zi(e,i,t)})}function Zi(i,e,t){var n=i.overrides.duration||i.defaults.duration||t.dynamicOverrides.duration||t.overrides.duration,r=null,o="",a="",s={};if(n&&(r=le(n))){var l=Se(r,!de(n));o=l.unit,1===l.value&&(s=e[a=o]?e[o].options:{})}var c=function(e){var t=e.buttonText||{},n=i.defaults.buttonTextKey;return null!=n&&null!=t[n]?t[n]:null!=t[i.type]?t[i.type]:null!=t[a]?t[a]:void 0};return{type:i.type,"class":i["class"],duration:r,durationUnit:o,singleUnit:a,options:Cr({},fo,i.defaults,t.dirDefaults,t.localeDefaults,t.overrides,s,i.overrides,t.dynamicOverrides),buttonTextOverride:c(t.dynamicOverrides)||c(t.overrides)||i.overrides.buttonText,buttonTextDefault:c(t.localeDefaults)||c(t.dirDefaults)||i.defaults.buttonText||c(fo)||i.type}}function Xi(e,t){var n;return n=/^(year|month)$/.test(e.currentRangeUnit)?e.currentRange:e.activeRange,this.dateEnv.formatRange(n.start,n.end,jt(t.titleFormat||Ki(e),t.titleRangeSeparator),{isEndExclusive:e.isRangeAllDay})}function Ki(e){var t=e.currentRangeUnit;if("year"===t)return{year:"numeric"};if("month"===t)return{year:"numeric",month:"long"};var n=G(e.currentRange.start,e.currentRange.end);return null!==n&&1<n?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}function Qi(e){return e.map(function(e){return new e})}function Ji(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter}}function er(e){var t;return(t={})[e.component.uid]=e,t}function tr(e,t,n,i,r,o,a){return new wo({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:n,locale:e,weekNumberCalculation:r,firstDay:i,weekLabel:o,cmdFormatter:a})}function nr(e){return new(this.pluginSystem.hooks.themeClasses[e.themeSystem]||Oo)(e)}function ir(e){var t=this.tryRerender.bind(this);return null!=e&&(t=Ye(t,e)),t}function rr(e){return rt(e,function(e){return e.ui})}function or(e,t,n){var i={"":t};for(var r in e){var o=e[r];o.sourceId&&n[o.sourceId]&&(i[r]=n[o.sourceId])}return i}function ar(e){var t=e.eventRange.def,n=e.eventRange.instance.range,i=n.start?n.start.valueOf():0,r=n.end?n.end.valueOf():0;return Cr({},t.extendedProps,t,{id:t.publicId,start:i,end:r,duration:r-i,allDay:Number(t.allDay),_seg:e})}function sr(e,t){void 0===t&&(t={});var n=cr(t),i=jt(t),r=n.createMarkerMeta(e);return r?n.format(r.marker,i,{forcedTzo:r.forcedTzo}):""}function lr(e,t,n){var i=cr("object"==typeof n&&n?n:{}),r=jt(n,fo.defaultRangeSeparator),o=i.createMarkerMeta(e),a=i.createMarkerMeta(t);return o&&a?i.formatRange(o.marker,a.marker,r,{forcedStartTzo:o.forcedTzo,forcedEndTzo:a.forcedTzo,isEndExclusive:n.isEndExclusive}):""}function cr(e){var t=ai(e.locale||"en",oi([]).map);return e=Cr({timeZone:fo.timeZone,calendarSystem:"gregory"},e,{locale:t}),new wo(e)}function ur(e){var t={},n=Ge(e,zo,Bo,t);return n.leftoverProps=t,n}function dr(e,t){return!e||10<t?{weekday:"short"}:1<t?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"}}function hr(e,t,n,i,r,o,a,s){var l,c=o.view,u=o.dateEnv,d=o.theme,h=o.options,f=Ct(t.activeRange,e),p=["fc-day-header",d.getClass("widgetHeader")];return l="function"==typeof h.columnHeaderHtml?h.columnHeaderHtml(u.toDate(e)):"function"==typeof h.columnHeaderText?xn(h.columnHeaderText(u.toDate(e))):xn(u.format(e,r)),n?p=p.concat(Wn(e,t,o,!0)):p.push("fc-"+wr[e.getUTCDay()]),'<th class="'+p.join(" ")+'"'+(f&&n?' data-date="'+u.formatIso(e,{omitTime:!0})+'"':"")+(1<a?' colspan="'+a+'"':"")+(s?" "+s:"")+">"+(f?zn(c,{date:e,forceOff:!n||1===i},l):l)+"</th>"}function fr(e,t){var n=e.activeRange;return t?n:{start:j(n.start,e.minTime.milliseconds),end:j(n.end,e.maxTime.milliseconds-864e5)}}var pr={className:!0,colSpan:!0,rowSpan:!0},gr={"<tr":"tbody","<td":"tr"},mr=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector,vr=Element.prototype.closest||function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(u(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null},yr=/(top|left|right|bottom|width|height)$/i,_r=null,br=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"],wr=["sun","mon","tue","wed","thu","fri","sat"],xr=["years","months","days","milliseconds"],kr=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/,Sr=function(e,t){return(Sr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},Cr=function(){return(Cr=Object.assign||function o(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Dr=Object.prototype.hasOwnProperty,Tr={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Er={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Mr=/\s*([ap])\.?m\.?/i,Ir=/,/g,Pr=/\s+/g,$r=/\u200e/g,Rr=/UTC|GMT/,Or=function(){function e(e){var t={},n={},i=0;for(var r in e)r in Tr?(n[r]=e[r],i=Math.max(Tr[r],i)):(t[r]=e[r],r in Er&&(i=Math.max(Er[r],i)));this.standardDateProps=t,this.extendedSettings=n,this.severity=i,this.buildFormattingFunc=Mt(Pt)}return e.prototype.format=function(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)},e.prototype.formatRange=function(e,t,n){var i=this,r=i.standardDateProps,o=i.extendedSettings,a=Ht(e.marker,t.marker,n.calendarSystem);if(!a)return this.format(e,n);var s=a;!(1<s)||"numeric"!==r.year&&"2-digit"!==r.year||"numeric"!==r.month&&"2-digit"!==r.month||"numeric"!==r.day&&"2-digit"!==r.day||(s=1);var l=this.format(e,n),c=this.format(t,n);if(l===c)return l;var u=Pt(Lt(r,s),o,n),d=u(e),h=u(t),f=Ft(l,d,c,h),p=o.separator||"";return f?f.before+d+p+h+f.after:l+p+c},e.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";default:return"day"}},e}(),Ar=function(){function e(e,t){this.cmdStr=e,this.separator=t}return e.prototype.format=function(e,t){return t.cmdFormatter(this.cmdStr,Ut(e,null,t,this.separator))},e.prototype.formatRange=function(e,t,n){return n.cmdFormatter(this.cmdStr,Ut(e,t,n,this.separator))},e}(),Nr=function(){function e(e){this.func=e}return e.prototype.format=function(e,t){return this.func(Ut(e,null,t))},e.prototype.formatRange=function(e,t,n){return this.func(Ut(e,t,n))},e}(),Hr=function(){function e(e,t){this.calendar=e,this.internalEventSource=t}return e.prototype.remove=function(){this.calendar.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},e.prototype.refetch=function(){this.calendar.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId]})},Object.defineProperty(e.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!0,configurable:!0}),e}(),Lr=function(){function e(e,t,n){this._calendar=e,this._def=t,this._instance=n||null}return e.prototype.setProp=function(e,t){var n,i;if(e in Br);else if(e in zr)"function"==typeof zr[e]&&(t=zr[e](t)),this.mutate({standardProps:(n={},n[e]=t,n)});else if(e in Fr){var r=void 0;"function"==typeof Fr[e]&&(t=Fr[e](t)),"color"===e?r={backgroundColor:t,borderColor:t}:"editable"===e?r={startEditable:t,durationEditable:t}:((i={})[e]=t,r=i),this.mutate({standardProps:{ui:r}})}},e.prototype.setExtendedProp=function(e,t){var n;this.mutate({extendedProps:(n={},n[e]=t,n)})},e.prototype.setStart=function(e,t){void 0===t&&(t={});var n=this._calendar.dateEnv,i=n.createMarker(e);if(i&&this._instance){var r=this._instance.range,o=Qe(r.start,i,n,t.granularity),a=null;if(t.maintainDuration)a=ge(Qe(r.start,r.end,n,t.granularity),Qe(i,r.end,n,t.granularity));this.mutate({startDelta:o,endDelta:a})}},e.prototype.setEnd=function(e,t){void 0===t&&(t={});var n,i=this._calendar.dateEnv;if((null==e||(n=i.createMarker(e)))&&this._instance)if(n){var r=Qe(this._instance.range.end,n,i,t.granularity);this.mutate({endDelta:r})}else this.mutate({standardProps:{hasEnd:!1}})},e.prototype.setDates=function(e,t,n){void 0===n&&(n={});var i,r=this._calendar.dateEnv,o={allDay:n.allDay},a=r.createMarker(e);if(a&&(null==t||(i=r.createMarker(t)))&&this._instance){var s=this._instance.range;!0===n.allDay&&(s=Ze(s));var l=Qe(s.start,a,r,n.granularity);if(i){var c=Qe(s.end,i,r,n.granularity);this.mutate({startDelta:l,endDelta:c,standardProps:o})}else o.hasEnd=!1,this.mutate({startDelta:l,standardProps:o})}},e.prototype.moveStart=function(e){var t=le(e);t&&this.mutate({startDelta:t})},e.prototype.moveEnd=function(e){var t=le(e);t&&this.mutate({endDelta:t})},e.prototype.moveDates=function(e){var t=le(e);t&&this.mutate({startDelta:t,endDelta:t})},e.prototype.setAllDay=function(e,t){void 0===t&&(t={});var n={allDay:e},i=t.maintainDuration;null==i&&(i=this._calendar.opt("allDayMaintainDuration")),this._def.allDay!==e&&(n.hasEnd=i),this.mutate({standardProps:n})},e.prototype.formatRange=function(e){var t=this._calendar.dateEnv,n=this._instance,i=jt(e,this._calendar.opt("defaultRangeSeparator"));return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})},e.prototype.mutate=function(e){var t=this._def,n=this._instance;if(n){this._calendar.dispatch({type:"MUTATE_EVENTS",instanceId:n.instanceId,mutation:e,fromApi:!0});var i=this._calendar.state.eventStore;this._def=i.defs[t.defId],this._instance=i.instances[n.instanceId]}},e.prototype.remove=function(){this._calendar.dispatch({type:"REMOVE_EVENT_DEF",defId:this._def.defId})},Object.defineProperty(e.prototype,"source",{get:function(){var e=this._def.sourceId;return e?new Hr(this._calendar,this._calendar.state.eventSources[e]):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._instance?this._calendar.dateEnv.toDate(this._instance.range.start):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._calendar.dateEnv.toDate(this._instance.range.end):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._def.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this._def.title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._def.url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rendering",{get:function(){return this._def.rendering},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!0,configurable:!0}),e}(),Fr={editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:null,overlap:null,allow:null,className:Cn,classNames:Cn,color:String,backgroundColor:String,borderColor:String,textColor:String},jr={startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]},zr={id:String,groupId:String,title:String,url:String,rendering:String,extendedProps:null},Br={start:null,date:null,end:null,allDay:null},Wr=0,Ur={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],rendering:"inverse-background",classNames:"fc-nonbusiness",
groupId:"_businessHours"},Vr=gt(),qr=function(){function e(){this.getKeysForEventDefs=Mt(this._getKeysForEventDefs),this.splitDateSelection=Mt(this._splitDateSpan),this.splitEventStore=Mt(this._splitEventStore),this.splitIndividualUi=Mt(this._splitIndividualUi),this.splitEventDrag=Mt(this._splitInteraction),this.splitEventResize=Mt(this._splitInteraction),this.eventUiBuilders={}}return e.prototype.splitProps=function(e){var n=this,t=this.getKeyInfo(e),i=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),o=this.splitIndividualUi(e.eventUiBases,i),a=this.splitEventStore(e.eventStore,i),s=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),c={};for(var u in this.eventUiBuilders=rt(t,function(e,t){return n.eventUiBuilders[t]||Mt(jn)}),t){var d=t[u],h=a[u]||Vr,f=this.eventUiBuilders[u];c[u]={businessHours:d.businessHours||e.businessHours,dateSelection:r[u]||null,eventStore:h,eventUiBases:f(e.eventUiBases[""],d.ui,o[u]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[u]||null,eventResize:l[u]||null}}return c},e.prototype._splitDateSpan=function(e){var t={};if(e)for(var n=0,i=this.getKeysForDateSpan(e);n<i.length;n++){t[i[n]]=e}return t},e.prototype._getKeysForEventDefs=function(e){var t=this;return rt(e.defs,function(e){return t.getKeysForEventDef(e)})},e.prototype._splitEventStore=function(e,t){var n=e.defs,i=e.instances,r={};for(var o in n)for(var a=0,s=t[o];a<s.length;a++){r[h=s[a]]||(r[h]=gt()),r[h].defs[o]=n[o]}for(var l in i)for(var c=i[l],u=0,d=t[c.defId];u<d.length;u++){var h;r[h=d[u]]&&(r[h].instances[l]=c)}return r},e.prototype._splitIndividualUi=function(e,t){var n={};for(var i in e)if(i)for(var r=0,o=t[i];r<o.length;r++){var a=o[r];n[a]||(n[a]={}),n[a][i]=e[i]}return n},e.prototype._splitInteraction=function(t){var n={};if(t){var i=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),e=this._getKeysForEventDefs(t.mutatedEvents),r=this._splitEventStore(t.mutatedEvents,e),o=function(e){n[e]||(n[e]={affectedEvents:i[e]||Vr,mutatedEvents:r[e]||Vr,isEvent:t.isEvent,origSeg:t.origSeg})};for(var a in i)o(a);for(var a in r)o(a)}return n},e}(),Yr=function(){function e(){}return e.mixInto=function(e){this.mixIntoObj(e.prototype)},e.mixIntoObj=function(t){var n=this;Object.getOwnPropertyNames(this.prototype).forEach(function(e){t[e]||(t[e]=n.prototype[e])})},e.mixOver=function(t){var n=this;Object.getOwnPropertyNames(this.prototype).forEach(function(e){t.prototype[e]=n.prototype[e]})},e}(),Gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Je(t,e),t.prototype.on=function(e,t){return Vn(this._handlers||(this._handlers={}),e,t),this},t.prototype.one=function(e,t){return Vn(this._oneHandlers||(this._oneHandlers={}),e,t),this},t.prototype.off=function(e,t){return this._handlers&&qn(this._handlers,e,t),this._oneHandlers&&qn(this._oneHandlers,e,t),this},t.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.triggerWith(e,this,t),this},t.prototype.triggerWith=function(e,t,n){return this._handlers&&Ve(this._handlers[e],t,n),this._oneHandlers&&(Ve(this._oneHandlers[e],t,n),delete this._oneHandlers[e]),this},t.prototype.hasHandlers=function(e){return this._handlers&&this._handlers[e]&&this._handlers[e].length||this._oneHandlers&&this._oneHandlers[e]&&this._oneHandlers[e].length},t}(Yr),Zr=function(){function e(e,t,n,i){this.originEl=e,this.els=t,this.isHorizontal=n,this.isVertical=i}return e.prototype.build=function(){var e=this.originEl,t=this.originClientRect=e.getBoundingClientRect();this.isHorizontal&&this.buildElHorizontals(t.left),this.isVertical&&this.buildElVerticals(t.top)},e.prototype.buildElHorizontals=function(e){for(var t=[],n=[],i=0,r=this.els;i<r.length;i++){var o=r[i].getBoundingClientRect();t.push(o.left-e),n.push(o.right-e)}this.lefts=t,this.rights=n},e.prototype.buildElVerticals=function(e){for(var t=[],n=[],i=0,r=this.els;i<r.length;i++){var o=r[i].getBoundingClientRect();t.push(o.top-e),n.push(o.bottom-e)}this.tops=t,this.bottoms=n},e.prototype.leftToIndex=function(e){var t,n=this.lefts,i=this.rights,r=n.length;for(t=0;t<r;t++)if(e>=n[t]&&e<i[t])return t},e.prototype.topToIndex=function(e){var t,n=this.tops,i=this.bottoms,r=n.length;for(t=0;t<r;t++)if(e>=n[t]&&e<i[t])return t},e.prototype.getWidth=function(e){return this.rights[e]-this.lefts[e]},e.prototype.getHeight=function(e){return this.bottoms[e]-this.tops[e]},e}(),Xr=function(){function e(){}return e.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},e.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},e.prototype.canScrollVertically=function(){return 0<this.getMaxScrollTop()},e.prototype.canScrollHorizontally=function(){return 0<this.getMaxScrollLeft()},e.prototype.canScrollUp=function(){return 0<this.getScrollTop()},e.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},e.prototype.canScrollLeft=function(){return 0<this.getScrollLeft()},e.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},e}(),Kr=function(n){function e(e){var t=n.call(this)||this;return t.el=e,t}return Je(e,n),e.prototype.getScrollTop=function(){return this.el.scrollTop},e.prototype.getScrollLeft=function(){return this.el.scrollLeft},e.prototype.setScrollTop=function(e){this.el.scrollTop=e},e.prototype.setScrollLeft=function(e){this.el.scrollLeft=e},e.prototype.getScrollWidth=function(){return this.el.scrollWidth},e.prototype.getScrollHeight=function(){return this.el.scrollHeight},e.prototype.getClientHeight=function(){return this.el.clientHeight},e.prototype.getClientWidth=function(){return this.el.clientWidth},e}(Xr),Qr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Je(t,e),t.prototype.getScrollTop=function(){return window.pageYOffset},t.prototype.getScrollLeft=function(){return window.pageXOffset},t.prototype.setScrollTop=function(e){window.scroll(window.pageXOffset,e)},t.prototype.setScrollLeft=function(e){window.scroll(e,window.pageYOffset)},t.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},t.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},t.prototype.getClientHeight=function(){return document.documentElement.clientHeight},t.prototype.getClientWidth=function(){return document.documentElement.clientWidth},t}(Xr),Jr=function(i){function e(e,t){var n=i.call(this,s("div",{className:"fc-scroller"}))||this;return n.overflowX=e,n.overflowY=t,n.applyOverflow(),n}return Je(e,i),e.prototype.clear=function(){this.setHeight("auto"),this.applyOverflow()},e.prototype.destroy=function(){l(this.el)},e.prototype.applyOverflow=function(){p(this.el,{overflowX:this.overflowX,overflowY:this.overflowY})},e.prototype.lockOverflow=function(e){var t=this.overflowX,n=this.overflowY;e=e||this.getScrollbarWidths(),"auto"===t&&(t=e.bottom||this.canScrollHorizontally()?"scroll":"hidden"),"auto"===n&&(n=e.left||e.right||this.canScrollVertically()?"scroll":"hidden"),p(this.el,{overflowX:t,overflowY:n})},e.prototype.setHeight=function(e){g(this.el,"height",e)},e.prototype.getScrollbarWidths=function(){var e=T(this.el);return{left:e.scrollbarLeft,right:e.scrollbarRight,bottom:e.scrollbarBottom}},e}(Kr),eo=function(){function e(e){this.calendarOptions=e,this.processIconOverride()}return e.prototype.processIconOverride=function(){this.iconOverrideOption&&this.setIconOverride(this.calendarOptions[this.iconOverrideOption])},e.prototype.setIconOverride=function(e){var t,n;if("object"==typeof e&&e){for(n in t=Cr({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})},e.prototype.applyIconOverridePrefix=function(e){var t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e},e.prototype.getClass=function(e){return this.classes[e]||""},e.prototype.getIconClass=function(e){var t=this.iconClasses[e];return t?this.baseIconClass+" "+t:""},e.prototype.getCustomButtonIconClass=function(e){var t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(t):""},e}();eo.prototype.classes={},eo.prototype.iconClasses={},eo.prototype.baseIconClass="",eo.prototype.iconOverridePrefix="";var to=0,no=function(){function e(e,t){t&&(e.view=this),this.uid=String(to++),this.context=e,this.dateEnv=e.dateEnv,this.theme=e.theme,this.view=e.view,this.calendar=e.calendar,this.isRtl="rtl"===this.opt("dir")}return e.addEqualityFuncs=function(e){this.prototype.equalityFuncs=Cr({},this.prototype.equalityFuncs,e)},e.prototype.opt=function(e){return this.context.options[e]},e.prototype.receiveProps=function(e){var t=Yn(this.props||{},e,this.equalityFuncs),n=t.anyChanges,i=t.comboProps;this.props=i,n&&this.render(i)},e.prototype.render=function(){},e.prototype.destroy=function(){},e}();no.prototype.equalityFuncs={};var io=function(r){function e(e,t,n){var i=r.call(this,e,n)||this;return i.el=t,i}return Je(e,r),e.prototype.destroy=function(){r.prototype.destroy.call(this),l(this.el)},e.prototype.buildPositionCaches=function(){},e.prototype.queryHit=function(){return null},e.prototype.isInteractionValid=function(e){var t=this.calendar,n=this.props.dateProfile,i=e.mutatedEvents.instances;if(n)for(var r in i)if(!St(n.validRange,i[r].range))return!1;return dn(e,t)},e.prototype.isDateSelectionValid=function(e){var t=this.props.dateProfile;return!(t&&!St(t.validRange,e.range))&&hn(e,this.calendar)},e.prototype.publiclyTrigger=function(e,t){return this.calendar.publiclyTrigger(e,t)},e.prototype.publiclyTriggerAfterSizing=function(e,t){return this.calendar.publiclyTriggerAfterSizing(e,t)},e.prototype.hasPublicHandlers=function(e){return this.calendar.hasPublicHandlers(e)},e.prototype.triggerRenderedSegs=function(e,t){var n=this.calendar;if(this.hasPublicHandlers("eventPositioned"))for(var i=0,r=e;i<r.length;i++){var o=r[i];this.publiclyTriggerAfterSizing("eventPositioned",[{event:new Lr(n,o.eventRange.def,o.eventRange.instance),isMirror:t,isStart:o.isStart,isEnd:o.isEnd,el:o.el,view:this}])}n.state.loadingLevel||(n.afterSizingTriggers._eventsPositioned=[null])},e.prototype.triggerWillRemoveSegs=function(e,t){for(var n=this.calendar,i=0,r=e;i<r.length;i++){var o=r[i];n.trigger("eventElRemove",o.el)}if(this.hasPublicHandlers("eventDestroy"))for(var a=0,s=e;a<s.length;a++){o=s[a];this.publiclyTrigger("eventDestroy",[{event:new Lr(n,o.eventRange.def,o.eventRange.instance),isMirror:t,el:o.el,view:this}])}},e.prototype.isValidSegDownEl=function(e){return!this.props.eventDrag&&!this.props.eventResize&&!c(e,".fc-mirror")&&(this.isPopover()||!this.isInPopover(e))},e.prototype.isValidDateDownEl=function(e){var t=c(e,this.fgSegSelector);return(!t||t.classList.contains("fc-mirror"))&&!c(e,".fc-more")&&!c(e,"a[data-goto]")&&!this.isInPopover(e)},e.prototype.isPopover=function(){return this.el.classList.contains("fc-popover")},e.prototype.isInPopover=function(e){return Boolean(c(e,".fc-popover"))},e}(no);io.prototype.fgSegSelector=".fc-event-container > *",io.prototype.bgSegSelector=".fc-bgevent:not(.fc-nonbusiness)";var ro=0,oo=function(){function e(){this.hooks={reducers:[],eventDefParsers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],eventResizeJoinTransforms:[],viewContainerModifiers:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,defaultView:"",elementDraggingImpl:null,optionChangeHandlers:{}},this.addedHash={}}return e.prototype.add=function(e){if(!this.addedHash[e.id]){this.addedHash[e.id]=!0;for(var t=0,n=e.deps;t<n.length;t++){var i=n[t];this.add(i)}this.hooks=Zn(this.hooks,e)}},e}(),ao=Gn({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(e){return Array.isArray(e)?e:Array.isArray(e.events)?e.events:null},fetch:function(e,t){t({rawEvents:e.eventSource.meta})}}]}),so=Gn({eventSourceDefs:[{parseMeta:function(e){return"function"==typeof e?e:"function"==typeof e.events?e.events:null},fetch:function(e,t,n){var i=e.calendar.dateEnv;Un(e.eventSource.meta.bind(null,{start:i.toDate(e.range.start),end:i.toDate(e.range.end),startStr:i.formatIso(e.range.start),endStr:i.formatIso(e.range.end),timeZone:i.timeZone}),function(e){t({rawEvents:e})},n)}}]}),lo=Gn({eventSourceDefs:[{parseMeta:function(e){if("string"==typeof e)e={url:e};else if(!e||"object"!=typeof e||!e.url)return null;return{url:e.url,method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}},fetch:function(e,n,i){var t=e.eventSource.meta,r=Jn(t,e.range,e.calendar);Xn(t.method,t.url,r,function(e,t){n({rawEvents:e,xhr:t})},function(e,t){i({message:e,xhr:t})})}}]}),co=Gn({recurringTypes:[{parse:function(e,t,n){var i=n.createMarker.bind(n),r=Ge(e,{daysOfWeek:null,startTime:le,endTime:le,startRecur:i,endRecur:i},{},t),o=!1;for(var a in r)if(null!=r[a]){o=!0;break}if(o){var s=null;return"duration"in t&&(s=le(t.duration),delete t.duration),!s&&r.startTime&&r.endTime&&(s=ge(r.endTime,r.startTime)),{allDayGuess:Boolean(!r.startTime&&!r.endTime),duration:s,typeData:r}}return null},expand:function(e,t,n){var i=wt(t,{start:e.startRecur,end:e.endRecur});return i?ei(e.daysOfWeek,e.startTime,i,n):[]}}]}),uo=Gn({optionChangeHandlers:{events:function(e,t,n){ti([e],t,n)},eventSources:ti,plugins:ni}}),ho={},fo={defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",columnHeader:!0,defaultView:"",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",timeGridEventMinHeight:0,themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",eventLimit:!1,eventLimitClick:"popover",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5},po={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"}},go=["header","footer","buttonText","buttonIcons"],mo=[ao,so,lo,co,uo],vo={code:"en",week:{dow:0,doy:4},dir:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekLabel:"W",allDayText:"all-day",eventLimitText:"more",noEventsMessage:"No events to display"},yo=function(){function e(e){this.overrides=Cr({},e),this.dynamicOverrides={},this.compute()}return e.prototype.mutate=function(e,t,n){var i=n?this.dynamicOverrides:this.overrides;Cr(i,e);for(var r=0,o=t;r<o.length;r++){delete i[o[r]]}this.compute()},e.prototype.compute=function(){var e=qe(this.dynamicOverrides.locales,this.overrides.locales,fo.locales),t=qe(this.dynamicOverrides.locale,this.overrides.locale,fo.locale),n=oi(e),i=ai(t||n.defaultCode,n.map).options,r="rtl"===qe(this.dynamicOverrides.dir,this.overrides.dir,i.dir)?po:{};this.dirDefaults=r,this.localeDefaults=i,this.computed=ii([fo,r,i,this.overrides,this.dynamicOverrides])},e}(),_o={};ui("gregory",function(){function e(){}return e.prototype.getMarkerYear=function(e){return e.getUTCFullYear()},e.prototype.getMarkerMonth=function(e){return e.getUTCMonth()},e.prototype.getMarkerDay=function(e){return e.getUTCDate()},e.prototype.arrayToMarker=function(e){return oe(e)},e.prototype.markerToArray=function(e){return re(e)},e}());var bo=/^\s*(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/,wo=function(){function e(e){var t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=di(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation?(this.weekDow=1,this.weekDoy=4):"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekLabel=null!=e.weekLabel?e.weekLabel:e.locale.options.weekLabel,this.cmdFormatter=e.cmdFormatter}return e.prototype.createMarker=function(e){var t=this.createMarkerMeta(e);return null===t?null:t.marker},e.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):oe(ne(new Date))},e.prototype.createMarkerMeta=function(e){if("string"==typeof e)return this.parse(e);var t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=oe(e)),null!==t&&ae(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null},e.prototype.parse=function(e){var t=hi(e);if(null===t)return null;var n=t.marker,i=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):i=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:i}},e.prototype.getYear=function(e){return this.calendarSystem.getMarkerYear(e)},e.prototype.getMonth=function(e){return this.calendarSystem.getMarkerMonth(e)},e.prototype.add=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)},e.prototype.subtract=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)},e.prototype.addYears=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)},e.prototype.addMonths=function(e,t){var n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)},e.prototype.diffWholeYears=function(e,t){var n=this.calendarSystem;return se(e)===se(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null},e.prototype.diffWholeMonths=function(e,t){var n=this.calendarSystem;return se(e)===se(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null},e.prototype.greatestWholeUnit=function(e,t){var n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:null!==(n=this.diffWholeMonths(e,t))?{unit:"month",value:n}:null!==(n=Y(e,t))?{unit:"week",value:n}:null!==(n=G(e,t))?{unit:"day",value:n}:Ue(n=W(e,t))?{unit:"hour",value:n}:Ue(n=U(e,t))?{unit:"minute",value:n}:Ue(n=V(e,t))?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}},e.prototype.countDurationsBetween=function(e,t,n){var i;return n.years&&null!==(i=this.diffWholeYears(e,t))?i/ve(n):n.months&&null!==(i=this.diffWholeMonths(e,t))?i/ye(n):n.days&&null!==(i=G(e,t))?i/_e(n):(t.valueOf()-e.valueOf())/xe(n)},e.prototype.startOf=function(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?Z(e):"hour"===t?X(e):"minute"===t?K(e):"second"===t?Q(e):void 0},e.prototype.startOfYear=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])},e.prototype.startOfMonth=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])},e.prototype.startOfWeek=function(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])},e.prototype.computeWeekNumber=function(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):J(e,this.weekDow,this.weekDoy)},e.prototype.format=function(e,t,n){return void 0===n&&(n={}),t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)},e.prototype.formatRange=function(e,t,n,i){return void 0===i&&(i={}),i.isEndExclusive&&(t=j(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=i.forcedStartTzo?i.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=i.forcedEndTzo?i.forcedEndTzo:this.offsetForMarker(t)},this)},e.prototype.formatIso=function(e,t){void 0===t&&(t={});var n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),zt(e,n,t.omitTime)},e.prototype.timestampToMarker=function(e){return"local"===this.timeZone?oe(ne(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?oe(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)},e.prototype.offsetForMarker=function(e){return"local"===this.timeZone?-ie(re(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(re(e)):null},e.prototype.toDate=function(e,t){return"local"===this.timeZone?ie(re(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(re(e))*60):new Date(e.valueOf()-(t||0))},e}(),xo={id:String,allDayDefault:Boolean,eventDataTransform:Function,success:Function,failure:Function},ko=0,So=0,Co=function(){function e(e,t){this.viewSpec=e,this.options=e.options,this.dateEnv=t.dateEnv,this.calendar=t,this.initHiddenDays()}return e.prototype.buildPrev=function(e,t){var n=this.dateEnv,i=n.subtract(n.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1)},e.prototype.buildNext=function(e,t){var n=this.dateEnv,i=n.add(n.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,1)},e.prototype.build=function(e,t,n){var i;void 0===n&&(n=!1);var r,o,a,s,l,c=null,u=null;return i=this.buildValidRange(),i=this.trimHiddenDays(i),n&&(e=Dt(e,i)),r=this.buildCurrentRangeInfo(e,t),o=/^(year|month|week|day)$/.test(r.unit),a=this.buildRenderRange(this.trimHiddenDays(r.range),r.unit,o),s=a=this.trimHiddenDays(a),this.options.showNonCurrentDates||(s=wt(s,r.range)),c=le(this.options.minTime),u=le(this.options.maxTime),s=wt(s=this.adjustActiveRange(s,c,u),i),l=kt(r.range,i),{validRange:i,currentRange:r.range,currentRangeUnit:r.unit,isRangeAllDay:o,activeRange:s,renderRange:a,minTime:c,maxTime:u,isValid:l,dateIncrement:this.buildDateIncrement(r.duration)}},e.prototype.buildValidRange=function(){return this.getRangeOption("validRange",this.calendar.getNow())||{start:null,end:null}},e.prototype.buildCurrentRangeInfo=function(e,t){var n,i=this,r=i.viewSpec,o=i.dateEnv,a=null,s=null,l=null;return r.duration?(a=r.duration,s=r.durationUnit,l=this.buildRangeFromDuration(e,t,a,s)):(n=this.options.dayCount)?(s="day",l=this.buildRangeFromDayCount(e,t,n)):(l=this.buildCustomVisibleRange(e))?s=o.greatestWholeUnit(l.start,l.end).unit:(s=Se(a=this.getFallbackDuration()).unit,l=this.buildRangeFromDuration(e,t,a,s)),{duration:a,unit:s,range:l}},e.prototype.getFallbackDuration=function(){return le({day:1})},e.prototype.adjustActiveRange=function(e,t,n){var i=this.dateEnv,r=e.start,o=e.end;return this.viewSpec["class"].prototype.usesMinMaxTime&&(_e(t)<0&&(r=Z(r),r=i.add(r,t)),1<_e(n)&&(o=F(o=Z(o),-1),o=i.add(o,n))),{start:r,end:o}},e.prototype.buildRangeFromDuration=function(e,t,n,i){function r(){s=u.startOf(e,d),l=u.add(s,n),c={start:s,end:l}}var o,a,s,l,c,u=this.dateEnv,d=this.options.dateAlignment;return d||((o=this.options.dateIncrement)?(a=le(o),d=xe(a)<xe(n)?Se(a,!de(o)).unit:i):d=i),_e(n)<=1&&this.isHiddenDay(s)&&(s=Z(s=this.skipHiddenDays(s,t))),r(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,t),r()),c},e.prototype.buildRangeFromDayCount=function(e,t,n){var i,r=this.dateEnv,o=this.options.dateAlignment,a=0,s=e;for(o&&(s=r.startOf(s,o)),s=Z(s),i=s=this.skipHiddenDays(s,t);i=F(i,1),this.isHiddenDay(i)||a++,a<n;);return{start:s,end:i}},e.prototype.buildCustomVisibleRange=function(e){var t=this.dateEnv,n=this.getRangeOption("visibleRange",t.toDate(e));return!n||null!=n.start&&null!=n.end?n:null},e.prototype.buildRenderRange=function(e){return e},e.prototype.buildDateIncrement=function(e){var t,n=this.options.dateIncrement;return n?le(n):(t=this.options.dateAlignment)?le(1,t):e||le({days:1})},e.prototype.getRangeOption=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.options[e];return"function"==typeof i&&(i=i.apply(null,t)),i&&(i=yt(i,this.dateEnv)),i&&(i=Xe(i)),i},e.prototype.initHiddenDays=function(){var e,t=this.options.hiddenDays||[],n=[],i=0;for(!1===this.options.weekends&&t.push(0,6),e=0;e<7;e++)(n[e]=-1!==t.indexOf(e))||i++;if(!i)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n},e.prototype.trimHiddenDays=function(e){var t=e.start,n=e.end;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null},e.prototype.isHiddenDay=function(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]},e.prototype.skipHiddenDays=function(e,t,n){for(void 0===t&&(t=1),void 0===n&&(n=!1);this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=F(e,t);return e},e}(),Do={start:null,end:null,allDay:Boolean},To={type:String,"class":null},Eo=function(i){function e(e,t){var n=i.call(this,e)||this;return n._renderLayout=Fn(n.renderLayout,n.unrenderLayout),n._updateTitle=Fn(n.updateTitle,null,[n._renderLayout]),n._updateActiveButton=Fn(n.updateActiveButton,null,[n._renderLayout]),n._updateToday=Fn(n.updateToday,null,[n._renderLayout]),n._updatePrev=Fn(n.updatePrev,null,[n._renderLayout]),n._updateNext=Fn(n.updateNext,null,[n._renderLayout]),n.el=s("div",{className:"fc-toolbar "+t}),n}return Je(e,i),e.prototype.destroy=function(){i.prototype.destroy.call(this),this._renderLayout.unrender(),l(this.el)},e.prototype.render=function(e){this._renderLayout(e.layout),this._updateTitle(e.title),this._updateActiveButton(e.activeButton),this._updateToday(e.isTodayEnabled),this._updatePrev(e.isPrevEnabled),this._updateNext(e.isNextEnabled)},e.prototype.renderLayout=function(e){var t=this.el;this.viewsWithButtons=[],b(t,this.renderSection("left",e.left)),b(t,this.renderSection("center",e.center)),b(t,this.renderSection("right",e.right))},e.prototype.unrenderLayout=function(){this.el.innerHTML=""},e.prototype.renderSection=function(e,t){var h=this,n=this,f=n.theme,p=n.calendar,i=p.optionsManager,g=p.viewSpecs,r=s("div",{className:"fc-"+e}),m=i.computed.customButtons||{},v=i.overrides.buttonText||{},y=i.computed.buttonText||{};return t&&t.split(" ").forEach(function(e){var t,u=[],d=!0;if(e.split(",").forEach(function(e){var t,n,i,r,o,a,s,l,c;"title"===e?(u.push(_("<h2>&nbsp;</h2>")),d=!1):((t=m[e])?(i=function(e){t.click&&t.click.call(l,e)},(r=f.getCustomButtonIconClass(t))||(r=f.getIconClass(e))||(o=t.text)):(n=g[e])?(h.viewsWithButtons.push(e),i=function(){p.changeView(e)},(o=n.buttonTextOverride)||(r=f.getIconClass(e))||(o=n.buttonTextDefault)):p[e]&&(i=function(){p[e]()},(o=v[e])||(r=f.getIconClass(e))||(o=y[e])),i&&(s=["fc-"+e+"-button",f.getClass("button")],o?(a=xn(o),c=""):r&&(a="<span class='"+r+"'></span>",c=' aria-label="'+e+'"'),(l=_('<button type="button" class="'+s.join(" ")+'"'+c+">"+a+"</button>")).addEventListener("click",i),u.push(l)))}),1<u.length){t=document.createElement("div");var n=f.getClass("buttonGroup");d&&n&&t.classList.add(n),b(t,u),r.appendChild(t)}else b(r,u)}),r},e.prototype.updateToday=function(e){this.toggleButtonEnabled("today",e)},e.prototype.updatePrev=function(e){this.toggleButtonEnabled("prev",e)},e.prototype.updateNext=function(e){this.toggleButtonEnabled("next",e)},e.prototype.updateTitle=function(t){r(this.el,"h2").forEach(function(e){e.innerText=t})},e.prototype.updateActiveButton=function(t){var n=this.theme.getClass("buttonActive");r(this.el,"button").forEach(function(e){t&&e.classList.contains("fc-"+t+"-button")?e.classList.add(n):e.classList.remove(n)})},e.prototype.toggleButtonEnabled=function(e,t){r(this.el,".fc-"+e+"-button").forEach(function(e){e.disabled=!t})},e}(no),Mo=function(a){function e(e,t){var n=a.call(this,e)||this;n._renderToolbars=Fn(n.renderToolbars),n.buildViewPropTransformers=Mt(Qi),h(n.el=t,n.contentEl=s("div",{className:"fc-view-container"}));for(var i=n.calendar,r=0,o=i.pluginSystem.hooks.viewContainerModifiers;r<o.length;r++){(0,o[r])(n.contentEl,i)}return n.toggleElClassNames(!0),n.computeTitle=Mt(Xi),n.parseBusinessHours=Mt(function(e){return Hn(e,n.calendar)}),n}return Je(e,a),e.prototype.destroy=function(){this.header&&this.header.destroy(),this.footer&&this.footer.destroy(),this.view&&this.view.destroy(),l(this.contentEl),this.toggleElClassNames(!1),a.prototype.destroy.call(this)},e.prototype.toggleElClassNames=function(e){var t=this.el.classList,n="fc-"+this.opt("dir"),i=this.theme.getClass("widget");e?(t.add("fc"),t.add(n),t.add(i)):(t.remove("fc"),t.remove(n),t.remove(i))},e.prototype.render=function(e){this.freezeHeight();var t=this.computeTitle(e.dateProfile,e.viewSpec.options);this._renderToolbars(e.viewSpec,e.dateProfile,e.currentDate,e.dateProfileGenerator,t),this.renderView(e,t),this.updateSize(),this.thawHeight()},e.prototype.renderToolbars=function(e,t,n,i,r){var o=this.opt("header"),a=this.opt("footer"),s=this.calendar.getNow(),l=i.build(s),c=i.buildPrev(t,n),u=i.buildNext(t,n),d={title:r,activeButton:e.type,isTodayEnabled:l.isValid&&!Ct(t.currentRange,s),isPrevEnabled:c.isValid,isNextEnabled:u.isValid};o?(this.header||(this.header=new Eo(this.context,"fc-header-toolbar"),h(this.el,this.header.el)),this.header.receiveProps(Cr({layout:o},d))):this.header&&(this.header.destroy(),this.header=null),a?(this.footer||(this.footer=new Eo(this.context,"fc-footer-toolbar"),b(this.el,this.footer.el)),this.footer.receiveProps(Cr({layout:a},d))):this.footer&&(this.footer.destroy(),this.footer=null)},e.prototype.renderView=function(e,t){var n=this.view,i=e.viewSpec,r=e.dateProfileGenerator;n&&n.viewSpec===i?n.addScroll(n.queryScroll()):(n&&n.destroy(),n=this.view=new i["class"]({calendar:this.calendar,view:null,dateEnv:this.dateEnv,theme:this.theme,options:i.options},i,r,this.contentEl)),n.title=t;for(var o={dateProfile:e.dateProfile,businessHours:this.parseBusinessHours(i.options.businessHours),eventStore:e.eventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize},a=0,s=this.buildViewPropTransformers(this.calendar.pluginSystem.hooks.viewPropsTransformers);a<s.length;a++){var l=s[a];Cr(o,l.transform(o,i,e,n))}n.receiveProps(o)},e.prototype.updateSize=function(e){void 0===e&&(e=!1);var t=this.view;e&&t.addScroll(t.queryScroll()),(e||null==this.isHeightAuto)&&this.computeHeightVars(),t.updateSize(e,this.viewHeight,this.isHeightAuto),t.updateNowIndicator(),t.popScroll(e)},e.prototype.computeHeightVars=function(){var e=this.calendar,t=e.opt("height"),n=e.opt("contentHeight");this.isHeightAuto="auto"===t||"auto"===n,this.viewHeight="number"==typeof n?n:"function"==typeof n?n():"number"==typeof t?t-this.queryToolbarsHeight():"function"==typeof t?t()-this.queryToolbarsHeight():"parent"===t?this.el.parentNode.offsetHeight-this.queryToolbarsHeight():Math.round(this.contentEl.offsetWidth/Math.max(e.opt("aspectRatio"),.5))},e.prototype.queryToolbarsHeight=function(){var e=0;return this.header&&(e+=P(this.header.el)),this.footer&&(e+=P(this.footer.el)),e},e.prototype.freezeHeight=function(){p(this.el,{height:this.el.offsetHeight,overflow:"hidden"})},e.prototype.thawHeight=function(){p(this.el,{height:"",overflow:""})},e}(no),Io=function(){function e(e){this.component=e.component}return e.prototype.destroy=function(){},e}(),Po={},$o=function(n){function e(e){var a=n.call(this,e)||this;a.handleSegClick=function(e,t){var n=a.component,i=Xt(t);if(i&&n.isValidSegDownEl(e.target)){var r=c(e.target,".fc-has-url"),o=r?r.querySelector("a[href]").href:"";n.publiclyTrigger("eventClick",[{el:t,event:new Lr(n.calendar,i.eventRange.def,i.eventRange.instance),jsEvent:e,view:n.view}]),o&&!e.defaultPrevented&&(window.location.href=o)}};var t=e.component;return a.destroy=A(t.el,"click",t.fgSegSelector+","+t.bgSegSelector,a.handleSegClick),a}return Je(e,n),e}(Io),
Ro=function(i){function e(e){var n=i.call(this,e)||this;n.handleEventElRemove=function(e){e===n.currentSegEl&&n.handleSegLeave(null,n.currentSegEl)},n.handleSegEnter=function(e,t){Xt(t)&&(t.classList.add("fc-allow-mouse-resize"),n.currentSegEl=t,n.triggerEvent("eventMouseEnter",e,t))},n.handleSegLeave=function(e,t){n.currentSegEl&&(t.classList.remove("fc-allow-mouse-resize"),n.currentSegEl=null,n.triggerEvent("eventMouseLeave",e,t))};var t=e.component;return n.removeHoverListeners=N(t.el,t.fgSegSelector+","+t.bgSegSelector,n.handleSegEnter,n.handleSegLeave),t.calendar.on("eventElRemove",n.handleEventElRemove),n}return Je(e,i),e.prototype.destroy=function(){this.removeHoverListeners(),this.component.calendar.off("eventElRemove",this.handleEventElRemove)},e.prototype.triggerEvent=function(e,t,n){var i=this.component,r=Xt(n);t&&!i.isValidSegDownEl(t.target)||i.publiclyTrigger(e,[{el:n,event:new Lr(this.component.calendar,r.eventRange.def,r.eventRange.instance),jsEvent:t,view:i.view}])},e}(Io),Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Je(t,e),t}(eo);Oo.prototype.classes={widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},Oo.prototype.baseIconClass="fc-icon",Oo.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Oo.prototype.iconOverrideOption="buttonIcons",Oo.prototype.iconOverrideCustomButtonOption="icon",Oo.prototype.iconOverridePrefix="fc-icon-";var Ao=function(){function e(e,t){var n=this;this.parseRawLocales=Mt(oi),this.buildLocale=Mt(ai),this.buildDateEnv=Mt(tr),this.buildTheme=Mt(nr),this.buildEventUiSingleBase=Mt(this._buildEventUiSingleBase),this.buildSelectionConfig=Mt(this._buildSelectionConfig),this.buildEventUiBySource=It(rr,st),this.buildEventUiBases=Mt(or),this.interactionsStore={},this.actionQueue=[],this.isReducing=!1,this.needsRerender=!1,this.needsFullRerender=!1,this.isRendering=!1,this.renderingPauseDepth=0,this.buildDelayedRerender=Mt(ir),this.afterSizingTriggers={},this.isViewUpdated=!1,this.isDatesUpdated=!1,this.isEventsUpdated=!1,this.el=e,this.optionsManager=new yo(t||{}),this.pluginSystem=new oo,this.addPluginInputs(this.optionsManager.computed.plugins||[]),this.handleOptions(this.optionsManager.computed),this.publiclyTrigger("_init"),this.hydrate(),this.calendarInteractions=this.pluginSystem.hooks.calendarInteractions.map(function(e){return new e(n)})}return e.prototype.addPluginInputs=function(e){for(var t=0,n=ri(e);t<n.length;t++){var i=n[t];this.pluginSystem.add(i)}},Object.defineProperty(e.prototype,"view",{get:function(){return this.component?this.component.view:null},enumerable:!0,configurable:!0}),e.prototype.render=function(){this.component?this.requestRerender(!0):(this.renderableEventStore=gt(),this.bindHandlers(),this.executeRender())},e.prototype.destroy=function(){if(this.component){this.unbindHandlers(),this.component.destroy(),this.component=null;for(var e=0,t=this.calendarInteractions;e<t.length;e++){t[e].destroy()}this.publiclyTrigger("_destroyed")}},e.prototype.bindHandlers=function(){var s=this;this.removeNavLinkListener=A(this.el,"click","a[data-goto]",function(e,t){var n=t.getAttribute("data-goto");n=n?JSON.parse(n):{};var i=s.dateEnv,r=i.createMarker(n.date),o=n.type,a=s.viewOpt("navLink"+ze(o)+"Click");"function"==typeof a?a(i.toDate(r),e):("string"==typeof a&&(o=a),s.zoomTo(r,o))}),this.opt("handleWindowResize")&&window.addEventListener("resize",this.windowResizeProxy=Ye(this.windowResize.bind(this),this.opt("windowResizeDelay")))},e.prototype.unbindHandlers=function(){this.removeNavLinkListener(),this.windowResizeProxy&&(window.removeEventListener("resize",this.windowResizeProxy),this.windowResizeProxy=null)},e.prototype.hydrate=function(){var e=this;this.state=this.buildInitialState();var t=this.opt("eventSources")||[],n=this.opt("events"),i=[];n&&t.unshift(n);for(var r=0,o=t;r<o.length;r++){var a=pi(o[r],this);a&&i.push(a)}this.batchRendering(function(){e.dispatch({type:"INIT"}),e.dispatch({type:"ADD_EVENT_SOURCES",sources:i}),e.dispatch({type:"SET_VIEW_TYPE",viewType:e.opt("defaultView")||e.pluginSystem.hooks.defaultView})})},e.prototype.buildInitialState=function(){return{viewType:null,loadingLevel:0,eventSourceLoadingLevel:0,currentDate:this.getInitialDate(),dateProfile:null,eventSources:{},eventStore:gt(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null}},e.prototype.dispatch=function(e){if(this.actionQueue.push(e),!this.isReducing){this.isReducing=!0;for(var t=this.state;this.actionQueue.length;)this.state=this.reduce(this.state,this.actionQueue.shift(),this);var n=this.state;this.isReducing=!1,!t.loadingLevel&&n.loadingLevel?this.publiclyTrigger("loading",[!0]):t.loadingLevel&&!n.loadingLevel&&this.publiclyTrigger("loading",[!1]);var i=this.component&&this.component.view;(t.eventStore!==n.eventStore||this.needsFullRerender)&&t.eventStore&&(this.isEventsUpdated=!0),(t.dateProfile!==n.dateProfile||this.needsFullRerender)&&(t.dateProfile&&i&&this.publiclyTrigger("datesDestroy",[{view:i,el:i.el}]),this.isDatesUpdated=!0),(t.viewType!==n.viewType||this.needsFullRerender)&&(t.viewType&&i&&this.publiclyTrigger("viewSkeletonDestroy",[{view:i,el:i.el}]),this.isViewUpdated=!0),this.requestRerender()}},e.prototype.reduce=function(e,t,n){return Di(e,t,n)},e.prototype.requestRerender=function(e){void 0===e&&(e=!1),this.needsRerender=!0,this.needsFullRerender=this.needsFullRerender||e,this.delayedRerender()},e.prototype.tryRerender=function(){this.component&&this.needsRerender&&!this.renderingPauseDepth&&!this.isRendering&&this.executeRender()},e.prototype.batchRendering=function(e){this.renderingPauseDepth++,e(),this.renderingPauseDepth--,this.needsRerender&&this.requestRerender()},e.prototype.executeRender=function(){var e=this.needsFullRerender;this.needsRerender=!1,this.needsFullRerender=!1,this.isRendering=!0,this.renderComponent(e),this.isRendering=!1,this.needsRerender&&this.delayedRerender()},e.prototype.renderComponent=function(e){var t=this,n=t.state,i=t.component,r=n.viewType,o=this.viewSpecs[r],a=e&&i?i.view.queryScroll():null;if(!o)throw new Error('View type "'+r+'" is not valid');var s=this.renderableEventStore=n.eventSourceLoadingLevel&&!this.opt("progressiveEventRendering")?this.renderableEventStore:n.eventStore,l=this.buildEventUiSingleBase(o.options),c=this.buildEventUiBySource(n.eventSources),u=this.eventUiBases=this.buildEventUiBases(s.defs,l,c);!e&&i||(i&&(i.freezeHeight(),i.destroy()),i=this.component=new Mo({calendar:this,view:null,dateEnv:this.dateEnv,theme:this.theme,options:this.optionsManager.computed},this.el)),i.receiveProps(Cr({},n,{viewSpec:o,dateProfile:n.dateProfile,dateProfileGenerator:this.dateProfileGenerators[r],eventStore:s,eventUiBases:u,dateSelection:n.dateSelection,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize})),a&&i.view.applyScroll(a,!1),this.isViewUpdated&&(this.isViewUpdated=!1,this.publiclyTrigger("viewSkeletonRender",[{view:i.view,el:i.view.el}])),this.isDatesUpdated&&(this.isDatesUpdated=!1,this.publiclyTrigger("datesRender",[{view:i.view,el:i.view.el}])),this.isEventsUpdated&&(this.isEventsUpdated=!1),this.releaseAfterSizingTriggers()},e.prototype.setOption=function(e,t){var n;this.mutateOptions(((n={})[e]=t,n),[],!0)},e.prototype.getOption=function(e){return this.optionsManager.computed[e]},e.prototype.opt=function(e){return this.optionsManager.computed[e]},e.prototype.viewOpt=function(e){return this.viewOpts()[e]},e.prototype.viewOpts=function(){return this.viewSpecs[this.state.viewType].options},e.prototype.mutateOptions=function(e,t,n,i){var r=this,o=this.pluginSystem.hooks.optionChangeHandlers,a={},s={},l=this.dateEnv,c=!1,u=!1,d=Boolean(t.length);for(var h in e)o[h]?s[h]=e[h]:a[h]=e[h];for(var f in a)/^(height|contentHeight|aspectRatio)$/.test(f)?u=!0:/^(defaultDate|defaultView)$/.test(f)||(d=!0,"timeZone"===f&&(c=!0));this.optionsManager.mutate(a,t,n),d&&(this.handleOptions(this.optionsManager.computed),this.needsFullRerender=!0),this.batchRendering(function(){if(d?(c&&r.dispatch({type:"CHANGE_TIMEZONE",oldDateEnv:l}),r.dispatch({type:"SET_VIEW_TYPE",viewType:r.state.viewType})):u&&r.updateSize(),i)for(var e in s)o[e](s[e],r,i)})},e.prototype.handleOptions=function(e){var t=this,n=this.pluginSystem.hooks;this.defaultAllDayEventDuration=le(e.defaultAllDayEventDuration),this.defaultTimedEventDuration=le(e.defaultTimedEventDuration),this.delayedRerender=this.buildDelayedRerender(e.rerenderDelay),this.theme=this.buildTheme(e);var i=this.parseRawLocales(e.locales);this.availableRawLocales=i.map;var r=this.buildLocale(e.locale||i.defaultCode,i.map);this.dateEnv=this.buildDateEnv(r,e.timeZone,n.namedTimeZonedImpl,e.firstDay,e.weekNumberCalculation,e.weekLabel,n.cmdFormatter),this.selectionConfig=this.buildSelectionConfig(e),this.viewSpecs=Gi(n.views,this.optionsManager),this.dateProfileGenerators=rt(this.viewSpecs,function(e){return new e["class"].prototype.dateProfileGeneratorClass(e,t)})},e.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.availableRawLocales)},e.prototype._buildSelectionConfig=function(e){return Tn("select",e,this)},e.prototype._buildEventUiSingleBase=function(e){return e.editable&&(e=Cr({},e,{eventEditable:!0})),Tn("event",e,this)},e.prototype.hasPublicHandlers=function(e){return this.hasHandlers(e)||this.opt(e)},e.prototype.publiclyTrigger=function(e,t){var n=this.opt(e);if(this.triggerWith(e,this,t),n)return n.apply(this,t)},e.prototype.publiclyTriggerAfterSizing=function(e,t){var n=this.afterSizingTriggers;(n[e]||(n[e]=[])).push(t)},e.prototype.releaseAfterSizingTriggers=function(){var e=this.afterSizingTriggers;for(var t in e)for(var n=0,i=e[t];n<i.length;n++){var r=i[n];this.publiclyTrigger(t,r)}this.afterSizingTriggers={}},e.prototype.isValidViewType=function(e){return Boolean(this.viewSpecs[e])},e.prototype.changeView=function(e,t){var n=null;t&&(t.start&&t.end?(this.optionsManager.mutate({visibleRange:t},[]),this.handleOptions(this.optionsManager.computed)):n=this.dateEnv.createMarker(t)),this.unselect(),this.dispatch({type:"SET_VIEW_TYPE",viewType:e,dateMarker:n})},e.prototype.zoomTo=function(e,t){var n;t=t||"day",n=this.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"SET_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"SET_DATE",dateMarker:e})},e.prototype.getUnitViewSpec=function(e){var t,n,i=this.component,r=[];for(var o in i.header&&r.push.apply(r,i.header.viewsWithButtons),i.footer&&r.push.apply(r,i.footer.viewsWithButtons),this.viewSpecs)r.push(o);for(t=0;t<r.length;t++)if((n=this.viewSpecs[r[t]])&&n.singleUnit===e)return n},e.prototype.getInitialDate=function(){var e=this.opt("defaultDate");return null!=e?this.dateEnv.createMarker(e):this.getNow()},e.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},e.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},e.prototype.prevYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,-1)})},e.prototype.nextYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,1)})},e.prototype.today=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.getNow()})},e.prototype.gotoDate=function(e){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.createMarker(e)})},e.prototype.incrementDate=function(e){var t=le(e);t&&(this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.add(this.state.currentDate,t)}))},e.prototype.getDate=function(){return this.dateEnv.toDate(this.state.currentDate)},e.prototype.formatDate=function(e,t){var n=this.dateEnv;return n.format(n.createMarker(e),jt(t))},e.prototype.formatRange=function(e,t,n){var i=this.dateEnv;return i.formatRange(i.createMarker(e),i.createMarker(t),jt(n,this.opt("defaultRangeSeparator")),n)},e.prototype.formatIso=function(e,t){var n=this.dateEnv;return n.formatIso(n.createMarker(e),{omitTime:t})},e.prototype.windowResize=function(e){!this.isHandlingWindowResize&&this.component&&e.target===window&&(this.isHandlingWindowResize=!0,this.updateSize(),this.publiclyTrigger("windowResize",[this.view]),this.isHandlingWindowResize=!1)},e.prototype.updateSize=function(){this.component&&this.component.updateSize(!0)},e.prototype.registerInteractiveComponent=function(e,t){var n=Ji(e,t),i=[$o,Ro].concat(this.pluginSystem.hooks.componentInteractions).map(function(e){return new e(n)});this.interactionsStore[e.uid]=i,Po[e.uid]=n},e.prototype.unregisterInteractiveComponent=function(e){for(var t=0,n=this.interactionsStore[e.uid];t<n.length;t++){n[t].destroy()}delete this.interactionsStore[e.uid],delete Po[e.uid]},e.prototype.select=function(e,t){var n=Ai(null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t},this.dateEnv,le({days:1}));n&&(this.dispatch({type:"SELECT_DATES",selection:n}),this.triggerDateSelect(n))},e.prototype.unselect=function(e){this.state.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),this.triggerDateUnselect(e))},e.prototype.triggerDateSelect=function(e,t){var n=Cr({},this.buildDateSpanApi(e),{jsEvent:t?t.origEvent:null,view:this.view});this.publiclyTrigger("select",[n])},e.prototype.triggerDateUnselect=function(e){this.publiclyTrigger("unselect",[{jsEvent:e?e.origEvent:null,view:this.view}])},e.prototype.triggerDateClick=function(e,t,n,i){var r=Cr({},this.buildDatePointApi(e),{dayEl:t,jsEvent:i,view:n});this.publiclyTrigger("dateClick",[r])},e.prototype.buildDatePointApi=function(e){for(var t={},n=0,i=this.pluginSystem.hooks.datePointTransforms;n<i.length;n++){var r=i[n];Cr(t,r(e,this))}return Cr(t,ji(e,this.dateEnv)),t},e.prototype.buildDateSpanApi=function(e){for(var t={},n=0,i=this.pluginSystem.hooks.dateSpanTransforms;n<i.length;n++){var r=i[n];Cr(t,r(e,this))}return Cr(t,Fi(e,this.dateEnv)),t},e.prototype.getNow=function(){var e=this.opt("now");return"function"==typeof e&&(e=e()),null==e?this.dateEnv.createNowMarker():this.dateEnv.createMarker(e)},e.prototype.getDefaultEventEnd=function(e,t){var n=t;return e?(n=Z(n),n=this.dateEnv.add(n,this.defaultAllDayEventDuration)):n=this.dateEnv.add(n,this.defaultTimedEventDuration),n},e.prototype.addEvent=function(e,t){if(e instanceof Lr){var n=e._def,i=e._instance;return this.state.eventStore.defs[n.defId]||this.dispatch({type:"ADD_EVENTS",eventStore:ct({def:n,instance:i})}),e}var r;if(t instanceof Hr)r=t.internalEventSource.sourceId;else if(null!=t){var o=this.getEventSourceById(t);if(!o)return console.warn('Could not find an event source with ID "'+t+'"'),null;r=o.internalEventSource.sourceId}var a=In(e,r,this);return a?(this.dispatch({type:"ADD_EVENTS",eventStore:ct(a)}),new Lr(this,a.def,a.def.recurringDef?null:a.instance)):null},e.prototype.getEventById=function(e){var t=this.state.eventStore,n=t.defs,i=t.instances;for(var r in e=String(e),n){var o=n[r];if(o.publicId===e){if(o.recurringDef)return new Lr(this,o,null);for(var a in i){var s=i[a];if(s.defId===o.defId)return new Lr(this,o,s)}}}return null},e.prototype.getEvents=function(){var e=this.state.eventStore,t=e.defs,n=e.instances,i=[];for(var r in n){var o=n[r],a=t[o.defId];i.push(new Lr(this,a,o))}return i},e.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},e.prototype.rerenderEvents=function(){this.dispatch({type:"RESET_EVENTS"})},e.prototype.getEventSources=function(){var e=this.state.eventSources,t=[];for(var n in e)t.push(new Hr(this,e[n]));return t},e.prototype.getEventSourceById=function(e){var t=this.state.eventSources;for(var n in e=String(e),t)if(t[n].publicId===e)return new Hr(this,t[n]);return null},e.prototype.addEventSource=function(e){if(e instanceof Hr)return this.state.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;var t=pi(e,this);return t?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t]}),new Hr(this,t)):null},e.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},e.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES"})},e.prototype.scrollToTime=function(e){var t=le(e);t&&this.component.view.scrollToTime(t)},e}();Gr.mixInto(Ao);var No=function(o){function e(e,t,n,i){var r=o.call(this,e,s("div",{className:"fc-view fc-"+t.type+"-view"}),!0)||this;return r.renderDatesMem=Fn(r.renderDatesWrap,r.unrenderDatesWrap),r.renderBusinessHoursMem=Fn(r.renderBusinessHours,r.unrenderBusinessHours,[r.renderDatesMem]),r.renderDateSelectionMem=Fn(r.renderDateSelectionWrap,r.unrenderDateSelectionWrap,[r.renderDatesMem]),r.renderEventsMem=Fn(r.renderEvents,r.unrenderEvents,[r.renderDatesMem]),r.renderEventSelectionMem=Fn(r.renderEventSelectionWrap,r.unrenderEventSelectionWrap,[r.renderEventsMem]),r.renderEventDragMem=Fn(r.renderEventDragWrap,r.unrenderEventDragWrap,[r.renderDatesMem]),r.renderEventResizeMem=Fn(r.renderEventResizeWrap,r.unrenderEventResizeWrap,[r.renderDatesMem]),r.viewSpec=t,r.dateProfileGenerator=n,r.type=t.type,r.eventOrderSpecs=He(r.opt("eventOrder")),r.nextDayThreshold=le(r.opt("nextDayThreshold")),i.appendChild(r.el),r.initialize(),r}return Je(e,o),e.prototype.initialize=function(){},Object.defineProperty(e.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.activeRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.activeRange.end)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.currentRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.props.dateProfile.currentRange.end)},enumerable:!0,configurable:!0}),e.prototype.render=function(e){this.renderDatesMem(e.dateProfile),this.renderBusinessHoursMem(e.businessHours),this.renderDateSelectionMem(e.dateSelection),this.renderEventsMem(e.eventStore),this.renderEventSelectionMem(e.eventSelection),this.renderEventDragMem(e.eventDrag),this.renderEventResizeMem(e.eventResize)},e.prototype.destroy=function(){o.prototype.destroy.call(this),this.renderDatesMem.unrender()},e.prototype.updateSize=function(e,t,n){var i=this.calendar;(e||i.isViewUpdated||i.isDatesUpdated||i.isEventsUpdated)&&this.updateBaseSize(e,t,n)},e.prototype.updateBaseSize=function(){},e.prototype.renderDatesWrap=function(e){this.renderDates(e),this.addScroll({timeMs:le(this.opt("scrollTime")).milliseconds}),this.startNowIndicator(e)},e.prototype.unrenderDatesWrap=function(){this.stopNowIndicator(),this.unrenderDates()},e.prototype.renderDates=function(){},e.prototype.unrenderDates=function(){},e.prototype.renderBusinessHours=function(){},e.prototype.unrenderBusinessHours=function(){},e.prototype.renderDateSelectionWrap=function(e){e&&this.renderDateSelection(e)},e.prototype.unrenderDateSelectionWrap=function(e){e&&this.unrenderDateSelection(e)},e.prototype.renderDateSelection=function(){},e.prototype.unrenderDateSelection=function(){},e.prototype.renderEvents=function(){},e.prototype.unrenderEvents=function(){},e.prototype.sliceEvents=function(e,t){var n=this.props;return qt(e,n.eventUiBases,n.dateProfile.activeRange,t?this.nextDayThreshold:null).fg},e.prototype.renderEventSelectionWrap=function(e){e&&this.renderEventSelection(e)},e.prototype.unrenderEventSelectionWrap=function(e){e&&this.unrenderEventSelection(e)},e.prototype.renderEventSelection=function(){},e.prototype.unrenderEventSelection=function(){},e.prototype.renderEventDragWrap=function(e){e&&this.renderEventDrag(e)},e.prototype.unrenderEventDragWrap=function(e){e&&this.unrenderEventDrag(e)},e.prototype.renderEventDrag=function(){},e.prototype.unrenderEventDrag=function(){},e.prototype.renderEventResizeWrap=function(e){e&&this.renderEventResize(e)},e.prototype.unrenderEventResizeWrap=function(e){e&&this.unrenderEventResize(e)},e.prototype.renderEventResize=function(){},e.prototype.unrenderEventResize=function(){},e.prototype.startNowIndicator=function(e){var t,n,i,r=this,o=this.dateEnv;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit(e))&&(n=this.updateNowIndicator.bind(this),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=(new Date).valueOf(),i=o.add(o.startOf(this.initialNowDate,t),le(1,t)).valueOf()-this.initialNowDate.valueOf(),this.nowIndicatorTimeoutID=setTimeout(function(){r.nowIndicatorTimeoutID=null,n(),i="second"===t?1e3:6e4,r.nowIndicatorIntervalID=setInterval(n,i)},i))},e.prototype.updateNowIndicator=function(){this.props.dateProfile&&this.initialNowDate&&(this.unrenderNowIndicator(),this.renderNowIndicator(j(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs)),this.isNowIndicatorRendered=!0)},e.prototype.stopNowIndicator=function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearInterval(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},e.prototype.getNowIndicatorUnit=function(){},e.prototype.renderNowIndicator=function(){},e.prototype.unrenderNowIndicator=function(){},e.prototype.addScroll=function(e){var t=this.queuedScroll||(this.queuedScroll={});Cr(t,e)},e.prototype.popScroll=function(e){this.applyQueuedScroll(e),this.queuedScroll=null},e.prototype.applyQueuedScroll=function(e){this.applyScroll(this.queuedScroll||{},e)},e.prototype.queryScroll=function(){var e={};return this.props.dateProfile&&Cr(e,this.queryDateScroll()),e},e.prototype.applyScroll=function(e){var t=e.timeMs;null!=t&&(delete e.timeMs,this.props.dateProfile&&Cr(e,this.computeDateScroll(t))),this.props.dateProfile&&this.applyDateScroll(e)},e.prototype.computeDateScroll=function(){return{}},e.prototype.queryDateScroll=function(){return{}},e.prototype.applyDateScroll=function(){},e.prototype.scrollToTime=function(e){this.applyScroll({timeMs:e.milliseconds},!1)},e}(io);Gr.mixInto(No),No.prototype.usesMinMaxTime=!1,No.prototype.dateProfileGeneratorClass=Co;var Ho=function(){function e(e){this.segs=[],this.isSizeDirty=!1,this.context=e}return e.prototype.renderSegs=function(e,t){this.rangeUpdated(),e=this.renderSegEls(e,t),this.segs=e,this.attachSegs(e,t),this.isSizeDirty=!0,this.context.view.triggerRenderedSegs(this.segs,Boolean(t))},e.prototype.unrender=function(e,t){this.context.view.triggerWillRemoveSegs(this.segs,Boolean(t)),this.detachSegs(this.segs),this.segs=[]},e.prototype.rangeUpdated=function(){var e,t,n=this.context.options;this.eventTimeFormat=jt(n.eventTimeFormat||this.computeEventTimeFormat(),n.defaultRangeSeparator),null==(e=n.displayEventTime)&&(e=this.computeDisplayEventTime()),null==(t=n.displayEventEnd)&&(t=this.computeDisplayEventEnd()),this.displayEventTime=e,this.displayEventEnd=t},e.prototype.renderSegEls=function(i,e){var t,n="";if(i.length){for(t=0;t<i.length;t++)n+=this.renderSegHtml(i[t],e);o(n).forEach(function(e,t){var n=i[t];e&&(n.el=e)}),i=Gt(this.context.view,i,Boolean(e))}return i},e.prototype.getSegClasses=function(e,t,n,i){var r=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(e.eventRange.ui.classNames);return t&&r.push("fc-draggable"),n&&r.push("fc-resizable"),i&&(r.push("fc-mirror"),i.isDragging&&r.push("fc-dragging"),i.isResizing&&r.push("fc-resizing")),r},e.prototype.getTimeText=function(e,t,n){var i=e.def,r=e.instance;return this._getTimeText(r.range.start,i.hasEnd?r.range.end:null,i.allDay,t,n,r.forcedStartTzo,r.forcedEndTzo)},e.prototype._getTimeText=function(e,t,n,i,r,o,a){var s=this.context.dateEnv;return null==i&&(i=this.eventTimeFormat),null==r&&(r=this.displayEventEnd),this.displayEventTime&&!n?r&&t?s.formatRange(e,t,i,{forcedStartTzo:o,forcedEndTzo:a}):s.format(e,i,{forcedTzo:o}):""},e.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0}},e.prototype.computeDisplayEventTime=function(){return!0},e.prototype.computeDisplayEventEnd=function(){return!0},e.prototype.getSkinCss=function(e){return{"background-color":e.backgroundColor,"border-color":e.borderColor,color:e.textColor}},e.prototype.sortEventSegs=function(e){var n=this.context.view.eventOrderSpecs,t=e.map(ar);return t.sort(function(e,t){return Le(e,t,n)}),t.map(function(e){return e._seg})},e.prototype.computeSizes=function(e){(e||this.isSizeDirty)&&this.computeSegSizes(this.segs)},e.prototype.assignSizes=function(e){(e||this.isSizeDirty)&&(this.assignSegSizes(this.segs),this.isSizeDirty=!1)},e.prototype.computeSegSizes=function(){},e.prototype.assignSegSizes=function(){},e.prototype.hideByHash=function(e){if(e)for(var t=0,n=this.segs;t<n.length;t++){var i=n[t];e[i.eventRange.instance.instanceId]&&(i.el.style.visibility="hidden")}},e.prototype.showByHash=function(e){if(e)for(var t=0,n=this.segs;t<n.length;t++){var i=n[t];e[i.eventRange.instance.instanceId]&&(i.el.style.visibility="")}},e.prototype.selectByInstanceId=function(e){if(e)for(var t=0,n=this.segs;t<n.length;t++){var i=n[t],r=i.eventRange.instance;r&&r.instanceId===e&&i.el&&i.el.classList.add("fc-selected")}},e.prototype.unselectByInstanceId=function(e){if(e)for(var t=0,n=this.segs;t<n.length;t++){var i=n[t];i.el&&i.el.classList.remove("fc-selected")}},e}(),Lo=function(){function e(e){this.fillSegTag="div",this.dirtySizeFlags={},this.context=e,this.containerElsByType={},this.segsByType={}}return e.prototype.getSegsByType=function(e){return this.segsByType[e]||[]},e.prototype.renderSegs=function(e,t){var n,i=this.renderSegEls(e,t),r=this.attachSegs(e,i);r&&(n=this.containerElsByType[e]||(this.containerElsByType[e]=[])).push.apply(n,r),this.segsByType[e]=i,"bgEvent"===e&&this.context.view.triggerRenderedSegs(i,!1),this.dirtySizeFlags[e]=!0},e.prototype.unrender=function(e){var t=this.segsByType[e];t&&("bgEvent"===e&&this.context.view.triggerWillRemoveSegs(t,!1),this.detachSegs(e,t))},e.prototype.renderSegEls=function(e,i){var t,n=this,r="";if(i.length){for(t=0;t<i.length;t++)r+=this.renderSegHtml(e,i[t]);o(r).forEach(function(e,t){var n=i[t];e&&(n.el=e)}),"bgEvent"===e&&(i=Gt(this.context.view,i,!1)),i=i.filter(function(e){return u(e.el,n.fillSegTag)})}return i},e.prototype.renderSegHtml=function(e,t){var n=null,i=[];return"highlight"!==e&&"businessHours"!==e&&(n={"background-color":t.eventRange.ui.backgroundColor}),"highlight"!==e&&(i=i.concat(t.eventRange.ui.classNames)),"businessHours"===e?i.push("fc-bgevent"):i.push("fc-"+e.toLowerCase()),"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(n?' style="'+kn(n)+'"':"")+"></"+this.fillSegTag+">"},e.prototype.detachSegs=function(e){var t=this.containerElsByType[e];t&&(t.forEach(l),delete this.containerElsByType[e])},e.prototype.computeSizes=function(e){for(var t in this.segsByType)(e||this.dirtySizeFlags[t])&&this.computeSegSizes(this.segsByType[t])},e.prototype.assignSizes=function(e){for(var t in this.segsByType)(e||this.dirtySizeFlags[t])&&this.assignSegSizes(this.segsByType[t]);this.dirtySizeFlags={}},e.prototype.computeSegSizes=function(){},e.prototype.assignSegSizes=function(){},e}(),Fo=function(){function e(e){this.timeZoneName=e}return e}(),jo=function(){function e(){this.emitter=new Gr}return e.prototype.destroy=function(){},e.prototype.setMirrorIsVisible=function(){},e.prototype.setMirrorNeedsRevert=function(){},e.prototype.setAutoScrollEnabled=function(){},e}(),zo={startTime:le,duration:le,create:Boolean,sourceId:String},Bo={create:!0},Wo=function(i){function e(e,t){var n=i.call(this,e)||this;return t.innerHTML="",t.appendChild(n.el=_('<div class="fc-row '+n.theme.getClass("headerRow")+'"><table class="'+n.theme.getClass("tableGrid")+'"><thead></thead></table></div>')),n.thead=n.el.querySelector("thead"),n}return Je(e,i),e.prototype.destroy=function(){l(this.el)},e.prototype.render=function(e){var t=e.dates,n=e.datesRepDistinctDays,i=[];e.renderIntroHtml&&i.push(e.renderIntroHtml());for(var r=jt(this.opt("columnHeaderFormat")||dr(n,t.length)),o=0,a=t;o<a.length;o++){var s=a[o];i.push(hr(s,e.dateProfile,n,t.length,r,this.context))}this.isRtl&&i.reverse(),this.thead.innerHTML="<tr>"+i.join("")+"</tr>"},e}(no),Uo=function(){function e(e,t){for(var n=e.start,i=e.end,r=[],o=[],a=-1;n<i;)t.isHiddenDay(n)?r.push(a+.5):(a++,r.push(a),o.push(n)),n=F(n,1);this.dates=o,this.indices=r,this.cnt=o.length}return e.prototype.sliceRange=function(e){var t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(F(e.end,-1)),i=Math.max(0,t),r=Math.min(this.cnt-1,n);return(i=Math.ceil(i))<=(r=Math.floor(r))?{firstIndex:i,lastIndex:r,isStart:t===i,isEnd:n===r}:null},e.prototype.getDateDayIndex=function(e){var t=this.indices,n=Math.floor(B(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},e}(),Vo=function(){function e(e,t){var n,i,r,o=e.dates;if(t){for(i=o[0].getUTCDay(),n=1;n<o.length&&o[n].getUTCDay()!==i;n++);r=Math.ceil(o.length/n)}else r=1,n=o.length;this.rowCnt=r,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return e.prototype.buildCells=function(){for(var e=[],t=0;t<this.rowCnt;t++){for(var n=[],i=0;i<this.colCnt;i++)n.push(this.buildCell(t,i));e.push(n)}return e},e.prototype.buildCell=function(e,t){return{date:this.daySeries.dates[e*this.colCnt+t]}},e.prototype.buildHeaderDates=function(){for(var e=[],t=0;t<this.colCnt;t++)e.push(this.cells[0][t].date);return e},e.prototype.sliceRange=function(e){var t=this.colCnt,n=this.daySeries.sliceRange(e),i=[];if(n)for(var r=n.firstIndex,o=n.lastIndex,a=r;a<=o;){var s=Math.floor(a/t),l=Math.min((s+1)*t,o+1);i.push({row:s,firstCol:a%t,lastCol:(l-1)%t,isStart:n.isStart&&a===r,isEnd:n.isEnd&&l-1===o}),a=l}return i},e}(),qo=function(){function e(){this.sliceBusinessHours=Mt(this._sliceBusinessHours),this.sliceDateSelection=Mt(this._sliceDateSpan),this.sliceEventStore=Mt(this._sliceEventStore),this.sliceEventDrag=Mt(this._sliceInteraction),this.sliceEventResize=Mt(this._sliceInteraction)}return e.prototype.sliceProps=function(e,t,n,i){for(var r=[],o=4;o<arguments.length;o++)r[o-4]=arguments[o];var a=e.eventUiBases,s=this.sliceEventStore.apply(this,[e.eventStore,a,t,n,i].concat(r));return{dateSelectionSegs:this.sliceDateSelection.apply(this,[e.dateSelection,a,i].concat(r)),businessHourSegs:this.sliceBusinessHours.apply(this,[e.businessHours,t,n,i].concat(r)),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag.apply(this,[e.eventDrag,a,t,n,i].concat(r)),eventResize:this.sliceEventResize.apply(this,[e.eventResize,a,t,n,i].concat(r)),eventSelection:e.eventSelection}},e.prototype.sliceNowDate=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this._sliceDateSpan.apply(this,[{range:{start:e,end:j(e,1)},allDay:!1},{},t].concat(n))},e.prototype._sliceBusinessHours=function(e,t,n,i){for(var r=[],o=4;o<arguments.length;o++)r[o-4]=arguments[o];return e?this._sliceEventStore.apply(this,[ut(e,fr(t,Boolean(n)),i.calendar),{},t,n,i].concat(r)).bg:[]},e.prototype._sliceEventStore=function(e,t,n,i,r){for(var o=[],a=5;a<arguments.length;a++)o[a-5]=arguments[a];if(e){var s=qt(e,t,fr(n,Boolean(i)),i);return{bg:this.sliceEventRanges(s.bg,r,o),fg:this.sliceEventRanges(s.fg,r,o)}}return{bg:[],fg:[]}},e.prototype._sliceInteraction=function(e,t,n,i,r){for(var o=[],a=5;a<arguments.length;a++)o[a-5]=arguments[a];if(!e)return null;var s=qt(e.mutatedEvents,t,fr(n,Boolean(i)),i);return{segs:this.sliceEventRanges(s.fg,r,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent,sourceSeg:e.origSeg}},e.prototype._sliceDateSpan=function(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];if(!e)return[];for(var o=zi(e,t,n.calendar),a=this.sliceRange.apply(this,[e.range].concat(i)),s=0,l=a;s<l.length;s++){var c=l[s];c.component=n,c.eventRange=o}return a},e.prototype.sliceEventRanges=function(e,t,n){for(var i=[],r=0,o=e;r<o.length;r++){var a=o[r];i.push.apply(i,this.sliceEventRange(a,t,n))}return i},e.prototype.sliceEventRange=function(e,t,n){for(var i=this.sliceRange.apply(this,[e.range].concat(n)),r=0,o=i;r<o.length;r++){var a=o[r];a.component=t,a.eventRange=e,a.isStart=e.isStart&&a.isStart,a.isEnd=e.isEnd&&a.isEnd}return i},e}(),Yo="4.2.0";e.Calendar=Ao,e.Component=no,e.DateComponent=io,e.DateEnv=wo,
e.DateProfileGenerator=Co,e.DayHeader=Wo,e.DaySeries=Uo,e.DayTable=Vo,e.ElementDragging=jo,e.ElementScrollController=Kr,e.EmitterMixin=Gr,e.EventApi=Lr,e.FgEventRenderer=Ho,e.FillRenderer=Lo,e.Interaction=Io,e.Mixin=Yr,e.NamedTimeZoneImpl=Fo,e.PositionCache=Zr,e.ScrollComponent=Jr,e.ScrollController=Xr,e.Slicer=qo,e.Splitter=qr,e.Theme=eo,e.View=No,e.WindowScrollController=Qr,e.addDays=F,e.addDurations=pe,e.addMs=j,e.addWeeks=L,e.allowContextMenu=Ne,e.allowSelection=Oe,e.appendToElement=b,e.applyAll=Ve,e.applyMutationToEventStore=Jt,e.applyStyle=p,e.applyStyleProp=g,e.asRoughMinutes=be,e.asRoughMs=xe,e.asRoughSeconds=we,e.buildGotoAnchorHtml=zn,e.buildSegCompareObj=ar,e.capitaliseFirstLetter=ze,e.combineEventUis=En,e.compareByFieldSpec=Fe,e.compareByFieldSpecs=Le,e.compareNumbers=We,e.compensateScroll=Ce,e.computeClippingRect=R,e.computeEdges=T,e.computeFallbackHeaderFormat=dr,e.computeHeightAndMargins=P,e.computeInnerRect=E,e.computeRect=M,e.computeVisibleDayRange=Xe,e.config=ho,e.constrainPoint=w,e.createDuration=le,e.createElement=s,e.createEmptyEventStore=gt,e.createEventInstance=$n,e.createFormatter=jt,e.createPlugin=Gn,e.cssToStr=kn,e.debounce=Ye,e.diffDates=Qe,e.diffDayAndTime=q,e.diffDays=B,e.diffPoints=k,e.diffWeeks=z,e.diffWholeDays=G,e.diffWholeWeeks=Y,e.disableCursor=Te,e.distributeHeight=Me,e.elementClosest=c,e.elementMatches=u,e.enableCursor=Ee,e.eventTupleToStore=ct,e.filterEventStoreDefs=vt,e.filterHash=it,e.findChildren=d,e.findElements=r,e.flexibleCompare=je,e.forceClassName=f,e.formatDate=sr,e.formatIsoTimeString=Bt,e.formatRange=lr,e.getAllDayHtml=Bn,e.getClippingParents=$,e.getDayClasses=Wn,e.getElSeg=Xt,e.getRectCenter=x,e.getRelevantEvents=dt,e.globalDefaults=fo,e.greatestDurationDenominator=Se,e.hasBgRendering=Yt,e.htmlEscape=xn,e.htmlToElement=_,e.insertAfterElement=i,e.interactionSettingsStore=Po,e.interactionSettingsToStore=er,e.intersectRanges=wt,e.intersectRects=v,e.isArraysEqual=Et,e.isDateSpansEqual=Hi,e.isInt=Ue,e.isInteractionValid=dn,e.isMultiDayRange=Ke,e.isPropsEqual=st,e.isPropsValid=pn,e.isSingleDay=fe,e.isValidDate=ae,e.listenBySelector=A,e.mapHash=rt,e.matchCellWidths=Pe,e.memoize=Mt,e.memoizeOutput=It,e.memoizeRendering=Fn,e.mergeEventStores=mt,e.multiplyDuration=me,e.padStart=Be,e.parseBusinessHours=Hn,e.parseDragMeta=ur,e.parseEventDef=Pn,e.parseFieldSpecs=He,e.parseMarker=hi,e.pointInsideRect=m,e.prependToElement=h,e.preventContextMenu=Ae,e.preventDefault=O,e.preventSelection=Re,e.processScopedUiProps=Tn,e.rangeContainsMarker=Ct,e.rangeContainsRange=St,e.rangesEqual=xt,e.rangesIntersect=kt,e.refineProps=Ge,e.removeElement=l,e.removeExact=Tt,e.renderDateCell=hr,e.requestJson=Xn,e.sliceEventStore=qt,e.startOfDay=Z,e.subtractInnerElHeight=$e,e.translateRect=y,e.uncompensateScroll=De,e.undistributeHeight=Ie,e.unpromisify=Un,e.version=Yo,e.whenTransitionDone=H,e.wholeDivideDurations=ke,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],t):t((e=e||self).FullCalendarInteraction={},e.FullCalendar)}(this,function(e,v){"use strict";function a(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function n(e){return 0===e.button&&!e.ctrlKey}function r(){b++,setTimeout(function(){b--},v.config.touchMouseIgnoreWait)}function t(){w++||window.addEventListener("touchmove",o,{passive:!1})}function i(){--w||window.removeEventListener("touchmove",o,{passive:!1})}function o(e){x&&e.preventDefault()}function s(e){var t=e.tagName;return"HTML"===t||"BODY"===t}function h(e,t){return!e&&!t||Boolean(e)===Boolean(t)&&v.isDateSpansEqual(e.dateSpan,t.dateSpan)}function l(e){var t=e.opt("selectLongPressDelay");return null==t&&(t=e.opt("longPressDelay")),t}function c(e,t,n){var i=e.dateSpan,r=t.dateSpan,o=[i.range.start,i.range.end,r.range.start,r.range.end];o.sort(v.compareNumbers);for(var a={},s=0,l=n;s<l.length;s++){var c=(0,l[s])(e,t);if(!1===c)return null;c&&_(a,c)}return a.range={start:o[0],end:o[3]},a.allDay=i.allDay,a}function d(e,t,n){var i=e.dateSpan,r=t.dateSpan,o=i.range.start,a=r.range.start,s={};i.allDay!==r.allDay&&(s.allDay=r.allDay,s.hasEnd=t.component.opt("allDayMaintainDuration"),r.allDay&&(o=v.startOfDay(o)));var l=v.diffDates(o,a,e.component.dateEnv,e.component===t.component?e.component.largeUnit:null);l.milliseconds&&(s.allDay=!1);for(var c={startDelta:l,endDelta:l,standardProps:s},u=0,d=n;u<d.length;u++){(0,d[u])(c,e,t)}return c}function u(e){var t=e.opt("eventLongPressDelay");return null==t&&(t=e.opt("longPressDelay")),t}function f(e,t,n,i,r){for(var o=e.component.dateEnv,a=e.dateSpan.range.start,s=t.dateSpan.range.start,l=v.diffDates(a,s,o,e.component.largeUnit),c={},u=0,d=r;u<d.length;u++){var h=(0,d[u])(e,t);if(!1===h)return null;h&&_(c,h)}if(n){if(o.add(i.start,l)<i.end)return c.startDelta=l,c}else if(o.add(i.end,l)>i.start)return c.endDelta=l,c;return null}function p(e,t,n){for(var i=_({},t.leftoverProps),r=0,o=n.pluginSystem.hooks.externalDefTransforms;r<o.length;r++){var a=o[r];_(i,a(e,t))}var s=v.parseEventDef(i,t.sourceId,e.allDay,n.opt("forceEventDuration")||Boolean(t.duration),n),l=e.range.start;e.allDay&&t.startTime&&(l=n.dateEnv.add(l,t.startTime));var c=t.duration?n.dateEnv.add(l,t.duration):n.getDefaultEventEnd(e.allDay,l);return{def:s,instance:v.createEventInstance(s.defId,{start:l,end:c})}}function g(e){var t=m(e,"event"),n=t?JSON.parse(t):{create:!1};return v.parseDragMeta(n)}function m(e,t){var n=v.config.dataAttrPrefix,i=(n?n+"-":"")+t;return e.getAttribute("data-"+i)||""}var y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},_=function(){return(_=Object.assign||function o(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};v.config.touchMouseIgnoreWait=500;var b=0,w=0,x=!1,k=function(){function e(e){var i=this;this.subjectEl=null,this.downEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(e){if(!i.shouldIgnoreMouse()&&n(e)&&i.tryStart(e)){var t=i.createEventFromMouse(e,!0);i.emitter.trigger("pointerdown",t),i.initScrollWatch(t),i.shouldIgnoreMove||document.addEventListener("mousemove",i.handleMouseMove),document.addEventListener("mouseup",i.handleMouseUp)}},this.handleMouseMove=function(e){var t=i.createEventFromMouse(e);i.recordCoords(t),i.emitter.trigger("pointermove",t)},this.handleMouseUp=function(e){document.removeEventListener("mousemove",i.handleMouseMove),document.removeEventListener("mouseup",i.handleMouseUp),i.emitter.trigger("pointerup",i.createEventFromMouse(e)),i.cleanup()},this.handleTouchStart=function(e){if(i.tryStart(e)){i.isTouchDragging=!0;var t=i.createEventFromTouch(e,!0);i.emitter.trigger("pointerdown",t),i.initScrollWatch(t);var n=e.target;i.shouldIgnoreMove||n.addEventListener("touchmove",i.handleTouchMove),n.addEventListener("touchend",i.handleTouchEnd),n.addEventListener("touchcancel",i.handleTouchEnd),window.addEventListener("scroll",i.handleTouchScroll,!0)}},this.handleTouchMove=function(e){var t=i.createEventFromTouch(e);i.recordCoords(t),i.emitter.trigger("pointermove",t)},this.handleTouchEnd=function(e){if(i.isDragging){var t=e.target;t.removeEventListener("touchmove",i.handleTouchMove),t.removeEventListener("touchend",i.handleTouchEnd),t.removeEventListener("touchcancel",i.handleTouchEnd),window.removeEventListener("scroll",i.handleTouchScroll,!0),i.emitter.trigger("pointerup",i.createEventFromTouch(e)),i.cleanup(),i.isTouchDragging=!1,r()}},this.handleTouchScroll=function(){i.wasTouchScroll=!0},this.handleScroll=function(e){if(!i.shouldIgnoreMove){var t=window.pageXOffset-i.prevScrollX+i.prevPageX,n=window.pageYOffset-i.prevScrollY+i.prevPageY;i.emitter.trigger("pointermove",{origEvent:e,isTouch:i.isTouchDragging,subjectEl:i.subjectEl,pageX:t,pageY:n,deltaX:t-i.origPageX,deltaY:n-i.origPageY})}},this.containerEl=e,this.emitter=new v.EmitterMixin,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),t()}return e.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),i()},e.prototype.tryStart=function(e){var t=this.querySubjectEl(e),n=e.target;return!(!t||this.handleSelector&&!v.elementClosest(n,this.handleSelector))&&(this.subjectEl=t,this.downEl=n,this.isDragging=!0,!(this.wasTouchScroll=!1))},e.prototype.cleanup=function(){x=!1,this.isDragging=!1,this.subjectEl=null,this.downEl=null,this.destroyScrollWatch()},e.prototype.querySubjectEl=function(e){return this.selector?v.elementClosest(e.target,this.selector):this.containerEl},e.prototype.shouldIgnoreMouse=function(){return b||this.isTouchDragging},e.prototype.cancelTouchScroll=function(){this.isDragging&&(x=!0)},e.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},e.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},e.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},e.prototype.createEventFromMouse=function(e,t){var n=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}},e.prototype.createEventFromTouch=function(e,t){var n,i,r=e.touches,o=0,a=0;return r&&r.length?(n=r[0].pageX,i=r[0].pageY):(n=e.pageX,i=e.pageY),t?(this.origPageX=n,this.origPageY=i):(o=n-this.origPageX,a=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:o,deltaY:a}},e}(),S=function(){function e(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return e.prototype.start=function(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=n-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},e.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},e.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},e.prototype.stop=function(e,t){var n=this,i=function(){n.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},e.prototype.doRevertAnimation=function(e,t){var n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",v.applyStyle(n,{left:i.left,top:i.top}),v.whenTransitionDone(n,function(){n.style.transition="",e()})},e.prototype.cleanup=function(){this.mirrorEl&&(v.removeElement(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},e.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&v.applyStyle(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},e.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-dragging"),v.applyStyle(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},e}(),C=function(i){function e(e,t){var n=i.call(this)||this;return n.handleScroll=function(){n.scrollTop=n.scrollController.getScrollTop(),n.scrollLeft=n.scrollController.getScrollLeft(),n.handleScrollChange()},n.scrollController=e,n.doesListening=t,n.scrollTop=n.origScrollTop=e.getScrollTop(),n.scrollLeft=n.origScrollLeft=e.getScrollLeft(),n.scrollWidth=e.getScrollWidth(),n.scrollHeight=e.getScrollHeight(),n.clientWidth=e.getClientWidth(),n.clientHeight=e.getClientHeight(),n.clientRect=n.computeClientRect(),n.doesListening&&n.getEventTarget().addEventListener("scroll",n.handleScroll),n}return a(e,i),e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(v.ScrollController),D=function(n){function e(e,t){return n.call(this,new v.ElementScrollController(e),t)||this}return a(e,n),e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return v.computeInnerRect(this.scrollController.el)},e}(C),T=function(t){function e(e){return t.call(this,new v.WindowScrollController,e)||this}return a(e,t),e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(C),E="function"==typeof performance?performance.now:Date.now,M=function(){function e(){var n=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(n.isAnimating){var e=n.computeBestEdge(n.pointerScreenX+window.pageXOffset,n.pointerScreenY+window.pageYOffset);if(e){var t=E();n.handleSide(e,(t-n.msSinceRequest)/1e3),n.requestAnimation(t)}else n.isAnimating=!1}}}return e.prototype.start=function(e,t){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},e.prototype.handleMove=function(e,t){if(this.isEnabled){var n=e-window.pageXOffset,i=t-window.pageYOffset,r=null===this.pointerScreenY?0:i-this.pointerScreenY,o=null===this.pointerScreenX?0:n-this.pointerScreenX;r<0?this.everMovedUp=!0:0<r&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:0<o&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(E()))}},e.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++){t[e].destroy()}this.scrollCaches=null}},e.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},e.prototype.handleSide=function(e,t){var n=e.scrollCache,i=this.edgeThreshold,r=i-e.distance,o=r*r/(i*i)*this.maxVelocity*t,a=1;switch(e.name){case"left":a=-1;case"right":n.setScrollLeft(n.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":n.setScrollTop(n.getScrollTop()+o*a)}},e.prototype.computeBestEdge=function(e,t){for(var n=this.edgeThreshold,i=null,r=0,o=this.scrollCaches;r<o.length;r++){var a=o[r],s=a.clientRect,l=e-s.left,c=s.right-e,u=t-s.top,d=s.bottom-t;0<=l&&0<=c&&0<=u&&0<=d&&(u<=n&&this.everMovedUp&&a.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:a,name:"top",distance:u}),d<=n&&this.everMovedDown&&a.canScrollDown()&&(!i||i.distance>d)&&(i={scrollCache:a,name:"bottom",distance:d}),l<=n&&this.everMovedLeft&&a.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:a,name:"left",distance:l}),c<=n&&this.everMovedRight&&a.canScrollRight()&&(!i||i.distance>c)&&(i={scrollCache:a,name:"right",distance:c}))}return i},e.prototype.buildCaches=function(){return this.queryScrollEls().map(function(e){return e===window?new T(!1):new D(e,!1)})},e.prototype.queryScrollEls=function(){for(var e=[],t=0,n=this.scrollQuery;t<n.length;t++){var i=n[t];"object"==typeof i?e.push(i):e.push.apply(e,Array.prototype.slice.call(document.querySelectorAll(i)))}return e},e}(),I=function(n){function e(e){var r=n.call(this,e)||this;r.delay=null,r.minDistance=0,r.touchScrollAllowed=!0,r.mirrorNeedsRevert=!1,r.isInteracting=!1,r.isDragging=!1,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,r.delayTimeoutId=null,r.onPointerDown=function(e){r.isDragging||(r.isInteracting=!0,r.isDelayEnded=!1,r.isDistanceSurpassed=!1,v.preventSelection(document.body),v.preventContextMenu(document.body),e.isTouch||e.origEvent.preventDefault(),r.emitter.trigger("pointerdown",e),r.pointer.shouldIgnoreMove||(r.mirror.setIsVisible(!1),r.mirror.start(e.subjectEl,e.pageX,e.pageY),r.startDelay(e),r.minDistance||r.handleDistanceSurpassed(e)))},r.onPointerMove=function(e){if(r.isInteracting){if(r.emitter.trigger("pointermove",e),!r.isDistanceSurpassed){var t=r.minDistance,n=e.deltaX,i=e.deltaY;t*t<=n*n+i*i&&r.handleDistanceSurpassed(e)}r.isDragging&&("scroll"!==e.origEvent.type&&(r.mirror.handleMove(e.pageX,e.pageY),r.autoScroller.handleMove(e.pageX,e.pageY)),r.emitter.trigger("dragmove",e))}},r.onPointerUp=function(e){r.isInteracting&&(r.isInteracting=!1,v.allowSelection(document.body),v.allowContextMenu(document.body),r.emitter.trigger("pointerup",e),r.isDragging&&(r.autoScroller.stop(),r.tryStopDrag(e)),r.delayTimeoutId&&(clearTimeout(r.delayTimeoutId),r.delayTimeoutId=null))};var t=r.pointer=new k(e);return t.emitter.on("pointerdown",r.onPointerDown),t.emitter.on("pointermove",r.onPointerMove),t.emitter.on("pointerup",r.onPointerUp),r.mirror=new S,r.autoScroller=new M,r}return a(e,n),e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.startDelay=function(e){var t=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){t.delayTimeoutId=null,t.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)},e.prototype.handleDelayEnd=function(e){this.isDelayEnded=!0,this.tryStartDrag(e)},e.prototype.handleDistanceSurpassed=function(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)},e.prototype.tryStartDrag=function(e){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY),this.emitter.trigger("dragstart",e),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))},e.prototype.tryStopDrag=function(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))},e.prototype.stopDrag=function(e){this.isDragging=!1,this.emitter.trigger("dragend",e)},e.prototype.setIgnoreMove=function(e){this.pointer.shouldIgnoreMove=e},e.prototype.setMirrorIsVisible=function(e){this.mirror.setIsVisible(e)},e.prototype.setMirrorNeedsRevert=function(e){this.mirrorNeedsRevert=e},e.prototype.setAutoScrollEnabled=function(e){this.autoScroller.isEnabled=e},e}(v.ElementDragging),P=function(){function e(e){this.origRect=v.computeRect(e),this.scrollCaches=v.getClippingParents(e).map(function(e){return new D(e,!0)})}return e.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++){t[e].destroy()}},e.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,n=this.scrollCaches;t<n.length;t++){var i=n[t];e+=i.origScrollLeft-i.getScrollLeft()}return e},e.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,n=this.scrollCaches;t<n.length;t++){var i=n[t];e+=i.origScrollTop-i.getScrollTop()}return e},e.prototype.isWithinClipping=function(e,t){for(var n={left:e,top:t},i=0,r=this.scrollCaches;i<r.length;i++){var o=r[i];if(!s(o.getEventTarget())&&!v.pointInsideRect(n,o.clientRect))return!1}return!0},e}(),$=function(){function e(e,t){var n=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(e){var t=n.dragging;n.initialHit=null,n.movingHit=null,n.finalHit=null,n.prepareHits(),n.processFirstCoord(e),n.initialHit||!n.requireInitial?(t.setIgnoreMove(!1),n.emitter.trigger("pointerdown",e)):t.setIgnoreMove(!0)},this.handleDragStart=function(e){n.emitter.trigger("dragstart",e),n.handleMove(e,!0)},this.handleDragMove=function(e){n.emitter.trigger("dragmove",e),n.handleMove(e)},this.handlePointerUp=function(e){n.releaseHits(),n.emitter.trigger("pointerup",e)},this.handleDragEnd=function(e){n.movingHit&&n.emitter.trigger("hitupdate",null,!0,e),n.finalHit=n.movingHit,n.movingHit=null,n.emitter.trigger("dragend",e)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new v.EmitterMixin}return e.prototype.processFirstCoord=function(e){var t,n={left:e.pageX,top:e.pageY},i=n,r=e.subjectEl;r!==document&&(t=v.computeRect(r),i=v.constrainPoint(i,t));var o=this.initialHit=this.queryHitForOffset(i.left,i.top);if(o){if(this.useSubjectCenter&&t){var a=v.intersectRects(t,o.rect);a&&(i=v.getRectCenter(a))}this.coordAdjust=v.diffPoints(i,n)}else this.coordAdjust={left:0,top:0}},e.prototype.handleMove=function(e,t){var n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);!t&&h(this.movingHit,n)||(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))},e.prototype.prepareHits=function(){this.offsetTrackers=v.mapHash(this.droppableStore,function(e){return e.component.buildPositionCaches(),new P(e.el)})},e.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},e.prototype.queryHitForOffset=function(e,t){var n=this,i=n.droppableStore,r=n.offsetTrackers,o=null;for(var a in i){var s=i[a].component,l=r[a];if(l.isWithinClipping(e,t)){var c=l.computeLeft(),u=l.computeTop(),d=e-c,h=t-u,f=l.origRect,p=f.right-f.left,g=f.bottom-f.top;if(0<=d&&d<p&&0<=h&&h<g){var m=s.queryHit(d,h,p,g);!m||s.props.dateProfile&&!v.rangeContainsRange(s.props.dateProfile.activeRange,m.dateSpan.range)||o&&!(m.layer>o.layer)||(m.rect.left+=c,m.rect.right+=c,m.rect.top+=u,m.rect.bottom+=u,o=m)}}}return o},e}(),R=function(i){function e(e){var o=i.call(this,e)||this;o.handlePointerDown=function(){var e=o.dragging;e.setIgnoreMove(!o.component.isValidDateDownEl(e.pointer.downEl))},o.handleDragEnd=function(e){var t=o.component;if(!o.dragging.pointer.wasTouchScroll){var n=o.hitDragging,i=n.initialHit,r=n.finalHit;i&&r&&h(i,r)&&t.calendar.triggerDateClick(i.dateSpan,i.dayEl,t.view,e.origEvent)}};var t=e.component;o.dragging=new I(t.el),o.dragging.autoScroller.isEnabled=!1;var n=o.hitDragging=new $(o.dragging,v.interactionSettingsToStore(e));return n.emitter.on("pointerdown",o.handlePointerDown),n.emitter.on("dragend",o.handleDragEnd),o}return a(e,i),e.prototype.destroy=function(){this.dragging.destroy()},e}(v.Interaction),O=function(r){function e(e){var o=r.call(this,e)||this;o.dragSelection=null,o.handlePointerDown=function(e){var t=o,n=t.component,i=t.dragging,r=n.opt("selectable")&&n.isValidDateDownEl(e.origEvent.target);i.setIgnoreMove(!r),i.delay=e.isTouch?l(n):null},o.handleDragStart=function(e){o.component.calendar.unselect(e)},o.handleHitUpdate=function(e,t){var n=o.component.calendar,i=null,r=!1;e&&((i=c(o.hitDragging.initialHit,e,n.pluginSystem.hooks.dateSelectionTransformers))&&o.component.isDateSelectionValid(i)||(r=!0,i=null)),i?n.dispatch({type:"SELECT_DATES",selection:i}):t||n.dispatch({type:"UNSELECT_DATES"}),r?v.disableCursor():v.enableCursor(),t||(o.dragSelection=i)},o.handlePointerUp=function(e){o.dragSelection&&(o.component.calendar.triggerDateSelect(o.dragSelection,e),o.dragSelection=null)};var t=e.component,n=o.dragging=new I(t.el);n.touchScrollAllowed=!1,n.minDistance=t.opt("selectMinDistance")||0,n.autoScroller.isEnabled=t.opt("dragScroll");var i=o.hitDragging=new $(o.dragging,v.interactionSettingsToStore(e));return i.emitter.on("pointerdown",o.handlePointerDown),i.emitter.on("dragstart",o.handleDragStart),i.emitter.on("hitupdate",o.handleHitUpdate),i.emitter.on("pointerup",o.handlePointerUp),o}return a(e,r),e.prototype.destroy=function(){this.dragging.destroy()},e}(v.Interaction),A=function(r){function o(e){var m=r.call(this,e)||this;m.subjectSeg=null,m.isDragging=!1,m.eventRange=null,m.relevantEvents=null,m.receivingCalendar=null,m.validMutation=null,m.mutatedRelevantEvents=null,m.handlePointerDown=function(e){var t=e.origEvent.target,n=m,i=n.component,r=n.dragging,o=r.mirror,a=i.calendar,s=m.subjectSeg=v.getElSeg(e.subjectEl),l=(m.eventRange=s.eventRange).instance.instanceId;m.relevantEvents=v.getRelevantEvents(a.state.eventStore,l),r.minDistance=e.isTouch?0:i.opt("eventDragMinDistance"),r.delay=e.isTouch&&l!==i.props.eventSelection?u(i):null,o.parentNode=a.el,o.revertDuration=i.opt("dragRevertDuration");var c=i.isValidSegDownEl(t)&&!v.elementClosest(t,".fc-resizer");r.setIgnoreMove(!c),m.isDragging=c&&e.subjectEl.classList.contains("fc-draggable")},m.handleDragStart=function(e){var t=m.component.calendar,n=m.eventRange,i=n.instance.instanceId;e.isTouch?i!==m.component.props.eventSelection&&t.dispatch({type:"SELECT_EVENT",eventInstanceId:i}):t.dispatch({type:"UNSELECT_EVENT"}),m.isDragging&&(t.unselect(e),t.publiclyTrigger("eventDragStart",[{el:m.subjectSeg.el,event:new v.EventApi(t,n.def,n.instance),jsEvent:e.origEvent,view:m.component.view}]))},m.handleHitUpdate=function(e,t){if(m.isDragging){var n=m.relevantEvents,i=m.hitDragging.initialHit,r=m.component.calendar,o=null,a=null,s=null,l=!1,c={affectedEvents:n,mutatedEvents:v.createEmptyEventStore(),isEvent:!0,origSeg:m.subjectSeg};if(e){var u=e.component;r===(o=u.calendar)||u.opt("editable")&&u.opt("droppable")?(a=d(i,e,o.pluginSystem.hooks.eventDragMutationMassagers))&&(s=v.applyMutationToEventStore(n,o.eventUiBases,a,o),c.mutatedEvents=s,u.isInteractionValid(c)||(l=!0,s=a=null,c.mutatedEvents=v.createEmptyEventStore())):o=null}m.displayDrag(o,c),l?v.disableCursor():v.enableCursor(),t||(r===o&&h(i,e)&&(a=null),m.dragging.setMirrorNeedsRevert(!a),m.dragging.setMirrorIsVisible(!e||!document.querySelector(".fc-mirror")),m.receivingCalendar=o,m.validMutation=a,m.mutatedRelevantEvents=s)}},m.handlePointerUp=function(){m.isDragging||m.cleanup()},m.handleDragEnd=function(e){if(m.isDragging){var t=m.component.calendar,n=m.component.view,i=m.receivingCalendar,r=m.eventRange.def,o=m.eventRange.instance,a=new v.EventApi(t,r,o),s=m.relevantEvents,l=m.mutatedRelevantEvents,c=m.hitDragging.finalHit;if(m.clearDrag(),t.publiclyTrigger("eventDragStop",[{el:m.subjectSeg.el,event:a,jsEvent:e.origEvent,view:n}]),m.validMutation){if(i===t){t.dispatch({type:"MERGE_EVENTS",eventStore:l});for(var u={},d=0,h=t.pluginSystem.hooks.eventDropTransformers;d<h.length;d++){var f=h[d];_(u,f(m.validMutation,t))}var p=_({},u,{el:e.subjectEl,delta:m.validMutation.startDelta,oldEvent:a,event:new v.EventApi(t,l.defs[r.defId],o?l.instances[o.instanceId]:null),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:s})},jsEvent:e.origEvent,view:n});t.publiclyTrigger("eventDrop",[p])}else if(i){t.publiclyTrigger("eventLeave",[{draggedEl:e.subjectEl,event:a,view:n}]),t.dispatch({type:"REMOVE_EVENT_INSTANCES",instances:m.mutatedRelevantEvents.instances}),i.dispatch({type:"MERGE_EVENTS",eventStore:m.mutatedRelevantEvents}),e.isTouch&&i.dispatch({type:"SELECT_EVENT",eventInstanceId:o.instanceId});var g=_({},i.buildDatePointApi(c.dateSpan),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:c.component});i.publiclyTrigger("drop",[g]),i.publiclyTrigger("eventReceive",[{draggedEl:e.subjectEl,event:new v.EventApi(i,l.defs[r.defId],l.instances[o.instanceId]),view:c.component}])}}else t.publiclyTrigger("_noEventDrop")}m.cleanup()};var t=m.component,n=m.dragging=new I(t.el);n.pointer.selector=o.SELECTOR,n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.opt("dragScroll");var i=m.hitDragging=new $(m.dragging,v.interactionSettingsStore);return i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",m.handlePointerDown),i.emitter.on("dragstart",m.handleDragStart),i.emitter.on("hitupdate",m.handleHitUpdate),i.emitter.on("pointerup",m.handlePointerUp),i.emitter.on("dragend",m.handleDragEnd),m}return a(o,r),o.prototype.destroy=function(){this.dragging.destroy()},o.prototype.displayDrag=function(e,t){var n=this.component.calendar,i=this.receivingCalendar;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:v.createEmptyEventStore(),isEvent:!0,origSeg:t.origSeg}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},o.prototype.clearDrag=function(){var e=this.component.calendar,t=this.receivingCalendar;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})},o.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingCalendar=null,this.validMutation=null,this.mutatedRelevantEvents=null},o.SELECTOR=".fc-draggable, .fc-resizable",o}(v.Interaction),N=function(r){function e(e){var d=r.call(this,e)||this;d.draggingSeg=null,d.eventRange=null,d.relevantEvents=null,d.validMutation=null,d.mutatedRelevantEvents=null,d.handlePointerDown=function(e){var t=d.component,n=d.querySeg(e),i=d.eventRange=n.eventRange;d.dragging.minDistance=t.opt("eventDragMinDistance"),d.dragging.setIgnoreMove(!d.component.isValidSegDownEl(e.origEvent.target)||e.isTouch&&d.component.props.eventSelection!==i.instance.instanceId)},d.handleDragStart=function(e){var t=d.component.calendar,n=d.eventRange;d.relevantEvents=v.getRelevantEvents(t.state.eventStore,d.eventRange.instance.instanceId),d.draggingSeg=d.querySeg(e),t.unselect(),t.publiclyTrigger("eventResizeStart",[{el:d.draggingSeg.el,event:new v.EventApi(t,n.def,n.instance),jsEvent:e.origEvent,view:d.component.view}])},d.handleHitUpdate=function(e,t,n){var i=d.component.calendar,r=d.relevantEvents,o=d.hitDragging.initialHit,a=d.eventRange.instance,s=null,l=null,c=!1,u={affectedEvents:r,mutatedEvents:v.createEmptyEventStore(),isEvent:!0,origSeg:d.draggingSeg};e&&(s=f(o,e,n.subjectEl.classList.contains("fc-start-resizer"),a.range,i.pluginSystem.hooks.eventResizeJoinTransforms)),s&&(l=v.applyMutationToEventStore(r,i.eventUiBases,s,i),u.mutatedEvents=l,d.component.isInteractionValid(u)||(c=!0,l=s=null,u.mutatedEvents=null)),l?i.dispatch({type:"SET_EVENT_RESIZE",state:u}):i.dispatch({type:"UNSET_EVENT_RESIZE"}),c?v.disableCursor():v.enableCursor(),t||(s&&h(o,e)&&(s=null),d.validMutation=s,d.mutatedRelevantEvents=l)},d.handleDragEnd=function(e){var t=d.component.calendar,n=d.component.view,i=d.eventRange.def,r=d.eventRange.instance,o=new v.EventApi(t,i,r),a=d.relevantEvents,s=d.mutatedRelevantEvents;t.publiclyTrigger("eventResizeStop",[{el:d.draggingSeg.el,event:o,jsEvent:e.origEvent,view:n}]),d.validMutation?(t.dispatch({type:"MERGE_EVENTS",eventStore:s}),t.publiclyTrigger("eventResize",[{el:d.draggingSeg.el,startDelta:d.validMutation.startDelta||v.createDuration(0),endDelta:d.validMutation.endDelta||v.createDuration(0),prevEvent:o,event:new v.EventApi(t,s.defs[i.defId],r?s.instances[r.instanceId]:null),revert:function(){t.dispatch({type:"MERGE_EVENTS",eventStore:a})},jsEvent:e.origEvent,view:n}])):t.publiclyTrigger("_noEventResize"),d.draggingSeg=null,d.relevantEvents=null,d.validMutation=null};var t=e.component,n=d.dragging=new I(t.el);n.pointer.selector=".fc-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.opt("dragScroll");var i=d.hitDragging=new $(d.dragging,v.interactionSettingsToStore(e))
;return i.emitter.on("pointerdown",d.handlePointerDown),i.emitter.on("dragstart",d.handleDragStart),i.emitter.on("hitupdate",d.handleHitUpdate),i.emitter.on("dragend",d.handleDragEnd),d}return a(e,r),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySeg=function(e){return v.getElSeg(v.elementClosest(e.subjectEl,this.component.fgSegSelector))},e}(v.Interaction),H=function(){function e(e){var s=this;this.isRecentPointerDateSelect=!1,this.onSelect=function(e){e.jsEvent&&(s.isRecentPointerDateSelect=!0)},this.onDocumentPointerUp=function(e){var t=s,n=t.calendar,i=t.documentPointer,r=n.state;if(!i.wasTouchScroll){if(r.dateSelection&&!s.isRecentPointerDateSelect){var o=n.viewOpt("unselectAuto"),a=n.viewOpt("unselectCancel");!o||o&&v.elementClosest(i.downEl,a)||n.unselect(e)}r.eventSelection&&!v.elementClosest(i.downEl,A.SELECTOR)&&n.dispatch({type:"UNSELECT_EVENT"})}s.isRecentPointerDateSelect=!1},this.calendar=e;var t=this.documentPointer=new k(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerup",this.onDocumentPointerUp),e.on("select",this.onSelect)}return e.prototype.destroy=function(){this.calendar.off("select",this.onSelect),this.documentPointer.destroy()},e}(),L=function(){function e(e,t){var l=this;this.receivingCalendar=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(e){l.dragMeta=l.buildDragMeta(e.subjectEl)},this.handleHitUpdate=function(e,t,n){var i=l.hitDragging.dragging,r=null,o=null,a=!1,s={affectedEvents:v.createEmptyEventStore(),mutatedEvents:v.createEmptyEventStore(),isEvent:l.dragMeta.create,origSeg:null};e&&(r=e.component.calendar,l.canDropElOnCalendar(n.subjectEl,r)&&(o=p(e.dateSpan,l.dragMeta,r),s.mutatedEvents=v.eventTupleToStore(o),(a=!v.isInteractionValid(s,r))&&(s.mutatedEvents=v.createEmptyEventStore(),o=null))),l.displayDrag(r,s),i.setMirrorIsVisible(t||!o||!document.querySelector(".fc-mirror")),a?v.disableCursor():v.enableCursor(),t||(i.setMirrorNeedsRevert(!o),l.receivingCalendar=r,l.droppableEvent=o)},this.handleDragEnd=function(e){var t=l,n=t.receivingCalendar,i=t.droppableEvent;if(l.clearDrag(),n&&i){var r=l.hitDragging.finalHit,o=r.component.view,a=l.dragMeta,s=_({},n.buildDatePointApi(r.dateSpan),{draggedEl:e.subjectEl,jsEvent:e.origEvent,view:o});n.publiclyTrigger("drop",[s]),a.create&&(n.dispatch({type:"MERGE_EVENTS",eventStore:v.eventTupleToStore(i)}),e.isTouch&&n.dispatch({type:"SELECT_EVENT",eventInstanceId:i.instance.instanceId}),n.publiclyTrigger("eventReceive",[{draggedEl:e.subjectEl,event:new v.EventApi(n,i.def,i.instance),view:o}]))}l.receivingCalendar=null,l.droppableEvent=null};var n=this.hitDragging=new $(e,v.interactionSettingsStore);n.requireInitial=!1,n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}return e.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?v.parseDragMeta(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?v.parseDragMeta(this.suppliedDragMeta(e)):g(e)},e.prototype.displayDrag=function(e,t){var n=this.receivingCalendar;n&&n!==e&&n.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},e.prototype.clearDrag=function(){this.receivingCalendar&&this.receivingCalendar.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.canDropElOnCalendar=function(e,t){var n=t.opt("dropAccept");return"function"==typeof n?n(e):"string"!=typeof n||!n||Boolean(v.elementMatches(e,n))},e}();v.config.dataAttrPrefix="";var F=function(){function e(e,t){var o=this;void 0===t&&(t={}),this.handlePointerDown=function(e){var t=o.dragging,n=o.settings,i=n.minDistance,r=n.longPressDelay;t.minDistance=null!=i?i:e.isTouch?0:v.globalDefaults.eventDragMinDistance,t.delay=e.isTouch?null!=r?r:v.globalDefaults.longPressDelay:0},this.handleDragStart=function(e){e.isTouch&&o.dragging.delay&&e.subjectEl.classList.contains("fc-event")&&o.dragging.mirror.getMirrorEl().classList.add("fc-selected")},this.settings=t;var n=this.dragging=new I(e);n.touchScrollAllowed=!1,null!=t.itemSelector&&(n.pointer.selector=t.itemSelector),null!=t.appendTo&&(n.mirror.parentNode=t.appendTo),n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),new L(n,t.eventData)}return e.prototype.destroy=function(){this.dragging.destroy()},e}(),j=function(i){function e(e){var t=i.call(this,e)||this;t.shouldIgnoreMove=!1,t.mirrorSelector="",t.currentMirrorEl=null,t.handlePointerDown=function(e){t.emitter.trigger("pointerdown",e),t.shouldIgnoreMove||t.emitter.trigger("dragstart",e)},t.handlePointerMove=function(e){t.shouldIgnoreMove||t.emitter.trigger("dragmove",e)},t.handlePointerUp=function(e){t.emitter.trigger("pointerup",e),t.shouldIgnoreMove||t.emitter.trigger("dragend",e)};var n=t.pointer=new k(e);return n.emitter.on("pointerdown",t.handlePointerDown),n.emitter.on("pointermove",t.handlePointerMove),n.emitter.on("pointerup",t.handlePointerUp),t}return a(e,i),e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(e){this.shouldIgnoreMove=e},e.prototype.setMirrorIsVisible=function(e){if(e)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var t=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;t&&((this.currentMirrorEl=t).style.visibility="hidden")}},e}(v.ElementDragging),z=function(){function e(e,t){var n=document;e===document||e instanceof Element?(n=e,t=t||{}):t=e||{};var i=this.dragging=new j(n);"string"==typeof t.itemSelector?i.pointer.selector=t.itemSelector:n===document&&(i.pointer.selector="[data-event]"),"string"==typeof t.mirrorSelector&&(i.mirrorSelector=t.mirrorSelector),new L(i,t.eventData)}return e.prototype.destroy=function(){this.dragging.destroy()},e}(),B=v.createPlugin({componentInteractions:[R,O,A,N],calendarInteractions:[H],elementDraggingImpl:I});e.Draggable=F,e.FeaturefulElementDragging=I,e.PointerDragging=k,e.ThirdPartyDraggable=z,e["default"]=B,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],t):t((e=e||self).FullCalendarDayGrid={},e.FullCalendar)}(this,function(e,T){"use strict";function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function l(e,t){var n,i;for(n=0;n<t.length;n++)if((i=t[n]).firstCol<=e.lastCol&&i.lastCol>=e.firstCol)return!0;return!1}function c(e,t){return e.leftCol-t.leftCol}function o(e,t,n,i){var r=n.dateEnv,o=n.theme,a=T.rangeContainsMarker(t.activeRange,e),s=T.getDayClasses(e,t,n);return s.unshift("fc-day",o.getClass("widgetContent")),'<td class="'+s.join(" ")+'"'+(a?' data-date="'+r.formatIso(e,{omitTime:!0})+'"':"")+(i?" "+i:"")+"></td>"}function a(e,t){var n=new T.DaySeries(e.renderRange,t);return new T.DayTable(n,/year|month|week/.test(e.currentRangeUnit))}var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},d=function(){return(d=Object.assign||function o(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},t=function(c){function e(){return null!==c&&c.apply(this,arguments)||this}return r(e,c),e.prototype.buildRenderRange=function(e,t,n){var i,r=this.dateEnv,o=c.prototype.buildRenderRange.call(this,e,t,n),a=o.start,s=o.end;if(/^(year|month)$/.test(t)&&(a=r.startOfWeek(a),(i=r.startOfWeek(s)).valueOf()!==s.valueOf()&&(s=T.addWeeks(i,1))),this.options.monthMode&&this.options.fixedWeekCount){var l=Math.ceil(T.diffWeeks(a,s));s=T.addWeeks(s,6-l)}return{start:a,end:s}},e}(T.DateProfileGenerator),f=function(){function e(e){var t=this;this.isHidden=!0,this.margin=10,this.documentMousedown=function(e){t.el&&!t.el.contains(e.target)&&t.hide()},this.options=e}return e.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.style.display="",this.position(),this.isHidden=!1,this.trigger("show"))},e.prototype.hide=function(){this.isHidden||(this.el.style.display="none",this.isHidden=!0,this.trigger("hide"))},e.prototype.render=function(){var e=this,t=this.options,n=this.el=T.createElement("div",{className:"fc-popover "+(t.className||""),style:{top:"0",left:"0"}});"function"==typeof t.content&&t.content(n),t.parentEl.appendChild(n),T.listenBySelector(n,"click",".fc-close",function(){e.hide()}),t.autoHide&&document.addEventListener("mousedown",this.documentMousedown)},e.prototype.destroy=function(){this.hide(),this.el&&(T.removeElement(this.el),this.el=null),document.removeEventListener("mousedown",this.documentMousedown)},e.prototype.position=function(){var e,t,n=this.options,i=this.el,r=i.getBoundingClientRect(),o=T.computeRect(i.offsetParent),a=T.computeClippingRect(n.parentEl);e=n.top||0,t=n.left!==undefined?n.left:n.right!==undefined?n.right-r.width:0,e=Math.min(e,a.bottom-r.height-this.margin),e=Math.max(e,a.top+this.margin),t=Math.min(t,a.right-r.width-this.margin),t=Math.max(t,a.left+this.margin),T.applyStyle(i,{top:e-o.top,left:t-o.left})},e.prototype.trigger=function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},e}(),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.renderSegHtml=function(e,t){var n,i,r=this.context.options,o=e.eventRange,a=o.def,s=o.ui,l=a.allDay,c=s.startEditable,u=l&&e.isStart&&s.durationEditable&&r.eventResizableFromStart,d=l&&e.isEnd&&s.durationEditable,h=this.getSegClasses(e,c,u||d,t),f=T.cssToStr(this.getSkinCss(s)),p="";return h.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getTimeText(o))&&(p='<span class="fc-time">'+T.htmlEscape(n)+"</span>"),i='<span class="fc-title">'+(T.htmlEscape(a.title||"")||"&nbsp;")+"</span>",'<a class="'+h.join(" ")+'"'+(a.url?' href="'+T.htmlEscape(a.url)+'"':"")+(f?' style="'+f+'"':"")+'><div class="fc-content">'+("rtl"===r.dir?i+" "+p:p+" "+i)+"</div>"+(u?'<div class="fc-resizer fc-start-resizer"></div>':"")+(d?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},t.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},t.prototype.computeDisplayEventEnd=function(){return!1},t}(T.FgEventRenderer),u=function(n){function e(e){var t=n.call(this,e.context)||this;return t.dayGrid=e,t}return r(e,n),e.prototype.attachSegs=function(e,t){var n=this.rowStructs=this.renderSegRows(e);this.dayGrid.rowEls.forEach(function(e,t){e.querySelector(".fc-content-skeleton > table").appendChild(n[t].tbodyEl)}),t||this.dayGrid.removeSegPopover()},e.prototype.detachSegs=function(){for(var e,t=this.rowStructs||[];e=t.pop();)T.removeElement(e.tbodyEl);this.rowStructs=null},e.prototype.renderSegRows=function(e){var t,n,i=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)i.push(this.renderSegRow(n,t[n]));return i},e.prototype.renderSegRow=function(e,t){function n(e){for(;o<e;)(c=(y[i-1]||[])[o])?c.rowSpan=(c.rowSpan||1)+1:(c=document.createElement("td"),a.appendChild(c)),v[i][o]=c,y[i][o]=c,o++}var i,r,o,a,s,l,c,u=this.dayGrid,d=u.colCnt,h=u.isRtl,f=this.buildSegLevels(t),p=Math.max(1,f.length),g=document.createElement("tbody"),m=[],v=[],y=[];for(i=0;i<p;i++){if(r=f[i],o=0,a=document.createElement("tr"),m.push([]),v.push([]),y.push([]),r)for(s=0;s<r.length;s++){l=r[s];var _=h?d-1-l.lastCol:l.firstCol,b=h?d-1-l.firstCol:l.lastCol;for(n(_),c=T.createElement("td",{className:"fc-event-container"},l.el),_!==b?c.colSpan=b-_+1:y[i][o]=c;o<=b;)v[i][o]=c,m[i][o]=l,o++;a.appendChild(c)}n(d);var w=u.renderProps.renderIntroHtml();w&&(u.isRtl?T.appendToElement(a,w):T.prependToElement(a,w)),g.appendChild(a)}return{row:e,tbodyEl:g,cellMatrix:v,segMatrix:m,segLevels:f,segs:t}},e.prototype.buildSegLevels=function(e){var t,n,i,r=this.dayGrid,o=r.isRtl,a=r.colCnt,s=[];for(e=this.sortEventSegs(e),t=0;t<e.length;t++){for(n=e[t],i=0;i<s.length&&l(n,s[i]);i++);n.level=i,n.leftCol=o?a-1-n.lastCol:n.firstCol,n.rightCol=o?a-1-n.firstCol:n.lastCol,(s[i]||(s[i]=[])).push(n)}for(i=0;i<s.length;i++)s[i].sort(c);return s},e.prototype.groupSegRows=function(e){var t,n=[];for(t=0;t<this.dayGrid.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n},e.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},e}(n),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.attachSegs=function(e,t){var o=t.sourceSeg,a=this.rowStructs=this.renderSegRows(e);this.dayGrid.rowEls.forEach(function(e,t){var n,i,r=T.htmlToElement('<div class="fc-mirror-skeleton"><table></table></div>');o&&o.row===t?n=o.el:(n=e.querySelector(".fc-content-skeleton tbody"))||(n=e.querySelector(".fc-content-skeleton table")),i=n.getBoundingClientRect().top-e.getBoundingClientRect().top,r.style.top=i+"px",r.querySelector("table").appendChild(a[t].tbodyEl),e.appendChild(r)})},t}(u),p=function(n){function e(e){var t=n.call(this,e.context)||this;return t.fillSegTag="td",t.dayGrid=e,t}return r(e,n),e.prototype.renderSegs=function(e,t){"bgEvent"===e&&(t=t.filter(function(e){return e.eventRange.def.allDay})),n.prototype.renderSegs.call(this,e,t)},e.prototype.attachSegs=function(e,t){var n,i,r,o=[];for(n=0;n<t.length;n++)i=t[n],r=this.renderFillRow(e,i),this.dayGrid.rowEls[i.row].appendChild(r),o.push(r);return o},e.prototype.renderFillRow=function(e,t){var n,i,r,o=this.dayGrid,a=o.colCnt,s=o.isRtl,l=s?a-1-t.lastCol:t.firstCol,c=(s?a-1-t.firstCol:t.lastCol)+1;n="businessHours"===e?"bgevent":e.toLowerCase(),r=(i=T.htmlToElement('<div class="fc-'+n+'-skeleton"><table><tr></tr></table></div>')).getElementsByTagName("tr")[0],0<l&&T.appendToElement(r,new Array(l+1).join("<td></td>")),t.el.colSpan=c-l,r.appendChild(t.el),c<a&&T.appendToElement(r,new Array(a-c+1).join("<td></td>"));var u=o.renderProps.renderIntroHtml();return u&&(o.isRtl?T.appendToElement(r,u):T.prependToElement(r,u)),i},e}(T.FillRenderer),g=function(o){function e(e,t){var n=o.call(this,e,t)||this,i=n.eventRenderer=new s(n),r=n.renderFrame=T.memoizeRendering(n._renderFrame);return n.renderFgEvents=T.memoizeRendering(i.renderSegs.bind(i),i.unrender.bind(i),[r]),n.renderEventSelection=T.memoizeRendering(i.selectByInstanceId.bind(i),i.unselectByInstanceId.bind(i),[n.renderFgEvents]),n.renderEventDrag=T.memoizeRendering(i.hideByHash.bind(i),i.showByHash.bind(i),[r]),n.renderEventResize=T.memoizeRendering(i.hideByHash.bind(i),i.showByHash.bind(i),[r]),e.calendar.registerInteractiveComponent(n,{el:n.el,useEventCenter:!1}),n}return r(e,o),e.prototype.render=function(e){this.renderFrame(e.date),this.renderFgEvents(e.fgSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDragInstances),this.renderEventResize(e.eventResizeInstances)},e.prototype.destroy=function(){o.prototype.destroy.call(this),this.renderFrame.unrender(),this.calendar.unregisterInteractiveComponent(this)},e.prototype._renderFrame=function(e){var t=this,n=t.theme,i=t.dateEnv.format(e,T.createFormatter(this.opt("dayPopoverFormat")));this.el.innerHTML='<div class="fc-header '+n.getClass("popoverHeader")+'"><span class="fc-title">'+T.htmlEscape(i)+'</span><span class="fc-close '+n.getIconClass("close")+'"></span></div><div class="fc-body '+n.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>',this.segContainerEl=this.el.querySelector(".fc-event-container")},e.prototype.queryHit=function(e,t,n,i){var r=this.props.date;if(e<n&&t<i)return{component:this,dateSpan:{allDay:!0,range:{start:r,end:T.addDays(r,1)}},dayEl:this.el,rect:{left:0,top:0,right:n,bottom:i},layer:1}},e}(T.DateComponent),s=function(n){function e(e){var t=n.call(this,e.context)||this;return t.dayTile=e,t}return r(e,n),e.prototype.attachSegs=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];this.dayTile.segContainerEl.appendChild(i.el)}},e.prototype.detachSegs=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];T.removeElement(i.el)}},e}(n),m=function(){function e(e){this.context=e}return e.prototype.renderHtml=function(e){var t=[];e.renderIntroHtml&&t.push(e.renderIntroHtml());for(var n=0,i=e.cells;n<i.length;n++){var r=i[n];t.push(o(r.date,e.dateProfile,this.context,r.htmlAttrs))}return e.cells.length||t.push('<td class="fc-day '+this.context.theme.getClass("widgetContent")+'"></td>'),"rtl"===this.context.options.dir&&t.reverse(),"<tr>"+t.join("")+"</tr>"},e}(),v=T.createFormatter({day:"numeric"}),y=T.createFormatter({week:"numeric"}),_=function(s){function e(e,t,n){var i=s.call(this,e,t)||this;i.bottomCoordPadding=0,i.isCellSizesDirty=!1;var r=i.eventRenderer=new u(i),o=i.fillRenderer=new p(i);i.mirrorRenderer=new h(i);var a=i.renderCells=T.memoizeRendering(i._renderCells,i._unrenderCells);return i.renderBusinessHours=T.memoizeRendering(o.renderSegs.bind(o,"businessHours"),o.unrender.bind(o,"businessHours"),[a]),i.renderDateSelection=T.memoizeRendering(o.renderSegs.bind(o,"highlight"),o.unrender.bind(o,"highlight"),[a]),i.renderBgEvents=T.memoizeRendering(o.renderSegs.bind(o,"bgEvent"),o.unrender.bind(o,"bgEvent"),[a]),i.renderFgEvents=T.memoizeRendering(r.renderSegs.bind(r),r.unrender.bind(r),[a]),i.renderEventSelection=T.memoizeRendering(r.selectByInstanceId.bind(r),r.unselectByInstanceId.bind(r),[i.renderFgEvents]),i.renderEventDrag=T.memoizeRendering(i._renderEventDrag,i._unrenderEventDrag,[a]),i.renderEventResize=T.memoizeRendering(i._renderEventResize,i._unrenderEventResize,[a]),i.renderProps=n,i}return r(e,s),e.prototype.render=function(e){var t=e.cells;this.rowCnt=t.length,this.colCnt=t[0].length,this.renderCells(t,e.isRigid),this.renderBusinessHours(e.businessHourSegs),this.renderDateSelection(e.dateSelectionSegs),this.renderBgEvents(e.bgEventSegs),this.renderFgEvents(e.fgEventSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDrag),this.renderEventResize(e.eventResize),this.segPopoverTile&&this.updateSegPopoverTile()},e.prototype.destroy=function(){s.prototype.destroy.call(this),this.renderCells.unrender()},e.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date;return{start:n,end:T.addDays(n,1)}},e.prototype.updateSegPopoverTile=function(e,t){var n=this.props;this.segPopoverTile.receiveProps({date:e||this.segPopoverTile.props.date,fgSegs:t||this.segPopoverTile.props.fgSegs,eventSelection:n.eventSelection,eventDragInstances:n.eventDrag?n.eventDrag.affectedInstances:null,eventResizeInstances:n.eventResize?n.eventResize.affectedInstances:null})},e.prototype._renderCells=function(e,t){var n,i,r=this,o=r.view,a=r.dateEnv,s=this,l=s.rowCnt,c=s.colCnt,u="";for(n=0;n<l;n++)u+=this.renderDayRowHtml(n,t);for(this.el.innerHTML=u,this.rowEls=T.findElements(this.el,".fc-row"),this.cellEls=T.findElements(this.el,".fc-day, .fc-disabled-day"),this.isRtl&&this.cellEls.reverse(),this.rowPositions=new T.PositionCache(this.el,this.rowEls,!1,!0),this.colPositions=new T.PositionCache(this.el,this.cellEls.slice(0,c),!0,!1),n=0;n<l;n++)for(i=0;i<c;i++)this.publiclyTrigger("dayRender",[{date:a.toDate(e[n][i].date),el:this.getCellEl(n,i),view:o}]);this.isCellSizesDirty=!0},e.prototype._unrenderCells=function(){this.removeSegPopover()},e.prototype.renderDayRowHtml=function(e,t){var n=this.theme,i=["fc-row","fc-week",n.getClass("dayRow")];t&&i.push("fc-rigid");var r=new m(this.context);return'<div class="'+i.join(" ")+'"><div class="fc-bg"><table class="'+n.getClass("tableGrid")+'">'+r.renderHtml({cells:this.props.cells[e],dateProfile:this.props.dateProfile,renderIntroHtml:this.renderProps.renderBgIntroHtml})+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},e.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.renderProps.cellWeekNumbersVisible||this.renderProps.colWeekNumbersVisible},e.prototype.getIsDayNumbersVisible=function(){return 1<this.rowCnt},e.prototype.renderNumberTrHtml=function(e){var t=this.renderProps.renderNumberIntroHtml(e,this);return"<tr>"+(this.isRtl?"":t)+this.renderNumberCellsHtml(e)+(this.isRtl?t:"")+"</tr>"},e.prototype.renderNumberCellsHtml=function(e){var t,n,i=[];for(t=0;t<this.colCnt;t++)n=this.props.cells[e][t].date,i.push(this.renderNumberCellHtml(n));return this.isRtl&&i.reverse(),i.join("")},e.prototype.renderNumberCellHtml=function(e){var t,n,i=this,r=i.view,o=i.dateEnv,a="",s=T.rangeContainsMarker(this.props.dateProfile.activeRange,e),l=this.getIsDayNumbersVisible()&&s;return l||this.renderProps.cellWeekNumbersVisible?((t=T.getDayClasses(e,this.props.dateProfile,this.context)).unshift("fc-day-top"),this.renderProps.cellWeekNumbersVisible&&(n=o.weekDow),a+='<td class="'+t.join(" ")+'"'+(s?' data-date="'+o.formatIso(e,{omitTime:!0})+'"':"")+">",this.renderProps.cellWeekNumbersVisible&&e.getUTCDay()===n&&(a+=T.buildGotoAnchorHtml(r,{date:e,type:"week"},{"class":"fc-week-number"},o.format(e,y))),l&&(a+=T.buildGotoAnchorHtml(r,e,{"class":"fc-day-number"},o.format(e,v))),a+="</td>"):"<td></td>"},e.prototype.updateSize=function(e){var t=this,n=t.fillRenderer,i=t.eventRenderer,r=t.mirrorRenderer;(e||this.isCellSizesDirty||this.view.calendar.isEventsUpdated)&&(this.buildPositionCaches(),this.isCellSizesDirty=!1),n.computeSizes(e),i.computeSizes(e),r.computeSizes(e),n.assignSizes(e),i.assignSizes(e),r.assignSizes(e)},e.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildRowPositions()},e.prototype.buildColPositions=function(){this.colPositions.build()},e.prototype.buildRowPositions=function(){this.rowPositions.build(),this.rowPositions.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},e.prototype.positionToHit=function(e,t){var n=this,i=n.colPositions,r=n.rowPositions,o=i.leftToIndex(e),a=r.topToIndex(t);if(null!=a&&null!=o)return{row:a,col:o,dateSpan:{range:this.getCellRange(a,o),allDay:!0},dayEl:this.getCellEl(a,o),relativeRect:{left:i.lefts[o],right:i.rights[o],top:r.tops[a],bottom:r.bottoms[a]}}},e.prototype.getCellEl=function(e,t){return this.cellEls[e*this.colCnt+t]},e.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",e.segs))},e.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight"))},e.prototype._renderEventResize=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",e.segs),this.mirrorRenderer.renderSegs(e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},e.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight"),this.mirrorRenderer.unrender(e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},e.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},e.prototype.limitRows=function(e){var t,n,i=this.eventRenderer.rowStructs||[];for(t=0;t<i.length;t++)this.unlimitRow(t),!1!==(n=!!e&&("number"==typeof e?e:this.computeRowLevelLimit(t)))&&this.limitRow(t,n)},e.prototype.computeRowLevelLimit=function(e){var t,n,i=this.rowEls[e].getBoundingClientRect().bottom,r=T.findChildren(this.eventRenderer.rowStructs[e].tbodyEl);for(t=0;t<r.length;t++)if((n=r[t]).classList.remove("fc-limited"),n.getBoundingClientRect().bottom>i)return t;return!1},e.prototype.limitRow=function(t,n){var e,i,r,o,a,s,l,c,u,d,h,f,p,g,m,v=this,y=this,_=y.colCnt,b=y.isRtl,w=this.eventRenderer.rowStructs[t],x=[],k=0,S=function(e){for(;k<e;)(s=v.getCellSegs(t,k,n)).length&&(u=i[n-1][k],m=v.renderMoreLink(t,k,s),g=T.createElement("div",null,m),u.appendChild(g),x.push(g)),k++};if(n&&n<w.segLevels.length){for(e=w.segLevels[n-1],i=w.cellMatrix,(r=T.findChildren(w.tbodyEl).slice(n)).forEach(function(e){e.classList.add("fc-limited")}),o=0;o<e.length;o++){a=e[o];var C=b?_-1-a.lastCol:a.firstCol,D=b?_-1-a.firstCol:a.lastCol;for(S(C),c=[],l=0;k<=D;)s=this.getCellSegs(t,k,n),c.push(s),l+=s.length,k++;if(l){for(d=(u=i[n-1][C]).rowSpan||1,h=[],f=0;f<c.length;f++)p=T.createElement("td",{className:"fc-more-cell",rowSpan:d}),s=c[f],m=this.renderMoreLink(t,C+f,[a].concat(s)),g=T.createElement("div",null,m),p.appendChild(g),h.push(p),x.push(p);u.classList.add("fc-limited"),T.insertAfterElement(u,h),r.push(u)}}S(this.colCnt),w.moreEls=x,w.limitedEls=r}},e.prototype.unlimitRow=function(e){var t=this.eventRenderer.rowStructs[e];t.moreEls&&(t.moreEls.forEach(T.removeElement),t.moreEls=null),t.limitedEls&&(t.limitedEls.forEach(function(e){e.classList.remove("fc-limited")}),t.limitedEls=null)},e.prototype.renderMoreLink=function(c,u,d){var h=this,e=this,f=e.view,p=e.dateEnv,t=T.createElement("a",{className:"fc-more"});return t.innerText=this.getMoreLinkText(d.length),t.addEventListener("click",function(e){var t=h.opt("eventLimitClick"),n=h.isRtl?h.colCnt-u-1:u,i=h.props.cells[c][n].date,r=e.currentTarget,o=h.getCellEl(c,u),a=h.getCellSegs(c,u),s=h.resliceDaySegs(a,i),l=h.resliceDaySegs(d,i);"function"==typeof t&&(t=h.publiclyTrigger("eventLimitClick",[{date:p.toDate(i),allDay:!0,dayEl:o,moreEl:r,segs:s,hiddenSegs:l,jsEvent:e,view:f}])),"popover"===t?h.showSegPopover(c,u,r,s):"string"==typeof t&&f.calendar.zoomTo(i,t)}),t},e.prototype.showSegPopover=function(t,e,n,i){var r,o,a=this,s=this,l=s.calendar,c=s.view,u=s.theme,d=this.isRtl?this.colCnt-e-1:e,h=n.parentNode;r=1===this.rowCnt?c.el:this.rowEls[t],o={className:"fc-more-popover "+u.getClass("popover"),parentEl:c.el,top:T.computeRect(r).top,autoHide:!0,content:function(e){a.segPopoverTile=new g(a.context,e),a.updateSegPopoverTile(a.props.cells[t][d].date,i)},hide:function(){a.segPopoverTile.destroy(),a.segPopoverTile=null,a.segPopover.destroy(),a.segPopover=null}},this.isRtl?o.right=T.computeRect(h).right+1:o.left=T.computeRect(h).left-1,this.segPopover=new f(o),this.segPopover.show(),l.releaseAfterSizingTriggers()},e.prototype.resliceDaySegs=function(e,t){for(var n=t,i={start:n,end:T.addDays(n,1)},r=[],o=0,a=e;o<a.length;o++){var s=a[o],l=s.eventRange,c=l.range,u=T.intersectRanges(c,i);u&&r.push(d({},s,{eventRange:{def:l.def,ui:d({},l.ui,{durationEditable:!1}),instance:l.instance,range:u},isStart:s.isStart&&u.start.valueOf()===c.start.valueOf(),isEnd:s.isEnd&&u.end.valueOf()===c.end.valueOf()}))}return r},e.prototype.getMoreLinkText=function(e){var t=this.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},e.prototype.getCellSegs=function(e,t,n){for(var i,r=this.eventRenderer.rowStructs[e].segMatrix,o=n||0,a=[];o<r.length;)(i=r[o][t])&&a.push(i),o++;return a},e}(T.DateComponent),b=T.createFormatter({week:"numeric"}),w=function(l){function e(e,t,n,i){var r=l.call(this,e,t,n,i)||this;r.renderHeadIntroHtml=function(){var e=r.theme;return r.colWeekNumbersVisible?'<th class="fc-week-number '+e.getClass("widgetHeader")+'" '+r.weekNumberStyleAttr()+"><span>"+T.htmlEscape(r.opt("weekLabel"))+"</span></th>":""},r.renderDayGridNumberIntroHtml=function(e,t){var n=r.dateEnv,i=t.props.cells[e][0].date;return r.colWeekNumbersVisible?'<td class="fc-week-number" '+r.weekNumberStyleAttr()+">"+T.buildGotoAnchorHtml(r,{date:i,type:"week",forceOff:1===t.colCnt},n.format(i,b))+"</td>":""},r.renderDayGridBgIntroHtml=function(){var e=r.theme;return r.colWeekNumbersVisible?'<td class="fc-week-number '+e.getClass("widgetContent")+'" '+r.weekNumberStyleAttr()+"></td>":""},r.renderDayGridIntroHtml=function(){return r.colWeekNumbersVisible?'<td class="fc-week-number" '+r.weekNumberStyleAttr()+"></td>":""},r.el.classList.add("fc-dayGrid-view"),r.el.innerHTML=r.renderSkeletonHtml(),r.scroller=new T.ScrollComponent("hidden","auto");var o=r.scroller.el;r.el.querySelector(".fc-body > tr > td").appendChild(o),o.classList.add("fc-day-grid-container");var a,s=T.createElement("div",{className:"fc-day-grid"});return o.appendChild(s),r.opt("weekNumbers")?r.opt("weekNumbersWithinDays")?(a=!0,r.colWeekNumbersVisible=!1):(a=!1,r.colWeekNumbersVisible=!0):a=r.colWeekNumbersVisible=!1,r.dayGrid=new _(r.context,s,{renderNumberIntroHtml:r.renderDayGridNumberIntroHtml,renderBgIntroHtml:r.renderDayGridBgIntroHtml,renderIntroHtml:r.renderDayGridIntroHtml,colWeekNumbersVisible:r.colWeekNumbersVisible,cellWeekNumbersVisible:a}),r}return r(e,l),e.prototype.destroy=function(){l.prototype.destroy.call(this),this.dayGrid.destroy(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var e=this.theme;return'<table class="'+e.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+e.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+e.getClass("widgetContent")+'"></td></tr></tbody></table>'},e.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},e.prototype.hasRigidRows=function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},e.prototype.updateSize=function(e,t,n){l.prototype.updateSize.call(this,e,t,n),this.dayGrid.updateSize(e)},e.prototype.updateBaseSize=function(e,t,n){var i,r,o=this.dayGrid,a=this.opt("eventLimit"),s=this.header?this.header.el:null;o.rowEls?(this.colWeekNumbersVisible&&(this.weekNumberWidth=T.matchCellWidths(T.findElements(this.el,".fc-week-number"))),this.scroller.clear(),s&&T.uncompensateScroll(s),o.removeSegPopover(),a&&"number"==typeof a&&o.limitRows(a),i=this.computeScrollerHeight(t),this.setGridHeight(i,n),a&&"number"!=typeof a&&o.limitRows(a),n||(this.scroller.setHeight(i),((r=this.scroller.getScrollbarWidths()).left||r.right)&&(s&&T.compensateScroll(s,r),i=this.computeScrollerHeight(t),this.scroller.setHeight(i)),this.scroller.lockOverflow(r))):n||(i=this.computeScrollerHeight(t),this.scroller.setHeight(i))},e.prototype.computeScrollerHeight=function(e){return e-T.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.setGridHeight=function(e,t){this.opt("monthMode")?(t&&(e*=this.dayGrid.rowCnt/6),T.distributeHeight(this.dayGrid.rowEls,e,!t)):t?T.undistributeHeight(this.dayGrid.rowEls):T.distributeHeight(this.dayGrid.rowEls,e,!0)},e.prototype.computeDateScroll=function(){return{top:0}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(e){e.top!==undefined&&this.scroller.setScrollTop(e.top)},e}(T.View);w.prototype.dateProfileGeneratorClass=t;var x=function(i){function e(e,t){var n=i.call(this,e,t.el)||this;return n.slicer=new k,n.dayGrid=t,e.calendar.registerInteractiveComponent(n,{el:n.dayGrid.el}),n}return r(e,i),e.prototype.destroy=function(){i.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},e.prototype.render=function(e){var t=this.dayGrid,n=e.dateProfile,i=e.dayTable;t.receiveProps(d({},this.slicer.sliceProps(e,n,e.nextDayThreshold,t,i),{dateProfile:n,cells:i.cells,isRigid:e.isRigid}))},e.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},e.prototype.queryHit=function(e,t){var n=this.dayGrid.positionToHit(e,t);if(n)return{component:this.dayGrid,dateSpan:n.dateSpan,dayEl:n.dayEl,rect:{left:n.relativeRect.left,right:n.relativeRect.right,top:n.relativeRect.top,bottom:n.relativeRect.bottom},layer:0}},e}(T.DateComponent),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(T.Slicer),S=function(o){function e(e,t,n,i){var r=o.call(this,e,t,n,i)||this;return r.buildDayTable=T.memoize(a),r.opt("columnHeader")&&(r.header=new T.DayHeader(r.context,r.el.querySelector(".fc-head-container"))),r.simpleDayGrid=new x(r.context,r.dayGrid),r}return r(e,o),e.prototype.destroy=function(){o.prototype.destroy.call(this),this.header&&this.header.destroy(),this.simpleDayGrid.destroy()},e.prototype.render=function(e){o.prototype.render.call(this,e);var t=this.props.dateProfile,n=this.dayTable=this.buildDayTable(t,this.dateProfileGenerator);this.header&&this.header.receiveProps({dateProfile:t,dates:n.headerDates,datesRepDistinctDays:1===n.rowCnt,renderIntroHtml:this.renderHeadIntroHtml}),this.simpleDayGrid.receiveProps({dateProfile:t,dayTable:n,businessHours:e.businessHours,dateSelection:e.dateSelection,eventStore:e.eventStore,eventUiBases:e.eventUiBases,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.nextDayThreshold})},e}(w),C=T.createPlugin({defaultView:"dayGridMonth",views:{dayGrid:S,dayGridDay:{type:"dayGrid",duration:{days:1}},
dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});e.AbstractDayGridView=w,e.DayBgRow=m,e.DayGrid=_,e.DayGridSlicer=k,e.DayGridView=S,e.SimpleDayGrid=x,e.buildBasicDayTable=a,e["default"]=C,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core"),require("@fullcalendar/daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/daygrid"],t):t((e=e||self).FullCalendarTimeGrid={},e.FullCalendar,e.FullCalendarDayGrid)}(this,function(e,m,l){"use strict";function a(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function r(e){var t,n,i,r=[];for(t=0;t<e.length;t++){for(n=e[t],i=0;i<r.length&&c(n,r[i]).length;i++);(r[n.level=i]||(r[i]=[])).push(n)}return r}function o(e){var t,n,i,r,o;for(t=0;t<e.length;t++)for(n=e[t],i=0;i<n.length;i++)for((r=n[i]).forwardSegs=[],o=t+1;o<e.length;o++)c(r,e[o],r.forwardSegs)}function s(e){var t,n,i=e.forwardSegs,r=0;if(e.forwardPressure===undefined){for(t=0;t<i.length;t++)s(n=i[t]),r=Math.max(r,1+n.forwardPressure);e.forwardPressure=r}}function c(e,t,n){void 0===n&&(n=[]);for(var i=0;i<t.length;i++)u(e,t[i])&&n.push(t[i]);return n}function u(e,t){return e.bottom>t.top&&e.top<t.bottom}function i(e){var t=m.buildSegCompareObj(e);return t.forwardPressure=e.forwardPressure,t.backwardCoord=e.backwardCoord,t}function d(e,t,n){for(var i=[],r=0,o=e.headerDates;r<o.length;r++){var a=o[r];i.push({start:n.add(a,t.minTime),end:n.add(a,t.maxTime)})}return i}function h(e,t){var n=new m.DaySeries(e.renderRange,t);return new m.DayTable(n,!1)}var f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},p=function(){return(p=Object.assign||function o(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},g=function(n){function e(e){var t=n.call(this,e.context)||this;return t.timeGrid=e,t.fullTimeFormat=m.createFormatter({hour:"numeric",minute:"2-digit",separator:t.context.options.defaultRangeSeparator}),t}return a(e,n),e.prototype.attachSegs=function(e){for(var t=this.timeGrid.groupSegsByCol(e),n=0;n<t.length;n++)t[n]=this.sortEventSegs(t[n]);this.segsByCol=t,this.timeGrid.attachSegsByCol(t,this.timeGrid.fgContainerEls)},e.prototype.detachSegs=function(e){e.forEach(function(e){m.removeElement(e.el)}),this.segsByCol=null},e.prototype.computeSegSizes=function(e){var t=this,n=t.timeGrid,i=t.segsByCol,r=n.colCnt;if(n.computeSegVerticals(e),i)for(var o=0;o<r;o++)this.computeSegHorizontals(i[o])},e.prototype.assignSegSizes=function(e){var t=this,n=t.timeGrid,i=t.segsByCol,r=n.colCnt;if(n.assignSegVerticals(e),i)for(var o=0;o<r;o++)this.assignSegCss(i[o])},e.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:!1}},e.prototype.computeDisplayEventEnd=function(){return!0},e.prototype.renderSegHtml=function(e,t){var n,i,r,o=e.eventRange,a=o.def,s=o.ui,l=a.allDay,c=s.startEditable,u=e.isStart&&s.durationEditable&&this.context.options.eventResizableFromStart,d=e.isEnd&&s.durationEditable,h=this.getSegClasses(e,c,u||d,t),f=m.cssToStr(this.getSkinCss(s));if(h.unshift("fc-time-grid-event"),m.isMultiDayRange(o.range)){if(e.isStart||e.isEnd){var p=e.start,g=e.end;n=this._getTimeText(p,g,l),i=this._getTimeText(p,g,l,this.fullTimeFormat),r=this._getTimeText(p,g,l,null,!1)}}else n=this.getTimeText(o),i=this.getTimeText(o,this.fullTimeFormat),r=this.getTimeText(o,null,!1);return'<a class="'+h.join(" ")+'"'+(a.url?' href="'+m.htmlEscape(a.url)+'"':"")+(f?' style="'+f+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+m.htmlEscape(r)+'" data-full="'+m.htmlEscape(i)+'"><span>'+m.htmlEscape(n)+"</span></div>":"")+(a.title?'<div class="fc-title">'+m.htmlEscape(a.title)+"</div>":"")+"</div>"+(d?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},e.prototype.computeSegHorizontals=function(e){var t,n,i;if(o(t=r(e)),n=t[0]){for(i=0;i<n.length;i++)s(n[i]);for(i=0;i<n.length;i++)this.computeSegForwardBack(n[i],0,0)}},e.prototype.computeSegForwardBack=function(e,t,n){var i,r=e.forwardSegs;if(e.forwardCoord===undefined)for(r.length?(this.sortForwardSegs(r),this.computeSegForwardBack(r[0],t+1,n),e.forwardCoord=r[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),i=0;i<r.length;i++)this.computeSegForwardBack(r[i],0,e.forwardCoord)},e.prototype.sortForwardSegs=function(e){var t=e.map(i),n=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(this.context.view.eventOrderSpecs);return t.sort(function(e,t){return m.compareByFieldSpecs(e,t,n)}),t.map(function(e){return e._seg})},e.prototype.assignSegCss=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];m.applyStyle(i.el,this.generateSegCss(i)),0<i.level&&i.el.classList.add("fc-time-grid-event-inset"),i.eventRange.def.title&&i.bottom-i.top<30&&i.el.classList.add("fc-short")}},e.prototype.generateSegCss=function(e){var t,n,i=this.context.options.slotEventOverlap,r=e.backwardCoord,o=e.forwardCoord,a=this.timeGrid.generateSegVerticalCss(e),s=this.timeGrid.isRtl;return i&&(o=Math.min(1,r+2*(o-r))),s?(t=1-o,n=r):(t=r,n=1-o),a.zIndex=e.level+1,a.left=100*t+"%",a.right=100*n+"%",i&&e.forwardPressure&&(a[s?"marginLeft":"marginRight"]=20),a},e}(m.FgEventRenderer),v=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return a(e,r),e.prototype.attachSegs=function(e,t){this.segsByCol=this.timeGrid.groupSegsByCol(e),this.timeGrid.attachSegsByCol(this.segsByCol,this.timeGrid.mirrorContainerEls),this.sourceSeg=t.sourceSeg},e.prototype.generateSegCss=function(e){var t=r.prototype.generateSegCss.call(this,e),n=this.sourceSeg;if(n&&n.col===e.col){var i=r.prototype.generateSegCss.call(this,n);t.left=i.left,t.right=i.right,t.marginLeft=i.marginLeft,t.marginRight=i.marginRight}return t},e}(g),y=function(n){function e(e){var t=n.call(this,e.context)||this;return t.timeGrid=e,t}return a(e,n),e.prototype.attachSegs=function(e,t){var n,i=this.timeGrid;return"bgEvent"===e?n=i.bgContainerEls:"businessHours"===e?n=i.businessContainerEls:"highlight"===e&&(n=i.highlightContainerEls),i.attachSegsByCol(i.groupSegsByCol(t),n),t.map(function(e){return e.el})},e.prototype.computeSegSizes=function(e){this.timeGrid.computeSegVerticals(e)},e.prototype.assignSegSizes=function(e){this.timeGrid.assignSegVerticals(e)},e}(m.FillRenderer),_=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],b=function(s){function e(e,t,n){var i=s.call(this,e,t)||this;i.isSlatSizesDirty=!1,i.isColSizesDirty=!1,i.renderSlats=m.memoizeRendering(i._renderSlats);var r=i.eventRenderer=new g(i),o=i.fillRenderer=new y(i);i.mirrorRenderer=new v(i);var a=i.renderColumns=m.memoizeRendering(i._renderColumns,i._unrenderColumns);return i.renderBusinessHours=m.memoizeRendering(o.renderSegs.bind(o,"businessHours"),o.unrender.bind(o,"businessHours"),[a]),i.renderDateSelection=m.memoizeRendering(i._renderDateSelection,i._unrenderDateSelection,[a]),i.renderFgEvents=m.memoizeRendering(r.renderSegs.bind(r),r.unrender.bind(r),[a]),i.renderBgEvents=m.memoizeRendering(o.renderSegs.bind(o,"bgEvent"),o.unrender.bind(o,"bgEvent"),[a]),i.renderEventSelection=m.memoizeRendering(r.selectByInstanceId.bind(r),r.unselectByInstanceId.bind(r),[i.renderFgEvents]),i.renderEventDrag=m.memoizeRendering(i._renderEventDrag,i._unrenderEventDrag,[a]),i.renderEventResize=m.memoizeRendering(i._renderEventResize,i._unrenderEventResize,[a]),i.processOptions(),t.innerHTML='<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+i.theme.getClass("widgetHeader")+'" style="display:none" />',i.rootBgContainerEl=t.querySelector(".fc-bg"),i.slatContainerEl=t.querySelector(".fc-slats"),i.bottomRuleEl=t.querySelector(".fc-divider"),i.renderProps=n,i}return a(e,s),e.prototype.processOptions=function(){var e,t,n=this.opt("slotDuration"),i=this.opt("snapDuration");n=m.createDuration(n),i=i?m.createDuration(i):n,null===(e=m.wholeDivideDurations(n,i))&&(i=n,e=1),this.slotDuration=n,this.snapDuration=i,this.snapsPerSlot=e,t=this.opt("slotLabelFormat"),Array.isArray(t)&&(t=t[t.length-1]),this.labelFormat=m.createFormatter(t||{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"}),t=this.opt("slotLabelInterval"),this.labelInterval=t?m.createDuration(t):this.computeLabelInterval(n)},e.prototype.computeLabelInterval=function(e){var t,n,i;for(t=_.length-1;0<=t;t--)if(n=m.createDuration(_[t]),null!==(i=m.wholeDivideDurations(n,e))&&1<i)return n;return e},e.prototype.render=function(e){var t=e.cells;this.colCnt=t.length,this.renderSlats(e.dateProfile),this.renderColumns(e.cells,e.dateProfile),this.renderBusinessHours(e.businessHourSegs),this.renderDateSelection(e.dateSelectionSegs),this.renderFgEvents(e.fgEventSegs),this.renderBgEvents(e.bgEventSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDrag),this.renderEventResize(e.eventResize)},e.prototype.destroy=function(){s.prototype.destroy.call(this),this.renderSlats.unrender(),this.renderColumns.unrender()},e.prototype.updateSize=function(e){var t=this,n=t.fillRenderer,i=t.eventRenderer,r=t.mirrorRenderer;(e||this.isSlatSizesDirty)&&(this.buildSlatPositions(),this.isSlatSizesDirty=!1),(e||this.isColSizesDirty)&&(this.buildColPositions(),this.isColSizesDirty=!1),n.computeSizes(e),i.computeSizes(e),r.computeSizes(e),n.assignSizes(e),i.assignSizes(e),r.assignSizes(e)},e.prototype._renderSlats=function(e){var t=this.theme;this.slatContainerEl.innerHTML='<table class="'+t.getClass("tableGrid")+'">'+this.renderSlatRowHtml(e)+"</table>",this.slatEls=m.findElements(this.slatContainerEl,"tr"),this.slatPositions=new m.PositionCache(this.el,this.slatEls,!1,!0),this.isSlatSizesDirty=!0},e.prototype.renderSlatRowHtml=function(e){for(var t,n,i,r=this,o=r.dateEnv,a=r.theme,s=r.isRtl,l="",c=m.startOfDay(e.renderRange.start),u=e.minTime,d=m.createDuration(0);m.asRoughMs(u)<m.asRoughMs(e.maxTime);)t=o.add(c,u),n=null!==m.wholeDivideDurations(d,this.labelInterval),i='<td class="fc-axis fc-time '+a.getClass("widgetContent")+'">'+(n?"<span>"+m.htmlEscape(o.format(t,this.labelFormat))+"</span>":"")+"</td>",l+='<tr data-time="'+m.formatIsoTimeString(t)+'"'+(n?"":' class="fc-minor"')+">"+(s?"":i)+'<td class="'+a.getClass("widgetContent")+'"></td>'+(s?i:"")+"</tr>",u=m.addDurations(u,this.slotDuration),d=m.addDurations(d,this.slotDuration);return l},e.prototype._renderColumns=function(e,t){var n=this,i=n.theme,r=n.dateEnv,o=n.view,a=new l.DayBgRow(this.context);this.rootBgContainerEl.innerHTML='<table class="'+i.getClass("tableGrid")+'">'+a.renderHtml({cells:e,dateProfile:t,renderIntroHtml:this.renderProps.renderBgIntroHtml})+"</table>",this.colEls=m.findElements(this.el,".fc-day, .fc-disabled-day");for(var s=0;s<this.colCnt;s++)this.publiclyTrigger("dayRender",[{date:r.toDate(e[s].date),el:this.colEls[s],view:o}]);this.isRtl&&this.colEls.reverse(),this.colPositions=new m.PositionCache(this.el,this.colEls,!0,!1),this.renderContentSkeleton(),this.isColSizesDirty=!0},e.prototype._unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var e,t=[];t.push(this.renderProps.renderIntroHtml());for(var n=0;n<this.colCnt;n++)t.push('<td><div class="fc-content-col"><div class="fc-event-container fc-mirror-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>');this.isRtl&&t.reverse(),e=this.contentSkeletonEl=m.htmlToElement('<div class="fc-content-skeleton"><table><tr>'+t.join("")+"</tr></table></div>"),this.colContainerEls=m.findElements(e,".fc-content-col"),this.mirrorContainerEls=m.findElements(e,".fc-mirror-container"),this.fgContainerEls=m.findElements(e,".fc-event-container:not(.fc-mirror-container)"),this.bgContainerEls=m.findElements(e,".fc-bgevent-container"),this.highlightContainerEls=m.findElements(e,".fc-highlight-container"),this.businessContainerEls=m.findElements(e,".fc-business-container"),this.isRtl&&(this.colContainerEls.reverse(),this.mirrorContainerEls.reverse(),this.fgContainerEls.reverse(),this.bgContainerEls.reverse(),this.highlightContainerEls.reverse(),this.businessContainerEls.reverse()),this.el.appendChild(e)},e.prototype.unrenderContentSkeleton=function(){m.removeElement(this.contentSkeletonEl)},e.prototype.groupSegsByCol=function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n},e.prototype.attachSegsByCol=function(e,t){var n,i,r;for(n=0;n<this.colCnt;n++)for(i=e[n],r=0;r<i.length;r++)t[n].appendChild(i[r].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(e,t){if(this.colContainerEls){var n,i=this.computeDateTop(t),r=[];for(n=0;n<e.length;n++){var o=m.createElement("div",{className:"fc-now-indicator fc-now-indicator-line"});o.style.top=i+"px",this.colContainerEls[e[n].col].appendChild(o),r.push(o)}if(0<e.length){var a=m.createElement("div",{className:"fc-now-indicator fc-now-indicator-arrow"});a.style.top=i+"px",this.contentSkeletonEl.appendChild(a),r.push(a)}this.nowIndicatorEls=r}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.forEach(m.removeElement),this.nowIndicatorEls=null)},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.offsetHeight},e.prototype.computeDateTop=function(e,t){return t||(t=m.startOfDay(e)),this.computeTimeTop(e.valueOf()-t.valueOf())},e.prototype.computeTimeTop=function(e){var t,n,i=this.slatEls.length,r=this.props.dateProfile,o=(e-m.asRoughMs(r.minTime))/m.asRoughMs(this.slotDuration);return o=Math.max(0,o),o=Math.min(i,o),t=Math.floor(o),n=o-(t=Math.min(t,i-1)),this.slatPositions.tops[t]+this.slatPositions.getHeight(t)*n},e.prototype.computeSegVerticals=function(e){var t,n,i,r=this.opt("timeGridEventMinHeight");for(t=0;t<e.length;t++)n=e[t],i=this.props.cells[n.col].date,n.top=this.computeDateTop(n.start,i),n.bottom=Math.max(n.top+r,this.computeDateTop(n.end,i))},e.prototype.assignSegVerticals=function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],m.applyStyle(n.el,this.generateSegVerticalCss(n))},e.prototype.generateSegVerticalCss=function(e){return{top:e.top,bottom:-e.bottom}},e.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildSlatPositions()},e.prototype.buildColPositions=function(){this.colPositions.build()},e.prototype.buildSlatPositions=function(){this.slatPositions.build()},e.prototype.positionToHit=function(e,t){var n=this,i=n.dateEnv,r=n.snapsPerSlot,o=n.slatPositions,a=n.colPositions,s=a.leftToIndex(e),l=o.topToIndex(t);if(null!=s&&null!=l){var c=o.tops[l],u=o.getHeight(l),d=(t-c)/u,h=l*r+Math.floor(d*r),f=this.props.cells[s].date,p=m.addDurations(this.props.dateProfile.minTime,m.multiplyDuration(this.snapDuration,h)),g=i.add(f,p);return{col:s,dateSpan:{range:{start:g,end:i.add(g,this.snapDuration)},allDay:!1},dayEl:this.colEls[s],relativeRect:{left:a.lefts[s],right:a.rights[s],top:c,bottom:c+u}}}},e.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),e.isEvent?this.mirrorRenderer.renderSegs(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}):this.fillRenderer.renderSegs("highlight",e.segs))},e.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.mirrorRenderer.unrender(e.segs,{isDragging:!0,sourceSeg:e.sourceSeg}),this.fillRenderer.unrender("highlight"))},e.prototype._renderEventResize=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.mirrorRenderer.renderSegs(e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},e.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.mirrorRenderer.unrender(e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},e.prototype._renderDateSelection=function(e){e&&(this.opt("selectMirror")?this.mirrorRenderer.renderSegs(e,{isSelecting:!0}):this.fillRenderer.renderSegs("highlight",e))},e.prototype._unrenderDateSelection=function(e){this.mirrorRenderer.unrender(e,{isSelecting:!0}),this.fillRenderer.unrender("highlight")},e}(m.DateComponent),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},t.prototype.getKeysForDateSpan=function(e){return e.allDay?["allDay"]:["timed"]},t.prototype.getKeysForEventDef=function(e){return e.allDay?m.hasBgRendering(e)?["timed","allDay"]:["allDay"]:["timed"]},t}(m.Splitter),x=5,k=m.createFormatter({week:"short"}),t=function(s){function e(e,t,n,i){var a=s.call(this,e,t,n,i)||this;a.splitter=new w,a.renderHeadIntroHtml=function(){var e,t=a,n=t.theme,i=t.dateEnv,r=a.props.dateProfile.renderRange,o=m.diffDays(r.start,r.end);return a.opt("weekNumbers")?(e=i.format(r.start,k),'<th class="fc-axis fc-week-number '+n.getClass("widgetHeader")+'" '+a.axisStyleAttr()+">"+m.buildGotoAnchorHtml(a,{date:r.start,type:"week",forceOff:1<o},m.htmlEscape(e))+"</th>"):'<th class="fc-axis '+n.getClass("widgetHeader")+'" '+a.axisStyleAttr()+"></th>"},a.renderTimeGridBgIntroHtml=function(){return'<td class="fc-axis '+a.theme.getClass("widgetContent")+'" '+a.axisStyleAttr()+"></td>"},a.renderTimeGridIntroHtml=function(){return'<td class="fc-axis" '+a.axisStyleAttr()+"></td>"},a.renderDayGridBgIntroHtml=function(){return'<td class="fc-axis '+a.theme.getClass("widgetContent")+'" '+a.axisStyleAttr()+"><span>"+m.getAllDayHtml(a)+"</span></td>"},a.renderDayGridIntroHtml=function(){return'<td class="fc-axis" '+a.axisStyleAttr()+"></td>"},a.el.classList.add("fc-timeGrid-view"),a.el.innerHTML=a.renderSkeletonHtml(),a.scroller=new m.ScrollComponent("hidden","auto");var r=a.scroller.el;a.el.querySelector(".fc-body > tr > td").appendChild(r),r.classList.add("fc-time-grid-container");var o=m.createElement("div",{className:"fc-time-grid"});return r.appendChild(o),a.timeGrid=new b(a.context,o,{renderBgIntroHtml:a.renderTimeGridBgIntroHtml,renderIntroHtml:a.renderTimeGridIntroHtml}),a.opt("allDaySlot")&&(a.dayGrid=new l.DayGrid(a.context,a.el.querySelector(".fc-day-grid"),{renderNumberIntroHtml:a.renderDayGridIntroHtml,renderBgIntroHtml:a.renderDayGridBgIntroHtml,renderIntroHtml:a.renderDayGridIntroHtml,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1}),a.dayGrid.bottomCoordPadding=a.el.querySelector(".fc-divider").offsetHeight),a}return a(e,s),e.prototype.destroy=function(){s.prototype.destroy.call(this),this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var e=this.theme;return'<table class="'+e.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+e.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+e.getClass("widgetContent")+'">'+(this.opt("allDaySlot")?'<div class="fc-day-grid"></div><hr class="fc-divider '+e.getClass("widgetHeader")+'" />':"")+"</td></tr></tbody></table>"},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.unrenderNowIndicator=function(){this.timeGrid.unrenderNowIndicator()},e.prototype.updateSize=function(e,t,n){s.prototype.updateSize.call(this,e,t,n),this.timeGrid.updateSize(e),this.dayGrid&&this.dayGrid.updateSize(e)},e.prototype.updateBaseSize=function(e,t,n){var i,r,o,a=this;if(this.axisWidth=m.matchCellWidths(m.findElements(this.el,".fc-axis")),this.timeGrid.colEls){var s=m.findElements(this.el,".fc-row").filter(function(e){return!a.scroller.el.contains(e)});this.timeGrid.bottomRuleEl.style.display="none",this.scroller.clear(),s.forEach(m.uncompensateScroll),this.dayGrid&&(this.dayGrid.removeSegPopover(),(i=this.opt("eventLimit"))&&"number"!=typeof i&&(i=x),i&&this.dayGrid.limitRows(i)),n||(r=this.computeScrollerHeight(t),this.scroller.setHeight(r),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(s.forEach(function(e){m.compensateScroll(e,o)}),r=this.computeScrollerHeight(t),this.scroller.setHeight(r)),this.scroller.lockOverflow(o),this.timeGrid.getTotalSlatHeight()<r&&(this.timeGrid.bottomRuleEl.style.display=""))}else n||(r=this.computeScrollerHeight(t),this.scroller.setHeight(r))},e.prototype.computeScrollerHeight=function(e){return e-m.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.computeDateScroll=function(e){var t=this.timeGrid.computeTimeTop(e);return(t=Math.ceil(t))&&t++,{top:t}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(e){e.top!==undefined&&this.scroller.setScrollTop(e.top)},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e}(m.View);t.prototype.usesMinMaxTime=!0;var S=function(i){function e(e,t){var n=i.call(this,e,t.el)||this;return n.buildDayRanges=m.memoize(d),n.slicer=new C,n.timeGrid=t,e.calendar.registerInteractiveComponent(n,{el:n.timeGrid.el}),n}return a(e,i),e.prototype.destroy=function(){i.prototype.destroy.call(this),this.calendar.unregisterInteractiveComponent(this)},e.prototype.render=function(e){var t=e.dateProfile,n=e.dayTable,i=this.dayRanges=this.buildDayRanges(n,t,this.dateEnv);this.timeGrid.receiveProps(p({},this.slicer.sliceProps(e,t,null,this.timeGrid,i),{dateProfile:t,cells:n.cells[0]}))},e.prototype.renderNowIndicator=function(e){this.timeGrid.renderNowIndicator(this.slicer.sliceNowDate(e,this.timeGrid,this.dayRanges),e)},e.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},e.prototype.queryHit=function(e,t){var n=this.timeGrid.positionToHit(e,t);if(n)return{component:this.timeGrid,dateSpan:n.dateSpan,dayEl:n.dayEl,rect:{left:n.relativeRect.left,right:n.relativeRect.right,top:n.relativeRect.top,bottom:n.relativeRect.bottom},layer:0}},e}(m.DateComponent),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.sliceRange=function(e,t){for(var n=[],i=0;i<t.length;i++){var r=m.intersectRanges(e,t[i]);r&&n.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:i})}return n},t}(m.Slicer),n=function(o){function e(e,t,n,i){var r=o.call(this,e,t,n,i)||this;return r.buildDayTable=m.memoize(h),r.opt("columnHeader")&&(r.header=new m.DayHeader(r.context,r.el.querySelector(".fc-head-container"))),r.simpleTimeGrid=new S(r.context,r.timeGrid),r.dayGrid&&(r.simpleDayGrid=new l.SimpleDayGrid(r.context,r.dayGrid)),r}return a(e,o),e.prototype.destroy=function(){o.prototype.destroy.call(this),this.header&&this.header.destroy(),this.simpleTimeGrid.destroy(),this.simpleDayGrid&&this.simpleDayGrid.destroy()},e.prototype.render=function(e){o.prototype.render.call(this,e);var t=this.props.dateProfile,n=this.buildDayTable(t,this.dateProfileGenerator),i=this.splitter.splitProps(e);this.header&&this.header.receiveProps({dateProfile:t,dates:n.headerDates,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml}),this.simpleTimeGrid.receiveProps(p({},i.timed,{dateProfile:t,dayTable:n})),this.simpleDayGrid&&this.simpleDayGrid.receiveProps(p({},i.allDay,{dateProfile:t,dayTable:n,nextDayThreshold:this.nextDayThreshold,isRigid:!1}))},e.prototype.renderNowIndicator=function(e){this.simpleTimeGrid.renderNowIndicator(e)},e}(t),D=m.createPlugin({defaultView:"timeGridWeek",views:{timeGrid:{"class":n,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});e.AbstractTimeGridView=t,e.TimeGrid=b,e.TimeGridSlicer=C,e.TimeGridView=n,e.buildDayRanges=d,e.buildDayTable=h,e["default"]=D,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function m(){return Je.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function l(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)v(t,n)&&(e[n]=t[n]);return v(t,"toString")&&(e.toString=t.toString),v(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,i){return me(e,t,n,i,!0).utc()}function y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=y(e),n=et.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function _(e){var t=p(NaN);return null!=e?f(y(t),e):y(t).userInvalidated=!0,t}function b(e,t){var n,i,r;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=y(t)),c(t._locale)||(e._locale=t._locale),0<nt.length)for(n=0;n<nt.length;n++)c(r=t[i=nt[n]])||(e[i]=r);return e}function w(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===it&&(it=!0,m.updateOffset(this),it=!1)}function x(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function k(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function S(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=k(t)),n}function a(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&S(e[i])!==S(t[i]))&&a++;return a+o}function C(e){!1===m.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(o,a){var s=!0;return f(function(e){if(null!=m.deprecationHandler&&m.deprecationHandler(null,o),s){for(var t,n=[],i=0;i<arguments.length;i++){if(t="","object"==typeof arguments[i]){for(var r in t+="\n["+i+"] ",e)t+=r+": "+arguments[0][r]+", ";t=t.slice(0,-2)}else t=arguments[i];n.push(t)}C(o+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),s=!1}return a.apply(this,arguments)},a)}function o(e,t){null!=m.deprecationHandler&&m.deprecationHandler(e,t),rt[e]||(C(t),rt[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e,t){var n,i=f({},e);for(n in t)v(t,n)&&(l(e[n])&&l(t[n])?(i[n]={},f(i[n],e[n]),f(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)v(e,n)&&!v(t,n)&&l(e[n])&&(i[n]=f({},i[n]));return i}function E(e){null!=e&&this.set(e)}function t(e,t){var n=e.toLowerCase();ot[n]=ot[n+"s"]=ot[t]=e}function M(e){return"string"==typeof e?ot[e]||ot[e.toLowerCase()]:void 0}function I(e){var t,n,i={};for(n in e)v(e,n)&&(t=M(n))&&(i[t]=e[n]);return i}function n(e,t){at[e]=t}function P(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function i(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(ut[e]=r),t&&(ut[t[0]]=function(){return P(r.apply(this,arguments),t[1],t[2])}),n&&(ut[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function r(e,t){return e.isValid()?(t=$(t,e.localeData()),ct[t]=ct[t]||function(i){var e,r,t,o=i.match(st);for(e=0,r=o.length;e<r;e++)ut[o[e]]?o[e]=ut[o[e]]:o[e]=(t=o[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,n="";for(t=0;t<r;t++)n+=D(o[t])?o[t].call(e,i):o[t];return n}}(t),ct[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(lt.lastIndex=0;0<=i&&lt.test(e);)e=e.replace(lt,n),lt.lastIndex=0,i-=1;return e}function R(e,t,n){Tt[e]=D(t)?t:function(e){return e&&n?n:t}}function O(e,t){return v(Tt,e)?Tt[e](t._strict,t._locale):new RegExp(A(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))}function A(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function N(e,n){var t,i=n;for("string"==typeof e&&(e=[e]),u(n)&&(i=function(e,t){t[n]=S(e)}),t=0;t<e.length;t++)Et[e[t]]=i}function H(e,r){N(e,function(e,t,n,i){n._w=n._w||{},r(e,n._w,n,i)})}function L(e){return F(e)?366:365}function F(e){return e%4==0&&e%100!=0||e%400==0}function j(t,n){return function(e){return null!=e?(B(this,t,e),m.updateOffset(this,n),this):z(this,t)}}function z(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function B(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&F(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),W(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function W(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?F(e)?29:28:31-i%7%2}function U(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=S(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),W(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function V(e){return null!=e?(U(this,e),m.updateOffset(this,!0),this):z(this,"Month")}function q(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=p([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=A(i[t]),r[t]=A(r[t]);for(t=0;t<24;t++)o[t]=A(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Y(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function G(e,t,n){var i=7+t-n;return-(7+Y(e,0,i).getUTCDay()-t)%7+i-1}function Z(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+G(e,i,r);return a=s<=0?L(o=e-1)+s:s>L(e)?(o=e+1,s-L(e)):(o=e,s),{year:o,dayOfYear:a}}function X(e,t,n){var i,r,o=G(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+K(r=e.year()-1,t,n):a>K(e.year(),t,n)?(i=a-K(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function K(e,t,n){var i=G(e,t,n),r=G(e+1,t,n);return(L(e)-i+r)/7}function Q(e,t){return e.slice(t,7).concat(e.slice(0,t))}function J(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=A(s[t]),l[t]=A(l[t]),c[t]=A(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ee(){return this.hours()%12||12}function te(e,t){i(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ne(e,t){return t._meridiemParse}function ie(e){return e?e.toLowerCase().replace("_","-"):e}function re(e){var t=null;if(!en[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Kt._abbr,require("./locale/"+e),oe(t)}catch(e){}return en[e]}function oe(e,t){var n;return e&&((n=c(t)?se(e):ae(e,t))?Kt=n:"undefined"!=typeof console&&console.warn&&console.warn(
"Locale "+e+" not found. Did you forget to load it?")),Kt._abbr}function ae(e,t){if(null===t)return delete en[e],null;var n,i=Jt;if(t.abbr=e,null!=en[e])o("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=en[e]._config;else if(null!=t.parentLocale)if(null!=en[t.parentLocale])i=en[t.parentLocale]._config;else{if(null==(n=re(t.parentLocale)))return tn[t.parentLocale]||(tn[t.parentLocale]=[]),tn[t.parentLocale].push({name:e,config:t}),null;i=n._config}return en[e]=new E(T(i,t)),tn[e]&&tn[e].forEach(function(e){ae(e.name,e.config)}),oe(e),en[e]}function se(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Kt;if(!s(e)){if(t=re(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=ie(e[o]).split("-")).length,n=(n=ie(e[o+1]))?n.split("-"):null;0<t;){if(i=re(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&a(r,n,!0)>=t-1)break;t--}o++}return Kt}(e)}function le(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=n[It]<0||11<n[It]?It:n[Pt]<1||n[Pt]>W(n[Mt],n[It])?Pt:n[$t]<0||24<n[$t]||24===n[$t]&&(0!==n[Rt]||0!==n[Ot]||0!==n[At])?$t:n[Rt]<0||59<n[Rt]?Rt:n[Ot]<0||59<n[Ot]?Ot:n[At]<0||999<n[At]?At:-1,y(e)._overflowDayOfYear&&(t<Mt||Pt<t)&&(t=Pt),y(e)._overflowWeeks&&-1===t&&(t=Nt),y(e)._overflowWeekday&&-1===t&&(t=Ht),y(e).overflow=t),e}function ce(e,t,n){return null!=e?e:null!=t?t:n}function ue(e){var t,n,i,r,o,a=[];if(!e._d){var s,l;for(s=e,l=new Date(m.now()),i=s._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],e._w&&null==e._a[Pt]&&null==e._a[It]&&function(e){var t,n,i,r,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=ce(t.GG,e._a[Mt],X(ve(),1,4).year),i=ce(t.W,1),((r=ce(t.E,1))<1||7<r)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=X(ve(),o,a);n=ce(t.gg,e._a[Mt],c.year),i=ce(t.w,c.week),null!=t.d?((r=t.d)<0||6<r)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||6<t.e)&&(l=!0)):r=o}i<1||i>K(n,o,a)?y(e)._overflowWeeks=!0:null!=l?y(e)._overflowWeekday=!0:(s=Z(n,i,r,o,a),e._a[Mt]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=ce(e._a[Mt],i[Mt]),(e._dayOfYear>L(o)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=Y(o,0,e._dayOfYear),e._a[It]=n.getUTCMonth(),e._a[Pt]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[$t]&&0===e._a[Rt]&&0===e._a[Ot]&&0===e._a[At]&&(e._nextDay=!0,e._a[$t]=0),e._d=(e._useUTC?Y:function(e,t,n,i,r,o,a){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}).apply(null,a),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[$t]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(y(e).weekdayMismatch=!0)}}function de(e){var t,n,i,r,o,a,s=e._i,l=nn.exec(s)||rn.exec(s);if(l){for(y(e).iso=!0,t=0,n=an.length;t<n;t++)if(an[t][1].exec(l[1])){r=an[t][0],i=!1!==an[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=sn.length;t<n;t++)if(sn[t][1].exec(l[3])){o=(l[2]||" ")+sn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!on.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),pe(e)}else e._isValid=!1}function he(e,t,n,i,r,o){var a,s=[(a=parseInt(e,10),a<=49?2e3+a:a<=999?1900+a:a),Bt.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&s.push(parseInt(o,10)),s}function fe(e){var t,n,i,r=cn.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(r){var o=he(r[4],r[3],r[2],r[5],r[6],r[7]);if(n=o,i=e,(t=r[1])&&qt.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(y(i).weekdayMismatch=!0,!(i._isValid=!1)))return;e._a=o,e._tzm=function(e,t,n){if(e)return un[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(r[8],r[9],r[10]),e._d=Y.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function pe(e){if(e._f!==m.ISO_8601)if(e._f!==m.RFC_2822){e._a=[],y(e).empty=!0;var t,n,i,r,o,a,s,l,c=""+e._i,u=c.length,d=0;for(i=$(e._f,e._locale).match(st)||[],t=0;t<i.length;t++)r=i[t],(n=(c.match(O(r,e))||[])[0])&&(0<(o=c.substr(0,c.indexOf(n))).length&&y(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),d+=n.length),ut[r]?(n?y(e).empty=!1:y(e).unusedTokens.push(r),a=r,l=e,null!=(s=n)&&v(Et,a)&&Et[a](s,l._a,l,a)):e._strict&&!n&&y(e).unusedTokens.push(r);y(e).charsLeftOver=u-d,0<c.length&&y(e).unusedInput.push(c),e._a[$t]<=12&&!0===y(e).bigHour&&0<e._a[$t]&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[$t]=(h=e._locale,f=e._a[$t],null==(p=e._meridiem)?f:null!=h.meridiemHour?h.meridiemHour(f,p):(null!=h.isPM&&((g=h.isPM(p))&&f<12&&(f+=12),g||12!==f||(f=0)),f)),ue(e),le(e)}else fe(e);else de(e);var h,f,p,g}function ge(e){var t,n,i,r,o=e._i,a=e._f;return e._locale=e._locale||se(e._l),null===o||void 0===a&&""===o?_({nullInput:!0}):("string"==typeof o&&(e._i=o=e._locale.preparse(o)),x(o)?new w(le(o)):(d(o)?e._d=o:s(a)?function(e){var t,n,i,r,o;if(0===e._f.length)return y(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],pe(t),g(t)&&(o+=y(t).charsLeftOver,o+=10*y(t).unusedTokens.length,y(t).score=o,(null==i||o<i)&&(i=o,n=t));f(e,n||t)}(e):a?pe(e):c(n=(t=e)._i)?t._d=new Date(m.now()):d(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(i=t,null===(r=ln.exec(i._i))?(de(i),!1===i._isValid&&(delete i._isValid,fe(i),!1===i._isValid&&(delete i._isValid,m.createFromInputFallback(i)))):i._d=new Date(+r[1])):s(n)?(t._a=h(n.slice(0),function(e){return parseInt(e,10)}),ue(t)):l(n)?function(e){if(!e._d){var t=I(e._i);e._a=h([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ue(e)}}(t):u(n)?t._d=new Date(n):m.createFromInputFallback(t),g(e)||(e._d=null),e))}function me(e,t,n,i,r){var o,a={};return!0!==n&&!1!==n||(i=n,n=void 0),(l(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||s(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,(o=new w(le(ge(a))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function ve(e,t,n,i){return me(e,t,n,i,!1)}function ye(e,t){var n,i;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return ve();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function _e(e){var t=I(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Lt.call(fn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<fn.length;++i)if(e[fn[i]]){if(n)return!1;parseFloat(e[fn[i]])!==S(e[fn[i]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=se(),this._bubble()}function be(e){return e instanceof _e}function we(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function xe(e,n){i(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+P(~~(e/60),2)+n+P(~~e%60,2)})}function ke(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(pn)||["-",0,0],r=60*i[1]+S(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Se(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||d(e)?e.valueOf():ve(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),m.updateOffset(n,!1),n):ve(e).local()}function Ce(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function De(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Te(e,t){var n,i,r,o,a,s,l=e,c=null;return be(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:u(e)?(l={},t?l[t]=e:l.milliseconds=e):(c=gn.exec(e))?(n="-"===c[1]?-1:1,l={y:0,d:S(c[Pt])*n,h:S(c[$t])*n,m:S(c[Rt])*n,s:S(c[Ot])*n,ms:S(we(1e3*c[At]))*n}):(c=mn.exec(e))?(n="-"===c[1]?-1:1,l={y:Ee(c[2],n),M:Ee(c[3],n),w:Ee(c[4],n),d:Ee(c[5],n),h:Ee(c[6],n),m:Ee(c[7],n),s:Ee(c[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=ve(l.from),a=ve(l.to),r=o.isValid()&&a.isValid()?(a=Se(a,o),o.isBefore(a)?s=Me(o,a):((s=Me(a,o)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(l={}).ms=r.milliseconds,l.M=r.months),i=new _e(l),be(e)&&v(e,"_locale")&&(i._locale=e._locale),i}function Ee(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Me(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ie(i,r){return function(e,t){var n;return null===t||isNaN(+t)||(o(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Pe(this,Te(e="string"==typeof e?+e:e,t),i),this}}function Pe(e,t,n,i){var r=t._milliseconds,o=we(t._days),a=we(t._months);e.isValid()&&(i=null==i||i,a&&U(e,z(e,"Month")+a*n),o&&B(e,"Date",z(e,"Date")+o*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&m.updateOffset(e,o||a))}function $e(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Re(e){var t;return void 0===e?this._locale._abbr:(null!=(t=se(e))&&(this._locale=t),this)}function Oe(){return this._locale}function Ae(e,t){return(e%t+t)%t}function Ne(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-bn:new Date(e,t,n).valueOf()}function He(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-bn:Date.UTC(e,t,n)}function Le(e,t){i(0,[e,e.length],0,t)}function Fe(e,t,n,i,r){var o;return null==e?X(this,i,r).year:((o=K(e,i,r))<t&&(t=o),function(e,t,n,i,r){var o=Z(e,t,n,i,r),a=Y(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,i,r))}function je(e,t){t[At]=S(1e3*("0."+e))}function ze(e){return e}function Be(e,t,n,i){var r=se(),o=p().set(i,t);return r[n](o,e)}function We(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return Be(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Be(e,i,n,"month");return r}function Ue(e,t,n,i){"boolean"==typeof e?u(t)&&(n=t,t=void 0):(t=e,e=!1,u(n=t)&&(n=t,t=void 0)),t=t||"";var r,o=se(),a=e?o._week.dow:0;if(null!=n)return Be(t,(n+a)%7,i,"day");var s=[];for(r=0;r<7;r++)s[r]=Be(t,(r+a)%7,i,"day");return s}function Ve(e,t,n,i){var r=Te(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function qe(e){return e<0?Math.floor(e):Math.ceil(e)}function Ye(e){return 4800*e/146097}function Ge(e){return 146097*e/4800}function Ze(e){return function(){return this.as(e)}}function Xe(e){return function(){return this.isValid()?this._data[e]:NaN}}function Ke(e){return(0<e)-(e<0)||+e}function Qe(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Yn(this._milliseconds)/1e3,i=Yn(this._days),r=Yn(this._months);t=k((e=k(n/60))/60),n%=60,e%=60;var o=k(r/12),a=r%=12,s=i,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",f=Ke(this._months)!==Ke(d)?"-":"",p=Ke(this._days)!==Ke(d)?"-":"",g=Ke(this._milliseconds)!==Ke(d)?"-":"";return h+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(l||c||u?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(u?g+u+"S":"")}var Je,et;et=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var tt,nt=m.momentProperties=[],it=!1,rt={};m.suppressDeprecationWarnings=!1,m.deprecationHandler=null,tt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)v(e,t)&&n.push(t);return n};var ot={},at={},st=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,lt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ct={},ut={},dt=/\d/,ht=/\d\d/,ft=/\d{3}/,pt=/\d{4}/,gt=/[+-]?\d{6}/,mt=/\d\d?/,vt=/\d\d\d\d?/,yt=/\d\d\d\d\d\d?/,_t=/\d{1,3}/,bt=/\d{1,4}/,wt=/[+-]?\d{1,6}/,xt=/\d+/,kt=/[+-]?\d+/,St=/Z|[+-]\d\d:?\d\d/gi,Ct=/Z|[+-]\d\d(?::?\d\d)?/gi,Dt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Tt={},Et={},Mt=0,It=1,Pt=2,$t=3,Rt=4,Ot=5,At=6,Nt=7,Ht=8;i("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),i(0,["YY",2],0,function(){return this.year()%100}),i(0,["YYYY",4],0,"year"),i(0,["YYYYY",5],0,"year"),i(0,["YYYYYY",6,!0],0,"year"),t("year","y"),n("year",1),R("Y",kt),R("YY",mt,ht),R("YYYY",bt,pt),R("YYYYY",wt,gt),R("YYYYYY",wt,gt),N(["YYYYY","YYYYYY"],Mt),N("YYYY",function(e,t){t[Mt]=2===e.length?m.parseTwoDigitYear(e):S(e)}),N("YY",function(e,t){t[Mt]=m.parseTwoDigitYear(e)}),N("Y",function(e,t){t[Mt]=parseInt(e,10)}),m.parseTwoDigitYear=function(e){return S(e)+(68<S(e)?1900:2e3)};var Lt,Ft=j("FullYear",!0);Lt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},i("M",["MM",2],"Mo",function(){return this.month()+1}),i("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),i("MMMM",0,0,function(e){return this.localeData().months(this,e)}),t("month","M"),n("month",8),R("M",mt),R("MM",mt,ht),R("MMM",function(e,t){return t.monthsShortRegex(e)}),R("MMMM",function(e,t){return t.monthsRegex(e)}),N(["M","MM"],function(e,t){t[It]=S(e)-1}),N(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[It]=r:y(n).invalidMonth=e});var jt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,zt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Bt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Wt=Dt,Ut=Dt;i("w",["ww",2],"wo","week"),i("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),n("week",5),n("isoWeek",5),R("w",mt),R("ww",mt,ht),R("W",mt),R("WW",mt,ht),H(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=S(e)}),i("d",0,"do","day"),i("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),i("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),i("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),i("e",0,0,"weekday"),i("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),R("d",mt),R("e",mt),R("E",mt),R("dd",function(e,t){return t.weekdaysMinRegex(e)}),R("ddd",function(e,t){return t.weekdaysShortRegex(e)}),R("dddd",function(e,t){return t.weekdaysRegex(e)}),H(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:y(n).invalidWeekday=e}),H(["d","e","E"],function(e,t,n,i){t[i]=S(e)});var Vt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Yt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gt=Dt,Zt=Dt,Xt=Dt;i("H",["HH",2],0,"hour"),i("h",["hh",2],0,ee),i("k",["kk",2],0,function(){return this.hours()||24}),i("hmm",0,0,function(){return""+ee.apply(this)+P(this.minutes(),2)}),i("hmmss",0,0,function(){return""+ee.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),i("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),i("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),te("a",!0),te("A",!1),t("hour","h"),n("hour",13),R("a",ne),R("A",ne),R("H",mt),R("h",mt),R("k",mt),R("HH",mt,ht),R("hh",mt,ht),R("kk",mt,ht),R("hmm",vt),R("hmmss",yt),R("Hmm",vt),R("Hmmss",yt),N(["H","HH"],$t),N(["k","kk"],function(e,t){var n=S(e);t[$t]=24===n?0:n}),N(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),N(["h","hh"],function(e,t,n){t[$t]=S(e),y(n).bigHour=!0}),N("hmm",function(e,t,n){var i=e.length-2;t[$t]=S(e.substr(0,i)),t[Rt]=S(e.substr(i)),y(n).bigHour=!0}),N("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[$t]=S(e.substr(0,i)),t[Rt]=S(e.substr(i,2)),t[Ot]=S(e.substr(r)),y(n).bigHour=!0}),N("Hmm",function(e,t){var n=e.length-2;t[$t]=S(e.substr(0,n)),t[Rt]=S(e.substr(n))}),N("Hmmss",function(e,t){var n=e.length-4,i=e.length-2;t[$t]=S(e.substr(0,n)),t[Rt]=S(e.substr(n,2)),t[Ot]=S(e.substr(i))});var Kt,Qt=j("Hours",!0),Jt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:zt,monthsShort:Bt,week:{dow:0,doy:6},weekdays:Vt,weekdaysMin:Yt,weekdaysShort:qt,meridiemParse:/[ap]\.?m?\.?/i},en={},tn={},nn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,on=/Z|[+-]\d\d(?::?\d\d)?/,an=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ln=/^\/?Date\((\-?\d+)/i,cn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,un={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};m.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),m.ISO_8601=function(){},m.RFC_2822=function(){};var dn=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ve.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()}),hn=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ve.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:_()}),fn=["year","quarter","month","week","day","hour","minute","second","millisecond"];xe("Z",":"),xe("ZZ",""),R("Z",Ct),R("ZZ",Ct),N(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=ke(Ct,e)});var pn=/([\+\-]|\d\d)/gi;m.updateOffset=function(){};var gn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,mn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Te.fn=_e.prototype,Te.invalid=function(){return Te(NaN)};var vn=Ie(1,"add"),yn=Ie(-1,"subtract");m.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",m.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var _n=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),bn=126227808e5;i(0,["gg",2],0,function(){return this.weekYear()%100}),i(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Le("gggg","weekYear"),Le("ggggg","weekYear"),Le("GGGG","isoWeekYear"),Le("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),R("G",kt),R("g",kt),R("GG",mt,ht),R("gg",mt,ht),R("GGGG",bt,pt),R("gggg",bt,pt),R("GGGGG",wt,gt),R("ggggg",wt,gt),H(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=S(e)}),H(["gg","GG"],function(e,t,n,i){t[i]=m.parseTwoDigitYear(e)}),i("Q",0,"Qo","quarter"),t("quarter","Q"),n("quarter",7),R("Q",dt),N("Q",function(e,t){t[It]=3*(S(e)-1)}),i("D",["DD",2],"Do","date"),t("date","D"),n("date",9),R("D",mt),R("DD",mt,ht),R("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),N(["D","DD"],Pt),N("Do",function(e,t){t[Pt]=S(e.match(mt)[0])});var wn=j("Date",!0);i("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),n("dayOfYear",4),R("DDD",_t),R("DDDD",ft),N(["DDD","DDDD"],function(e,t,n){n._dayOfYear=S(e)}),i("m",["mm",2],0,"minute"),t("minute","m"),n("minute",14),R("m",mt),R("mm",mt,ht),N(["m","mm"],Rt);var xn=j("Minutes",!1);i("s",["ss",2],0,"second"),t("second","s"),n("second",15),R("s",mt),R("ss",mt,ht),N(["s","ss"],Ot);var kn,Sn=j("Seconds",!1);for(i("S",0,0,function(){return~~(this.millisecond()/100)}),i(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),i(0,["SSS",3],0,"millisecond"),i(0,["SSSS",4],0,function(){return 10*this.millisecond()}),i(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),i(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),i(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),i(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),i(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),t("millisecond","ms"),n("millisecond",16),R("S",_t,dt),R("SS",_t,ht),R("SSS",_t,ft),kn="SSSS";kn.length<=9;kn+="S")R(kn,xt);for(kn="S";kn.length<=9;kn+="S")N(kn,je);var Cn=j("Milliseconds",!1);i("z",0,0,"zoneAbbr"),i("zz",0,0,"zoneName");var Dn=w.prototype;Dn.add=vn,Dn.calendar=function(e,t){var n=e||ve(),i=Se(n,this).startOf("day"),r=m.calendarFormat(this,i)||"sameElse",o=t&&(D(t[r])?t[r].call(this,n):t[r]);return this.format(o||this.localeData().calendar(r,this,ve(n)))},Dn.clone=function(){return new w(this)},Dn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Se(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=M(t)){case"year":o=$e(this,i)/12;break;case"month":o=$e(this,i);break;case"quarter":o=$e(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:k(o)},Dn.endOf=function(e){var t;if(void 0===(e=M(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?He:Ne;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Ae(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Ae(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Ae(t,1e3)-1}return this._d.setTime(t),m.updateOffset(this,!0),this},Dn.format=function(e){e||(e=this.isUtc()?m.defaultFormatUtc:m.defaultFormat);var t=r(this,e);return this.localeData().postformat(t)},Dn.from=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||ve(e).isValid())?Te({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Dn.fromNow=function(e){return this.from(ve(),e)},Dn.to=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||ve(e).isValid())?Te({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Dn.toNow=function(e){return this.to(ve(),e)},Dn.get=function(e){return D(this[e=M(e)])?this[e]():this},Dn.invalidAt=function(){return y(this).overflow},Dn.isAfter=function(e,t){var n=x(e)?e:ve(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=M(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Dn.isBefore=function(e,t){var n=x(e)?e:ve(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=M(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Dn.isBetween=function(e,t,n,i){var r=x(e)?e:ve(e),o=x(t)?t:ve(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},Dn.isSame=function(e,t){var n,i=x(e)?e:ve(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=M(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Dn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Dn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Dn.isValid=function(){return g(this)},Dn.lang=_n,Dn.locale=Re,Dn.localeData=Oe,Dn.max=hn,Dn.min=dn,Dn.parsingFlags=function(){return f({},y(this))},Dn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:at[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=I(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(D(this[e=M(e)]))return this[e](t);return this},Dn.startOf=function(e){var t;if(void 0===(e=M(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?He:Ne;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Ae(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Ae(t,6e4);break;case"second":t=this._d.valueOf(),t-=Ae(t,1e3)}return this._d.setTime(t),m.updateOffset(this,!0),this},Dn.subtract=yn,Dn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Dn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Dn.toDate=function(){return new Date(this.valueOf())},Dn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?r(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",r(n,"Z")):r(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},Dn.toJSON=function(){return this.isValid()?this.toISOString():null},Dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Dn.unix=function(){return Math.floor(this.valueOf()/1e3)},Dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Dn.year=Ft,Dn.isLeapYear=function(){return F(this.year())},Dn.weekYear=function(e){return Fe.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Dn.isoWeekYear=function(e){return Fe.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Dn.quarter=Dn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Dn.month=V,Dn.daysInMonth=function(){return W(this.year(),this.month())},Dn.week=Dn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Dn.isoWeek=Dn.isoWeeks=function(e){var t=X(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Dn.weeksInYear=function(){var e=this.localeData()._week;return K(this.year(),e.dow,e.doy)},Dn.isoWeeksInYear=function(){return K(this.year(),1,4)},Dn.date=wn,Dn.day=Dn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},Dn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Dn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,i=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?i:i-7)},Dn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Dn.hour=Dn.hours=Qt,Dn.minute=Dn.minutes=xn,Dn.second=Dn.seconds=Sn,Dn.millisecond=Dn.milliseconds=Cn,Dn.utcOffset=function(e,t,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?r:Ce(this);if("string"==typeof e){if(null===(e=ke(Ct,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=Ce(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Pe(this,Te(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,m.updateOffset(this,!0),this._changeInProgress=null)),this},Dn.utc=function(e){return this.utcOffset(0,e)},Dn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ce(this),"m")),this},Dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=ke(St,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Dn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?ve(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Dn.isUtc=De,Dn.isUTC=De,Dn.zoneAbbr=function(){return this._isUTC?"UTC":""},Dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Dn.dates=e("dates accessor is deprecated. Use date instead.",wn),Dn.months=e("months accessor is deprecated. Use month instead",V),Dn.years=e("years accessor is deprecated. Use year instead",Ft),Dn.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Dn.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e={};if(b(e,this),(e=ge(e))._a){var t=e._isUTC?p(e._a):ve(e._a);this._isDSTShifted=this.isValid()&&0<a(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var Tn=E.prototype;Tn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return D(i)?i.call(t,n):i},Tn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},Tn.invalidDate=function(){return this._invalidDate},Tn.ordinal=function(e){
return this._ordinal.replace("%d",e)},Tn.preparse=ze,Tn.postformat=ze,Tn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return D(r)?r(e,t,n,i):r.replace(/%d/i,e)},Tn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},Tn.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Tn.months=function(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||jt).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone},Tn.monthsShort=function(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[jt.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Tn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Lt.call(this._shortMonthsParse,a))?r:null:-1!==(r=Lt.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=Lt.call(this._shortMonthsParse,a))?r:-1!==(r=Lt.call(this._longMonthsParse,a))?r:null:-1!==(r=Lt.call(this._longMonthsParse,a))?r:-1!==(r=Lt.call(this._shortMonthsParse,a))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},Tn.monthsRegex=function(e){return this._monthsParseExact?(v(this,"_monthsRegex")||q.call(this),e?this._monthsStrictRegex:this._monthsRegex):(v(this,"_monthsRegex")||(this._monthsRegex=Ut),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Tn.monthsShortRegex=function(e){return this._monthsParseExact?(v(this,"_monthsRegex")||q.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(v(this,"_monthsShortRegex")||(this._monthsShortRegex=Wt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Tn.week=function(e){return X(e,this._week.dow,this._week.doy).week},Tn.firstDayOfYear=function(){return this._week.doy},Tn.firstDayOfWeek=function(){return this._week.dow},Tn.weekdays=function(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Q(n,this._week.dow):e?n[e.day()]:n},Tn.weekdaysMin=function(e){return!0===e?Q(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Tn.weekdaysShort=function(e){return!0===e?Q(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Tn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Lt.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Lt.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=Lt.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=Lt.call(this._weekdaysParse,a))?r:-1!==(r=Lt.call(this._shortWeekdaysParse,a))?r:-1!==(r=Lt.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Lt.call(this._shortWeekdaysParse,a))?r:-1!==(r=Lt.call(this._weekdaysParse,a))?r:-1!==(r=Lt.call(this._minWeekdaysParse,a))?r:null:-1!==(r=Lt.call(this._minWeekdaysParse,a))?r:-1!==(r=Lt.call(this._weekdaysParse,a))?r:-1!==(r=Lt.call(this._shortWeekdaysParse,a))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},Tn.weekdaysRegex=function(e){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||J.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(v(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Tn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||J.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(v(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Zt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Tn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(v(this,"_weekdaysRegex")||J.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(v(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Tn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Tn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},oe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===S(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),m.lang=e("moment.lang is deprecated. Use moment.locale instead.",oe),m.langData=e("moment.langData is deprecated. Use moment.localeData instead.",se);var En=Math.abs,Mn=Ze("ms"),In=Ze("s"),Pn=Ze("m"),$n=Ze("h"),Rn=Ze("d"),On=Ze("w"),An=Ze("M"),Nn=Ze("Q"),Hn=Ze("y"),Ln=Xe("milliseconds"),Fn=Xe("seconds"),jn=Xe("minutes"),zn=Xe("hours"),Bn=Xe("days"),Wn=Xe("months"),Un=Xe("years"),Vn=Math.round,qn={ss:44,s:45,m:45,h:22,d:26,M:11},Yn=Math.abs,Gn=_e.prototype;return Gn.isValid=function(){return this._isValid},Gn.abs=function(){var e=this._data;return this._milliseconds=En(this._milliseconds),this._days=En(this._days),this._months=En(this._months),e.milliseconds=En(e.milliseconds),e.seconds=En(e.seconds),e.minutes=En(e.minutes),e.hours=En(e.hours),e.months=En(e.months),e.years=En(e.years),this},Gn.add=function(e,t){return Ve(this,e,t,1)},Gn.subtract=function(e,t){return Ve(this,e,t,-1)},Gn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=M(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Ye(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ge(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Gn.asMilliseconds=Mn,Gn.asSeconds=In,Gn.asMinutes=Pn,Gn.asHours=$n,Gn.asDays=Rn,Gn.asWeeks=On,Gn.asMonths=An,Gn.asQuarters=Nn,Gn.asYears=Hn,Gn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*S(this._months/12):NaN},Gn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*qe(Ge(s)+a),s=a=0),l.milliseconds=o%1e3,e=k(o/1e3),l.seconds=e%60,t=k(e/60),l.minutes=t%60,n=k(t/60),l.hours=n%24,s+=r=k(Ye(a+=k(n/24))),a-=qe(Ge(r)),i=k(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Gn.clone=function(){return Te(this)},Gn.get=function(e){return e=M(e),this.isValid()?this[e+"s"]():NaN},Gn.milliseconds=Ln,Gn.seconds=Fn,Gn.minutes=jn,Gn.hours=zn,Gn.days=Bn,Gn.weeks=function(){return k(this.days()/7)},Gn.months=Wn,Gn.years=Un,Gn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,i,r,o,a,s,l,c,u,d,h=this.localeData(),f=(n=!e,i=h,r=Te(t=this).abs(),o=Vn(r.as("s")),a=Vn(r.as("m")),s=Vn(r.as("h")),l=Vn(r.as("d")),c=Vn(r.as("M")),u=Vn(r.as("y")),(d=o<=qn.ss&&["s",o]||o<qn.s&&["ss",o]||a<=1&&["m"]||a<qn.m&&["mm",a]||s<=1&&["h"]||s<qn.h&&["hh",s]||l<=1&&["d"]||l<qn.d&&["dd",l]||c<=1&&["M"]||c<qn.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=n,d[3]=0<+t,d[4]=i,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,d));return e&&(f=h.pastFuture(+this,f)),h.postformat(f)},Gn.toISOString=Qe,Gn.toString=Qe,Gn.toJSON=Qe,Gn.locale=Re,Gn.localeData=Oe,Gn.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qe),Gn.lang=_n,i("X",0,0,"unix"),i("x",0,0,"valueOf"),R("x",kt),R("X",/[+-]?\d+(\.\d{1,3})?/),N("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),N("x",function(e,t,n){n._d=new Date(S(e))}),m.version="2.24.0",Je=ve,m.fn=Dn,m.min=function(){return ye("isBefore",[].slice.call(arguments,0))},m.max=function(){return ye("isAfter",[].slice.call(arguments,0))},m.now=function(){return Date.now?Date.now():+new Date},m.utc=p,m.unix=function(e){return ve(1e3*e)},m.months=function(e,t){return We(e,t,"months")},m.isDate=d,m.locale=oe,m.invalid=_,m.duration=Te,m.isMoment=x,m.weekdays=function(e,t,n){return Ue(e,t,n,"weekdays")},m.parseZone=function(){return ve.apply(null,arguments).parseZone()},m.localeData=se,m.isDuration=be,m.monthsShort=function(e,t){return We(e,t,"monthsShort")},m.weekdaysMin=function(e,t,n){return Ue(e,t,n,"weekdaysMin")},m.defineLocale=ae,m.updateLocale=function(e,t){if(null!=t){var n,i,r=Jt;null!=(i=re(e))&&(r=i._config),(n=new E(t=T(r,t))).parentLocale=en[e],en[e]=n,oe(e)}else null!=en[e]&&(null!=en[e].parentLocale?en[e]=en[e].parentLocale:null!=en[e]&&delete en[e]);return en[e]},m.locales=function(){return tt(en)},m.weekdaysShort=function(e,t,n){return Ue(e,t,n,"weekdaysShort")},m.normalizeUnits=M,m.relativeTimeRounding=function(e){return void 0===e?Vn:"function"==typeof e&&(Vn=e,!0)},m.relativeTimeThreshold=function(e,t){return void 0!==qn[e]&&(void 0===t?qn[e]:(qn[e]=t,"s"===e&&(qn.ss=t-1),!0))},m.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},m.prototype=Dn,m.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},m}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(function(){try{return require("moment")}catch(e){}}()):"function"==typeof define&&define.amd?define(["require"],function(e){return t(function(){try{return e("moment")}catch(e){}}())}):e.Chart=t(e.moment)}(this,function(i){"use strict";function o(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return s==a?t=0:i==s?t=(r-o)/l:r==s?t=2+(o-i)/l:o==s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s==a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}function t(e){var t,n,i=e[0],r=e[1],o=e[2],a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?t=0:i==s?t=(r-o)/l:r==s?t=2+(o-i)/l:o==s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]}function n(e){var t=e[0],n=e[1],i=e[2];return[o(e)[0],1/255*Math.min(t,Math.min(n,i))*100,100*(i=1-1/255*Math.max(t,Math.max(n,i)))]}function a(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-i,1-r)))/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]}function s(e){return Le[JSON.stringify(e)]}function l(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]}function c(e){var t=l(e),n=t[0],i=t[1],r=t[2];return i/=100,r/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=.008856<r?Math.pow(r,1/3):7.787*r+16/116))]}function u(e){var t,n,i,r,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[o=255*l,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var c=0;c<3;c++)(i=a+1/3*-(c-1))<0&&i++,1<i&&i--,o=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t,r[c]=255*o;return r}function d(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function h(e){var t,n,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100,c=s+l;switch(1<c&&(s/=c,l/=c),i=6*a-(t=Math.floor(6*a)),0!=(1&t)&&(i=1-i),o=s+i*((n=1-l)-s),t){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function f(e){var t=e[0]/100,n=e[1]/100,i=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]}function p(e){var t,n,i,r=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*r+1.8758*o+.0415*a,i=.0557*r+-.204*o+1.057*a,t=.0031308<(t=3.2406*r+-1.5372*o+-.4986*a)?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function m(e){var t=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,t=.008856<(t/=95.047)?Math.pow(t,1/3):7.787*t+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]}function v(e){var t,n,i,r,o=e[0],a=e[1],s=e[2];return o<=8?r=(n=100*o/903.3)/100*7.787+16/116:(n=100*Math.pow((o+16)/116,3),r=Math.pow(n/100,1/3)),[t=t/95.047<=.008856?t=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),n,i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function y(e){var t,n=e[0],i=e[1],r=e[2];return(t=360*Math.atan2(r,i)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(i*i+r*r),t]}function _(e){return p(v(e))}function w(e){var t,n=e[0],i=e[1];return t=e[2]/360*2*Math.PI,[n,i*Math.cos(t),i*Math.sin(t)]}function x(e){return He[e]}function k(e){if(e){var t=[0,0,0],n=1,i=e.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(i){r=(i=i[1])[3];for(var o=0;o<t.length;o++)t[o]=parseInt(i[o]+i[o],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(i=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=i[2],i=i[1],o=0;o<t.length;o++)t[o]=parseInt(i.slice(2*o,2*o+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(i=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<t.length;o++)t[o]=parseInt(i[o+1]);n=parseFloat(i[4])}else if(i=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<t.length;o++)t[o]=Math.round(2.55*parseFloat(i[o+1]));n=parseFloat(i[4])}else if(i=e.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(t=Ye[i[1]]))return}for(o=0;o<t.length;o++)t[o]=M(t[o],0,255);return n=n||0==n?M(n,0,1):1,t[3]=n,t}}function S(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[M(parseInt(t[1]),0,360),M(parseFloat(t[2]),0,100),M(parseFloat(t[3]),0,100),M(isNaN(n)?1:n,0,1)]}}}function C(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[M(parseInt(t[1]),0,360),M(parseFloat(t[2]),0,100),M(parseFloat(t[3]),0,100),M(isNaN(n)?1:n,0,1)]}}}function D(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function T(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function E(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function M(e,t,n){return Math.min(Math.max(t,e),n)}function I(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}function P(t,e){var n=t._chartjs;if(n){var i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),0<i.length||(Dt.forEach(function(e){delete t[e]}),delete t._chartjs)}}function e(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}function $(e){return e&&void 0!==e.width}function R(e){var t,n,i,r,o;return $(e)?(o=e.width/2,t=e.x-o,n=e.x+o,i=Math.min(e.y,e.base),r=Math.max(e.y,e.base)):(o=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),i=e.y-o,r=e.y+o),{left:t,top:i,right:n,bottom:r}}function O(e,t,n){return e===t?n:e===n?t:e}function A(e,t,n){var i,r,o,a,s,l,c,u=e.borderWidth,d=(l=(s=e).borderSkipped,c={},l&&(s.horizontal?s.base>s.x&&(l=O(l,"left","right")):s.base<s.y&&(l=O(l,"bottom","top")),c[l]=!0),c);return mt.isObject(u)?(i=+u.top||0,r=+u.right||0,o=+u.bottom||0,a=+u.left||0):i=r=o=a=+u||0,{t:d.top||i<0?0:n<i?n:i,r:d.right||r<0?0:t<r?t:r,b:d.bottom||o<0?0:n<o?n:o,l:d.left||a<0?0:t<a?t:a}}function N(e,t,n){var i=null===t,r=null===n,o=!(!e||i&&r)&&R(e);return o&&(i||t>=o.left&&t<=o.right)&&(r||n>=o.top&&n<=o.bottom)}function H(e,t){return Qt(e.showLine,t.showLines)}function L(e,t){return e["native"]?{x:e.x,y:e.y}:mt.getRelativePosition(e,t)}function F(e,t){var n,i,r,o,a;for(i=0,o=e.data.datasets.length;i<o;++i)if(e.isDatasetVisible(i))for(r=0,a=(n=e.getDatasetMeta(i)).data.length;r<a;++r){var s=n.data[r];s._view.skip||t(s)}}function j(e,t){var n=[];return F(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function z(e,i,r,o){var a=Number.POSITIVE_INFINITY,s=[];return F(e,function(e){if(!r||e.inRange(i.x,i.y)){var t=e.getCenterPoint(),n=o(i,t);n<a?(s=[e],a=n):n===a&&s.push(e)}}),s}function B(e){var r=-1!==e.indexOf("x"),o=-1!==e.indexOf("y");return function(e,t){var n=r?Math.abs(e.x-t.x):0,i=o?Math.abs(e.y-t.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2))}}function W(i,e,t){var n=L(e,i);t.axis=t.axis||"x";var r=B(t.axis),o=t.intersect?j(i,n):z(i,n,!1,r),a=[];return o.length?(i.data.datasets.forEach(function(e,t){if(i.isDatasetVisible(t)){var n=i.getDatasetMeta(t).data[o[0]._index];n&&!n._view.skip&&a.push(n)}}),a):[]}function U(e,t){return mt.where(e,function(e){return e.position===t})}function V(e,r){e.forEach(function(e,t){return e._tmpIndex_=t,e}),e.sort(function(e,t){var n=r?t:e,i=r?e:t;return n.weight===i.weight?n._tmpIndex_-i._tmpIndex_:n.weight-i.weight}),e.forEach(function(e){delete e._tmpIndex_})}function q(e,t){mt.each(e,function(e){t[e.position]+=e.isHorizontal()?e.height:e.width})}function Y(e,t){var n=mt.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function G(e,t,n){e.addEventListener(t,n,bn)}function Z(e,t,n){e.removeEventListener(t,n,bn)}function X(e,t,n,i,r){return{type:e,chart:t,"native":r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function K(e){var t=document.createElement("div");return t.className=e||"",t}function Q(n,i,r){var e,t,o,a,s,l,c,u,d=n[pn]||(n[pn]={}),h=d.resizer=function(e){var t=K(gn),n=K(gn+"-expand"),i=K(gn+"-shrink");n.appendChild(K()),i.appendChild(K()),t.appendChild(n),t.appendChild(i),t._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var r=function(){t._reset(),e()};return G(n,"scroll",r.bind(n,"expand")),G(i,"scroll",r.bind(i,"shrink")),t}((o=!(e=function(){if(d.resizer){var e=r.options.maintainAspectRatio&&n.parentNode,t=e?e.clientWidth:0;i(X("resize",r)),e&&e.clientWidth<t&&r.canvas&&i(X("resize",r))}}),a=[],function(){a=Array.prototype.slice.call(arguments),t=t||this,o||(o=!0,mt.requestAnimFrame.call(window,function(){o=!1,e.apply(t,a)}))}));l=function(){if(d.resizer){var e=n.parentNode;e&&e!==h.parentNode&&e.insertBefore(h,e.firstChild),h._reset()}},c=(s=n)[pn]||(s[pn]={}),u=c.renderProxy=function(e){e.animationName===vn&&l()},mt.each(yn,function(e){G(s,e,u)}),c.reflow=!!s.offsetParent,s.classList.add(mn)}function J(e){var t,n,i,r=e[pn]||{},o=r.resizer;delete r.resizer,n=(t=e)[pn]||{},(i=n.renderProxy)&&(mt.each(yn,function(e){Z(t,e,i)}),delete n.renderProxy),t.classList.remove(mn),o&&o.parentNode&&o.parentNode.removeChild(o)}function ee(e,t){return t&&(mt.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function te(e){return("string"==typeof e||e instanceof String)&&-1<e.indexOf("\n")?e.split("\n"):e}function ne(e){var t=ft.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:Dn(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:Dn(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:Dn(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:Dn(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:Dn(e.titleFontStyle,t.defaultFontStyle),titleFontSize:Dn(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:Dn(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:Dn(e.footerFontStyle,t.defaultFontStyle),footerFontSize:Dn(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function ie(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function re(e){return ee([],te(e))}function oe(){return mt.merge({},[].slice.call(arguments),{merger:function(e,t,n,i){if("xAxes"===e||"yAxes"===e){var r,o,a,s=n[e].length;for(t[e]||(t[e]=[]),r=0;r<s;++r)a=n[e][r],o=Pn(a.type,"xAxes"===e?"category":"linear"),r>=t[e].length&&t[e].push({}),!t[e][r].type||a.type&&a.type!==t[e][r].type?mt.merge(t[e][r],[Cn.getScaleDefaults(o),a]):mt.merge(t[e][r],a)}else mt._merger(e,t,n,i)}})}function ae(){return mt.merge({},[].slice.call(arguments),{merger:function(e,t,n,i){var r=t[e]||{},o=n[e];"scales"===e?t[e]=oe(r,o):"scale"===e?t[e]=mt.merge(r,[Cn.getScaleDefaults(o.type),o]):mt._merger(e,t,n,i)}})}function se(e){return"top"===e||"bottom"===e}function le(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function ce(e){this.options=e||{}}function ue(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(e[t].label);return i}function de(e,t,n){return mt.isArray(t)?mt.longestText(e,n,t):e.measureText(t).width}function he(e,t){return mt.isFinite(e)&&0<=e?e:t}function fe(e){var t=e.options;return t.angleLines.display||t.pointLabels.display?e.chart.data.labels.length:0}function pe(e){var t=e.ticks;return t.display&&e.display?Kn(t.fontSize,ft.global.defaultFontSize)+2*t.backdropPaddingY:0}function ge(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||r<e?{start:t-n,end:t}:{start:t,end:t+n}}function me(e){return 0===e||180===e?"center":e<180?"left":"right"}function ve(e,t,n,i){var r,o,a=n.y+i/2;if(mt.isArray(t))for(r=0,o=t.length;r<o;++r)e.fillText(t[r],n.x,a),a+=i;else e.fillText(t,n.x,a)}function ye(e,t,n){90===e||270===e?n.y-=t.h/2:(270<e||e<90)&&(n.y-=t.h)}function _e(e){return mt.isNumber(e)?e:0}function be(e,t){return e-t}function we(e){var t,n,i,r={},o=[];for(t=0,n=e.length;t<n;++t)r[i=e[t]]||(r[i]=!0,o.push(i));return o}function xe(e,t,n,i){var r=function(e,t,n){for(var i,r,o,a=0,s=e.length-1;0<=a&&a<=s;){if(r=e[(i=a+s>>1)-1]||null,o=e[i],!r)return{lo:null,hi:o};if(o[t]<n)a=i+1;else{if(!(r[t]>n))return{lo:r,hi:o};s=i-1}}return{lo:o,hi:null}}(e,t,n),o=r.lo?r.hi?r.lo:e[e.length-2]:e[0],a=r.lo?r.hi?r.hi:e[e.length-1]:e[1],s=a[t]-o[t],l=s?(n-o[t])/s:0,c=(a[i]-o[i])*l;return o[i]+c}function ke(e,t){var n=e._adapter,i=e.options.time,r=i.parser,o=r||i.format,a=t;return"function"==typeof r&&(a=r(a)),mt.isFinite(a)||(a="string"==typeof o?n.parse(a,o):n.parse(a)),null!==a?+a:(r||"function"!=typeof o||(a=o(t),mt.isFinite(a)||(a=n.parse(a))),a)}function Se(e,t){if(mt.isNullOrUndef(t))return null;var n=e.options.time,i=ke(e,e.getRightValue(t));return null===i||n.round&&(i=+e._adapter.startOf(i,n.round)),i}function Ce(e){for(var t=si.indexOf(e)+1,n=si.length;t<n;++t)if(ai[si[t]].common)return si[t]}function De(e,d,h,t){var n,i=e._adapter,r=e.options,o=r.time,f=o.unit||function(e,t,n,i){var r,o,a,s=si.length;for(r=si.indexOf(e);r<s-1;++r)if(a=(o=ai[si[r]]).steps?o.steps[o.steps.length-1]:oi,o.common&&Math.ceil((n-t)/(a*o.size))<=i)return si[r];return si[s-1]}(o.minUnit,d,h,t),a=Ce(f),s=ii(o.stepSize,o.unitStepSize),l="week"===f&&o.isoWeekday,c=r.ticks.major.enabled,u=ai[f],p=d,g=h,m=[];for(s||(s=function(e,t,n,i){var r,o,a,s=h-d,l=ai[f],c=l.size,u=l.steps;if(!u)return Math.ceil(s/(i*c));for(r=0,o=u.length;r<o&&(a=u[r],!(Math.ceil(s/(c*a))<=i));++r);return a}(0,0,0,t)),l&&(p=+i.startOf(p,"isoWeek",l),g=+i.startOf(g,"isoWeek",l)),p=+i.startOf(p,l?"day":f),(g=+i.startOf(g,l?"day":f))<h&&(g=+i.add(g,1,f)),n=p,c&&a&&!l&&!o.round&&(n=+i.startOf(n,a),n=+i.add(n,~~((p-n)/(u.size*s))*s,f));n<g;n=+i.add(n,s,f))m.push(+n);return m.push(+n),m}function Te(e,t,n){var i,r=e._model||{},o=r.fill;if(void 0===o&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(i=parseFloat(o,10),isFinite(i)&&Math.floor(i)===i)return"-"!==o[0]&&"+"!==o[0]||(i=t+i),!(i===t||i<0||n<=i)&&i;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function Ee(e){var t,n=e.el._model||{},i=e.el._scale||{},r=e.fill,o=null;if(isFinite(r))return null;if("start"===r?o=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?o=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:i.getBasePosition?o=i.getBasePosition():i.getBasePixel&&(o=i.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if(mt.isFinite(o))return{x:(t=i.isHorizontal())?o:null,y:t?null:o}}return null}function Me(e,t,n){var i,r=e[t].fill,o=[t];if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(i=e[r]))return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function Ie(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),hi[n](e))}function Pe(e){return e&&!e.skip}function $e(e,t,n,i,r){var o;if(i&&r){for(e.moveTo(t[0].x,t[0].y),o=1;o<i;++o)mt.canvas.lineTo(e,t[o-1],t[o]);for(e.lineTo(n[r-1].x,n[r-1].y),o=r-1;0<o;--o)mt.canvas.lineTo(e,n[o],n[o-1],!0)}}function Re(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}function Oe(e,t){var n=new mi({ctx:e.ctx,options:t,chart:e});hn.configure(e,n,t),hn.addBox(e,n),e.legend=n}function Ae(e,t){var n=new _i({ctx:e.ctx,options:t,chart:e});hn.configure(e,n,t),hn.addBox(e,n),e.titleBlock=n}i=i&&i.hasOwnProperty("default")?i["default"]:i;var Ne={rgb2hsl:o,rgb2hsv:t,rgb2hwb:n,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:l,rgb2lab:c,rgb2lch:function(e){return y(c(e))},hsl2rgb:u,hsl2hsv:function(e){var t=e[0],n=e[1]/100,i=e[2]/100;return 0===i?[0,0,0]:[t,2*(n*=(i*=2)<=1?i:2-i)/(i+n)*100,(i+n)/2*100]},hsl2hwb:function(e){return n(u(e))},hsl2cmyk:function(e){return a(u(e))},hsl2keyword:function(e){return s(u(e))},hsv2rgb:d,hsv2hsl:function(e){var t,n,i=e[0],r=e[1]/100,o=e[2]/100;return t=r*o,[i,100*(t=(t/=(n=(2-r)*o)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(e){return n(d(e))},hsv2cmyk:function(e){return a(d(e))},hsv2keyword:function(e){return s(d(e))},hwb2rgb:h,hwb2hsl:function(e){return o(h(e))},hwb2hsv:function(e){return t(h(e))},hwb2cmyk:function(e){return a(h(e))},hwb2keyword:function(e){return s(h(e))},cmyk2rgb:f,cmyk2hsl:function(e){return o(f(e))},cmyk2hsv:function(e){return t(f(e))},cmyk2hwb:function(e){return n(f(e))},cmyk2keyword:function(e){return s(f(e))},keyword2rgb:x,keyword2hsl:function(e){return o(x(e))},keyword2hsv:function(e){return t(x(e))},keyword2hwb:function(e){return n(x(e))},keyword2cmyk:function(e){return a(x(e))},keyword2lab:function(e){return c(x(e))},keyword2xyz:function(e){return l(x(e))},xyz2rgb:p,xyz2lab:m,xyz2lch:function(e){return y(m(e))},lab2xyz:v,lab2rgb:_,lab2lch:y,lch2lab:w,lch2xyz:function(e){return v(w(e))},lch2rgb:function(e){return _(w(e))}},He={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127
],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Le={};for(var Fe in He)Le[JSON.stringify(He[Fe])]=Fe;var je=function(){return new Ve};for(var ze in Ne){je[ze+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),Ne[t](e)}}(ze);var Be=/(\w+)2(\w+)/.exec(ze),We=Be[1],Ue=Be[2];(je[We]=je[We]||{})[Ue]=je[ze]=function(i){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var t=Ne[i](e);if("string"==typeof t||void 0===t)return t;for(var n=0;n<t.length;n++)t[n]=Math.round(t[n]);return t}}(ze)}var Ve=function(){this.convs={}};Ve.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},Ve.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},Ve.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,i=this.convs[n];t=je[n][e](i),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){Ve.prototype[t]=function(e){return this.routeSpace(t,arguments)}});var qe=je,Ye={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ge={getRgba:k,getHsla:S,getRgb:function(e){var t=k(e);return t&&t.slice(0,3)},getHsl:function(e){var t=S(e);return t&&t.slice(0,3)},getHwb:C,getAlpha:function(e){var t=k(e);return t?t[3]:(t=S(e))?t[3]:(t=C(e))?t[3]:void 0},hexString:function(e,t){t=void 0!==t&&3===e.length?t:e[3];return"#"+I(e[0])+I(e[1])+I(e[2])+(0<=t&&t<1?I(Math.round(255*t)):"")},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?D(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:D,percentString:function(e,t){return t<1||e[3]&&e[3]<1?T(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"},percentaString:T,hslString:function(e,t){return t<1||e[3]&&e[3]<1?E(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:E,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return Ze[e.slice(0,3)]}},Ze={};for(var Xe in Ye)Ze[Ye[Xe]]=Xe;var Ke=function(e){return e instanceof Ke?e:this instanceof Ke?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=Ge.getRgba(e))?this.setValues("rgb",t):(t=Ge.getHsla(e))?this.setValues("hsl",t):(t=Ge.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new Ke(e);var t};Ke.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return Ge.hexString(this.values.rgb)},rgbString:function(){return Ge.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Ge.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Ge.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Ge.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Ge.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Ge.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Ge.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return n<t?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return 7.1<=t?"AAA":4.5<=t?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=e,i=void 0===t?.5:t,r=2*i-1,o=this.alpha()-n.alpha(),a=((r*o==-1?r:(r+o)/(1+r*o))+1)/2,s=1-a;return this.rgb(a*this.red()+s*n.red(),a*this.green()+s*n.green(),a*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new Ke,i=this.values,r=n.values;for(var o in i)i.hasOwnProperty(o)&&(e=i[o],"[object Array]"===(t={}.toString.call(e))?r[o]=e.slice(0):"[object Number]"===t?r[o]=e:console.error("unexpected color value:",e));return n}},Ke.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Ke.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Ke.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},Ke.prototype.setValues=function(e,t){var n,i,r=this.values,o=this.spaces,a=this.maxes,s=1;if(this.valid=!0,"alpha"===e)s=t;else if(t.length)r[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];s=t.a}else if(void 0!==t[o[e][0]]){var l=o[e];for(n=0;n<e.length;n++)r[e][n]=t[l[n]];s=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===e)return!1;for(n=0;n<e.length;n++)i=Math.max(0,Math.min(a[e][n],r[e][n])),r[e][n]=Math.round(i);for(var c in o)c!==e&&(r[c]=qe[e][c](r[e]));return!0},Ke.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},Ke.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:(n===i[t]||(i[t]=n,this.setValues(e,i)),this)},"undefined"!=typeof window&&(window.Color=Ke);var Qe,Je=Ke,et={noop:function(){},uid:(Qe=0,function(){return Qe++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return et.valueOrDefault(et.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,i){var r,o,a;if(et.isArray(e))if(o=e.length,i)for(r=o-1;0<=r;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if(et.isObject(e))for(o=(a=Object.keys(e)).length,r=0;r<o;r++)t.call(n,e[a[r]],a[r])},arrayEquals:function(e,t){var n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r instanceof Array&&o instanceof Array){if(!et.arrayEquals(r,o))return!1}else if(r!==o)return!1;return!0},clone:function(e){if(et.isArray(e))return e.map(et.clone);if(et.isObject(e)){for(var t={},n=Object.keys(e),i=n.length,r=0;r<i;++r)t[n[r]]=et.clone(e[n[r]]);return t}return e},_merger:function(e,t,n,i){var r=t[e],o=n[e];et.isObject(r)&&et.isObject(o)?et.merge(r,o,i):t[e]=et.clone(o)},_mergerIf:function(e,t,n){var i=t[e],r=n[e];et.isObject(i)&&et.isObject(r)?et.mergeIf(i,r):t.hasOwnProperty(e)||(t[e]=et.clone(r))},merge:function(e,t,n){var i,r,o,a,s,l=et.isArray(t)?t:[t],c=l.length;if(!et.isObject(e))return e;for(i=(n=n||{}).merger||et._merger,r=0;r<c;++r)if(t=l[r],et.isObject(t))for(s=0,a=(o=Object.keys(t)).length;s<a;++s)i(o[s],e,t,n);return e},mergeIf:function(e,t){return et.merge(e,t,{merger:et._mergerIf})},extend:function(n){for(var e=function(e,t){n[t]=e},t=1,i=arguments.length;t<i;++t)et.each(arguments[t],e);return n},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=et.inherits,e&&et.extend(n.prototype,e),n.__super__=t.prototype,n}},tt=et;et.callCallback=et.callback,et.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},et.getValueOrDefault=et.valueOrDefault,et.getValueAtIndexOrDefault=et.valueAtIndexOrDefault;var nt={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return 1<=e?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-nt.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*nt.easeInBounce(2*e):.5*nt.easeOutBounce(2*e-1)+.5}},it={effects:nt};tt.easingEffects=nt;var rt=Math.PI,ot=rt/180,at=2*rt,st=rt/2,lt=rt/4,ct=2*rt/3,ut={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,i,r,o){if(o){var a=Math.min(o,r/2,i/2),s=t+a,l=n+a,c=t+i-a,u=n+r-a;e.moveTo(t,l),s<c&&l<u?(e.arc(s,l,a,-rt,-st),e.arc(c,l,a,-st,0),e.arc(c,u,a,0,st),e.arc(s,u,a,st,rt)):s<c?(e.moveTo(s,n),e.arc(c,l,a,-st,st),e.arc(s,l,a,st,rt+st)):l<u?(e.arc(s,l,a,-rt,0),e.arc(s,u,a,0,rt)):e.arc(s,l,a,-rt,rt),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,r)},drawPoint:function(e,t,n,i,r,o){var a,s,l,c,u,d=(o||0)*ot;if(!t||"object"!=typeof t||"[object HTMLImageElement]"!==(a=t.toString())&&"[object HTMLCanvasElement]"!==a){if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(i,r,n,0,at),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(d)*n,r-Math.cos(d)*n),d+=ct,e.lineTo(i+Math.sin(d)*n,r-Math.cos(d)*n),d+=ct,e.lineTo(i+Math.sin(d)*n,r-Math.cos(d)*n),e.closePath();break;case"rectRounded":c=n-(u=.516*n),s=Math.cos(d+lt)*c,l=Math.sin(d+lt)*c,e.arc(i-s,r-l,u,d-rt,d-st),e.arc(i+l,r-s,u,d-st,d),e.arc(i+s,r+l,u,d,d+st),e.arc(i-l,r+s,u,d+st,d+rt),e.closePath();break;case"rect":if(!o){c=Math.SQRT1_2*n,e.rect(i-c,r-c,2*c,2*c);break}d+=lt;case"rectRot":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+l,r-s),e.lineTo(i+s,r+l),e.lineTo(i-l,r+s),e.closePath();break;case"crossRot":d+=lt;case"cross":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s);break;case"star":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s),d+=lt,s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s);break;case"line":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l);break;case"dash":e.moveTo(i,r),e.lineTo(i+Math.cos(d)*n,r+Math.sin(d)*n)}e.fill(),e.stroke()}}else e.drawImage(t,i-t.width/2,r-t.height/2,t.width,t.height)},_isPointInArea:function(e,t){return e.x>t.left-1e-6&&e.x<t.right+1e-6&&e.y>t.top-1e-6&&e.y<t.bottom+1e-6},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,i){var r=n.steppedLine;if(r){if("middle"===r){var o=(t.x+n.x)/2;e.lineTo(o,i?n.y:t.y),e.lineTo(o,i?t.y:n.y)}else"after"===r&&!i||"after"!==r&&i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(i?t.controlPointPreviousX:t.controlPointNextX,i?t.controlPointPreviousY:t.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},dt=ut;tt.clear=ut.clear,tt.drawRoundedRectangle=function(e){e.beginPath(),ut.roundedRect.apply(ut,arguments)};var ht={_set:function(e,t){return tt.merge(this[e]||(this[e]={}),t)}};ht._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var ft=ht,pt=tt.valueOrDefault,gt={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,i,r;return tt.isObject(e)?(t=+e.top||0,n=+e.right||0,i=+e.bottom||0,r=+e.left||0):t=n=i=r=+e||0,{top:t,right:n,bottom:i,left:r,height:t+i,width:r+n}},_parseFont:function(e){var t,n=ft.global,i=pt(e.fontSize,n.defaultFontSize),r={family:pt(e.fontFamily,n.defaultFontFamily),lineHeight:tt.options.toLineHeight(pt(e.lineHeight,n.defaultLineHeight),i),size:i,style:pt(e.fontStyle,n.defaultFontStyle),weight:null,string:""};return r.string=!(t=r)||tt.isNullOrUndef(t.size)||tt.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family,r},resolve:function(e,t,n){var i,r,o;for(i=0,r=e.length;i<r;++i)if(void 0!==(o=e[i])&&(void 0!==t&&"function"==typeof o&&(o=o(t)),void 0!==n&&tt.isArray(o)&&(o=o[n]),void 0!==o))return o}},mt=tt,vt=it,yt=dt,_t=gt;mt.easing=vt,mt.canvas=yt,mt.options=_t;var bt=function(e){mt.extend(this,e),this.initialize.apply(this,arguments)};mt.extend(bt.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=mt.clone(e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,i=t._start,r=t._view;return n&&1!==e?(r||(r=t._view={}),i||(i=t._start={}),function(e,t,n,i){var r,o,a,s,l,c,u,d,h,f=Object.keys(n);for(r=0,o=f.length;r<o;++r)if(c=n[a=f[r]],t.hasOwnProperty(a)||(t[a]=c),(s=t[a])!==c&&"_"!==a[0]){if(e.hasOwnProperty(a)||(e[a]=s),(u=typeof c)==typeof(l=e[a]))if("string"===u){if((d=Je(l)).valid&&(h=Je(c)).valid){t[a]=h.mix(d,i).rgbString();continue}}else if(mt.isFinite(l)&&mt.isFinite(c)){t[a]=l+(c-l)*i;continue}t[a]=c}}(i,r,n,e)):(t._view=n,t._start=null),t},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return mt.isNumber(this._model.x)&&mt.isNumber(this._model.y)}}),bt.extend=mt.inherits;var wt=bt,xt=wt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),kt=xt;Object.defineProperty(xt.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(xt.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),ft._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:mt.noop,onComplete:mt.noop}});var St={animations:[],request:null,addAnimation:function(e,t,n,i){var r,o,a=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,i||(e.animating=!0),r=0,o=a.length;r<o;++r)if(a[r].chart===e)return void(a[r]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=mt.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=mt.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){this.advance(),0<this.animations.length&&this.requestAnimationFrame()},advance:function(){for(var e,t,n,i,r=this.animations,o=0;o<r.length;)t=(e=r[o]).chart,n=e.numSteps,i=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(i,n),mt.callback(e.render,[t,e],t),mt.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(mt.callback(e.onAnimationComplete,[e],t),t.animating=!1,r.splice(o,1)):++o}},Ct=mt.options.resolve,Dt=["push","pop","shift","splice","unshift"],Tt=function(e,t){this.initialize(e,t)};mt.extend(Tt.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null!==t.xAxisID&&t.xAxisID in e.chart.scales||(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in e.chart.scales||(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&P(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,t,n=this.getMeta(),i=this.getDataset().data||[],r=n.data;for(e=0,t=i.length;e<t;++e)r[e]=r[e]||this.createMetaData(e);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var r,e,t=this,n=t.getDataset(),i=n.data||(n.data=[]);t._data!==i&&(t._data&&P(t._data,t),i&&Object.isExtensible(i)&&(e=t,(r=i)._chartjs?r._chartjs.listeners.push(e):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Dt.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),i=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),e=i.apply(this,t);return mt.each(r._chartjs.listeners,function(e){"function"==typeof e[n]&&e[n].apply(e,t)}),e}})}))),t._data=i),t.resyncElements()},update:mt.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],i=n.length,r=0;r<i;++r)n[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,i=0;for(e.dataset&&e.dataset.draw();i<n;++i)t[i].draw()},removeHoverStyle:function(e){mt.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},r=e._model,o=mt.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=Ct([i.hoverBackgroundColor,t.hoverBackgroundColor,o(r.backgroundColor)],void 0,n),r.borderColor=Ct([i.hoverBorderColor,t.hoverBorderColor,o(r.borderColor)],void 0,n),r.borderWidth=Ct([i.hoverBorderWidth,t.hoverBorderWidth,r.borderWidth],void 0,n)},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,n=e.data.length,i=t.length;i<n?e.data.splice(i,n-i):n<i&&this.insertElements(n,i-n)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Tt.extend=mt.inherits;var Et=Tt;ft._set("global",{elements:{arc:{backgroundColor:ft.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Mt=wt.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var i=mt.getAngleFromPoint(n,{x:e,y:t}),r=i.angle,o=i.distance,a=n.startAngle,s=n.endAngle;s<a;)s+=2*Math.PI;for(;s<r;)r-=2*Math.PI;for(;r<a;)r+=2*Math.PI;var l=a<=r&&r<=s,c=o>=n.innerRadius&&o<=n.outerRadius;return l&&c}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,i=n.startAngle,r=n.endAngle,o="inner"===n.borderAlign?.33:0;t.save(),t.beginPath(),t.arc(n.x,n.y,Math.max(n.outerRadius-o,0),i,r),t.arc(n.x,n.y,n.innerRadius,r,i,!0),t.closePath(),t.fillStyle=n.backgroundColor,t.fill(),n.borderWidth&&("inner"===n.borderAlign?(t.beginPath(),e=o/n.outerRadius,t.arc(n.x,n.y,n.outerRadius,i-e,r+e),n.innerRadius>o?(e=o/n.innerRadius,t.arc(n.x,n.y,n.innerRadius-o,r+e,i-e,!0)):t.arc(n.x,n.y,o,r+Math.PI/2,i-Math.PI/2),t.closePath(),t.clip(),t.beginPath(),t.arc(n.x,n.y,n.outerRadius,i,r),t.arc(n.x,n.y,n.innerRadius,r,i,!0),t.closePath(),t.lineWidth=2*n.borderWidth,t.lineJoin="round"):(t.lineWidth=n.borderWidth,t.lineJoin="bevel"),t.strokeStyle=n.borderColor,t.stroke()),t.restore()}}),It=mt.valueOrDefault,Pt=ft.global.defaultColor;ft._set("global",{elements:{line:{tension:.4,backgroundColor:Pt,borderWidth:3,borderColor:Pt,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var $t=wt.extend({draw:function(){var e,t,n,i,r=this._view,o=this._chart.ctx,a=r.spanGaps,s=this._children.slice(),l=ft.global,c=l.elements.line,u=-1;for(this._loop&&s.length&&s.push(s[0]),o.save(),o.lineCap=r.borderCapStyle||c.borderCapStyle,o.setLineDash&&o.setLineDash(r.borderDash||c.borderDash),o.lineDashOffset=It(r.borderDashOffset,c.borderDashOffset),o.lineJoin=r.borderJoinStyle||c.borderJoinStyle,o.lineWidth=It(r.borderWidth,c.borderWidth),o.strokeStyle=r.borderColor||l.defaultColor,o.beginPath(),u=-1,e=0;e<s.length;++e)t=s[e],n=mt.previousItem(s,e),i=t._view,0===e?i.skip||(o.moveTo(i.x,i.y),u=e):(n=-1===u?n:s[u],i.skip||(u!==e-1&&!a||-1===u?o.moveTo(i.x,i.y):mt.canvas.lineTo(o,n._view,t._view),u=e));o.stroke(),o.restore()}}),Rt=mt.valueOrDefault,Ot=ft.global.defaultColor;ft._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Ot,borderColor:Ot,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var At=wt.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:e,inXRange:e,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,i=t.pointStyle,r=t.rotation,o=t.radius,a=t.x,s=t.y,l=ft.global,c=l.defaultColor;t.skip||(void 0===e||mt.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||c,n.lineWidth=Rt(t.borderWidth,l.elements.point.borderWidth),n.fillStyle=t.backgroundColor||c,mt.canvas.drawPoint(n,i,o,a,s,r))}}),Nt=ft.global.defaultColor;ft._set("global",{elements:{rectangle:{backgroundColor:Nt,borderColor:Nt,borderSkipped:"bottom",borderWidth:0}}});var Ht=wt.extend({draw:function(){var e,t,n,i,r,o=this._chart.ctx,a=this._view,s=(t=R(e=a),n=t.right-t.left,i=t.bottom-t.top,r=A(e,n/2,i/2),{outer:{x:t.left,y:t.top,w:n,h:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}),l=s.outer,c=s.inner;o.fillStyle=a.backgroundColor,o.fillRect(l.x,l.y,l.w,l.h),l.w===c.w&&l.h===c.h||(o.save(),o.beginPath(),o.rect(l.x,l.y,l.w,l.h),o.clip(),o.fillStyle=a.borderColor,o.rect(c.x,c.y,c.w,c.h),o.fill("evenodd"),o.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return N(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return $(n)?N(n,e,null):N(n,null,t)},inXRange:function(e){return N(this._view,e,null)},inYRange:function(e){return N(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return $(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return $(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),Lt={},Ft=Mt,jt=$t,zt=At,Bt=Ht;Lt.Arc=Ft,Lt.Line=jt,Lt.Point=zt,Lt.Rectangle=Bt;var Wt=mt.options.resolve;ft._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var Ut=Et.extend({dataElementType:Lt.Rectangle,initialize:function(){
var e;Et.prototype.initialize.apply(this,arguments),(e=this.getMeta()).stack=this.getDataset().stack,e.bar=!0},update:function(e){var t,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,n=i.length;t<n;++t)this.updateElement(i[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.getMeta(),o=i.getDataset(),a=i._resolveElementOptions(e,t);e._xScale=i.getScaleForId(r.xAxisID),e._yScale=i.getScaleForId(r.yAxisID),e._datasetIndex=i.index,e._index=t,e._model={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderSkipped:a.borderSkipped,borderWidth:a.borderWidth,datasetLabel:o.label,label:i.chart.data.labels[t]},i._updateElementGeometry(e,t,n),e.pivot()},_updateElementGeometry:function(e,t,n){var i=this,r=e._model,o=i._getValueScale(),a=o.getBasePixel(),s=o.isHorizontal(),l=i._ruler||i.getRuler(),c=i.calculateBarValuePixels(i.index,t),u=i.calculateBarIndexPixels(i.index,t,l);r.horizontal=s,r.base=n?a:c.base,r.x=s?n?a:c.head:u.center,r.y=s?u.center:n?a:c.head,r.height=s?u.size:void 0,r.width=s?void 0:u.size},_getStacks:function(e){var t,n,i=this.chart,r=this._getIndexScale().options.stacked,o=void 0===e?i.data.datasets.length:e+1,a=[];for(t=0;t<o;++t)(n=i.getDatasetMeta(t)).bar&&i.isDatasetVisible(t)&&(!1===r||!0===r&&-1===a.indexOf(n.stack)||void 0===r&&(void 0===n.stack||-1===a.indexOf(n.stack)))&&a.push(n.stack);return a},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),i=void 0!==t?n.indexOf(t):-1;return-1===i?n.length-1:i},getRuler:function(){var e,t,n=this._getIndexScale(),i=this.getStackCount(),r=this.index,o=n.isHorizontal(),a=o?n.left:n.top,s=a+(o?n.width:n.height),l=[];for(e=0,t=this.getMeta().data.length;e<t;++e)l.push(n.getPixelForValue(null,e,r));return{min:mt.isNullOrUndef(n.options.barThickness)?function(e,t){var n,i,r,o,a=e.isHorizontal()?e.width:e.height,s=e.getTicks();for(r=1,o=t.length;r<o;++r)a=Math.min(a,Math.abs(t[r]-t[r-1]));for(r=0,o=s.length;r<o;++r)i=e.getPixelForTick(r),a=0<r?Math.min(a,i-n):a,n=i;return a}(n,l):-1,pixels:l,start:a,end:s,stackCount:i,scale:n}},calculateBarValuePixels:function(e,t){var n,i,r,o,a,s,l=this.chart,c=this.getMeta(),u=this._getValueScale(),d=u.isHorizontal(),h=l.data.datasets,f=+u.getRightValue(h[e].data[t]),p=u.options.minBarLength,g=u.options.stacked,m=c.stack,v=0;if(g||void 0===g&&void 0!==m)for(n=0;n<e;++n)(i=l.getDatasetMeta(n)).bar&&i.stack===m&&i.controller._getValueScaleId()===u.id&&l.isDatasetVisible(n)&&(r=+u.getRightValue(h[n].data[t]),(f<0&&r<0||0<=f&&0<r)&&(v+=r));return o=u.getPixelForValue(v),s=(a=u.getPixelForValue(v+f))-o,void 0!==p&&Math.abs(s)<p&&(s=p,a=0<=f&&!d||f<0&&d?o-p:o+p),{size:s,base:o,head:a,center:a+s/2}},calculateBarIndexPixels:function(e,t,n){var i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,_,b=n.scale.options,w="flex"===b.barThickness?(d=t,f=b,g=(h=n).pixels,m=g[d],v=0<d?g[d-1]:null,y=d<g.length-1?g[d+1]:null,_=f.categoryPercentage,null===v&&(v=m-(null===y?h.end-h.start:y-m)),null===y&&(y=m+m-v),p=m-(m-Math.min(v,y))/2*_,{chunk:Math.abs(y-v)/2*_/h.stackCount,ratio:f.barPercentage,start:p}):(i=t,r=n,l=(o=b).barThickness,c=r.stackCount,u=r.pixels[i],mt.isNullOrUndef(l)?(a=r.min*o.categoryPercentage,s=o.barPercentage):(a=l*c,s=1),{chunk:a/c,ratio:s,start:u-a/2}),x=this.getStackIndex(e,this.getMeta().stack),k=w.start+w.chunk*x+w.chunk/2,S=Math.min(mt.valueOrDefault(b.maxBarThickness,1/0),w.chunk*w.ratio);return{base:k-S/2,head:k+S/2,center:k,size:S}},draw:function(){var e=this.chart,t=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),r=n.length,o=0;for(mt.canvas.clipArea(e.ctx,e.chartArea);o<r;++o)isNaN(t.getRightValue(i.data[o]))||n[o].draw();mt.canvas.unclipArea(e.ctx)},_resolveElementOptions:function(e,t){var n,i,r,o=this.chart,a=o.data.datasets[this.index],s=e.custom||{},l=o.options.elements.rectangle,c={},u={chart:o,dataIndex:t,dataset:a,datasetIndex:this.index},d=["backgroundColor","borderColor","borderSkipped","borderWidth"];for(n=0,i=d.length;n<i;++n)c[r=d[n]]=Wt([s[r],a[r],l[r]],u,t);return c}}),Vt=mt.valueOrDefault,qt=mt.options.resolve;ft._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",i=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+i.r+")"}}}});var Yt=Et.extend({dataElementType:Lt.Point,update:function(n){var i=this,e=i.getMeta().data;mt.each(e,function(e,t){i.updateElement(e,t,n)})},updateElement:function(e,t,n){var i=this,r=i.getMeta(),o=e.custom||{},a=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveElementOptions(e,t),c=i.getDataset().data[t],u=i.index,d=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof c?c:NaN,t,u),h=n?s.getBasePixel():s.getPixelForValue(c,t,u);e._xScale=a,e._yScale=s,e._options=l,e._datasetIndex=u,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:o.skip||isNaN(d)||isNaN(h),x:d,y:h},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,i=mt.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Vt(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Vt(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Vt(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveElementOptions:function(e,t){var n,i,r,o=this.chart,a=o.data.datasets[this.index],s=e.custom||{},l=o.options.elements.point,c=a.data[t],u={},d={chart:o,dataIndex:t,dataset:a,datasetIndex:this.index},h=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(n=0,i=h.length;n<i;++n)u[r=h[n]]=qt([s[r],a[r],l[r]],d,t);return u.radius=qt([s.radius,c?c.r:void 0,a.radius,l.radius],d,t),u}}),Gt=mt.options.resolve,Zt=mt.valueOrDefault;ft._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)t.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&t.push(r[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(s){var l=s.data;return l.labels.length&&l.datasets.length?l.labels.map(function(e,t){var n=s.getDatasetMeta(0),i=l.datasets[0],r=n.data[t],o=r&&r.custom||{},a=s.options.elements.arc;return{text:e,fillStyle:Gt([o.backgroundColor,i.backgroundColor,a.backgroundColor],void 0,t),strokeStyle:Gt([o.borderColor,i.borderColor,a.borderColor],void 0,t),lineWidth:Gt([o.borderWidth,i.borderWidth,a.borderWidth],void 0,t),hidden:isNaN(i.data[t])||n.data[t].hidden,index:t}}):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],i=": "+t.datasets[e.datasetIndex].data[e.index];return mt.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Xt=Et.extend({dataElementType:Lt.Arc,linkScales:mt.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,i=this,r=i.chart,o=r.chartArea,a=r.options,s=o.right-o.left,l=o.bottom-o.top,c=Math.min(s,l),u={x:0,y:0},d=i.getMeta(),h=d.data,f=a.cutoutPercentage,p=a.circumference,g=i._getRingWeight(i.index);if(p<2*Math.PI){var m=a.rotation%(2*Math.PI),v=(m+=2*Math.PI*(m>=Math.PI?-1:m<-Math.PI?1:0))+p,y={x:Math.cos(m),y:Math.sin(m)},_={x:Math.cos(v),y:Math.sin(v)},b=m<=0&&0<=v||m<=2*Math.PI&&2*Math.PI<=v,w=m<=.5*Math.PI&&.5*Math.PI<=v||m<=2.5*Math.PI&&2.5*Math.PI<=v,x=m<=-Math.PI&&-Math.PI<=v||m<=Math.PI&&Math.PI<=v,k=m<=.5*-Math.PI&&.5*-Math.PI<=v||m<=1.5*Math.PI&&1.5*Math.PI<=v,S=f/100,C={x:x?-1:Math.min(y.x*(y.x<0?1:S),_.x*(_.x<0?1:S)),y:k?-1:Math.min(y.y*(y.y<0?1:S),_.y*(_.y<0?1:S))},D={x:b?1:Math.max(y.x*(0<y.x?1:S),_.x*(0<_.x?1:S)),y:w?1:Math.max(y.y*(0<y.y?1:S),_.y*(0<_.y?1:S))},T={width:.5*(D.x-C.x),height:.5*(D.y-C.y)};c=Math.min(s/T.width,l/T.height),u={x:-.5*(D.x+C.x),y:-.5*(D.y+C.y)}}for(t=0,n=h.length;t<n;++t)h[t]._options=i._resolveElementOptions(h[t],t);for(r.borderWidth=i.getMaxBorderWidth(),r.outerRadius=Math.max((c-r.borderWidth)/2,0),r.innerRadius=Math.max(f?r.outerRadius/100*f:0,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),r.offsetX=u.x*r.outerRadius,r.offsetY=u.y*r.outerRadius,d.total=i.calculateTotal(),i.outerRadius=r.outerRadius-r.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-r.radiusLength*g,0),t=0,n=h.length;t<n;++t)i.updateElement(h[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.chart,o=r.chartArea,a=r.options,s=a.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=a.rotation,d=a.rotation,h=i.getDataset(),f=n&&s.animateRotate?0:e.hidden?0:i.calculateCircumference(h.data[t])*(a.circumference/(2*Math.PI)),p=n&&s.animateScale?0:i.innerRadius,g=n&&s.animateScale?0:i.outerRadius,m=e._options||{};mt.extend(e,{_datasetIndex:i.index,_index:t,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:l+r.offsetX,y:c+r.offsetY,startAngle:u,endAngle:d,circumference:f,outerRadius:g,innerRadius:p,label:mt.valueAtIndexOrDefault(h.label,t,r.data.labels[t])}});var v=e._model;n&&s.animateRotate||(v.startAngle=0===t?a.rotation:i.getMeta().data[t-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),e.pivot()},calculateTotal:function(){var n,i=this.getDataset(),e=this.getMeta(),r=0;return mt.each(e.data,function(e,t){n=i.data[t],isNaN(n)||e.hidden||(r+=Math.abs(n))}),r},calculateCircumference:function(e){var t=this.getMeta().total;return 0<t&&!isNaN(e)?2*Math.PI*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,i,r,o,a,s,l,c=0,u=this.chart;if(!e)for(t=0,n=u.data.datasets.length;t<n;++t)if(u.isDatasetVisible(t)){e=(i=u.getDatasetMeta(t)).data,t!==this.index&&(o=i.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)r=e[t],"inner"!==(a=o?o._resolveElementOptions(r,t):r._options).borderAlign&&(s=a.borderWidth,c=(l=a.hoverBorderWidth)>(c=c<s?s:c)?l:c);return c},setHoverStyle:function(e){var t=e._model,n=e._options,i=mt.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=Zt(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Zt(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Zt(n.hoverBorderWidth,n.borderWidth)},_resolveElementOptions:function(e,t){var n,i,r,o=this.chart,a=this.getDataset(),s=e.custom||{},l=o.options.elements.arc,c={},u={chart:o,dataIndex:t,dataset:a,datasetIndex:this.index},d=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(n=0,i=d.length;n<i;++n)c[r=d[n]]=Gt([s[r],a[r],l[r]],u,t);return c},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(Zt(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});ft._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var Kt=Ut.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Qt=mt.valueOrDefault,Jt=mt.options.resolve,en=mt.canvas._isPointInArea;ft._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var tn=Et.extend({datasetElementType:Lt.Line,dataElementType:Lt.Point,update:function(e){var t,n,i=this,r=i.getMeta(),o=r.dataset,a=r.data||[],s=i.getScaleForId(r.yAxisID),l=i.getDataset(),c=H(l,i.chart.options);for(c&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o._scale=s,o._datasetIndex=i.index,o._children=a,o._model=i._resolveLineOptions(o),o.pivot()),t=0,n=a.length;t<n;++t)i.updateElement(a[t],t,e);for(c&&0!==o._model.tension&&i.updateBezierControlPoints(),t=0,n=a.length;t<n;++t)a[t].pivot()},updateElement:function(e,t,n){var i,r,o=this,a=o.getMeta(),s=e.custom||{},l=o.getDataset(),c=o.index,u=l.data[t],d=o.getScaleForId(a.yAxisID),h=o.getScaleForId(a.xAxisID),f=a.dataset._model,p=o._resolvePointOptions(e,t);i=h.getPixelForValue("object"==typeof u?u:NaN,t,c),r=n?d.getBasePixel():o.calculatePointY(u,t,c),e._xScale=h,e._yScale=d,e._options=p,e._datasetIndex=c,e._index=t,e._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:p.radius,pointStyle:p.pointStyle,rotation:p.rotation,backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,tension:Qt(s.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:p.hitRadius}},_resolvePointOptions:function(e,t){var n,i,r,o=this.chart,a=o.data.datasets[this.index],s=e.custom||{},l=o.options.elements.point,c={},u={chart:o,dataIndex:t,dataset:a,datasetIndex:this.index},d={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},h=Object.keys(d);for(n=0,i=h.length;n<i;++n)c[r=h[n]]=Jt([s[r],a[d[r]],a[r],l[r]],u,t);return c},_resolveLineOptions:function(e){var t,n,i,r=this.chart,o=r.data.datasets[this.index],a=e.custom||{},s=r.options,l=s.elements.line,c={},u=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","cubicInterpolationMode"];for(t=0,n=u.length;t<n;++t)c[i=u[t]]=Jt([a[i],o[i],l[i]]);return c.spanGaps=Qt(o.spanGaps,s.spanGaps),c.tension=Qt(o.lineTension,l.tension),c.steppedLine=Jt([a.steppedLine,o.steppedLine,l.stepped]),c},calculatePointY:function(e,t,n){var i,r,o,a=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),c=0,u=0;if(l.options.stacked){for(i=0;i<n;i++)if(r=a.data.datasets[i],"line"===(o=a.getDatasetMeta(i)).type&&o.yAxisID===l.id&&a.isDatasetVisible(i)){var d=Number(l.getRightValue(r.data[t]));d<0?u+=d||0:c+=d||0}var h=Number(l.getRightValue(e));return h<0?l.getPixelForValue(u+h):l.getPixelForValue(c+h)}return l.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,n,i,r,o=this.chart,a=this.getMeta(),s=a.dataset._model,l=o.chartArea,c=a.data||[];if(s.spanGaps&&(c=c.filter(function(e){return!e._model.skip})),"monotone"===s.cubicInterpolationMode)mt.splineCurveMonotone(c);else for(t=0,n=c.length;t<n;++t)i=c[t]._model,r=mt.splineCurve(mt.previousItem(c,t)._model,i,mt.nextItem(c,t)._model,s.tension),i.controlPointPreviousX=r.previous.x,i.controlPointPreviousY=r.previous.y,i.controlPointNextX=r.next.x,i.controlPointNextY=r.next.y;if(o.options.elements.line.capBezierPoints)for(t=0,n=c.length;t<n;++t)i=c[t]._model,en(i,l)&&(0<t&&en(c[t-1]._model,l)&&(i.controlPointPreviousX=e(i.controlPointPreviousX,l.left,l.right),i.controlPointPreviousY=e(i.controlPointPreviousY,l.top,l.bottom)),t<c.length-1&&en(c[t+1]._model,l)&&(i.controlPointNextX=e(i.controlPointNextX,l.left,l.right),i.controlPointNextY=e(i.controlPointNextY,l.top,l.bottom)))},draw:function(){var e,t=this.chart,n=this.getMeta(),i=n.data||[],r=t.chartArea,o=i.length,a=0;for(H(this.getDataset(),t.options)&&(e=(n.dataset._model.borderWidth||0)/2,mt.canvas.clipArea(t.ctx,{left:r.left,right:r.right,top:r.top-e,bottom:r.bottom+e}),n.dataset.draw(),mt.canvas.unclipArea(t.ctx));a<o;++a)i[a].draw(r)},setHoverStyle:function(e){var t=e._model,n=e._options,i=mt.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Qt(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Qt(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Qt(n.hoverBorderWidth,n.borderWidth),t.radius=Qt(n.hoverRadius,n.radius)}}),nn=mt.options.resolve;ft._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)t.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&t.push(r[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(a){var s=a.data;return s.labels.length&&s.datasets.length?s.labels.map(function(e,t){var n=a.getDatasetMeta(0),i=s.datasets[0],r=n.data[t].custom||{},o=a.options.elements.arc;return{text:e,fillStyle:nn([r.backgroundColor,i.backgroundColor,o.backgroundColor],void 0,t),strokeStyle:nn([r.borderColor,i.borderColor,o.borderColor],void 0,t),lineWidth:nn([r.borderWidth,i.borderWidth,o.borderWidth],void 0,t),hidden:isNaN(i.data[t])||n.data[t].hidden,index:t}}):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var rn=Et.extend({dataElementType:Lt.Arc,linkScales:mt.noop,update:function(e){var t,n,i,r=this,o=r.getDataset(),a=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],c=r._angles=[],u=a.data;for(r._updateRadius(),a.count=r.countVisibleElements(),t=0,n=o.data.length;t<n;t++)l[t]=s,i=r._computeAngle(t),s+=c[t]=i;for(t=0,n=u.length;t<n;++t)u[t]._options=r._resolveElementOptions(u[t],t),r.updateElement(u[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(r/2,0),t.innerRadius=Math.max(i.cutoutPercentage?t.outerRadius/100*i.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var i=this,r=i.chart,o=i.getDataset(),a=r.options,s=a.animation,l=r.scale,c=r.data.labels,u=l.xCenter,d=l.yCenter,h=a.startAngle,f=e.hidden?0:l.getDistanceFromCenterForValue(o.data[t]),p=i._starts[t],g=p+(e.hidden?0:i._angles[t]),m=s.animateScale?0:l.getDistanceFromCenterForValue(o.data[t]),v=e._options||{};mt.extend(e,{_datasetIndex:i.index,_index:t,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:u,y:d,innerRadius:0,outerRadius:n?m:f,startAngle:n&&s.animateRotate?h:p,endAngle:n&&s.animateRotate?h:g,label:mt.valueAtIndexOrDefault(c,t,c[t])}}),e.pivot()},countVisibleElements:function(){var n=this.getDataset(),e=this.getMeta(),i=0;return mt.each(e.data,function(e,t){isNaN(n.data[t])||e.hidden||i++}),i},setHoverStyle:function(e){var t=e._model,n=e._options,i=mt.getHoverColor,r=mt.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=r(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_resolveElementOptions:function(e,t){var n,i,r,o=this.chart,a=this.getDataset(),s=e.custom||{},l=o.options.elements.arc,c={},u={chart:o,dataIndex:t,dataset:a,datasetIndex:this.index},d=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(n=0,i=d.length;n<i;++n)c[r=d[n]]=nn([s[r],a[r],l[r]],u,t);return c},_computeAngle:function(e){var t=this,n=this.getMeta().count,i=t.getDataset(),r=t.getMeta();if(isNaN(i.data[e])||r.data[e].hidden)return 0;var o={chart:t.chart,dataIndex:e,dataset:i,datasetIndex:t.index};return nn([t.chart.options.elements.arc.angle,2*Math.PI/n],o,e)}});ft._set("pie",mt.clone(ft.doughnut)),ft._set("pie",{cutoutPercentage:0});var on=Xt,an=mt.valueOrDefault,sn=mt.options.resolve;ft._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var ln=Et.extend({datasetElementType:Lt.Line,dataElementType:Lt.Point,linkScales:mt.noop,update:function(e){var t,n,i=this,r=i.getMeta(),o=r.dataset,a=r.data||[],s=i.chart.scale,l=i.getDataset();for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o._scale=s,o._datasetIndex=i.index,o._children=a,o._loop=!0,o._model=i._resolveLineOptions(o),o.pivot(),t=0,n=a.length;t<n;++t)i.updateElement(a[t],t,e);for(i.updateBezierControlPoints(),t=0,n=a.length;t<n;++t)a[t].pivot()},updateElement:function(e,t,n){var i=this,r=e.custom||{},o=i.getDataset(),a=i.chart.scale,s=a.getPointPositionForValue(t,o.data[t]),l=i._resolvePointOptions(e,t),c=i.getMeta().dataset._model,u=n?a.xCenter:s.x,d=n?a.yCenter:s.y;e._scale=a,e._options=l,e._datasetIndex=i.index,e._index=t,e._model={x:u,y:d,skip:r.skip||isNaN(u)||isNaN(d),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:an(r.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolvePointOptions:function(e,t){var n,i,r,o=this.chart,a=o.data.datasets[this.index],s=e.custom||{},l=o.options.elements.point,c={},u={chart:o,dataIndex:t,dataset:a,datasetIndex:this.index},d={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},h=Object.keys(d);for(n=0,i=h.length;n<i;++n)c[r=h[n]]=sn([s[r],a[d[r]],a[r],l[r]],u,t);return c},_resolveLineOptions:function(e){var t,n,i,r=this.chart,o=r.data.datasets[this.index],a=e.custom||{},s=r.options.elements.line,l={},c=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"];for(t=0,n=c.length;t<n;++t)l[i=c[t]]=sn([a[i],o[i],s[i]]);return l.tension=an(o.lineTension,s.tension),l},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,n,i,r,o=this.getMeta(),a=this.chart.chartArea,s=o.data||[];for(t=0,n=s.length;t<n;++t)i=s[t]._model,r=mt.splineCurve(mt.previousItem(s,t,!0)._model,i,mt.nextItem(s,t,!0)._model,i.tension),i.controlPointPreviousX=e(r.previous.x,a.left,a.right),i.controlPointPreviousY=e(r.previous.y,a.top,a.bottom),i.controlPointNextX=e(r.next.x,a.left,a.right),i.controlPointNextY=e(r.next.y,a.top,a.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,i=mt.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=an(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=an(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=an(n.hoverBorderWidth,n.borderWidth),t.radius=an(n.hoverRadius,n.radius)}});ft._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}});var cn={bar:Ut,bubble:Yt,doughnut:Xt,horizontalBar:Kt,line:tn,polarArea:rn,pie:on,radar:ln,scatter:tn},un={modes:{single:function(e,t){var n=L(t,e),i=[];return F(e,function(e){if(e.inRange(n.x,n.y))return i.push(e),i}),i.slice(0,1)},label:W,index:W,dataset:function(e,t,n){var i=L(t,e);n.axis=n.axis||"xy";var r=B(n.axis),o=n.intersect?j(e,i):z(e,i,!1,r);return 0<o.length&&(o=e.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(e,t){return W(e,t,{intersect:!1})},point:function(e,t){return j(e,L(t,e))},nearest:function(e,t,n){var i=L(t,e);n.axis=n.axis||"xy";var r=B(n.axis);return z(e,i,n.intersect,r)},x:function(e,t,n){var i=L(t,e),r=[],o=!1;return F(e,function(e){e.inXRange(i.x)&&r.push(e),e.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r},y:function(e,t,n){var i=L(t,e),r=[],o=!1;return F(e,function(e){e.inYRange(i.y)&&r.push(e),e.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r}}};ft._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var dn,hn={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var i,r=["fullWidth","position","weight"],o=r.length,a=0;a<o;++a)i=r[a],n.hasOwnProperty(i)&&(t[i]=n[i])},update:function(t,n,e){function i(t){var e=mt.findNextWhere(D,function(e){return e.box===t});if(e)if(e.horizontal){var n={left:Math.max(C.left,m.left),right:Math.max(C.right,m.right),top:0,bottom:0};t.update(t.fullWidth?b:k,w/2,n)}else t.update(e.width,S)}function r(e){e.isHorizontal()?(e.left=e.fullWidth?s:C.left,e.right=e.fullWidth?n-l:C.left+k,e.top=$,e.bottom=$+e.height,$=e.bottom):(e.left=P,e.right=P+e.width,e.top=C.top,e.bottom=C.top+S,P=e.right)}if(t){var o=t.options.layout||{},a=mt.options.toPadding(o.padding),s=a.left,l=a.right,c=a.top,u=a.bottom,d=U(t.boxes,"left"),h=U(t.boxes,"right"),f=U(t.boxes,"top"),p=U(t.boxes,"bottom"),g=U(t.boxes,"chartArea");V(d,!0),V(h,!1),V(f,!0),V(p,!1);var m,v=d.concat(h),y=f.concat(p),_=v.concat(y),b=n-s-l,w=e-c-u,x=(n-b/2)/v.length,k=b,S=w,C={top:c,left:s,bottom:u,right:l},D=[];mt.each(_,function(e){var t,n=e.isHorizontal();n?(t=e.update(e.fullWidth?b:k,w/2),S-=t.height):(t=e.update(x,S),k-=t.width),D.push({horizontal:n,width:t.width,box:e})}),R=_,H=N=A=O=0,mt.each(R,function(e){if(e.getPadding){var t=e.getPadding();O=Math.max(O,t.top),A=Math.max(A,t.left),N=Math.max(N,t.bottom),H=Math.max(H,t.right)}}),m={top:O,left:A,bottom:N,right:H},mt.each(v,i),q(v,C),mt.each(y,i),q(y,C),mt.each(v,function(t){var e=mt.findNextWhere(D,function(e){return e.box===t}),n={left:0,right:0,top:C.top,bottom:C.bottom};e&&t.update(e.width,S,n)}),q(_,C={top:c,left:s,bottom:u,right:l});var T=Math.max(m.left-C.left,0);C.left+=T,C.right+=Math.max(m.right-C.right,0);var E=Math.max(m.top-C.top,0);C.top+=E,C.bottom+=Math.max(m.bottom-C.bottom,0);var M=e-C.top-C.bottom,I=n-C.left-C.right;I===k&&M===S||(mt.each(v,function(e){e.height=M}),mt.each(y,function(e){e.fullWidth||(e.width=I)}),S=M,k=I);var P=s+T,$=c+E;mt.each(d.concat(f),r),P+=k,$+=S,mt.each(h,r),mt.each(p,r),t.chartArea={left:C.left,top:C.top,right:C.left+k,bottom:C.top+S},mt.each(g,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(k,S)})}var R,O,A,N,H}},fn=(dn=Object.freeze({"default":"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&dn["default"]||dn,pn="$chartjs",gn="chartjs-size-monitor",mn="chartjs-render-monitor",vn="chartjs-render-animation",yn=["animationstart","webkitAnimationStart"],_n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},bn=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0},wn={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){var e,t,n;this._loaded||(this._loaded=!0,this.disableCSSInjection||(t=fn,n=(e=this)._style||document.createElement("style"),e._style||(t="/* Chart.js */\n"+t,(e._style=n).setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))))},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return this._ensureLoaded(),n&&n.canvas===e?(function(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[pn]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var o=Y(e,"width");void 0!==o&&(e.width=o)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var a=Y(e,"height");void 0!==o&&(e.height=a)}}(e,t),n):null},releaseContext:function(e){var n=e.canvas;if(n[pn]){var i=n[pn].initial;["height","width"].forEach(function(e){var t=i[e];mt.isNullOrUndef(t)?n.removeAttribute(e):n.setAttribute(e,t)}),mt.each(i.style||{},function(e,t){n.style[t]=e}),n.width=n.width,delete n[pn]}},addEventListener:function(o,e,a){var t=o.canvas;if("resize"!==e){var n=a[pn]||(a[pn]={});G(t,e,(n.proxies||(n.proxies={}))[o.id+"_"+e]=function(e){var t,n,i,r;a((n=o,i=_n[(t=e).type]||t.type,r=mt.getRelativePosition(t,n),X(i,n,r.x,r.y,t)))})}else Q(t,a,o)},removeEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=((n[pn]||{}).proxies||{})[e.id+"_"+t];r&&Z(i,t,r)}else J(i)}};mt.addEvent=G,mt.removeEvent=Z;var xn=wn._enabled?wn:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},kn=mt.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},xn);ft._set("global",{plugins:{}});var Sn={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var n=this._plugins;[].concat(e).forEach(function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var i,r,o,a,s,l=this.descriptors(e),c=l.length;for(i=0;i<c;++i)if("function"==typeof(s=(o=(r=l[i]).plugin)[t])&&((a=[e].concat(n||[])).push(r.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var i=[],r=[],n=e&&e.config||{},o=n.options&&n.options.plugins||{};return this._plugins.concat(n.plugins||[]).forEach(function(e){if(-1===i.indexOf(e)){var t=e.id,n=o[t];!1!==n&&(!0===n&&(n=mt.clone(ft.global.plugins[t])),i.push(e),r.push({plugin:e,options:n||{}}))}}),t.descriptors=r,t.id=this._cacheId,r},_invalidate:function(e){delete e.$plugins}},Cn={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=mt.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?mt.merge({},[ft.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=mt.extend(this.defaults[e],t))},addScalesToLayout:function(t){mt.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,hn.addBox(t,e)})}},Dn=mt.valueOrDefault;ft._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",
bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:mt.noop,title:function(e,t){var n="",i=t.labels,r=i?i.length:0;if(0<e.length){var o=e[0];o.label?n=o.label:o.xLabel?n=o.xLabel:0<r&&o.index<r&&(n=i[o.index])}return n},afterTitle:mt.noop,beforeBody:mt.noop,beforeLabel:mt.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),mt.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:mt.noop,afterBody:mt.noop,beforeFooter:mt.noop,footer:mt.noop,afterFooter:mt.noop}}});var Tn={average:function(e){if(!e.length)return!1;var t,n,i=0,r=0,o=0;for(t=0,n=e.length;t<n;++t){var a=e[t];if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,r+=s.y,++o}}return{x:i/o,y:r/o}},nearest:function(e,t){var n,i,r,o=t.x,a=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){var l=e[n];if(l&&l.hasValue()){var c=l.getCenterPoint(),u=mt.distanceBetweenPoints(t,c);u<s&&(s=u,r=l)}}if(r){var d=r.tooltipPosition();o=d.x,a=d.y}return{x:o,y:a}}},En=wt.extend({initialize:function(){this._model=ne(this._options),this._lastActive=[]},getTitle:function(){var e=this._options.callbacks,t=e.beforeTitle.apply(this,arguments),n=e.title.apply(this,arguments),i=e.afterTitle.apply(this,arguments),r=[];return ee(r=ee(r=ee(r,te(t)),te(n)),te(i))},getBeforeBody:function(){return re(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,n){var i=this,r=i._options.callbacks,o=[];return mt.each(e,function(e){var t={before:[],lines:[],after:[]};ee(t.before,te(r.beforeLabel.call(i,e,n))),ee(t.lines,r.label.call(i,e,n)),ee(t.after,te(r.afterLabel.call(i,e,n))),o.push(t)}),o},getAfterBody:function(){return re(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this._options.callbacks,t=e.beforeFooter.apply(this,arguments),n=e.footer.apply(this,arguments),i=e.afterFooter.apply(this,arguments),r=[];return ee(r=ee(r=ee(r,te(t)),te(n)),te(i))},update:function(e){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y,_,b,w,x,k,S=this,C=S._options,D=S._model,T=S._model=ne(C),E=S._active,M=S._data,I={xAlign:D.xAlign,yAlign:D.yAlign},P={x:D.x,y:D.y},$={width:D.width,height:D.height},R={x:D.caretX,y:D.caretY};if(E.length){T.opacity=1;var O=[],A=[];R=Tn[C.position].call(S,E,S._eventPosition);var N=[];for(t=0,n=E.length;t<n;++t)N.push((u=c=l=s=a=o=r=void 0,r=(i=E[t])._xScale,o=i._yScale||i._scale,a=i._index,s=i._datasetIndex,c=(l=i._chart.getDatasetMeta(s).controller)._getIndexScale(),u=l._getValueScale(),{xLabel:r?r.getLabelForIndex(a,s):"",yLabel:o?o.getLabelForIndex(a,s):"",label:c?""+c.getLabelForIndex(a,s):"",value:u?""+u.getLabelForIndex(a,s):"",index:a,datasetIndex:s,x:i._model.x,y:i._model.y}));C.filter&&(N=N.filter(function(e){return C.filter(e,M)})),C.itemSort&&(N=N.sort(function(e,t){return C.itemSort(e,t,M)})),mt.each(N,function(e){O.push(C.callbacks.labelColor.call(S,e,S._chart)),A.push(C.callbacks.labelTextColor.call(S,e,S._chart))}),T.title=S.getTitle(N,M),T.beforeBody=S.getBeforeBody(N,M),T.body=S.getBody(N,M),T.afterBody=S.getAfterBody(N,M),T.footer=S.getFooter(N,M),T.x=R.x,T.y=R.y,T.caretPadding=C.caretPadding,T.labelColors=O,T.labelTextColors=A,T.dataPoints=N,$=function(e,t){var n=e._chart.ctx,i=2*t.yPadding,r=0,o=t.body,a=o.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);a+=t.beforeBody.length+t.afterBody.length;var s=t.title.length,l=t.footer.length,c=t.titleFontSize,u=t.bodyFontSize,d=t.footerFontSize;i+=s*c,i+=s?(s-1)*t.titleSpacing:0,i+=s?t.titleMarginBottom:0,i+=a*u,i+=a?(a-1)*t.bodySpacing:0,i+=l?t.footerMarginTop:0,i+=l*d,i+=l?(l-1)*t.footerSpacing:0;var h=0,f=function(e){r=Math.max(r,n.measureText(e).width+h)};return n.font=mt.fontString(c,t._titleFontStyle,t._titleFontFamily),mt.each(t.title,f),n.font=mt.fontString(u,t._bodyFontStyle,t._bodyFontFamily),mt.each(t.beforeBody.concat(t.afterBody),f),h=t.displayColors?u+2:0,mt.each(o,function(e){mt.each(e.before,f),mt.each(e.lines,f),mt.each(e.after,f)}),h=0,n.font=mt.fontString(d,t._footerFontStyle,t._footerFontFamily),mt.each(t.footer,f),{width:r+=2*t.xPadding,height:i}}(this,T),d=T,f=I=function(e,t){var n,i,r,o,a,s=e._model,l=e._chart,c=e._chart.chartArea,u="center",d="center";s.y<t.height?d="top":s.y>l.height-t.height&&(d="bottom");var h=(c.left+c.right)/2,f=(c.top+c.bottom)/2;"center"===d?(n=function(e){return e<=h},i=function(e){return h<e}):(n=function(e){return e<=t.width/2},i=function(e){return e>=l.width-t.width/2}),r=function(e){return e+t.width+s.caretSize+s.caretPadding>l.width},o=function(e){return e-t.width-s.caretSize-s.caretPadding<0},a=function(e){return e<=f?"top":"bottom"},n(s.x)?(u="left",r(s.x)&&(u="center",d=a(s.y))):i(s.x)&&(u="right",o(s.x)&&(u="center",d=a(s.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:u,yAlign:p.yAlign?p.yAlign:d}}(this,h=$),p=S._chart,g=d.x,m=d.y,v=d.caretSize,y=d.caretPadding,_=d.cornerRadius,b=f.xAlign,w=f.yAlign,x=v+y,k=_+y,"right"===b?g-=h.width:"center"===b&&((g-=h.width/2)+h.width>p.width&&(g=p.width-h.width),g<0&&(g=0)),"top"===w?m+=x:m-="bottom"===w?h.height+x:h.height/2,"center"===w?"left"===b?g+=x:"right"===b&&(g-=x):"left"===b?g-=k:"right"===b&&(g+=k),P={x:g,y:m}}else T.opacity=0;return T.xAlign=I.xAlign,T.yAlign=I.yAlign,T.x=P.x,T.y=P.y,T.width=$.width,T.height=$.height,T.caretX=R.x,T.caretY=R.y,S._model=T,e&&C.custom&&C.custom.call(S,T),S},drawCaret:function(e,t){var n=this._chart.ctx,i=this._view,r=this.getCaretPosition(e,t,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(e,t,n){var i,r,o,a,s,l,c=n.caretSize,u=n.cornerRadius,d=n.xAlign,h=n.yAlign,f=e.x,p=e.y,g=t.width,m=t.height;if("center"===h)s=p+m/2,"left"===d?(r=(i=f)-c,o=i,a=s+c,l=s-c):(r=(i=f+g)+c,o=i,a=s-c,l=s+c);else if(i="left"===d?(r=f+u+c)-c:"right"===d?(r=f+g-u-c)-c:(r=n.caretX)-c,o=r+c,"top"===h)s=(a=p)-c,l=a;else{s=(a=p+m)+c,l=a;var v=o;o=i,i=v}return{x1:i,x2:r,x3:o,y1:a,y2:s,y3:l}},drawTitle:function(e,t,n){var i=t.title;if(i.length){e.x=ie(t,t._titleAlign),n.textAlign=t._titleAlign,n.textBaseline="top";var r,o,a=t.titleFontSize,s=t.titleSpacing;for(n.fillStyle=t.titleFontColor,n.font=mt.fontString(a,t._titleFontStyle,t._titleFontFamily),r=0,o=i.length;r<o;++r)n.fillText(i[r],e.x,e.y),e.y+=a+s,r+1===i.length&&(e.y+=t.titleMarginBottom-s)}},drawBody:function(n,i,r){var o,a=i.bodyFontSize,t=i.bodySpacing,e=i._bodyAlign,s=i.body,l=i.displayColors,c=i.labelColors,u=0,d=l?ie(i,"left"):0;r.textAlign=e,r.textBaseline="top",r.font=mt.fontString(a,i._bodyFontStyle,i._bodyFontFamily),n.x=ie(i,e);var h=function(e){r.fillText(e,n.x+u,n.y),n.y+=a+t};r.fillStyle=i.bodyFontColor,mt.each(i.beforeBody,h),u=l&&"right"!==e?"center"===e?a/2+1:a+2:0,mt.each(s,function(e,t){o=i.labelTextColors[t],r.fillStyle=o,mt.each(e.before,h),mt.each(e.lines,function(e){l&&(r.fillStyle=i.legendColorBackground,r.fillRect(d,n.y,a,a),r.lineWidth=1,r.strokeStyle=c[t].borderColor,r.strokeRect(d,n.y,a,a),r.fillStyle=c[t].backgroundColor,r.fillRect(d+1,n.y+1,a-2,a-2),r.fillStyle=o),h(e)}),mt.each(e.after,h)}),u=0,mt.each(i.afterBody,h),n.y-=t},drawFooter:function(t,n,i){var e=n.footer;e.length&&(t.x=ie(n,n._footerAlign),t.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top",i.fillStyle=n.footerFontColor,i.font=mt.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),mt.each(e,function(e){i.fillText(e,t.x,t.y),t.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(e,t,n,i){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var r=t.xAlign,o=t.yAlign,a=e.x,s=e.y,l=i.width,c=i.height,u=t.cornerRadius;n.beginPath(),n.moveTo(a+u,s),"top"===o&&this.drawCaret(e,i),n.lineTo(a+l-u,s),n.quadraticCurveTo(a+l,s,a+l,s+u),"center"===o&&"right"===r&&this.drawCaret(e,i),n.lineTo(a+l,s+c-u),n.quadraticCurveTo(a+l,s+c,a+l-u,s+c),"bottom"===o&&this.drawCaret(e,i),n.lineTo(a+u,s+c),n.quadraticCurveTo(a,s+c,a,s+c-u),"center"===o&&"left"===r&&this.drawCaret(e,i),n.lineTo(a,s+u),n.quadraticCurveTo(a,s,a+u,s),n.closePath(),n.fill(),0<t.borderWidth&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},i={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity,o=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,t,e,n),i.y+=t.yPadding,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),e.restore())}},handleEvent:function(e){var t,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:n._active=n._chart.getElementsAtEventForMode(e,i.mode,i),(t=!mt.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}}),Mn=Tn,In=En;In.positioners=Mn;var Pn=mt.valueOrDefault;ft._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var $n=function(e,t){return this.construct(e,t),this};mt.extend($n.prototype,{construct:function(e,t){var n,i,r=this;(i=(n=(n=t)||{}).data=n.data||{}).datasets=i.datasets||[],i.labels=i.labels||[],n.options=ae(ft.global,ft[n.type],n.options||{}),t=n;var o=kn.acquireContext(e,t),a=o&&o.canvas,s=a&&a.height,l=a&&a.width;r.id=mt.uid(),r.ctx=o,r.canvas=a,r.config=t,r.width=l,r.height=s,r.aspectRatio=s?l/s:null,r.options=t.options,r._bufferedRender=!1,(r.chart=r).controller=r,$n.instances[r.id]=r,Object.defineProperty(r,"data",{get:function(){return r.config.data},set:function(e){r.config.data=e}}),o&&a?(r.initialize(),r.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return Sn.notify(e,"beforeInit"),mt.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.initToolTip(),Sn.notify(e,"afterInit"),e},clear:function(){return mt.canvas.clear(this),this},stop:function(){return St.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,i=t.canvas,r=n.maintainAspectRatio&&t.aspectRatio||null,o=Math.max(0,Math.floor(mt.getMaximumWidth(i))),a=Math.max(0,Math.floor(r?o/r:mt.getMaximumHeight(i)));if((t.width!==o||t.height!==a)&&(i.width=t.width=o,i.height=t.height=a,i.style.width=o+"px",i.style.height=a+"px",mt.retinaScale(t,n.devicePixelRatio),!e)){var s={width:o,height:a};Sn.notify(t,"resize",[s]),n.onResize&&n.onResize(t,s),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;mt.each(t.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),mt.each(t.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var a=this,e=a.options,s=a.scales||{},t=[],l=Object.keys(s).reduce(function(e,t){return e[t]=!1,e},{});e.scales&&(t=t.concat((e.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),e.scale&&t.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),mt.each(t,function(e){var t=e.options,n=t.id,i=Pn(t.type,e.dtype);se(t.position)!==se(e.dposition)&&(t.position=e.dposition),l[n]=!0;var r=null;if(n in s&&s[n].type===i)(r=s[n]).options=t,r.ctx=a.ctx,r.chart=a;else{var o=Cn.getScaleConstructor(i);if(!o)return;r=new o({id:n,type:i,options:t,ctx:a.ctx,chart:a}),s[r.id]=r}r.mergeTicksOptions(),e.isDefault&&(a.scale=r)}),mt.each(l,function(e,t){e||delete s[t]}),a.scales=s,Cn.addScalesToLayout(this)},buildOrUpdateControllers:function(){var o=this,a=[];return mt.each(o.data.datasets,function(e,t){var n=o.getDatasetMeta(t),i=e.type||o.config.type;if(n.type&&n.type!==i&&(o.destroyDatasetMeta(t),n=o.getDatasetMeta(t)),n.type=i,n.controller)n.controller.updateIndex(t),n.controller.linkScales();else{var r=cn[n.type];if(void 0===r)throw new Error('"'+n.type+'" is not a chart type.');n.controller=new r(o,t),a.push(n.controller)}},o),a},resetElements:function(){var n=this;mt.each(n.data.datasets,function(e,t){n.getDatasetMeta(t).controller.reset()},n)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e,t){var n,i,r=this;if(e&&"object"==typeof e||(e={duration:e,lazy:t}),i=(n=r).options,mt.each(n.scales,function(e){hn.removeBox(n,e)}),i=ae(ft.global,ft[n.config.type],i),n.options=n.config.options=i,n.ensureScalesHaveIDs(),n.buildOrUpdateScales(),n.tooltip._options=i.tooltips,n.tooltip.initialize(),Sn._invalidate(r),!1!==Sn.notify(r,"beforeUpdate")){r.tooltip._data=r.data;var o=r.buildOrUpdateControllers();mt.each(r.data.datasets,function(e,t){r.getDatasetMeta(t).controller.buildOrUpdateElements()},r),r.updateLayout(),r.options.animation&&r.options.animation.duration&&mt.each(o,function(e){e.reset()}),r.updateDatasets(),r.tooltip.initialize(),r.lastActive=[],Sn.notify(r,"afterUpdate"),r._bufferedRender?r._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:r.render(e)}},updateLayout:function(){!1!==Sn.notify(this,"beforeLayout")&&(hn.update(this,this.width,this.height),Sn.notify(this,"afterScaleUpdate"),Sn.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==Sn.notify(this,"beforeDatasetsUpdate")){for(var e=0,t=this.data.datasets.length;e<t;++e)this.updateDataset(e);Sn.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this.getDatasetMeta(e),n={meta:t,index:e};!1!==Sn.notify(this,"beforeDatasetUpdate",[n])&&(t.controller.update(),Sn.notify(this,"afterDatasetUpdate",[n]))},render:function(e,t){var n=this;e&&"object"==typeof e||(e={duration:e,lazy:t});var i=n.options.animation,r=Pn(e.duration,i&&i.duration),o=e.lazy;if(!1!==Sn.notify(n,"beforeRender")){var a=function(e){Sn.notify(n,"afterRender"),mt.callback(i&&i.onComplete,[e],n)};if(i&&r){var s=new kt({numSteps:r/16.66,easing:e.easing||i.easing,render:function(e,t){var n=mt.easing.effects[t.easing],i=t.currentStep,r=i/t.numSteps;e.draw(n(r),r,i)},onAnimationProgress:i.onProgress,onAnimationComplete:a});St.addAnimation(n,s,r,o)}else n.draw(),a(new kt({numSteps:0,chart:n}));return n}},draw:function(e){var t=this;t.clear(),mt.isNullOrUndef(e)&&(e=1),t.transition(e),t.width<=0||t.height<=0||!1!==Sn.notify(t,"beforeDraw",[e])&&(mt.each(t.boxes,function(e){e.draw(t.chartArea)},t),t.drawDatasets(e),t._drawTooltip(e),Sn.notify(t,"afterDraw",[e]))},transition:function(e){for(var t=0,n=(this.data.datasets||[]).length;t<n;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(e);this.tooltip.transition(e)},drawDatasets:function(e){var t=this;if(!1!==Sn.notify(t,"beforeDatasetsDraw",[e])){for(var n=(t.data.datasets||[]).length-1;0<=n;--n)t.isDatasetVisible(n)&&t.drawDataset(n,e);Sn.notify(t,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n=this.getDatasetMeta(e),i={meta:n,index:e,easingValue:t};!1!==Sn.notify(this,"beforeDatasetDraw",[i])&&(n.controller.draw(t),Sn.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(e){var t=this.tooltip,n={tooltip:t,easingValue:e};!1!==Sn.notify(this,"beforeTooltipDraw",[n])&&(t.draw(),Sn.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(e){return un.modes.single(this,e)},getElementsAtEvent:function(e){return un.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return un.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var i=un.modes[t];return"function"==typeof i?i(this,e,n):[]},getDatasetAtEvent:function(e){return un.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var n=t._meta[this.id];return n||(n=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],i=n._meta&&n._meta[t];i&&(i.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,i=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);i&&(n.unbindEvents(),mt.canvas.clear(n),kn.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Sn.notify(n,"destroy"),delete $n.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new In({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this,n=t._listeners={},i=function(){t.eventHandler.apply(t,arguments)};mt.each(t.options.events,function(e){kn.addEventListener(t,e,i),n[e]=i}),t.options.responsive&&(i=function(){t.resize()},kn.addEventListener(t,"resize",i),n.resize=i)},unbindEvents:function(){var n=this,e=n._listeners;e&&(delete n._listeners,mt.each(e,function(e,t){kn.removeEventListener(n,t,e)}))},updateHoverStyle:function(e,t,n){var i,r,o,a=n?"setHoverStyle":"removeHoverStyle";for(r=0,o=e.length;r<o;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[a](i)},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==Sn.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var i=t.handleEvent(e);n&&(i=n._start?n.handleEvent(e):i|n.handleEvent(e)),Sn.notify(t,"afterEvent",[e]);var r=t._bufferedRequest;return r?t.render(r):i&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],"mouseout"===e.type?n.active=[]:n.active=n.getElementsAtEventForMode(e,r.mode,r),mt.callback(i.onHover||i.hover.onHover,[e["native"],n.active],n),"mouseup"!==e.type&&"click"!==e.type||i.onClick&&i.onClick.call(n,e["native"],n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),t=!mt.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),$n.instances={};var Rn=$n;($n.Controller=$n).types={},mt.configMerge=ae,mt.scaleMerge=oe,mt.extend(ce.prototype,{formats:le,parse:le,format:le,add:le,diff:le,startOf:le,endOf:le,_create:function(e){return e}}),ce.override=function(e){mt.extend(ce.prototype,e)};var On={_date:ce},An={formatters:{values:function(e){return mt.isArray(e)?e:""+e},linear:function(e,t,n){var i=3<n.length?n[2]-n[1]:n[1]-n[0];1<Math.abs(i)&&e!==Math.floor(e)&&(i=e-Math.floor(e));var r=mt.log10(Math.abs(i)),o="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var a=mt.log10(Math.abs(e));o=e.toExponential(Math.floor(a)-Math.floor(r))}else{var s=-1*Math.floor(r);s=Math.max(Math.min(s,20),0),o=e.toFixed(s)}else o="0";return o},logarithmic:function(e,t,n){var i=e/Math.pow(10,Math.floor(mt.log10(e)));return 0===e?"0":1===i||2===i||5===i||0===t||t===n.length-1?e.toExponential():""}}},Nn=mt.valueOrDefault,Hn=mt.valueAtIndexOrDefault;ft._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:An.formatters.values,minor:{},major:{}}});var Ln=wt.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var e=this.options.ticks;for(var t in!1===e.minor&&(e.minor={display:!1}),!1===e.major&&(e.major={display:!1}),e)"major"!==t&&"minor"!==t&&(void 0===e.minor[t]&&(e.minor[t]=e[t]),void 0===e.major[t]&&(e.major[t]=e[t]))},beforeUpdate:function(){mt.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var i,r,o,a,s,l,c=this;for(c.beforeUpdate(),c.maxWidth=e,c.maxHeight=t,c.margins=mt.extend({left:0,right:0,top:0,bottom:0},n),c._maxLabelLines=0,c.longestLabelWidth=0,c.longestTextCache=c.longestTextCache||{},c.beforeSetDimensions(),c.setDimensions(),c.afterSetDimensions(),c.beforeDataLimits(),c.determineDataLimits(),c.afterDataLimits(),c.beforeBuildTicks(),s=c.buildTicks()||[],s=c.afterBuildTicks(s)||s,c.beforeTickToLabelConversion(),o=c.convertTicksToLabels(s)||c.ticks,c.afterTickToLabelConversion(),i=0,r=(c.ticks=o).length;i<r;++i)a=o[i],(l=s[i])?l.label=a:s.push(l={label:a,major:!1});return c._ticks=s,c.beforeCalculateTickRotation(),c.calculateTickRotation(),c.afterCalculateTickRotation(),c.beforeFit(),c.fit(),c.afterFit(),c.afterUpdate(),c.minSize},afterUpdate:function(){mt.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){mt.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){mt.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){mt.callback(this.options.beforeDataLimits,[this])},determineDataLimits:mt.noop,afterDataLimits:function(){mt.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){mt.callback(this.options.beforeBuildTicks,[this])},buildTicks:mt.noop,afterBuildTicks:function(e){var t=this;return mt.isArray(e)&&e.length?mt.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=mt.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){mt.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){mt.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){mt.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.ctx,n=e.options.ticks,i=ue(e._ticks),r=mt.options._parseFont(n);t.font=r.string;var o=n.minRotation||0;if(i.length&&e.options.display&&e.isHorizontal())for(var a,s=mt.longestText(t,r.string,i,e.longestTextCache),l=s,c=e.getPixelForTick(1)-e.getPixelForTick(0)-6;c<l&&o<n.maxRotation;){var u=mt.toRadians(o);if(a=Math.cos(u),Math.sin(u)*s>e.maxHeight){o--;break}o++,l=a*s}e.labelRotation=o},afterCalculateTickRotation:function(){mt.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){mt.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=ue(e._ticks),i=e.options,r=i.ticks,o=i.scaleLabel,a=i.gridLines,s=e._isVisible(),l=i.position,c=e.isHorizontal(),u=mt.options._parseFont,d=u(r),h=i.gridLines.tickMarkLength;if(t.width=c?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:s&&a.drawTicks?h:0,t.height=c?s&&a.drawTicks?h:0:e.maxHeight,o.display&&s){var f=u(o),p=mt.options.toPadding(o.padding),g=f.lineHeight+p.height;c?t.height+=g:t.width+=g}if(r.display&&s){var m=mt.longestText(e.ctx,d.string,n,e.longestTextCache),v=mt.numberOfLabelLines(n),y=.5*d.size,_=e.options.ticks.padding;if(e._maxLabelLines=v,e.longestLabelWidth=m,c){var b=mt.toRadians(e.labelRotation),w=Math.cos(b),x=Math.sin(b)*m+d.lineHeight*v+y;t.height=Math.min(e.maxHeight,t.height+x+_),e.ctx.font=d.string;var k,S,C=de(e.ctx,n[0],d.string),D=de(e.ctx,n[n.length-1],d.string),T=e.getPixelForTick(0)-e.left,E=e.right-e.getPixelForTick(n.length-1);0!==e.labelRotation?(k="bottom"===l?w*C:w*y,S="bottom"===l?w*y:w*D):(k=C/2,S=D/2),e.paddingLeft=Math.max(k-T,0)+3,e.paddingRight=Math.max(S-E,0)+3}else r.mirror?m=0:m+=_+y,t.width=Math.min(e.maxWidth,t.width+m),e.paddingTop=d.size/2,e.paddingBottom=d.size/2}e.handleMargins(),e.width=t.width,e.height=t.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){mt.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(mt.isNullOrUndef(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},getLabelForIndex:mt.noop,getPixelForValue:mt.noop,getValueForPixel:mt.noop,getPixelForTick:function(e){var t=this,n=t.options.offset;if(t.isHorizontal()){var i=(t.width-(t.paddingLeft+t.paddingRight))/Math.max(t._ticks.length-(n?0:1),1),r=i*e+t.paddingLeft;return n&&(r+=i/2),t.left+r+(t.isFullWidth()?t.margins.left:0)}var o=t.height-(t.paddingTop+t.paddingBottom);return t.top+e*(o/(t._ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=(t.width-(t.paddingLeft+t.paddingRight))*e+t.paddingLeft;return t.left+n+(t.isFullWidth()?t.margins.left:0)}return t.top+e*t.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:0<e&&0<t?e:0},_autoSkip:function(e){var t,n,i=this,r=i.isHorizontal(),o=i.options.ticks.minor,a=e.length,s=!1,l=o.maxTicksLimit,c=i._tickSize()*(a-1),u=r?i.width-(i.paddingLeft+i.paddingRight):i.height-(i.paddingTop+i.PaddingBottom),d=[];for(u<c&&(s=1+Math.floor(c/u)),l<a&&(s=Math.max(s,1+Math.floor(a/l))),t=0;t<a;t++)n=e[t],1<s&&0<t%s&&delete n.label,d.push(n);return d},_tickSize:function(){var e=this,t=e.isHorizontal(),n=e.options.ticks.minor,i=mt.toRadians(e.labelRotation),r=Math.abs(Math.cos(i)),o=Math.abs(Math.sin(i)),a=n.autoSkipPadding||0,s=e.longestLabelWidth+a||0,l=mt.options._parseFont(n),c=e._maxLabelLines*l.lineHeight+a||0;return t?s*o<c*r?s/r:c/o:c*o<s*r?c/r:s/o},_isVisible:function(){var e,t,n,i=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(e=0,t=i.data.datasets.length;e<t;++e)if(i.isDatasetVisible(e)&&((n=i.getDatasetMeta(e)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},draw:function(T){var E=this,M=E.options;if(E._isVisible()){var e,I,P,$=E.chart,a=E.ctx,t=ft.global.defaultFontColor,s=M.ticks.minor,n=M.ticks.major||s,R=M.gridLines,i=M.scaleLabel,O=M.position,A=0!==E.labelRotation,N=s.mirror,H=E.isHorizontal(),r=mt.options._parseFont,o=s.display&&s.autoSkip?E._autoSkip(E.getTicks()):E.getTicks(),l=Nn(s.fontColor,t),c=r(s),L=c.lineHeight,u=Nn(n.fontColor,t),d=r(n),F=s.padding,j=s.labelOffset,z=R.drawTicks?R.tickMarkLength:0,h=Nn(i.fontColor,t),f=r(i),p=mt.options.toPadding(i.padding),B=mt.toRadians(E.labelRotation),W=[],U=R.drawBorder?Hn(R.lineWidth,0,0):0,V=mt._alignPixel;if("top"===O?(e=V($,E.bottom,U),I=E.bottom-z,P=e-U/2):"bottom"===O?(e=V($,E.top,U),I=e+U/2,P=E.top+z):"left"===O?(e=V($,E.right,U),I=E.right-z,P=e-U/2):(e=V($,E.left,U),I=e+U/2,P=E.left+z),mt.each(o,function(e,t){if(!mt.isNullOrUndef(e.label)){var n,i,r,o,a,s,l,c,u,d,h,f,p,g,m,v,y=e.label;t===E.zeroLineIndex&&M.offset===R.offsetGridLines?(n=R.zeroLineWidth,i=R.zeroLineColor,r=R.zeroLineBorderDash||[],o=R.zeroLineBorderDashOffset||0):(n=Hn(R.lineWidth,t),i=Hn(R.color,t),r=R.borderDash||[],o=R.borderDashOffset||0);var _=mt.isArray(y)?y.length:1,b=(k=E,S=t,C=R.offsetGridLines,D=k.getPixelForTick(S),C&&(1===k.getTicks().length?D-=k.isHorizontal()?Math.max(D-k.left,k.right-D):Math.max(D-k.top,k.bottom-D):D-=0===S?(k.getPixelForTick(1)-D)/2:(D-k.getPixelForTick(S-1))/2),D);if(H){var w=z+F;b<E.left-1e-7&&(i="rgba(0,0,0,0)"),a=l=u=h=V($,b,n),s=I,c=P,p=E.getPixelForTick(t)+j,"top"===O?(d=V($,T.top,U)+U/2,f=T.bottom,m=((A?1:.5)-_)*L,v=A?"left":"center",g=E.bottom-w):(d=T.top,f=V($,T.bottom,U)-U/2,m=(A?0:.5)*L,v=A?"right":"center",g=E.top+w)}else{var x=(N?0:z)+F;b<E.top-1e-7&&(i="rgba(0,0,0,0)"),a=I,l=P,s=c=d=f=V($,b,n),g=E.getPixelForTick(t)+j,m=(1-_)*L/2,"left"===O?(u=V($,T.left,U)+U/2,h=T.right,v=N?"left":"right",p=E.right-x):(u=T.left,h=V($,T.right,U)-U/2,v=N?"right":"left",p=E.left+x)}W.push({tx1:a,ty1:s,tx2:l,ty2:c,x1:u,y1:d,x2:h,y2:f,labelX:p,labelY:g,glWidth:n,glColor:i,glBorderDash:r,glBorderDashOffset:o,rotation:-1*B,label:y,major:e.major,textOffset:m,textAlign:v})}var k,S,C,D}),mt.each(W,function(e){var t=e.glWidth,n=e.glColor;if(R.display&&t&&n&&(a.save(),a.lineWidth=t,a.strokeStyle=n,a.setLineDash&&(a.setLineDash(e.glBorderDash),a.lineDashOffset=e.glBorderDashOffset),a.beginPath(),R.drawTicks&&(a.moveTo(e.tx1,e.ty1),a.lineTo(e.tx2,e.ty2)),R.drawOnChartArea&&(a.moveTo(e.x1,e.y1),a.lineTo(e.x2,e.y2)),a.stroke(),a.restore()),s.display){a.save(),a.translate(e.labelX,e.labelY),a.rotate(e.rotation),a.font=e.major?d.string:c.string,a.fillStyle=e.major?u:l,a.textBaseline="middle",a.textAlign=e.textAlign;var i=e.label,r=e.textOffset;if(mt.isArray(i))for(var o=0;o<i.length;++o)a.fillText(""+i[o],0,r),r+=L;else a.fillText(i,0,r);a.restore()}}),i.display){var g,m,v=0,y=f.lineHeight/2;if(H)g=E.left+(E.right-E.left)/2,m="bottom"===O?E.bottom-y-p.bottom:E.top+y+p.top;else{var _="left"===O;g=_?E.left+y+p.top:E.right-y-p.top,m=E.top+(E.bottom-E.top)/2,v=_?-.5*Math.PI:.5*Math.PI}a.save(),a.translate(g,m),a.rotate(v),a.textAlign="center",a.textBaseline="middle",a.fillStyle=h,a.font=f.string,a.fillText(i.labelString,0,0),a.restore()}if(U){var b,w,x,k,S=U,C=Hn(R.lineWidth,o.length-1,0);H?(b=V($,E.left,S)-S/2,w=V($,E.right,C)+C/2,x=k=e):(x=V($,E.top,S)-S/2,k=V($,E.bottom,C)+C/2,b=w=e),a.lineWidth=U,a.strokeStyle=Hn(R.color,0),a.beginPath(),a.moveTo(b,x),a.lineTo(w,k),a.stroke()}}}}),Fn=Ln.extend({getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e,t=this,n=t.getLabels();t.minIndex=0,t.maxIndex=n.length-1,void 0!==t.options.ticks.min&&(e=n.indexOf(t.options.ticks.min),t.minIndex=-1!==e?e:t.minIndex),void 0!==t.options.ticks.max&&(e=n.indexOf(t.options.ticks.max),t.maxIndex=-1!==e?e:t.maxIndex),t.min=n[t.minIndex],t.max=n[t.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,i=n.chart;return i.getDatasetMeta(t).controller._getValueScaleId()===n.id?n.getRightValue(i.data.datasets[t].data[e]):n.ticks[e-n.minIndex]},getPixelForValue:function(e,t){var n,i=this,r=i.options.offset,o=Math.max(i.maxIndex+1-i.minIndex-(r?0:1),1);if(null!=e&&(n=i.isHorizontal()?e.x:e.y),void 0!==n||void 0!==e&&isNaN(t)){e=n||e;var a=i.getLabels().indexOf(e);t=-1!==a?a:t}if(i.isHorizontal()){var s=i.width/o,l=s*(t-i.minIndex);return r&&(l+=s/2),i.left+l}var c=i.height/o,u=c*(t-i.minIndex);return r&&(u+=c/2),i.top+u},getPixelForTick:function(e){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null)},getValueForPixel:function(e){var t=this,n=t.options.offset,i=Math.max(t._ticks.length-(n?0:1),1),r=t.isHorizontal(),o=(r?t.width:t.height)/i;return e-=r?t.left:t.top,n&&(e-=o/2),(e<=0?0:Math.round(e/o))+t.minIndex},getBasePixel:function(){return this.bottom}}),jn={position:"bottom"};Fn._defaults=jn;var zn=mt.noop,Bn=mt.isNullOrUndef,Wn=Ln.extend({getRightValue:function(e){return"string"==typeof e?+e:Ln.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=mt.sign(e.min),i=mt.sign(e.max);n<0&&i<0?e.max=0:0<n&&0<i&&(e.min=0)}var r=void 0!==t.min||void 0!==t.suggestedMin,o=void 0!==t.max||void 0!==t.suggestedMax
;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),r!==o&&e.min>=e.max&&(r?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this.options.ticks,n=t.stepSize,i=t.maxTicksLimit;return n?e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(e=this._computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:zn,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:mt.valueOrDefault(t.fixedStepSize,t.stepSize)},r=e.ticks=function(e,t){var n,i,r,o,a=[],s=e.stepSize,l=s||1,c=e.maxTicks-1,u=e.min,d=e.max,h=e.precision,f=t.min,p=t.max,g=mt.niceNum((p-f)/c/l)*l;if(g<1e-14&&Bn(u)&&Bn(d))return[f,p];(o=Math.ceil(p/g)-Math.floor(f/g))>c&&(g=mt.niceNum(o*g/c/l)*l),s||Bn(h)?n=Math.pow(10,mt._decimalPlaces(g)):(n=Math.pow(10,h),g=Math.ceil(g*n)/n),i=Math.floor(f/g)*g,r=Math.ceil(p/g)*g,s&&(!Bn(u)&&mt.almostWhole(u/g,g/1e3)&&(i=u),!Bn(d)&&mt.almostWhole(d/g,g/1e3)&&(r=d)),o=(r-i)/g,o=mt.almostEquals(o,Math.round(o),g/1e3)?Math.round(o):Math.ceil(o),i=Math.round(i*n)/n,r=Math.round(r*n)/n,a.push(Bn(u)?i:u);for(var m=1;m<o;++m)a.push(Math.round((i+m*g)*n)/n);return a.push(Bn(d)?r:d),a}(i,e);e.handleDirectionalChanges(),e.max=mt.max(r),e.min=mt.min(r),t.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),Ln.prototype.convertTicksToLabels.call(e)}}),Un={position:"left",ticks:{callback:An.formatters.linear}},Vn=Wn.extend({determineDataLimits:function(){function a(e){return t?e.xAxisID===s.id:e.yAxisID===s.id}var s=this,l=s.options,c=s.chart,e=c.data.datasets,t=s.isHorizontal();s.min=null,s.max=null;var i=l.stacked;if(void 0===i&&mt.each(e,function(e,t){if(!i){var n=c.getDatasetMeta(t);c.isDatasetVisible(t)&&a(n)&&void 0!==n.stack&&(i=!0)}}),l.stacked||i){var u={};mt.each(e,function(e,t){var i=c.getDatasetMeta(t),n=[i.type,void 0===l.stacked&&void 0===i.stack?t:"",i.stack].join(".");void 0===u[n]&&(u[n]={positiveValues:[],negativeValues:[]});var r=u[n].positiveValues,o=u[n].negativeValues;c.isDatasetVisible(t)&&a(i)&&mt.each(e.data,function(e,t){var n=+s.getRightValue(e);isNaN(n)||i.data[t].hidden||(r[t]=r[t]||0,o[t]=o[t]||0,l.relativePoints?r[t]=100:n<0?o[t]+=n:r[t]+=n)})}),mt.each(u,function(e){var t=e.positiveValues.concat(e.negativeValues),n=mt.min(t),i=mt.max(t);s.min=null===s.min?n:Math.min(s.min,n),s.max=null===s.max?i:Math.max(s.max,i)})}else mt.each(e,function(e,t){var i=c.getDatasetMeta(t);c.isDatasetVisible(t)&&a(i)&&mt.each(e.data,function(e,t){var n=+s.getRightValue(e);isNaN(n)||i.data[t].hidden||(null===s.min?s.min=n:n<s.min&&(s.min=n),null===s.max?s.max=n:n>s.max&&(s.max=n))})});s.min=isFinite(s.min)&&!isNaN(s.min)?s.min:0,s.max=isFinite(s.max)&&!isNaN(s.max)?s.max:1,this.handleTickRangeOptions()},_computeTickLimit:function(){var e;return this.isHorizontal()?Math.ceil(this.width/40):(e=mt.options._parseFont(this.options.ticks),Math.ceil(this.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t=this,n=t.start,i=+t.getRightValue(e),r=t.end-n;return t.isHorizontal()?t.left+t.width/r*(i-n):t.bottom-t.height/r*(i-n)},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),i=n?t.width:t.height,r=(n?e-t.left:t.bottom-e)/i;return t.start+(t.end-t.start)*r},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}}),qn=Un;Vn._defaults=qn;var Yn=mt.valueOrDefault,Gn={position:"left",ticks:{callback:An.formatters.logarithmic}},Zn=Ln.extend({determineDataLimits:function(){function a(e){return t?e.xAxisID===s.id:e.yAxisID===s.id}var s=this,n=s.options,l=s.chart,e=l.data.datasets,t=s.isHorizontal();s.min=null,s.max=null,s.minNotZero=null;var i=n.stacked;if(void 0===i&&mt.each(e,function(e,t){if(!i){var n=l.getDatasetMeta(t);l.isDatasetVisible(t)&&a(n)&&void 0!==n.stack&&(i=!0)}}),n.stacked||i){var c={};mt.each(e,function(e,t){var r=l.getDatasetMeta(t),o=[r.type,void 0===n.stacked&&void 0===r.stack?t:"",r.stack].join(".");l.isDatasetVisible(t)&&a(r)&&(void 0===c[o]&&(c[o]=[]),mt.each(e.data,function(e,t){var n=c[o],i=+s.getRightValue(e);isNaN(i)||r.data[t].hidden||i<0||(n[t]=n[t]||0,n[t]+=i)}))}),mt.each(c,function(e){if(0<e.length){var t=mt.min(e),n=mt.max(e);s.min=null===s.min?t:Math.min(s.min,t),s.max=null===s.max?n:Math.max(s.max,n)}})}else mt.each(e,function(e,t){var i=l.getDatasetMeta(t);l.isDatasetVisible(t)&&a(i)&&mt.each(e.data,function(e,t){var n=+s.getRightValue(e);isNaN(n)||i.data[t].hidden||n<0||(null===s.min?s.min=n:n<s.min&&(s.min=n),null===s.max?s.max=n:n>s.max&&(s.max=n),0!==n&&(null===s.minNotZero||n<s.minNotZero)&&(s.minNotZero=n))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=he(t.min,e.min),e.max=he(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(mt.log10(e.min))-1),e.max=Math.pow(10,Math.floor(mt.log10(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(mt.log10(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(mt.log10(e.min))+1):10),null===e.minNotZero&&(0<e.min?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(mt.log10(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),i={min:he(t.min),max:he(t.max)},r=e.ticks=function(e,t){var n,i,r=[],o=Yn(e.min,Math.pow(10,Math.floor(mt.log10(t.min)))),a=Math.floor(mt.log10(t.max)),s=Math.ceil(t.max/Math.pow(10,a));0===o?(n=Math.floor(mt.log10(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,n)),r.push(o),o=i*Math.pow(10,n)):(n=Math.floor(mt.log10(o)),i=Math.floor(o/Math.pow(10,n)));for(var l=n<0?Math.pow(10,Math.abs(n)):1;r.push(o),10==++i&&(i=1,l=0<=++n?1:l),o=Math.round(i*Math.pow(10,n)*l)/l,n<a||n===a&&i<s;);var c=Yn(e.max,o);return r.push(c),r}(i,e);e.max=mt.max(r),e.min=mt.min(r),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Ln.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},_getFirstTickValue:function(e){var t=Math.floor(mt.log10(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},getPixelForValue:function(e){var t,n,i,r,o,a=this,s=a.options.ticks,l=s.reverse,c=mt.log10,u=a._getFirstTickValue(a.minNotZero),d=0;return e=+a.getRightValue(e),l?(i=a.end,r=a.start,o=-1):(i=a.start,r=a.end,o=1),a.isHorizontal()?(t=a.width,n=l?a.right:a.left):(t=a.height,o*=-1,n=l?a.top:a.bottom),e!==i&&(0===i&&(t-=d=Yn(s.fontSize,ft.global.defaultFontSize),i=u),0!==e&&(d+=t/(c(r)-c(i))*(c(e)-c(i))),n+=o*d),n},getValueForPixel:function(e){var t,n,i,r,o=this,a=o.options.ticks,s=a.reverse,l=mt.log10,c=o._getFirstTickValue(o.minNotZero);if(s?(n=o.end,i=o.start):(n=o.start,i=o.end),o.isHorizontal()?(t=o.width,r=s?o.right-e:e-o.left):(t=o.height,r=s?e-o.top:o.bottom-e),r!==n){if(0===n){var u=Yn(a.fontSize,ft.global.defaultFontSize);r-=u,t-=u,n=c}r*=l(i)-l(n),r/=t,r=Math.pow(10,l(n)+r)}return r}}),Xn=Gn;Zn._defaults=Xn;var Kn=mt.valueOrDefault,Qn=mt.valueAtIndexOrDefault,Jn=mt.options.resolve,ei={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:An.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}},ti=Wn.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=pe(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var r=this,n=r.chart,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;mt.each(n.data.datasets,function(e,t){if(n.isDatasetVisible(t)){var i=n.getDatasetMeta(t);mt.each(e.data,function(e,t){var n=+r.getRightValue(e);isNaN(n)||i.data[t].hidden||(o=Math.min(n,o),a=Math.max(n,a))})}}),r.min=o===Number.POSITIVE_INFINITY?0:o,r.max=a===Number.NEGATIVE_INFINITY?0:a,r.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/pe(this.options))},convertTicksToLabels:function(){var e=this;Wn.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this.options;e.display&&e.pointLabels.display?function(e){var t,n,i,r=mt.options._parseFont(e.options.pointLabels),o={l:0,r:e.width,t:0,b:e.height-e.paddingTop},a={};e.ctx.font=r.string,e._pointLabelSizes=[];var s,l,c,u=fe(e);for(t=0;t<u;t++){i=e.getPointPosition(t,e.drawingArea+5),s=e.ctx,l=r.lineHeight,c=e.pointLabels[t]||"",n=mt.isArray(c)?{w:mt.longestText(s,s.font,c),h:c.length*l}:{w:s.measureText(c).width,h:l},e._pointLabelSizes[t]=n;var d=e.getIndexAngle(t),h=mt.toDegrees(d)%360,f=ge(h,i.x,n.w,0,180),p=ge(h,i.y,n.h,90,270);f.start<o.l&&(o.l=f.start,a.l=d),f.end>o.r&&(o.r=f.end,a.r=d),p.start<o.t&&(o.t=p.start,a.t=d),p.end>o.b&&(o.b=p.end,a.b=d)}e.setReductions(e.drawingArea,o,a)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var i=this,r=t.l/Math.sin(n.l),o=Math.max(t.r-i.width,0)/Math.sin(n.r),a=-t.t/Math.cos(n.t),s=-Math.max(t.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=_e(r),o=_e(o),a=_e(a),s=_e(s),i.drawingArea=Math.min(Math.floor(e-(r+o)/2),Math.floor(e-(a+s)/2)),i.setCenterPoint(r,o,a,s)},setCenterPoint:function(e,t,n,i){var r=this,o=r.width-t-r.drawingArea,a=e+r.drawingArea,s=n+r.drawingArea,l=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((a+o)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)},getIndexAngle:function(e){return e*(2*Math.PI/fe(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this.min,t=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:e<0&&t<0?t:0<e&&0<t?e:0)},draw:function(){var o=this,e=o.options,a=e.gridLines,s=e.ticks;if(e.display){var l=o.ctx,c=this.getIndexAngle(0),u=mt.options._parseFont(s);(e.angleLines.display||e.pointLabels.display)&&function(e){var t=e.ctx,n=e.options,i=n.angleLines,r=n.gridLines,o=n.pointLabels,a=Kn(i.lineWidth,r.lineWidth),s=Kn(i.color,r.color),l=pe(n);t.save(),t.lineWidth=a,t.strokeStyle=s,t.setLineDash&&(t.setLineDash(Jn([i.borderDash,r.borderDash,[]])),t.lineDashOffset=Jn([i.borderDashOffset,r.borderDashOffset,0]));var c=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),u=mt.options._parseFont(o);t.font=u.string,t.textBaseline="middle";for(var d=fe(e)-1;0<=d;d--){if(i.display&&a&&s){var h=e.getPointPosition(d,c);t.beginPath(),t.moveTo(e.xCenter,e.yCenter),t.lineTo(h.x,h.y),t.stroke()}if(o.display){var f=0===d?l/2:0,p=e.getPointPosition(d,c+f+5),g=Qn(o.fontColor,d,ft.global.defaultFontColor);t.fillStyle=g;var m=e.getIndexAngle(d),v=mt.toDegrees(m);t.textAlign=me(v),ye(v,e._pointLabelSizes[d],p),ve(t,e.pointLabels[d]||"",p,u.lineHeight)}}t.restore()}(o),mt.each(o.ticks,function(e,t){if(0<t||s.reverse){var n=o.getDistanceFromCenterForValue(o.ticksAsNumbers[t]);if(a.display&&0!==t&&function(e,t,n,i){var r,o=e.ctx,a=t.circular,s=fe(e),l=Qn(t.color,i-1),c=Qn(t.lineWidth,i-1);if((a||s)&&l&&c){if(o.save(),o.strokeStyle=l,o.lineWidth=c,o.setLineDash&&(o.setLineDash(t.borderDash||[]),o.lineDashOffset=t.borderDashOffset||0),o.beginPath(),a)o.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{r=e.getPointPosition(0,n),o.moveTo(r.x,r.y);for(var u=1;u<s;u++)r=e.getPointPosition(u,n),o.lineTo(r.x,r.y)}o.closePath(),o.stroke(),o.restore()}}(o,a,n,t),s.display){var i=Kn(s.fontColor,ft.global.defaultFontColor);if(l.font=u.string,l.save(),l.translate(o.xCenter,o.yCenter),l.rotate(c),s.showLabelBackdrop){var r=l.measureText(e).width;l.fillStyle=s.backdropColor,l.fillRect(-r/2-s.backdropPaddingX,-n-u.size/2-s.backdropPaddingY,r+2*s.backdropPaddingX,u.size+2*s.backdropPaddingY)}l.textAlign="center",l.textBaseline="middle",l.fillStyle=i,l.fillText(e,0,-n),l.restore()}}})}}}),ni=ei;ti._defaults=ni;var ii=mt.valueOrDefault,ri=Number.MIN_SAFE_INTEGER||-9007199254740991,oi=Number.MAX_SAFE_INTEGER||9007199254740991,ai={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},si=Object.keys(ai),li=Ln.extend({initialize:function(){this.mergeTicksOptions(),Ln.prototype.initialize.call(this)},update:function(){var e=this.options,t=e.time||(e.time={}),n=this._adapter=new On._date(e.adapters.date);return t.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),mt.mergeIf(t.displayFormats,n.formats()),Ln.prototype.update.apply(this,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),Ln.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,i,r,o,a=this,s=a.chart,l=a._adapter,c=a.options.time,u=c.unit||"day",d=oi,h=ri,f=[],p=[],g=[],m=s.data.labels||[];for(e=0,n=m.length;e<n;++e)g.push(Se(a,m[e]));for(e=0,n=(s.data.datasets||[]).length;e<n;++e)if(s.isDatasetVisible(e))if(r=s.data.datasets[e].data,mt.isObject(r[0]))for(p[e]=[],t=0,i=r.length;t<i;++t)o=Se(a,r[t]),f.push(o),p[e][t]=o;else{for(t=0,i=g.length;t<i;++t)f.push(g[t]);p[e]=g.slice(0)}else p[e]=[];g.length&&(g=we(g).sort(be),d=Math.min(d,g[0]),h=Math.max(h,g[g.length-1])),f.length&&(f=we(f).sort(be),d=Math.min(d,f[0]),h=Math.max(h,f[f.length-1])),d=Se(a,c.min)||d,h=Se(a,c.max)||h,d=d===oi?+l.startOf(Date.now(),u):d,h=h===ri?+l.endOf(Date.now(),u)+1:h,a.min=Math.min(d,h),a.max=Math.max(d+1,h),a._horizontal=a.isHorizontal(),a._table=[],a._timestamps={data:f,datasets:p,labels:g}},buildTicks:function(){var e,t,n,i,r,o,a,s,l,c,u=this,d=u.min,h=u.max,f=u.options,p=f.time,g=[],m=[];switch(f.ticks.source){case"data":g=u._timestamps.data;break;case"labels":g=u._timestamps.labels;break;case"auto":default:g=De(u,d,h,u.getLabelCapacity(d))}for("ticks"===f.bounds&&g.length&&(d=g[0],h=g[g.length-1]),d=Se(u,p.min)||d,h=Se(u,p.max)||h,e=0,t=g.length;e<t;++e)(n=g[e])>=d&&n<=h&&m.push(n);return u.min=d,u.max=h,u._unit=p.unit||function(e,t,n,i,r){var o,a;for(o=si.length-1;o>=si.indexOf(n);o--)if(a=si[o],ai[a].common&&e._adapter.diff(r,i,a)>=t.length)return a;return si[n?si.indexOf(n):0]}(u,m,p.minUnit,u.min,u.max),u._majorUnit=Ce(u._unit),u._table=function(e,t,n){if("linear"===f.distribution||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var i,r,o,a,s,l=[],c=[t];for(i=0,r=e.length;i<r;++i)(a=e[i])>t&&a<n&&c.push(a);for(c.push(n),i=0,r=c.length;i<r;++i)s=c[i+1],o=c[i-1],a=c[i],void 0!==o&&void 0!==s&&Math.round((s+o)/2)===a||l.push({time:a,pos:i/(r-1)});return l}(u._timestamps.data,d,h),u._offsets=(i=u._table,r=m,c=l=0,(o=f).offset&&r.length&&(o.time.min||(a=xe(i,"time",r[0],"pos"),l=1===r.length?1-a:(xe(i,"time",r[1],"pos")-a)/2),o.time.max||(s=xe(i,"time",r[r.length-1],"pos"),c=1===r.length?s:(s-xe(i,"time",r[r.length-2],"pos"))/2)),{start:l,end:c}),f.ticks.reverse&&m.reverse(),function(e,t,n){var i,r,o,a,s=[];for(i=0,r=t.length;i<r;++i)o=t[i],a=!!n&&o===+e._adapter.startOf(o,n),s.push({value:o,major:a});return s}(u,m,u._majorUnit)},getLabelForIndex:function(e,t){var n=this,i=n._adapter,r=n.chart.data,o=n.options.time,a=r.labels&&e<r.labels.length?r.labels[e]:"",s=r.datasets[t].data[e];return mt.isObject(s)&&(a=n.getRightValue(s)),o.tooltipFormat?i.format(ke(n,a),o.tooltipFormat):"string"==typeof a?a:i.format(ke(n,a),o.displayFormats.datetime)},tickFormatFunction:function(e,t,n,i){var r=this._adapter,o=this.options,a=o.time.displayFormats,s=a[this._unit],l=this._majorUnit,c=a[l],u=+r.startOf(e,l),d=o.ticks.major,h=d.enabled&&l&&c&&e===u,f=r.format(e,i||(h?c:s)),p=h?d:o.ticks.minor,g=ii(p.callback,p.userCallback);return g?g(f,t,n):f},convertTicksToLabels:function(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(this.tickFormatFunction(e[t].value,t,e));return i},getPixelForOffset:function(e){var t=this,n=t.options.ticks.reverse,i=t._horizontal?t.width:t.height,r=t._horizontal?n?t.right:t.left:n?t.bottom:t.top,o=xe(t._table,"time",e,"pos"),a=i*(t._offsets.start+o)/(t._offsets.start+1+t._offsets.end);return n?r-a:r+a},getPixelForValue:function(e,t,n){var i=null;if(void 0!==t&&void 0!==n&&(i=this._timestamps.datasets[n][t]),null===i&&(i=Se(this,e)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(e){var t=this.getTicks();return 0<=e&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._horizontal?t.width:t.height,i=t._horizontal?t.left:t.top,r=(n?(e-i)/n:0)*(t._offsets.start+1+t._offsets.start)-t._offsets.end,o=xe(t._table,"pos",r,"time");return t._adapter._create(o)},getLabelWidth:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,i=mt.toRadians(t.maxRotation),r=Math.cos(i),o=Math.sin(i);return n*r+ii(t.fontSize,ft.global.defaultFontSize)*o},getLabelCapacity:function(e){var t=this,n=t.options.time.displayFormats.millisecond,i=t.tickFormatFunction(e,0,[],n),r=t.getLabelWidth(i),o=t.isHorizontal()?t.width:t.height,a=Math.floor(o/r);return 0<a?a:1}}),ci={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};li._defaults=ci;var ui={category:Fn,linear:Vn,logarithmic:Zn,radialLinear:ti,time:li},di={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};On._date.override("function"==typeof i?{_id:"moment",formats:function(){return di},parse:function(e,t){return"string"==typeof e&&"string"==typeof t?e=i(e,t):e instanceof i||(e=i(e)),e.isValid()?e.valueOf():null},format:function(e,t){return i(e).format(t)},add:function(e,t,n){return i(e).add(t,n).valueOf()},diff:function(e,t,n){return i.duration(i(e).diff(i(t))).as(n)},startOf:function(e,t,n){return e=i(e),"isoWeek"===t?e.isoWeekday(n).valueOf():e.startOf(t).valueOf()},endOf:function(e,t){return i(e).endOf(t).valueOf()},_create:function(e){return i(e)}}:{}),ft._set("global",{plugins:{filler:{propagate:!0}}});var hi={dataset:function(e){var t=e.fill,n=e.chart,i=n.getDatasetMeta(t),r=i&&n.isDatasetVisible(t)&&i.dataset._children||[],o=r.length||0;return o?function(e,t){return t<o&&r[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,i=t?t.y:null;return function(e){return{x:null===n?e.x:n,y:null===i?e.y:i}}}},fi={id:"filler",afterDatasetsUpdate:function(e,t){var n,i,r,o,a=(e.data.datasets||[]).length,s=t.propagate,l=[];for(i=0;i<a;++i)o=null,(r=(n=e.getDatasetMeta(i)).dataset)&&r._model&&r instanceof Lt.Line&&(o={visible:e.isDatasetVisible(i),fill:Te(r,i,a),chart:e,el:r}),n.$filler=o,l.push(o);for(i=0;i<a;++i)(o=l[i])&&(o.fill=Me(l,i,s),o.boundary=Ee(o),o.mapper=Ie(o))},beforeDatasetDraw:function(e,t){var n=t.meta.$filler;if(n){var i=e.ctx,r=n.el,o=r._view,a=r._children||[],s=n.mapper,l=o.backgroundColor||ft.global.defaultColor;s&&l&&a.length&&(mt.canvas.clipArea(i,e.chartArea),function(e,t,n,i,r,o){var a,s,l,c,u,d,h,f=t.length,p=i.spanGaps,g=[],m=[],v=0,y=0;for(e.beginPath(),a=0,s=f+!!o;a<s;++a)u=n(c=t[l=a%f]._view,l,i),d=Pe(c),h=Pe(u),d&&h?(v=g.push(c),y=m.push(u)):v&&y&&(p?(d&&g.push(c),h&&m.push(u)):($e(e,g,m,v,y),v=y=0,g=[],m=[]));$e(e,g,m,v,y),e.closePath(),e.fillStyle=r,e.fill()}(i,a,s,o,l,r._loop),mt.canvas.unclipArea(i))}}},pi=mt.noop,gi=mt.valueOrDefault;ft._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(n){var e=n.data;return mt.isArray(e.datasets)?e.datasets.map(function(e,t){return{text:e.label,fillStyle:mt.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!n.isDatasetVisible(t),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:t}},this):[]}}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}});var mi=wt.extend({initialize:function(e){mt.extend(this,e),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:pi,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:pi,beforeSetDimensions:pi,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:pi,beforeBuildLabels:pi,buildLabels:function(){var t=this,n=t.options.labels||{},e=mt.callback(n.generateLabels,[t.chart],t)||[];n.filter&&(e=e.filter(function(e){return n.filter(e,t.chart.data)})),t.options.reverse&&e.reverse(),t.legendItems=e},afterBuildLabels:pi,beforeFit:pi,fit:function(){var e=this,t=e.options,i=t.labels,n=t.display,r=e.ctx,o=mt.options._parseFont(i),a=o.size,s=e.legendHitBoxes=[],l=e.minSize,c=e.isHorizontal();if(c?(l.width=e.maxWidth,l.height=n?10:0):(l.width=n?10:0,l.height=e.maxHeight),n)if(r.font=o.string,c){var u=e.lineWidths=[0],d=0;r.textAlign="left",r.textBaseline="top",mt.each(e.legendItems,function(e,t){var n=Re(i,a)+a/2+r.measureText(e.text).width;(0===t||u[u.length-1]+n+i.padding>l.width)&&(d+=a+i.padding,u[u.length-(0<t?0:1)]=i.padding),s[t]={left:0,top:0,width:n,height:a},u[u.length-1]+=n+i.padding}),l.height+=d}else{var h=i.padding,f=e.columnWidths=[],p=i.padding,g=0,m=0,v=a+h;mt.each(e.legendItems,function(e,t){var n=Re(i,a)+a/2+r.measureText(e.text).width;0<t&&m+v>l.height-h&&(p+=g+i.padding,f.push(g),m=g=0),g=Math.max(g,n),m+=v,s[t]={left:0,top:0,width:n,height:a}}),p+=g,f.push(g),l.width+=p}e.width=l.width,e.height=l.height},afterFit:pi,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var d=this,h=d.options,f=h.labels,e=ft.global,p=e.defaultColor,g=e.elements.line,m=d.width,v=d.lineWidths;if(h.display){var y,_=d.ctx,t=gi(f.fontColor,e.defaultFontColor),n=mt.options._parseFont(f),b=n.size;_.textAlign="left",_.textBaseline="middle",_.lineWidth=.5,_.strokeStyle=t,_.fillStyle=t,_.font=n.string;var w=Re(f,b),x=d.legendHitBoxes,k=d.isHorizontal();y=k?{x:d.left+(m-v[0])/2+f.padding,y:d.top+f.padding,line:0}:{x:d.left+f.padding,y:d.top+f.padding,line:0};var S=b+f.padding;mt.each(d.legendItems,function(e,t){var n,i,r,o,a,s=_.measureText(e.text).width,l=w+b/2+s,c=y.x,u=y.y;k?0<t&&c+l+f.padding>d.left+d.minSize.width&&(u=y.y+=S,y.line++,c=y.x=d.left+(m-v[y.line])/2+f.padding):0<t&&u+S>d.top+d.minSize.height&&(c=y.x=c+d.columnWidths[y.line]+f.padding,u=y.y=d.top+f.padding,y.line++),function(e,t,n){if(!(isNaN(w)||w<=0)){_.save();var i=gi(n.lineWidth,g.borderWidth);if(_.fillStyle=gi(n.fillStyle,p),_.lineCap=gi(n.lineCap,g.borderCapStyle),_.lineDashOffset=gi(n.lineDashOffset,g.borderDashOffset),_.lineJoin=gi(n.lineJoin,g.borderJoinStyle),_.lineWidth=i,_.strokeStyle=gi(n.strokeStyle,p),_.setLineDash&&_.setLineDash(gi(n.lineDash,g.borderDash)),h.labels&&h.labels.usePointStyle){var r=w*Math.SQRT2/2,o=e+w/2,a=t+b/2;mt.canvas.drawPoint(_,n.pointStyle,r,o,a)}else 0!==i&&_.strokeRect(e,t,w,b),_.fillRect(e,t,w,b);_.restore()}}(c,u,e),x[t].left=c,x[t].top=u,n=e,i=s,o=w+(r=b/2)+c,a=u+r,_.fillText(n.text,o,a),n.hidden&&(_.beginPath(),_.lineWidth=2,_.moveTo(o,a),_.lineTo(o+i,a),_.stroke()),k?y.x+=l+f.padding:y.y+=S})}},_getLegendItemAt:function(e,t){var n,i,r,o=this;if(e>=o.left&&e<=o.right&&t>=o.top&&t<=o.bottom)for(r=o.legendHitBoxes,n=0;n<r.length;++n)if(e>=(i=r[n]).left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return o.legendItems[n];return null},handleEvent:function(e){var t,n=this,i=n.options,r="mouseup"===e.type?"click":e.type;if("mousemove"===r){if(!i.onHover&&!i.onLeave)return}else{if("click"!==r)return;if(!i.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===r?t&&i.onClick&&i.onClick.call(n,e["native"],t):(i.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,e["native"],n._hoveredItem),n._hoveredItem=t),i.onHover&&t&&i.onHover.call(n,e["native"],t))}}),vi={id:"legend",_element:mi,beforeInit:function(e){var t=e.options.legend;t&&Oe(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(mt.mergeIf(t,ft.global.legend),n?(hn.configure(e,n,t),n.options=t):Oe(e,t)):n&&(hn.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},yi=mt.noop;ft._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var _i=wt.extend({initialize:function(e){mt.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:yi,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:yi,beforeSetDimensions:yi,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:yi,beforeBuildLabels:yi,buildLabels:yi,afterBuildLabels:yi,beforeFit:yi,fit:function(){var e=this,t=e.options,n=t.display,i=e.minSize,r=mt.isArray(t.text)?t.text.length:1,o=mt.options._parseFont(t),a=n?r*o.lineHeight+2*t.padding:0;e.isHorizontal()?(i.width=e.maxWidth,i.height=a):(i.width=a,i.height=e.maxHeight),e.width=i.width,e.height=i.height},afterFit:yi,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var i,r,o,a=mt.options._parseFont(n),s=a.lineHeight,l=s/2+n.padding,c=0,u=e.top,d=e.left,h=e.bottom,f=e.right;t.fillStyle=mt.valueOrDefault(n.fontColor,ft.global.defaultFontColor),t.font=a.string,e.isHorizontal()?(r=d+(f-d)/2,o=u+l,i=f-d):(r="left"===n.position?d+l:f-l,o=u+(h-u)/2,i=h-u,c=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(r,o),t.rotate(c),t.textAlign="center",t.textBaseline="middle";var p=n.text;if(mt.isArray(p))for(var g=0,m=0;m<p.length;++m)t.fillText(p[m],0,g,i),g+=s;else t.fillText(p,0,0,i);t.restore()}}}),bi={},wi=fi,xi=vi,ki={id:"title",_element:_i,beforeInit:function(e){var t=e.options.title;t&&Ae(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(mt.mergeIf(t,ft.global.title),n?(hn.configure(e,n,t),n.options=t):Ae(e,t)):n&&(hn.removeBox(e,n),delete e.titleBlock)}};for(var Si in bi.filler=wi,bi.legend=xi,bi.title=ki,Rn.helpers=mt,function(){function u(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function d(e){return null!=e&&"none"!==e}function t(e,t,n){var i=document.defaultView,r=mt._getParentNode(e),o=i.getComputedStyle(e)[t],a=i.getComputedStyle(r)[t],s=d(o),l=d(a),c=Number.POSITIVE_INFINITY;return s||l?Math.min(s?u(o,e,n):c,l?u(a,r,n):c):"none"}mt.where=function(e,t){if(mt.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return mt.each(e,function(e){t(e)&&n.push(e)}),n},mt.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return i;return-1},mt.findNextWhere=function(e,t,n){mt.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},mt.findPreviousWhere=function(e,t,n){mt.isNullOrUndef(n)&&(n=e.length);for(var i=n-1;0<=i;i--){var r=e[i];if(t(r))return r}},mt.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},mt.almostEquals=function(e,t,n){return Math.abs(e-t)<n},mt.almostWhole=function(e,t){var n=Math.round(e);return n-t<e&&e<n+t},mt.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},mt.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},mt.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:0<e?1:-1},mt.log10=Math.log10?function(e){return Math.log10(e)}:function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t},mt.toRadians=function(e){return e*(Math.PI/180)},mt.toDegrees=function(e){return e*(180/Math.PI)},mt._decimalPlaces=function(e){if(mt.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},mt.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},mt.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},mt.aliasPixel=function(e){return e%2==0?0:.5},mt._alignPixel=function(e,t,n){var i=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*i)/i+r},mt.splineCurve=function(e,t,n,i){var r=e.skip?t:e,o=t,a=n.skip?t:n,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),c=s/(s+l),u=l/(s+l),d=i*(c=isNaN(c)?0:c),h=i*(u=isNaN(u)?0:u);return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}},mt.EPSILON=Number.EPSILON||1e-14,mt.splineCurveMonotone=function(e){var t,n,i,r,o,a,s,l,c,u=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),d=u.length;for(t=0;t<d;++t)if(!(i=u[t]).model.skip){if(n=0<t?u[t-1]:null,(r=t<d-1?u[t+1]:null)&&!r.model.skip){var h=r.model.x-i.model.x;i.deltaK=0!==h?(r.model.y-i.model.y)/h:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(t=0;t<d-1;++t)i=u[t],r=u[t+1],i.model.skip||r.model.skip||(mt.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(o=i.mK/i.deltaK,a=r.mK/i.deltaK,(l=Math.pow(o,2)+Math.pow(a,2))<=9||(s=3/Math.sqrt(l),i.mK=o*s*i.deltaK,r.mK=a*s*i.deltaK)));for(t=0;t<d;++t)(i=u[t]).model.skip||(n=0<t?u[t-1]:null,r=t<d-1?u[t+1]:null,n&&!n.model.skip&&(c=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-c,i.model.controlPointPreviousY=i.model.y-c*i.mK),r&&!r.model.skip&&(c=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+c,i.model.controlPointNextY=i.model.y+c*i.mK))},mt.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},mt.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},mt.niceNum=function(e,t){var n=Math.floor(mt.log10(e)),i=e/Math.pow(10,n);return(t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},
mt.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},mt.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,o=e.target||e.srcElement,a=o.getBoundingClientRect(),s=r.touches;s&&0<s.length?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(mt.getStyle(o,"padding-left")),c=parseFloat(mt.getStyle(o,"padding-top")),u=parseFloat(mt.getStyle(o,"padding-right")),d=parseFloat(mt.getStyle(o,"padding-bottom")),h=a.right-a.left-l-u,f=a.bottom-a.top-c-d;return{x:n=Math.round((n-a.left-l)/h*o.width/t.currentDevicePixelRatio),y:i=Math.round((i-a.top-c)/f*o.height/t.currentDevicePixelRatio)}},mt.getConstraintWidth=function(e){return t(e,"max-width","clientWidth")},mt.getConstraintHeight=function(e){return t(e,"max-height","clientHeight")},mt._calculatePadding=function(e,t,n){return-1<(t=mt.getStyle(e,t)).indexOf("%")?n*parseInt(t,10)/100:parseInt(t,10)},mt._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},mt.getMaximumWidth=function(e){var t=mt._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,i=n-mt._calculatePadding(t,"padding-left",n)-mt._calculatePadding(t,"padding-right",n),r=mt.getConstraintWidth(e);return isNaN(r)?i:Math.min(i,r)},mt.getMaximumHeight=function(e){var t=mt._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,i=n-mt._calculatePadding(t,"padding-top",n)-mt._calculatePadding(t,"padding-bottom",n),r=mt.getConstraintHeight(e);return isNaN(r)?i:Math.min(i,r)},mt.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},mt.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=e.canvas,r=e.height,o=e.width;i.height=r*n,i.width=o*n,e.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=o+"px")}},mt.fontString=function(e,t,n){return t+" "+e+"px "+n},mt.longestText=function(t,e,n,i){var r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),t.font=e;var a=0;mt.each(n,function(e){null!=e&&!0!==mt.isArray(e)?a=mt.measureText(t,r,o,a,e):mt.isArray(e)&&mt.each(e,function(e){null==e||mt.isArray(e)||(a=mt.measureText(t,r,o,a,e))})});var s=o.length/2;if(s>n.length){for(var l=0;l<s;l++)delete r[o[l]];o.splice(0,s)}return a},mt.measureText=function(e,t,n,i,r){var o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),i<o&&(i=o),i},mt.numberOfLabelLines=function(e){var t=1;return mt.each(e,function(e){mt.isArray(e)&&e.length>t&&(t=e.length)}),t},mt.color=Je?function(e){return e instanceof CanvasGradient&&(e=ft.global.defaultColor),Je(e)}:function(e){return console.error("Color.js not found!"),e},mt.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:mt.color(e).saturate(.5).darken(.1).rgbString()}}(),Rn._adapters=On,Rn.Animation=kt,Rn.animationService=St,Rn.controllers=cn,Rn.DatasetController=Et,Rn.defaults=ft,Rn.Element=wt,Rn.elements=Lt,Rn.Interaction=un,Rn.layouts=hn,Rn.platform=kn,Rn.plugins=Sn,Rn.Scale=Ln,Rn.scaleService=Cn,Rn.Ticks=An,Rn.Tooltip=In,Rn.helpers.each(ui,function(e,t){Rn.scaleService.registerScaleType(t,e,e._defaults)}),bi)bi.hasOwnProperty(Si)&&Rn.plugins.register(bi[Si]);Rn.platform.initialize();var Ci=Rn;return"undefined"!=typeof window&&(window.Chart=Rn),(Rn.Chart=Rn).Legend=bi.legend._element,Rn.Title=bi.title._element,Rn.pluginService=Rn.plugins,Rn.PluginBase=Rn.Element.extend({}),Rn.canvasHelpers=Rn.helpers.canvas,Rn.layoutService=Rn.layouts,Rn.LinearScaleBase=Wn,Rn.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(n){Rn[n]=function(e,t){return new Rn(e,Rn.helpers.merge(t||{},{type:n.charAt(0).toLowerCase()+n.slice(1)}))}}),Ci}),_fpa={templates:{},partials:{},app:{},state:{},version:"0",remote_request:null,remote_request_block:null,result_target:function(e){var t=$(e).attr("data-result-target");return t&&1<t.length?t:null},ajax_working:function(e){try{$(e).addClass("ajax-running").removeClass("ajax-canceled");var t=_fpa.result_target(e);t&&$(t).addClass("ajax-running")}catch(n){}},ajax_done:function(e){try{$(e).removeClass("ajax-running").removeClass("ajax-canceled");var t=_fpa.result_target(e);t&&$(t).removeClass("ajax-running").removeClass("ajax-canceled")}catch(n){}_fpa.remote_request=null,_fpa.state.search_running=!1},ajax_canceled:function(e){try{$(e).removeClass("ajax-running").addClass("ajax-canceled");var t=_fpa.result_target(e);t&&$(t).removeClass("ajax-running").addClass("ajax-canceled")}catch(n){}_fpa.remote_request=null,_fpa.state.search_running=!1},compile_templates:function(){$("script.handlebars-partial").each(function(){var e=$(this).attr("id");e=e.replace("-partial","");var t=Handlebars.compile($(this).html());Handlebars.registerPartial(e,t),_fpa.partials[e]=t}),$("script.handlebars-template").each(function(){var e=$(this).attr("id"),t=$(this).html();_fpa.templates[e]=Handlebars.compile(t)})},send_ajax_request:function(e,o){o||(o={}),o.url=e,$.rails.ajax(o).done(function(e,t,n){var i=$(".temp-ajax-requester");0===i.length&&0===(i=$("a.temp-ajax-requester")).length&&(i=$('<a data-remote="true" class="hidden temp-ajax-requester">background</a>'),$("body").append(i));var r=o.try_app_callback;r&&(i[0].app_callback=r),(r=o.try_app_post_callback)&&(i[0].app_post_callback=r),$.rails.fire(i,"ajax:success",[e,t,n])})},view_template:function(e,t,n,i){var r=e;if(!e.hasClass("view-template-created")&&!e.parent().hasClass("view-template-created")){t||console.log("no template_name provided"),_fpa.ajax_working(e),i&&i.position||e.html("");var o=_fpa.templates[t];o||console.log("template for "+t+" was not found"),i||(i={}),n.code&&(n._code_flag={},n._code_flag[n.code]=!0),_fpa.do_preprocessors(t,e,n),_fpa.form_utils.get_general_selections(n);var a=o(n);a=$(a).addClass("view-template-created");var s=e;if(i.position&&0===i.position.indexOf("before")){var l=e;0<i.position.indexOf("parent")&&(l=e.parent());var c=(s=a).attr("id");0<(d=$("#"+c)).length?d.replaceWith(s):l.before(s),r=s,e.html("")}else if(i.position&&0===i.position.indexOf("after")){var u=e;0<i.position.indexOf("parent")&&(u=e.parent());var d;c=(s=a).attr("id");0<(d=$("#"+c)).length?d.replaceWith(s):u.after(s),e.html(""),r=s}else s=a,e.attr("id")&&e.attr("id")==s.attr("id")?e.replaceWith(s):e.html(a);window.setTimeout(function(){_fpa.do_postprocessors(t,r,n),_fpa.reset_page_size(),_fpa.ajax_done(e)},1)}},reset_page_size:function(){},inherit_from:function(e,t){function n(){}return n.prototype=e,$.extend(n.prototype,t),n.prototype},try_app_callback:function(e){e[0].app_callback&&(e[0].app_callback(e[0]),e[0].app_callback=null)},try_app_post_callback:function(e){e[0].app_post_callback&&(e[0].app_post_callback(e[0]),e[0].app_post_callback=null)},do_preprocessors:function(e,t,n){var i=!1;e&&(e=e.replace(/-/g,"_"),_fpa.preprocessors[e]&&(_fpa.preprocessors[e](t,n),i=!0)),_fpa.preprocessors["default"](t,n,i)},do_postprocessors:function(e,t,n){var i=!1;e&&(e=e.replace(/-/g,"_"),_fpa.postprocessors[e]&&(_fpa.postprocessors[e](t,n),i=!0)),_fpa.postprocessors["default"](t,n,i)},handle_remotes:function(){var e="form[data-remote='true'], a, btn";$(document).on("click",e,function(){$(this).attr("disabled")||$(this).is(":visible")&&!$(this).hasClass("keep-notices")&&_fpa.clear_flash_notices()}).on("ajax:before",e,function(e){if(e.target==e.currentTarget){var t=$(this);if(_fpa.remote_request=null,_fpa.remote_request_block=t,$(this).hasClass("prevent-on-collapse")&&!$(this).hasClass("collapsed"))return e.preventDefault(),!1;if($(this).hasClass("one-time-only-ajax")){if($(this).hasClass("one-time-only-fired"))return e.preventDefault(),!1;$(this).addClass("one-time-only-fired")}return _fpa.preprocessors.before_all(t),_fpa.ajax_working(t),_fpa.form_utils.set_field_errors(t),$(this).find("[data-only-for]").each(function(){var e=$(this).attr("data-only-for"),t=!0;$(e).each(function(){var e=$(this).val();null!==e&&""!==e&&(t=!1)}),t&&$(this).removeClass("has-value").val("")}),!0}}).on("ajax:beforeSend",e,function(e,t){_fpa.remote_request=t}).on("ajax:success",e,function(a,u,e,t){_fpa.status.session.reset_timeout();var n=$(this);u=t.responseJSON;if($(this).is(":visible")&&!$(this).hasClass("keep-notices")&&_fpa.clear_flash_notices(),_fpa.ajax_done(n),_fpa.try_app_callback($(this)),u){var i,r,o,s,l,c=!1;if(u.flash_message_only)return void _fpa.flash_notice(u.flash_message_only);i=$(this).attr("data-result-target");var d=n.attr("data-use-alt-result-key");if(u.multiple_results&&u.original_item)o=u.multiple_results,s=u.original_item,(l={})[s.item_type]=s;else{for(o in u)if(u.hasOwnProperty(o)&&"_control"!=o)break;d&&d!=o?(u[d]=u[o],s=u[d],delete u[o]):s=u[o],r=!!(l=u).multiple_results}var h=!1;"true"===$(this).attr("data-result-target-force")&&(h=!0),i&&(h||r||null===s||s._created||s._merged||0===$('[data-sub-item="'+o+'"], [data-sub-list="'+o+'"] [data-sub-item]').length||0<$(this).parents("[data-result-target-for-child]").length)&&(c=!0);var f={};if(c){var p=$("body"),g=$(this).parents("[data-result-target-for-child]").first();1==g.length&&(i=g.attr("data-result-target-for-child"),p=$(this).parents("[data-template]"));var m=p.find(i);m.hasClass("new-block")&&(m.hasClass("new-after-parent")?f.position="after parent":m.hasClass("new-before-parent")?f.position="before parent":m.hasClass("new-below")?f.position="after":m.hasClass("new-after")?f.position="after":f.position="before");var v=$(this).attr("data-template");m.each(function(){var e=v,t=$(this).attr("form-res-template");t&&""!==t&&(e=t),e||console.log("Warning: data-template for this triggering element was not found"),_fpa.view_template($(this),e,l,f),_fpa.try_app_post_callback($(this))})}if(!h)for(var y in n.hasClass("new-block")&&n.html(""),u)if(u.hasOwnProperty(y)){var _={},b=u[y],w=$('[data-sub-item="'+y+'"], [data-sub-list="'+y+'"] [data-sub-item], [data-item-class="'+y+'"]');_[y]=b,w.each(function(){var e=_,t=$(this).attr("data-sub-id"),n=$(this).attr("data-sub-item"),i=$(this).attr("data-item-class");if(t&&(n||i)){e=null;var r=$(this).attr("data-sub-for");r||(r="id");var o=$(this).attr("data-sub-for-root");if(o)u[o]&&(l=u)[o]===+t&&l[n]&&(e={},e=l);else if(b&&b[r]){l=b;var a=d;a||(a=l.item_type.underscore()),l[r]===+t&&(a===n?(e={})[n]=l:a===i&&((e={})[i]=l,e[n]=l))}else if(b)for(var s in b){var l=b[s];l&&"string"!=typeof l&&l[r]===+t&&l.item_type===n&&((e={})[n]=l)}}if(e){var c=$(this).attr("data-template");c||console.log("WARN: no data-template template name found"),_fpa.view_template($(this),c,e),_fpa.try_app_post_callback($(this))}})}}else{var x=function(e,t){var n=e.attr("data-result-position");"replace"==n?e.replaceWith(t):"before"==n?e.before(t):"after"==n?e.after(t):(e.html(t),e.removeClass("hidden"),e.show())},k=$(t.responseText);$(".query-error").remove();var S=0;u||(u={});var C=$(this);if(k.find("[data-result]").each(function(){var t=$(this),e=t.attr("data-result"),n=t.find("form"),i=$(a.currentTarget).parents("[data-form-container]");if("true"===C.attr("data-target-force")){var r=C.attr("data-target");r&&""!==r||console.log("Failed due to no data-target attribute being set when data-target-force is true and the result is an HTML block");var o=$(r);a.stopPropagation()}else{if(1==n.length&&1==i.length)if(i.attr("data-subscription")==e)o=i;else o=i.find('[data-subscription="'+e+'"]');else o=$('[data-subscription="'+e+'"]');0===o.length&&console.log('WARN: [data-subscription="'+e+'"] returns no targets')}1==n.length&&(u.form_data=_fpa.form_utils.data_from_form(n)),{}[e]=t,o.each(function(){var e=$(this).attr("data-preprocessor");_fpa.do_preprocessors(e,$(this),u),x($(this),t),_fpa.do_postprocessors(e,$(this),u),S++})}),0===S){var D=$(this).attr("data-result-target");if(D){var T=$(this).attr("data-preprocessor");_fpa.do_preprocessors(T,$(D),u),x($(D),k),_fpa.do_postprocessors(T,$(D),u)}}}$(".view-template-created").removeClass("view-template-created")}).on("ajax:error",function(e,t,n,i){var r=$(this);_fpa.clear_flash_notices(),_fpa.ajax_done(r);var o=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n.replace(/_/g," ")+" "+e[n]);return t.join(" \n")};if("abort"!=n){var a=t.responseJSON;if(422===t.status){if(_fpa.form_utils.set_field_errors($(".ajax-running"),a),a){var s="<p>Could not complete action:</p>";s+=o(a)}else s='<p>Could not complete action. Please <a href="#" onclick="window.location.reload(); return false;">refresh the page</a> and try again.</p>';_fpa.flash_notice(s,"warning")}else a?(s=o(a),_fpa.flash_notice(s,"danger")):t.responseText&&"<"!=t.responseText[0]?_fpa.flash_notice(t.responseText,"danger"):_fpa.flash_notice("An error occurred.","danger")}_fpa.postprocessors.after_error(r,n,i),$(".ajax-running").removeClass("ajax-running")}).addClass("attached")},cancel_remote:function(){_fpa.remote_request&&(console.log("Cancel requested"),_fpa.remote_request.abort(),_fpa.ajax_canceled(_fpa.remote_request_block),_fpa.remote_request_block=null,_fpa.remote_request=null,_fpa.state.search_running=!1)},flash_notice:function(e,t){if(t||(t="info"),e&&""!=e)if(0<e.indexOf("password is not correct. Account has been locked."))window.location.href="";else{var n='<div class="alert alert-'+t+'" role="alert">';if(n+='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>',"error"==t||"danger"==t)n+=$("<div/>").text(e).html().replace(/\n/g,"<br/>");else n+=e.replace(/\n/g,"<br/>");n+="</div>",$(".flash").append(n),_fpa.timed_flash_fadeout()}},timed_flash_fadeout:function(){window.setTimeout(function(){$(".alert-info").fadeOut(1e3)},6e3)},clear_flash_notices:function(e){e=e?".alert-"+e:"",$(".flash div.alert"+e).remove()},show_modal:function(e,t,n){var i=$("#primary-modal"),r=i.find(".modal-title"),o=i.find(".modal-body");return r.html(""),o.html(""),t&&r.html(t),e&&o.html(e),n&&"md"==n?$(".modal-dialog").removeClass("modal-lg").addClass("modal-md"):n?$(".modal-dialog").removeClass("modal-md").addClass("modal-lg"):$(".modal-dialog").removeClass("modal-lg").removeClass("modal-md"),i.on("hidden.bs.modal",function(){$(".modal-body").html("");var e=$(".refresh-item-on-modal-close").first();e.length&&(e.parents(".common-template-item").last().find("a.refresh-item").click(),e.removeClass("refresh-item-on-modal-close"))}),i.modal("show"),i},get_item_by:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r[e]==n)return r}},get_items_by:function(e,t,n){var i=[];for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];o[e]==n&&i.push(o)}return i},get_items_as_hash_by:function(e,t,n,i){var r={};for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];a[e]==n&&(r[a[i]]=a)}return r},preprocessors:{},loaded:{}},_fpa.secure_view=new SecureView,_fpa.activity_logs={selected_parent:function(e,t){$(".activity-log-list .alr-new-block.has-records").addClass("hidden");var n=document.querySelectorAll(".activity-log-sub-list .sub-list-item .list-group");if($(n).is(":visible")){for(var i,r=0;i=n[r];r++){var o=i.parentNode;i.getAttribute("data-item-id")==t.item_id?(o.classList.add("item-highlight"),o.classList.add("selected-item")):(o.classList.remove("item-highlight"),o.classList.remove("selected-item")),o.classList.remove("linked-item-highlight")}$("#activity-logs-master-"+t.master_id+"- [data-item-id]").removeClass("item-highlight selected-item"),$("#activity-logs-master-"+t.master_id+'- [data-item-id="'+t.item_id+'"]').addClass("item-highlight selected-item")}},unselect_all:function(e,t){_fpa.activity_logs.selected_parent(e,{master_id:t})},show_main_block:function(e,t){_fpa.form_utils.format_block(e),_fpa.activity_logs.selected_parent(e,{item_id:t.item_id,rec_type:t.rec_type,item_data:t.item_data,master_id:t.master_id}),_fpa.activity_logs.handle_creatables(e,t)},show_log_block:function(e,t){_fpa.form_utils.format_block(e),$(".activity-log-list .alr-new-block").addClass("hidden");var n,i=t;for(var r in t)if(t.hasOwnProperty(r)&&"_control"!=r){n=t[r];break}"object"==typeof n&&n.hasOwnProperty("master_id")&&(i=n),_fpa.activity_logs.handle_creatables(e,t),e.parents(".activity-log-list").find(".common-template-item").not("[data-sub-id="+i.id+"]").each(function(){$(this).hasClass("prevent-edit")&&($(this).find("a.edit-entity").remove(),$(this).find(".new-block").remove(),$(this).find("a.add-item-button").remove())}),$(".activity-log-list .new-block").addClass("has-records"),_fpa.activity_logs.selected_parent(e,{item_id:i.item_id,rec_type:i.rec_type,item_data:i.item_data,master_id:i.master_id}),window.setTimeout(function(){_fpa.activity_logs.handle_save_action(e,t)},100);var o=e.parents(".activity-logs-item-block").first().find(".activity-log-sub-list").attr("data-sub-list");if(i._updated&&o){var a="/masters/"+i.master_id+"/"+o+".js";_fpa.send_ajax_request(a)}_fpa.postprocessors.info_update_handler(e,i)},get_object_data:function(e){if(e.item_types=e.multiple_results,!e.item_types){if(!e.item_type)for(var t in e){if(e.hasOwnProperty(t))if(e[t].item_type){e=e[t];break}}e.item_types=_fpa.utils.pluralize(e.item_type)}return e},handle_creatables:function(e,t){if(t._control)var n=t._control;else n=t;if(obj_data=_fpa.activity_logs.get_object_data(t),n&&n.creatables)for(var i in n.creatables)if(n.creatables.hasOwnProperty(i)){var r=n.creatables[i],o='.activity-logs-generic-block[data-sub-id="'+obj_data.master_id+'"][data-sub-item="'+obj_data.item_types+'"] a.add-item-button[data-extra-log-type="'+i+'"]',a=$(o),s=a.hasClass("hide-unless-creatable");r?s?a.show():a.attr("disabled",!1):s?a.hide():a.attr("disabled",!0)}},handle_save_action:function(e,t){var n;if(t._control){if(obj_data=_fpa.activity_logs.get_object_data(t),obj_data._created)(i=obj_data._control)||(i=t._control),i&&i.save_action&&(n=i.save_action.on_create);else if(obj_data._updated){var i;(i=obj_data._control)||(i=t._control),i&&i.save_action&&(n=i.save_action.on_update)}if("object"==typeof n){if(n.create_next_creatable){var r='.activity-logs-generic-block[data-sub-id="'+obj_data.master_id+'"][data-sub-item="'+obj_data.item_types+'"] a.add-item-button[data-extra-log-type]';$(r).not("[disabled]").first().click()}if(n.show_panel){var o=$('.master-panel[data-master-id="'+obj_data.master_id+'"] a[data-panel-tab="'+n.show_panel+'"]').click();window.setTimeout(function(){$(o.attr("data-target")).collapse("show")},10)}if(n.hide_panel){o=$('.master-panel[data-master-id="'+obj_data.master_id+'"] a[data-panel-tab="'+n.hide_panel+'"]');window.setTimeout(function(){$(o.attr("data-target")).collapse("hide")},10)}}}}},_fpa.preprocessors={before_all:function(e){if(_fpa.masters.get_results_block().removeClass("search-status-abort search-status-error search-status-done"),_fpa.form_utils.date_inputs_to_iso(e),_fpa.form_utils.unmask_inputs(e),e.is("form")){var t=e.parents(".common-template-item, .new-block").not(".no-processed-scroll");t.hasClass("new-block")&&(t=t.parent()),$(".postprocessed-scroll-here").removeClass("postprocessed-scroll-here"),t.addClass("postprocessed-scroll-here")}e.parent().find('[data-preprocessor="embedded_report"]').not("er-attached").on("ajax:success",function(){$(this).addClass("refresh-item-on-modal-close")}).addClass("er-attached")},"default":function(){}},_fpa.postprocessors={"default":function(i,e,t){var n;for(n in _fpa.processor_handlers.form_setup($("form")),_fpa.masters.get_results_block().addClass("search-status-done"),$("body").hasClass("fixed-overlay")||($("body").hasClass("user_page")&&$("body").hasClass("show")&&0==$("#master_results_block #results-accordion").length?($("body").addClass("table-results"),$("html").css({overflow:"hidden"}),_fpa.reports.window_scrolling()):($("body").removeClass("table-results"),$("html").css({overflow:"auto"}),_fpa.reports.reset_window_scrolling())),t||_fpa.form_utils.format_block(i),$(".format-block-on-expand").not(".attached-expander-format").on("shown.bs.collapse",function(){_fpa.form_utils.format_block($(this))}).addClass("attached-expander-format"),i.hasClass("new-block")&&!i.is(":visible")&&(i.show(),window.setTimeout(function(){_fpa.form_utils.format_block(i)},200)),i.find(".select-ref-to-record").not(".attached-handler").change(function(){var e=$(this).val(),t=$(this).parents("form").first(),n=t.siblings().not(".new_select_reference").first();e&&""!=e?(t.find(".submit-action-container").removeClass("hidden"),n.slideUp("fast")):(t.find(".submit-action-container").addClass("hidden"),n.slideDown("fast"))}).addClass("attached-handler"),e)if(e.hasOwnProperty(n)&&"_control"!=n)break;var r=e[n];if(r&&(r._created||r._updated)){var o=r.referenced_from;if(o&&0<o.length)for(var a in o)o.hasOwnProperty(a)&&o[a].from_record_type_us&&_fpa.send_ajax_request("/masters/"+o[a].from_record_master_id+"/"+o[a].from_record_type_us.replace("__","/")+"s/"+o[a].from_record_id)}if(e.form_data){var s=e.form_data,l=i.find("[data-attr-name][data-object-name]");for(var c in l.on("change",function(){var e=$(this),t=e.attr("data-object-name"),n=e.attr("data-attr-name");"checkbox"==e.attr("type")?s[t][n]=e.is(":checked"):s[t][n]=e.val(),_fpa.show_if.methods.show_items(i,s[t])}),s)s.hasOwnProperty(c)&&_fpa.show_if.methods.show_items(i,s[c])}else if(r)if(r.length){for(a=0;a<r.length;a++)if(r[a]&&r[a].item_type){var u=r[a],d=u.item_type;u.option_type&&"default"!=u.option_type&&(d+="_"+u.option_type);var h=i.find('.common-template-item[data-sub-item="'+d+'"][data-sub-id="'+u.id+'"]');_fpa.show_if.methods.show_items(h,u)}}else _fpa.show_if.methods.show_items(i,r);var f=$(".postprocessed-scroll-here");if(0<f.length){f.removeClass("postprocessed-scroll-here");var p=f.get(0).getBoundingClientRect();!(0<=p.top&&p.top<=$(window).height()/2)&&window.setTimeout(function(){f.hasClass("prevent-scroll")||_fpa.utils.scrollTo(f,200,-50)},300)}i.find(".on-postprocess-click").not(".auto-clicked, .ajax-running").addClass("auto-clicked").each(function(){var e=$(this);window.setTimeout(function(){e.click()})})},modal_pi_search_results_template:function(e){window.setTimeout(function(){_fpa.form_utils.format_block(e),_fpa.masters.switch_id_on_click(e),_fpa.form_utils.on_open_click(e)},30),$("a.modal-expander").click(function(e){e.preventDefault();var t=$(this).attr("href");$(t).on("shown.bs.collapse",function(){_fpa.form_utils.format_block($(this)),_fpa.utils.scrollTo($(this),200,-50),$(this).off("shown.bs.collapse")})}).addClass("attached-me-click")},search_action_template:function(e,t){if("MSID"==t.search_action){var n=$('.advanced-form-selections [data-toggle="collapse"]').not(".collapsed, .prevent-list-collapse").attr("data-target");if(n&&""!=n)$(n).collapse()}},master_main_template:function(e,t){_fpa.form_utils.format_block(e),_fpa.postprocessors.show_external_links(e,t),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e),_fpa.postprocessors.extras_panel_handler(e),e.addClass("loaded-master-main")},search_results_template:function(e,n){_fpa.masters.switch_id_on_click(e),n.masters&&n.masters.length<5&&(_fpa.form_utils.format_block(e),_fpa.postprocessors.show_external_links(e,n),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e)),n.masters&&1===n.masters.length&&_fpa.postprocessors.extras_panel_handler(e),n.masters&&0<n.masters.length&&(_fpa.state.masters=_fpa.state.masters||{},n.masters.forEach(function(e){e&&e.id&&(_fpa.state.masters[e.id]=Object.assign({},e),_fpa.state.masters[e.id].player_infos&&(_fpa.state.masters[e.id].player_info=_fpa.state.masters[e.id].player_infos[0],_fpa.state.masters[e.id].item=_fpa.state.masters[e.id].embedded_item))})),$("a.master-expander").click(function(e){e.preventDefault();var t=$(this).attr("data-target");$(t).on("shown.bs.collapse",function(){$(".selected-result").removeClass("selected-result"),$("#"+$(this).attr("aria-labelledby")).addClass("selected-result"),_fpa.form_utils.format_block($(this)),_fpa.postprocessors.show_external_links($(this),n),_fpa.postprocessors.tracker_notes_handler($(this)),_fpa.postprocessors.tracker_item_link_hander($(this)),_fpa.postprocessors.extras_panel_handler($(this)),_fpa.utils.scrollTo($(this),200,-50),$(this).off("shown.bs.collapse")})}).addClass("attached-me-click");var t=$("#msid_list").html(),i=$("#master_id_list").html();i&&1<i.replace(/ /g,"").length?(document.title="FPHS results",window.history.pushState({html:"/masters/search?utf8=\u2713&nav_q_id="+i,pageTitle:document.title},"","/masters/search?utf8=\u2713&nav_q_id="+i)):t&&1<t.replace(/ /g,"").length?(document.title="FPHS results",window.history.pushState({html:"/masters/search?utf8=\u2713&nav_q="+t,pageTitle:document.title},"","/masters/search?utf8=\u2713&nav_q="+t)):(document.title="FPHS results",window.history.pushState({html:"/masters/search",pageTitle:document.title},"","/masters/search"))},show_external_links:function(e,r){e.find(".external-links").each(function(){var e,t=$(this).attr("data-master-id");if(e=r.player_info?{player_infos:[r.player_info]}:_fpa.get_item_by("id",r.masters,t)){var n=e.player_infos[0],i=_fpa.templates["external-links-template"](n);$(this).html(i)}})},extras_panel_handler:function(e){_fpa.form_utils.on_open_click(e)},item_flags_result_template:function(e,t){if(_fpa.form_utils.format_block(e),t.item_flags.update_action){var n="#trackers-"+t.item_flags.master_id,i=$('a.open-tracker[data-target="'+n+'"]');i&&i[0]&&(i[0].app_callback=function(){$(n).collapse("show")}),i.trigger("click.rails")}},info_update_handler:function(e,t){if(_fpa.form_utils.format_block(e),t.update_action){var n=t.master_id,i="#trackers-"+n;window.setTimeout(function(){var e=$('a.open-tracker[data-target="'+i+'"]');e&&e[0]&&(e[0].app_callback=function(){$(i).collapse("show")},e.trigger("click.rails"))},10),_fpa.form_utils.on_open_click($("#master-"+n+"-main-container"),500)}},player_info_result_template:function(e,t){var n=t;t.player_info&&(n=t.player_info),_fpa.postprocessors.info_update_handler(e,n),_fpa.postprocessors.show_external_links(e.parents(".panel").first(),t)},address_result_template:function(e,t){var n=t;t.address&&(n=t.address),_fpa.postprocessors.info_update_handler(e,n)},player_contact_result_template:function(e,t){var n=t;t.player_contact&&(n=t.player_contact),_fpa.postprocessors.info_update_handler(e,n)},address_edit_form:function(t){_fpa.form_utils.format_block(t),$("#address_zip").mask("00000-9999",{translation:{0:{pattern:/\d/},0:{pattern:/\d/,optional:!0}}});var e=function(e){e&&"US"!==e&&""!==e?(t.find(".list-group-item.address-region").slideDown(),t.find(".list-group-item.address-postal_code").slideDown(),t.find(".list-group-item.address-zip").slideUp(),t.find(".list-group-item.address-state").slideUp(),t.find("#address_zip").val(""),t.find("#address_state").val("")):(t.find(".list-group-item.address-region").slideUp(),t.find(".list-group-item.address-postal_code").slideUp(),t.find(".list-group-item.address-zip").slideDown(),t.find(".list-group-item.address-state").slideDown(),t.find("#address_region").val(""),t.find("#address_postal_code").val(""))};t.find("#address_country").change(function(){e($(this).val())}),window.setTimeout(function(){e($("#address_country").val())},10)},player_contact_edit_form:function(e){_fpa.form_utils.format_block(e)},flash_template:function(){_fpa.timed_flash_fadeout()},after_error:function(e,t){if("abort"==t)_fpa.masters.get_results_block().html('<h3  class="text-center"><span class="glyphicon glyphicon-pause search-canceled" data-toggle="popover" data-trigger="click hover" data-content="search paused while new entries are added"></span></h3>').addClass("search-status-abort"),$(".search-canceled").popover();else{t&&t,_fpa.masters.get_results_block().addClass("search-status-error"),_fpa.processor_handlers.form_setup(e)}}},_fpa.processor_handlers={form_setup:function(e){_fpa.form_utils.setup_datepickers(e),_fpa.form_utils.mask_inputs(e)},label_changes:function(e){e.find(".address-state_name small").each(function(){$(this).html("state")}),e.find(".address-country_name small").each(function(){$(this).html("country")}),e.find(".address-source_name small").each(function(){$(this).html("source")}),e.find(".player-info-source_name small").each(function(){$(this).html("source")})}},_fpa.postprocessors_activity_logs={},_fpa.preprocessors_activity_logs={},_fpa.activity_logs.generate_postprocessors=function(i,e){var r="",t=i.length;if(r="y"==i[t-1]?i[t-2]+"ies":i+"s",_fpa.postprocessors_activity_logs["activity_log__"+r+"_main_result_template"]=function(e,t){_fpa.activity_logs.show_main_block(e,t)},_fpa.preprocessors_activity_logs["activity_log__"+r+"_main_result_template"]=function(e,t){_fpa.preprocessors.activity_log_show_log_block(e,t)},_fpa.postprocessors_activity_logs["activity_log__"+i+"_primary_result_template"]=function(e,t){_fpa.activity_logs.show_log_block(e,t)},_fpa.postprocessors_activity_logs["activity_log__"+i+"_blank_log_result_template"]=function(e,t){_fpa.activity_logs.show_log_block(e,t)},e)for(k in e)e.hasOwnProperty(k)&&(_fpa.postprocessors_activity_logs["activity_log__"+i+"_"+e[k].name+"_result_template"]=function(e,t){_fpa.activity_logs.show_log_block(e,t)},_fpa.preprocessors_activity_logs["activity_log__"+i+"_"+e[k].name+"_result_template"]=function(e,t){_fpa.preprocessors.activity_log_show_log_block(e,t)});_fpa.postprocessors_activity_logs["open_activity_log__"+i]=function(e,t,n){var i=e.attr("data-master-id");_fpa.send_ajax_request("/masters/"+i+"/activity_log/"+r,{try_app_callback:function(){window.setTimeout(function(){var e=_fpa.utils.jump_to_linked_item(n);_fpa.form_utils.format_block(e.parents(".activity-log-list")),_fpa.activity_logs.unselect_all(e,i)},1e3)}})},_fpa.postprocessors_activity_logs["sub_list_"+i+"_result_template"]=function(e,t){var n=null;for(n in t)break;t[n]&&t[n].rec_type&&i!=t[n].item_type+"_"+t[n].rec_type&&e.hide(),_fpa.form_utils.format_block(e)},$.extend(_fpa.postprocessors,_fpa.postprocessors_activity_logs),$.extend(_fpa.preprocessors,_fpa.preprocessors_activity_logs)},_fpa.preprocessors.activity_log_edit_form=function(e){$(".activity-log-list .new-block").each(function(){$(this).hide().html("")}),e.show()},_fpa.preprocessors.activity_log_show_log_block=function(e,t){var n;if(t.multiple_results)n=t[t.multiple_results];else for(var i in t)if(t.hasOwnProperty(i)&&"_control"!=i){n=[t[i]];break}for(var r=0;r<n.length;r++){var o,a=n[r];if(a.creatable_model_references){o=!0;for(var s in a.creatable_model_references)if(a.creatable_model_references.hasOwnProperty(s)&&a.creatable_model_references[s])for(var l in a.creatable_model_references[s])a.creatable_model_references[s].hasOwnProperty(l)&&(o="many"!=a.creatable_model_references[s][l])}a._show_embedded_as_single_item=a.model_references&&1==a.model_references.length&&o}},_fpa.postprocessors_model_refs={model_references_item:function(e){_fpa.form_utils.setup_data_toggles(e)}},$.extend(_fpa.postprocessors,_fpa.postprocessors_model_refs),_fpa.postprocessors_nfs_store={refresh_container_if_needed:function(r){var e=r.find(".file-processing-tag");if(e.length){if(!e.is(":visible"))return;window.setTimeout(function(){var e=r.parents(".browse-container"),t=e.first().find(".refresh-container-list").not('[disabled="disabled"]');if(_fpa.utils.inViewport(r)&&0!=t.length){var n=e.attr("data-refresh-count");if(!n||parseInt(n)<6){if(n)i=parseInt(n)+1;else var i=1;e.attr("data-refresh-count",i),t.click()}}else _fpa.postprocessors_nfs_store.refresh_container_if_needed(r)},1e4)}},nfs_store_browse_list_results:function(n){var i=n.parents(".nfs-store-container-block").first();i.fs_browser=_nfs_store.fs_browser,setTimeout(function(){i.fs_browser(i),_fpa.postprocessors_nfs_store.refresh_container_if_needed(n);var e=n.find(".container-browser").attr("data-container-writable"),t=i.find(".fileinput-button");"false"==e?(t.hide(),i.parents(".upload-dropzone").removeClass("upload-dropzone").addClass("upload-dropzone-disabled")):(t.show(),i.parents(".upload-dropzone-disabled").removeClass("upload-dropzone-disabled").addClass("upload-dropzone")),_fpa.form_utils.format_block(n)},100)},filestore_classification_block:function(n){_fpa.form_utils.format_block(n),window.setTimeout(function(){var e=n.get(0).getBoundingClientRect(),t=.9*$(window).height();!(0<=e.top&&e.bottom<=t)&&$.scrollTo(n,{offset:-(t-e.height)})},100)},filestore_classification_stored_file_result_template:function(e,t){_fpa.form_utils.format_block(e);var n=t.nfs_store__manage__stored_file.nfs_store_container_id;$(
'[data-result="filestore-classification-stored-file-edit-form--'+n+'"]').remove()},filestore_classification_archived_file_result_template:function(e,t){_fpa.form_utils.format_block(e);var n=t.nfs_store__manage__archived_file.nfs_store_container_id;$('[data-result="filestore-classification-archived-file-edit-form--'+n+'"]').remove()}},$.extend(_fpa.postprocessors,_fpa.postprocessors_nfs_store),_fpa.preprocessors_reports={report_edit_form:function(){$(".report-item-edit").find(".report-edit-cancel").click()},embedded_report:function(){var e='<div id="modal_results_block" class=""></div>';_fpa.show_modal(e,null,!0)}},_fpa.postprocessors_reports={table_cell_types:{trackers:{protocols:"protocol_id",sub_processes:"sub_process_id",protocol_events:"protocol_event_id",users:"user_id"},tracker_history:{protocols:"protocol_id",sub_processes:"sub_process_id",protocol_events:"protocol_event_id",users:"user_id"},masters:{accuracy_scores:"rank"},player_infos:{accuracy_scores:"rank",users:"user_id"},player_contacts:{"general_selections-item_type+player_contacts_rank":"rank",users:"user_id"},addresses:{"general_selections-item_type+addresses_rank":"rank",users:"user_id"}},embedded_report:function(e,t){_fpa.postprocessors_reports.reports_form(e,t),e.find('input[type="submit"].auto-run').click()},reports_form:function(e){_fpa.form_utils.format_block(e),_fpa.masters.get_results_block().html(""),_fpa.masters.handle_search_form(e.find("form")),e.find("a.btn[data-attribute]").click(function(e){e.preventDefault();var t=$(this).attr("data-attribute"),n=$("#search_attrs_"+t),i=n.val();0<i.length&&(i+="\n");var r=$("#multiple_attrs_"+t);i+=r.val(),n.val(i),r.val(""),n.change(),r.change()}),e.find("form").not(".attached-complete-listener").on("ajax:complete",function(){$("#search_attrs__filter_previous_").attr("checked",!1),$("#filter_on_block").html("")}).addClass("attached-complete-listener");var t,n=$("#search_attrs__filter_previous_").not(".attached-click-listener");1===n.length&&n.is(":checked")&&(window.setTimeout(function(){$("a#get_filter_previous").click()},100),t=!0),n.on("change",function(){return $("#search_attrs__filter_previous_").is(":checked")?window.setTimeout(function(){$("a#get_filter_previous").click()},100):$("#filter_on_block").html(""),!1}).addClass("attached-click-listener"),t||e.find('input[type="submit"].auto-run').click()},reports_result:function(i,a){if(a){var e=$(".result-count").html(),t=$('.count-only [data-col-type="result_count"]').not(".report-el-was-from-new");1===t.length&&(e=t.html()),e=parseInt(e),a.count={count:e,show_count:e};var n=_fpa.templates["search-count-template"](a);$(".search_count_reports").html(n)}window.setTimeout(function(){var e=_fpa.postprocessors_reports.table_cell_types;if(a.count&&0!=a.count.count){for(var t in $(".postprocessed-scroll-here").removeClass("postprocessed-scroll-here").addClass("prevent-scroll"),_fpa.reports.report_position_buttons("go-to-results"),$("td a.edit-entity").click(function(){$(".item-selected").removeClass("item-selected"),$(this).parents("tr").first().addClass("item-selected")}),$('td[data-col-type="master_id"]').on("click",function(){window.open("/masters/"+$(this).html().trim(),"_blank"),$(".item-selected").removeClass("item-selected"),$(this).addClass("item-selected")}).addClass("hover-link"),$('td[data-col-type="msid"]').on("click",function(){window.open("/masters/"+$(this).html().trim()+"?type=msid","_blank"),$(".item-selected").removeClass("item-selected"),$(this).addClass("item-selected")}).addClass("hover-link"),e)if(e.hasOwnProperty(t)){var n=e[t];if(0<$('td[data-col-table="'+t+'"]').length)for(var r in n)if(n.hasOwnProperty(r)){col_types=e[t];var o=col_types[r];_fpa.set_definition(r,function(){var i=_fpa.cache(r);$('td[data-col-table="'+t+'"][data-col-type="'+o+'"]').each(function(){var e=$(this),t=e.html(),n=_fpa.get_item_by("value",i,t);n&&null!=n.value||(n=_fpa.get_item_by("id",i,t)),n&&e.append(" <em>"+n.name+"</em>")})})}}_fpa.reports.results_subsearch(i),_fpa.reports.results_perform_action_link(i),_fpa.reports.results_select_items_for_form(i),_fpa.form_utils.setup_tablesorter($(".report-results-table-block")),i.find(".expandable").not(".attached-exp").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_expandable($(this))}).addClass("attached-exp"),$("prevent-scroll").removeClass("prevent-scroll")}else _fpa.reports.report_position_buttons("go-to-form")},50),window.setTimeout(function(){$('td[data-col-type$="_when"], td[data-col-type$=" when"], td[data-col-type$="_date"], td[data-col-type$=" date"], td[data-col-type="date"]').not(".td-date-formatted").each(function(){var e=null,t=$(this).html();"Invalid Date"==t?e="":t&&""!=t&&(e=_fpa.utils.YMDtoLocale(t)),$(this).html(e)}).addClass("td-date-formatted"),$('td[data-col-type$="_at"], td[data-col-type$="_time"], td[data-col-type$=" time"], td[data-col-type$=" at"]').not(".td-time-formatted").each(function(){var e=null,t=$(this).html();"Invalid Date"==t?e="":t&&""!=t&&(e=_fpa.utils.YMDtimeToLocale(t)),$(this).html(e)}).addClass("td-time-formatted")},500)},report_edit_form:function(t){var e=t.find("form"),n=e.attr("id"),i=t.find("tr"),r=e.attr("data-object-id");if(r)var o=$("tr#report-item-"+r);else o=$("tr#report-item-new");o.after(i),o.hide();var a=t.find("input");i.find(".report-edit-btn-cell").append(a),i.find("input, select, textarea, button").each(function(){$(this).attr("form",n)}),_fpa.form_utils.format_block(i),_fpa.utils.scrollTo(i,200,-50),i.find("#report-edit-cancel").click(function(e){e.preventDefault(),o.show(),i.remove(),t.html("")})},edit_report_result:function(e,t){$("#report-edit-").html("");var n=t.report_item.id;if(0==(i=$("#report-item-"+n)).length){var i;i=(i=$("#report-item-new")).after(i.clone());var r=t.report_item.id;i.attr("id","report-item-"+r);var o=i.find("a.edit-entity"),a=o.attr("href");o.attr("href",a.replace("new",r)),i.find(".report-new-item-btn").remove(),n=""}for(var s in t.report_item)t.report_item.hasOwnProperty(s)&&i.find('[data-col-type="'+s+'"]').first().html(t.report_item[s]);i.show(),$("tr#report-item-edit-"+n).remove(),$("tr#report-item-new").show()}},$.extend(_fpa.postprocessors,_fpa.postprocessors_reports),$.extend(_fpa.preprocessors,_fpa.preprocessors_reports),_fpa.postprocessors_trackers={tracker_opener:function(e){var t=e.find(".open-tracker.collapsed");1===t.length&&"0"!==t.find(".tracker-count").html()&&t.trigger("click")},tracker_events_handler:function(e){_fpa.postprocessors.tracker_opener(e),window.setTimeout(function(){_fpa.set_definition("protocol_events",function(){var a=_fpa.cache("protocol_events"),s=!0;e.find(".tracker-event_name[data-event-id]").each(function(){var e=$(this).attr("data-event-id"),t=_fpa.get_item_by("id",a,e);s&&t&&t.milestone&&0<=t.milestone.indexOf("always-notify-user")&&(_fpa.show_modal(t.description,t.name),s=!1)}),e.find(".latest-tracker-history").each(function(){var e=$(this),t=e.attr("data-lth-event-milestone");if(t&&0<=t.indexOf("notify-user")){var n=e.attr("data-lth-event"),i=e.attr("data-lth-event-id"),r=_fpa.get_item_by("id",a,i);if(r&&s){var o=e.attr("data-lth-protocol")+" - "+e.attr("data-lth-process")+": "+n;_fpa.show_modal(r.description,o)}}})})},500)},tracker_notes_handler:function(){var e=$("td.tracker-notes .cell-holder, td.tracker-history-notes .cell-holder");_fpa.utils.make_readable_notes_expandable(e)},tracker_item_link_hander:function(r){$(".item-highlight").removeClass("item-highlight"),r.find("a.tracker-link-to-item").not(".link-attached").click(function(e){e.preventDefault();var t=$(this).attr("href");if(!_fpa.utils.jump_to_linked_item(t)){var n=$(this).attr("data-call-if-needed");if(n){var i=n.split(".");i[1]?_fpa[i[0]]&&_fpa[i[0]][i[1]]?_fpa[i[0]][i[1]]($(this),r,t):console.log("call_if_needed not found: "+i):_fpa[i[0]]?_fpa[i[0]]($(this),r,t):console.log("call_if_needed not found: "+i)}}}).addClass("link-attached"),r.find(".tracker-event_name[data-event-id], .tracker-history-event_name[data-event-id]").not(".te-desc-attached").each(function(){_fpa.set_definition("protocol_events",function(){var e=$(this),t=e.attr("data-event-id"),n=_fpa.cache("protocol_events"),i=_fpa.get_item_by("id",n,t);if(i&&i.description){var r='<span class="glyphicon glyphicon-info-sign tracker-event-description" data-toggle="popover" title="'+i.name+'" data-content="'+i.description+'"></span>';$(r).appendTo(e.find(".cell-holder")).popover({trigger:"click hover"})}})}).addClass("te-desc-attached")},tracker_histories_result_template:function(e){_fpa.form_utils.format_block(e),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e)},tracker_chron_result_template:function(e){_fpa.form_utils.format_block(e),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e)},tracker_tree_result_template:function(e){_fpa.form_utils.format_block(e),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e)},tracker_result_template:function(e,o){if(_fpa.form_utils.format_block(e),_fpa.postprocessors.tracker_notes_handler(e),_fpa.postprocessors.tracker_item_link_hander(e),o.tracker&&o.tracker._created){var t=$("#tracker-count-"+o.tracker.master_id),n=parseInt(t.html());null!=n&&n++,t.html(n)}var i=$("#trackers-"+o.tracker.master_id+"-completions");_fpa.view_template(i,"tracker_completions",o);var r=$("table.tracker-chron-results");if(1!==r.length){if(o.tracker&&(o.tracker._created||o.tracker._merged)&&o.tracker.record_type&&0==o.tracker.record_type.indexOf("ActivityLog::"))$("#tracker-"+o.tracker.master_id+"-"+o.tracker.id+' a[data-master-id="'+o.tracker.master_id+'"][data-record-id="'+o.tracker.record_id+'"]').click();o.tracker&&(o.tracker._created||o.tracker._updated)&&_fpa.set_definition("protocol_events",function(){var e=o.tracker.protocol_event_id,t=_fpa.cache("protocol_events"),n=_fpa.get_item_by("id",t,e);if($("#latest-tracker-history-"+o.tracker.master_id).attr("data-lth-event-milestone",""),n){var i=n.milestone;if(i&&0<=i.indexOf("notify-user")){var r=o.tracker.protocol_name+" - "+o.tracker.sub_process_name+": "+n.name;_fpa.show_modal(n.description,r)}}})}else r.find('a[data-template="tracker-tree-result-template"]').click()},tracker_edit_form:function(r){_fpa.form_utils.format_block(r);var e=function(e,t){var n=r.find("#tracker_event_date");if(n.parents("div").first().show(),n.hasClass("attached-datepicker"))var i=(new Date).asLocale();else i=(new Date).asYMD();t?(n.val(i),$("#tracker_notes").val("")):_fpa.form_utils.setup_datepickers(r)};r.find("#tracker_protocol_event_id, #tracker_sub_process_id").change(function(){e($(this),!0)}).each(function(){e($(this))}),r.find("#tracker_protocol_id").change(function(){r.find("#tracker_sub_process_id").focus().click()}),r.find("#tracker_sub_process_id").change(function(){r.find("#tracker_protocol_event_id").focus().click()})}},$.extend(_fpa.postprocessors,_fpa.postprocessors_trackers),_fpa.cache=function(e){e=_fpa.cache_name(e);var t=localStorage.getItem(e);return t=JSON.parse(t)},_fpa.cache_name=function(e){return e+"--"+_fpa.version},_fpa.set_definition=function(e,i){var t=function(n){$.ajax("/definitions/"+n,{success:function(e){var t=e;_fpa.set_cache(n,t),!1,i&&i()}})};try{_fpa.cache(e)?i&&i():t(e)}catch(n){t(e)}},_fpa.cache_definitions=function(e,o){var a=e.join(","),t=function(r){$.ajax("/definitions",{method:"post",data:{names:a},success:function(e){for(var t in r){var n=r[t],i=e[n];_fpa.set_cache(n,i),!1,o&&o()}_fpa.set_cache(a,"true")}})};try{_fpa.cache(a)?o&&o():t(e)}catch(n){t(e)}},_fpa.set_cache=function(e,t){var n=e+"--";for(var i in e=_fpa.cache_name(e),localStorage)localStorage.hasOwnProperty(i)&&0===i.indexOf(n)&&(localStorage.removeItem(i),console.log("removed cache item: "+i));t=JSON.stringify(t),localStorage.setItem(e,t)},_fpa.form_utils={set_field_errors:function(e,t){if(t){var n;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=e.find("[data-attr-name='"+i.underscore()+"']").parent();if(1<o.length&&(o=o.parents(".list-group-item").first()),1==o.length){n||(n=o),o.addClass("has-error");var a=i.replace(/_/g," ");o.hasClass("showed-caption-before")&&(a="Entry"),r=a+" "+r;var s=$('<p class="help-block error-help">'+r+"</p>");o.append(s),delete t[i],t.form="has errors. Check the highlighted fields."}}n&&_fpa.utils.jump_to_linked_item(n,-300)}else $(".has-error").each(function(){$(this).find(".error-help").remove()}).removeClass("has-error")},clear_content:function(e){e.removeClass("in"),e.html("")},toggle_expandable:function(e){e.hasClass("expanded")?e.removeClass("expanded"):e.addClass("expanded")},highlight_tracker_history_item:function(e,t){t=_fpa.utils.get_data_attribs($(e)),window.setTimeout(function(){$(t.tracker_history_item).addClass("item-highlight")},1e3)},toggle_on_click_call:function(e,t){t||(t=e.attr("data-on-click-call"));var n=t.split("."),i=_fpa[n[0]][n[1]];t&&i?i(e,_fpa.utils.get_data_attribs(e)):console.log("no data-on-click-call value or function set")},toggle_on_click_show:function(e){for(var t,n=e.attr("data-on-click-show").split(","),i=_fpa.utils.get_data_attribs(e),r=0;t=n[r];r++){var o=(t=t.trim()).split("@");0==(e=$(o[1])).length&&console.log("the target provided to toggle_on_click_show does not exist: "+o[1]),_fpa.view_template(e,o[0],i)}},on_open_click:function(e,n){e.find('.on-open-click a[data-remote="true"], .on-open-click a[data-target]').not(".auto-clicked").addClass("auto-clicked prevent-autoclick-scroll").each(function(){var e=$(this),t=n;t||(t=(t=e.attr("data-open-priority"))?parseInt(t):20),window.setTimeout(function(){e.click()},t)})},unmask_inputs:function(e){e.find("input[data-unmask='number'].is-masked").each(function(){var e=$(this).cleanVal();e&&$(this).val(e)}).removeClass("is-masked")},date_inputs_to_iso:function(e){var t=e.find("input.date-is-local");0<t.length&&t.each(function(){var e=$(this).val();if(e||""!=e){var t=_fpa.utils.parseLocaleDate(e).asYMD();t&&$(this).val(t)}}).removeClass("date-is-local")},data_from_form:function(e){var t=e.find("[data-attr-name][data-object-name]"),r={},o=null;t.each(function(){var e=$(this),t=e.attr("data-object-name"),n=e.attr("data-attr-name");if("option_type"==n)if((o=e.val())&&""!=o)var i=t+"_"+o;else i=null;r[t]||(r[t]={item_type:t},r[t].full_option_type=i),e[0]&&"radio"==e[0].type?e.is(":checked")&&(r[t][n]=e.val()):e[0]&&"checkbox"==e[0].type?e.is(":checked")&&(r[t][n]=!0):r[t][n]=e.val()});var n=e.find("[data-item-id]").attr("data-item-id");for(var i in r)r.hasOwnProperty(i)&&(r[i].id||(r[i].id=n));return r},get_general_selections:function(o){if(o)if(o.multiple_results)_fpa.form_utils.get_general_selections(o[o.multiple_results]);else if(o.length)for(var e=0;e<o.length;e++)_fpa.form_utils.get_general_selections(o[e]);else{if(!o.item_type){var t;for(t in o)if(o.hasOwnProperty(t)&&"_control"!=t)break;var n=o[t];if(!n)return;o=n}o.embedded_item&&_fpa.form_utils.get_general_selections(o.embedded_item);var i=o.item_type?"-item_type+"+o.item_type:"",a="general_selections"+(i+=o.extra_log_type?"-extra_log_type+"+o.extra_log_type:"");_fpa.set_definition(a,function(){var e=_fpa.cache(a);for(var t in o._general_selections={},o)if(o.hasOwnProperty(t)){if("activity_log"==o.model_data_type)var n=o.item_type+"_"+t;else n=o.item_type+"s_"+t;var i=_fpa.get_items_as_hash_by("item_type",e,n,"value"),r=null;for(r in i)break;r&&(o._general_selections[t]=i)}})}},handle_sub_list_filters:function(e,t){var n=e,i=n.attr("data-filter-sub-list"),r=n.attr("data-filter-sub-list-attr"),o=n.attr("data-filter-val"),a=$('[data-sub-list="'+i+'"] [data-sub-item][data-'+r+'="'+o+'"]');if(!t){var s=n.hasClass("active");s?n.removeClass("active"):n.addClass("active")}(s=!n.hasClass("active"))?a.slideUp(function(){a.each(function(){_fpa.form_utils.format_block($(this))})}).addClass("filtered-out"):a.slideDown(function(){a.each(function(){_fpa.form_utils.format_block($(this))})}).removeClass("filtered-out")},handle_sub_list_order:function(e,t){var n=e,i=n.attr("data-order-sub-list"),r=(n.attr("data-order-val"),$('[data-sub-list="'+i+'"]'));if(!t){var o=n.hasClass("active");o?n.removeClass("active"):n.addClass("active")}o=n.hasClass("active"),_fpa.form_utils.sort_blocks(r,o)},handle_sub_list_layout:function(e,t){var n=e,i=n.attr("data-layout-sub-list"),r=n.attr("data-force-layout"),o=$('[data-sub-list="'+i+'"] .common-template-item, [data-sub-list="'+i+'"] .new-block');if(!t){if(n.hasClass("active"))return;$('[data-layout-sub-list="'+i+'"][data-force-layout]').removeClass("active"),n.addClass("active")}"wide-block"==r?(o.removeClass("card-block").addClass("wide-block"),o.find(".list-group").addClass("expandable").attr("data-toggle","expandable")):(o.addClass("card-block").removeClass("wide-block"),o.find(".list-group").removeClass("expandable").attr("data-toggle",null)),_fpa.form_utils.format_block(o.parents('[data-sub-list="'+i+'"]').parent())},setup_typeahead:function(e,t,n,i,r){"string"==typeof t&&(t=_fpa.cache(t));var o=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:t}),a={hint:!0,highlight:!0,minLength:1,autoselect:!0};for(var s in r||(r={}),a)a.hasOwnProperty(s)&&(s in r||(r[s]=a[s]));var l={name:n,source:o};i&&(l.limit=i),$(e).typeahead(r,l).on("keypress",function(e){if(13==e.keyCode){var t=$(this).attr("data-next-field");t&&$(t).focus();var n=$(this).val();n&&""!=n&&$(this).addClass("has-value")}})},caption_before_substitutions:function(o,a){o.find(".caption-before").not(".cb_subs_done").each(function(){var i=$(this).html();if(i&&!(i.length<1)){var e=i.match(/{{[0-9a-zA-z_\.]+}}/g);if(e&&!(e.length<1)){var r={};if(a&&a.master_id){var t=a.master_id;(r=Object.assign({},a)).user_preference||(r.user_preference=_fpa.user_prefs)}else t=o.parents(".master-panel").first().attr("data-master-id");var n=_fpa.state.masters[t];n&&(r=Object.assign(r,n)),e.forEach(function(e){var t=e.replace("{{","").replace("}}","").split("."),n=null;t[0]&&(n=r[t[0]]),n&&t[1]&&(n=n[t[1]]),null==n&&(n="(?)"),n='<em class="all_caps">'+n+"</em>",i=i.replace(e,n)}),$(this).html(i)}}}).addClass("cb_subs_done")},resize_labels:function(e,t,n){e||(e=$(document));var i=e.find('.list-group:visible, .view-object[aria-expanded="true"]');n||(i=i.not(".attached-resize-labels")),i.each(function(){var a=$(this);_fpa.processor_handlers&&_fpa.processor_handlers.label_changes&&_fpa.processor_handlers.label_changes(a),window.setTimeout(function(){var t=0,e=a.find(".list-group-item.result-field-container, .list-group-item.result-notes-container, .list-group-item.edit-field-container, .list-group-item.caption-before").not(".all-fields-caption"),n=!1;e.each(function(){var e=$(this).hasClass("caption-before")&&!$(this).hasClass("caption-before-keep-label");n&&!e&&$(this).find("small, label").not(".radio-label").remove(),n=e});var i=a.find(".list-group-item.result-field-container, .list-group-item.edit-field-container").not(".is-heading, .is-sub-heading, .is-minor-heading, .is-full-width, .is-combo, .record-meta, .edit-form-header, .has-caption-before"),r=i.find("small, label").not(".radio-label");r.addClass("label-resizer").css({whiteSpace:"nowrap",width:"auto",minWidth:"none",marginLeft:"inherit"});var o=i.first().parent().width();r.each(function(){if($(this).is(":visible")){var e=$(this).width();t<e&&(t=e)}}),.5*o<t&&(t=.5*o),10<t&&(0===i.parents("form").length?(i.css({paddingLeft:t+30}).addClass("labels-resized"),r.css({minWidth:t,width:t,marginLeft:-t-14,whiteSpace:"normal"}).addClass("list-small-label")):r.css({minWidth:t+6,width:t+6,whiteSpace:"normal"}).addClass("list-small-label")),i.addClass("done-label-resize")},1),a.addClass("attached-resize-labels")})},setup_has_value_inputs:function(e){e||(e=$(document));var t=function(e){""!=e.val()?e.addClass("has-value"):e.removeClass("has-value")};e.find("input, select").not(".attached-has-value").on("change",function(){t($(this))}).each(function(){t($(this))}).addClass("attached-has-value")},setup_chosen:function(e){e||(e=$(document)),e.find("select[multiple]").not(".attached-chosen").each(function(){var e=$(this);window.setTimeout(function(){e.chosen({width:"100%",placeholder_text_multiple:"no tags selected"}).addClass("attached-chosen")},1)})},organize_common_templates:function(e){e.find(".common-template-item").each(function(){$(this).parents(".common-template-list").first().hasClass("row")&&!$(this).hasClass("alt-width")&&$(this).addClass("col-md-8 col-lg-6")})},filtered_selector:function(e){e||(e=$(document));var t=e.find("select[data-filters-selector]").not(".attached-filter"),o=function(e){var t=e.attr("data-filters-selector");if(t){var n=$(t);if(0!==n.length){var i=e.val();n.find("option[data-filter-id]").removeClass("filter-option-show").hide();var r=n.find('option[data-filter-id="'+i+'"]').addClass("filter-option-show").show();n.attr("data-parent-filter-id",i),0===r.length?n.find('option[value=""]').html("-none-"):n.find('option[value=""]').html("-select-"),n.each(function(){$(this).find("option:selected").attr("data-filter-id")!=i&&($(this).val(null).removeClass("has-value"),i&&$(this).addClass("prevent-submit")),o($(this))})}}};t.each(function(){o($(this))}).on("change",function(){o($(this))}).addClass("attached-filter")},setup_form_filtered_select:function(e){e.find("select[data-filters-select]").not(".filters-select-attached").each(function(){var t=$(this),n=t.attr("data-filters-select");t.on("change",function(){var e=t.val();$(n+" optgroup[data-group-num]").hide(),$(n+' optgroup[data-group-num="'+e+'"]').show()});var e=t.val();$(n+" optgroup[label]").each(function(){if(!$(this).attr("data-group-num")){var e=$(this).attr("label").split("/",2),t=e.length-1,n=0;$(this).attr("label",e[t]),$(this).attr("data-group-num",e[n])}}).hide(),$(n+' optgroup[data-group-num="'+e+'"]').show()}).addClass("filters-select-attached")},setup_tablesorter:function(e){e||(e=$(document));var t=e.find(".tablesorter").not(".attached-tablesorter");window.setTimeout(function(){t.each(function(){var e=$(this),t=0,n={};e.find("thead tr:first th").each(function(){$(this).hasClass("no-sort")&&($(this).attr("title",null),$(this).attr("aria-label",null),n[t]={sorter:!1}),t++}),e.tablesorter({dateFormat:"yyyy-mm-dd",headers:n}).addClass("attached-tablesorter")})},100)},setup_bootstrap_items:function(e){e||(e=$(document)),e.find('[data-toggle~="tooltip"]').not(".attached_bs").tooltip().addClass("attached_bs"),e.find('[data-toggle~="popover"]').not(".attached_bs").popover().addClass("attached_bs"),e.find('[data-show-popover="auto"]').not(".attached_bs").popover("show").addClass("attached_bs"),e.find(".dropdown-toggle").not(".attached_bs").dropdown().addClass("attached_bs"),e.find("table").each(function(){var e=$(this).attr("class");null!=e&&""!==e||$(this).addClass("table")})},setup_data_toggles:function(t){t||(t=$(document)),t.find('[data-toggle~="clear"]').not(".attached-datatoggle-clear").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target"),t=$(e).html("");t.hasClass("collapse")?t.removeClass("in"):t.addClass("hidden")}}).addClass("attached-datatoggle-clear"),t.find('[data-toggle~="unhide"]').not(".attached-datatoggle-uh").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target");$(e).removeClass("hidden")}}).addClass("attached-datatoggle-uh"),t.find('[data-toggle~="uncollapse"]').not(".attached-datatoggle-uncoll").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target");$(e).collapse("show")}}).addClass("attached-datatoggle-uncoll"),t.find("a.scroll-to-master").not(".attached-datatoggle-stm").on("click",function(){var e;$(this).attr("disabled")||(e=t.hasClass("panel-collapse")?t:t.parents(".panel-collapse").first(),_fpa.utils.scrollTo(e,100,-60))}).addClass("attached-datatoggle-stm"),t.find('[data-toggle~="scrollto-target"]').not(".attached-datatoggle-stt").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target");_fpa.utils.jump_to_linked_item(e)}}).addClass("attached-datatoggle-stt"),t.find('[data-toggle~="show-modal"]').not(".attached-datatoggle-show-modal").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target");_fpa.show_modal(e)}}).addClass("attached-datatoggle-show-modal"),t.find('[data-prevent-on-collapse="true"]').not(".attached-prevent-on-collapse").on("click",function(e){$(this).attr("disabled")||$(this).hasClass("collapse")||e.preventDefault()}).addClass("attached-prevent-on-collapse"),t.find('[data-toggle~="scrollto-result"], [data-toggle~="scrollto-target"], [data-toggle~="collapse"].scroll-to-expanded, [data-toggle~="uncollapse"].always-scroll-to-expanded ').not(".attached-datatoggle-str").on("click",function(){if(!$(this).attr("disabled")&&!($(this).hasClass("scroll-to-expanded")&&!$(this).hasClass("collapsed")||$(this).hasClass("no-scroll-on-collapse")))if($(this).hasClass("prevent-autoclick-scroll")&&$(this).hasClass("auto-clicked"))$(this).removeClass("prevent-autoclick-scroll");else{var t,e=$(this).parents("[data-form-container]");if((t=1==e.length?e.attr("data-form-container"):$(this).attr("data-target"))&&""!=t||(t=$(this).attr("data-result-target")),t){var n=0,i=function(){var e=$(t).get(0);if(!e){if(10<n)return;return n++,void window.setTimeout(function(){i()},250)}if(!(e=e.getBoundingClientRect()).height)return n++,void window.setTimeout(function(){i()},250);!(0<=e.top&&1.25*e.bottom<$(window).height())&&_fpa.utils.scrollTo(t,200,-100)};window.setTimeout(function(){i()},250)}}}).addClass("attached-datatoggle-str"),t.find('[data-toggle~="expandable"]').not(".attached-datatoggle-exp").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_expandable($(this))}).addClass("attached-datatoggle-exp"),t.find("[data-on-click-call]").not(".attached-toggle_on_click_call").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_on_click_call($(this))}).addClass("attached-toggle_on_click_call"),t.find("[data-result-callback]").not(".attached-toggle_on_result_callback").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-result-callback").split(".");e[1]?$(this)[0].app_callback=_fpa[e[0]][e[1]]:$(this)[0].app_callback=_fpa[e[0]]}}).addClass("attached-toggle_on_result_callback"),t.find("[data-on-click-show]").not(".attached-toggle_on_click_show").on("click",function(){$(this).attr("disabled")||_fpa.form_utils.toggle_on_click_show($(this))}).addClass("attached-toggle_on_click_show"),t.find('[data-toggle~="clear-content"]').not(".attached-datatoggle-cc").on("click",function(){if(!$(this).attr("disabled")){var e=$(this).attr("data-target");_fpa.form_utils.clear_content($(e))}}).addClass("attached-datatoggle-cc"),t.find("[data-toggle-caret]").not(".attached-toggle_caret").on("click",function(){if($(this).hasClass("glyphicon-triangle-bottom")){var e=$(this);$(this).removeClass("glyphicon-triangle-bottom"),$(this).addClass("glyphicon-triangle-top");var t=(n=$(this).attr("data-target"))&&$(n);window.setTimeout(function(){e.attr("disabled",!0),t&&t.find(".list-group-item").length&&_fpa.form_utils.format_block(t.parent())},10)}else{var n;e=$(this);$(this).addClass("glyphicon-triangle-bottom"),$(this).removeClass("glyphicon-triangle-top"),(n=$(this).attr("data-result-target"))&&$(n).html(""),window.setTimeout(function(){e.attr("disabled",!1)},10)}}).addClass("attached-toggle_caret")},mask_inputs:function(e){e.find("[pattern]").each(function(){var e=$(this).attr("pattern");e&&""!=e||$(this).removeAttr("pattern")}),e.find("[pattern]").not('.attached-datatoggle-pattern, [type="password"]').each(function(){var e,t=$(this).attr("pattern"),n=$(this).attr("type"),i=$(this).attr("data-mask");i&&""!==i||!t||""===t||("text"!=n&&"datepicker"!=n&&"date"!=n&&($(this).attr("type","text"),$(this).attr("data-unmask",n)),e=_fpa.masker.mask_from_pattern(t),$(this).attr("data-mask",e.mask),$(this).addClass("is-masking"),$(this).mask(e.mask,{translation:e.translation,reverse:e.reverse}),$(this).addClass("is-masked"),$(this).removeClass("is-masking"))}).addClass("attached-datatoggle-pattern"),e.find("[pattern].attached-datatoggle-pattern").not(".is-masked").each(function(){var e=$(this),t=e.val();if(t&&""!==t){var n=e.masked(t);e.val(n)}}).addClass("is-masked"),e.find("input.time-entry").not("is-time-masked").each(function(){$(this).timepicker({timeFormat:"h:mm p",interval:15,minTime:"12:00am",maxTime:"11:59pm",startTime:"12:00am",dynamic:!0,dropdown:!0,scrollbar:!0})})},setup_datepickers:function(e){e.find('input[type="date"]').each(function(){"date"==$(this).prop("type")&&($(this).prop("type","datepicker"),$(this).addClass("force-datepicker")),$(this).attr("type","datepicker")}),e.find('input[type="datepicker"]').not(".date-is-local").each(function(){var e=$(this).val();if(e&&""!=e){var t=_fpa.utils.YMDtoLocale(e);$(this).val(t)}$(this).addClass("date-is-local")}),e.find('input.force-datepicker, input[type="datepicker"]').not(".attached-datepicker").each(function(){$(this).datepicker({startView:2,clearBtn:!0,autoclose:!0,todayHighlight:!0,todayBtn:"linked",format:_fpa.user_prefs.date_format}),$(this).on("click",function(){$(this).datepicker("show")}),$(this).on("keypress",function(){$(this).datepicker("hide")}),$(this).mask("09/09/0000",{translation:_fpa.masker.translation,placeholder:"__/__/____"}),$(this).addClass("attached-datepicker date-is-local")})},list_view:function(e){e.parents(".common-template-list").first().find(".common-template-item").removeClass("col-lg-6").addClass("col-lg-12 col-lg-offset-6"),_fpa.form_utils.resize_children(e)},sort_blocks:function(e,l){var t=e,c=t.attr("data-sort-desc");if(c||(t=t.find("[data-sort-desc]").first()).length&&(c=t.attr("data-sort-desc")),c||(t=(t=t.find("[data-sub-list]")).find("[data-sort-desc]").first()).length&&(c=t.attr("data-sort-desc")),c){var n=t.parent();l=l||n.attr("data-sort-reverse");var i=n.find("[data-sort-desc]"),r=n.find(".sort-marker").first();0==r.length&&(i.first().before($('<div class="sort-marker"></div>')),r=n.find(".sort-marker").first()),i.sort(function(e,t){var n=$(t).find("["+c+"]").attr(c),i=$(e).find("["+c+"]").attr(c);if(null==n&&(n=$(t).attr(c)),null==i&&(i=$(e).attr(c)),n){var r=n.split("--");null==r[1]&&(r[1]=""),n=_fpa.utils.ISOdatetoTimestamp(r[0])+r[1]}if(i){var o=i.split("--");null==o[1]&&(o[1]=""),i=_fpa.utils.ISOdatetoTimestamp(o[0])+o[1]}if(null==i||""==i)return-1;if(null==n||""==n)return 1;var a=parseFloat(i);i==a&&(i=a),n==(a=parseFloat(n))&&(n=a);var s=l?-1:1;return i<n?s:n<i?-1*s:0}).insertAfter(r)}},setup_extra_actions:function(e){e.find(".collapse").not(".attached-force-collapse").each(function(){var e=$(this);e.on("show.bs.collapse",function(){e.removeClass("hidden")}),e.on("shown.bs.collapse",function(){e.removeClass("hidden")}),e.on("hide.bs.collapse",function(){})}).addClass("attached-force-collapse"),e.find("[data-add-icon]").not(".attached-add-icon").each(function(){var e=$(this).attr("data-add-icon"),n=$(this).attr("title");$(this).attr("title",null);var t=$(this).attr("data-show-modal");if(t){var i=$('<a class="add-icon glyphicon glyphicon-'+e+'" href="#" data-show-modal="'+t+'"></a>');$(this).append(i),i.click(function(e){e.preventDefault();var t=$(this).attr("data-show-modal");_fpa.show_modal($(t).html(),n)})}else{i=$('<a data-toggle="popover" data-content="'+n+'" class="add-icon glyphicon glyphicon-'+e+'"></a>');$(this).append(i),i.popover({trigger:"hover click",placement:"bottom"})}}).addClass("attached-add-icon"),_fpa.form_utils.sort_blocks(e),e.find("input,select,checkbox,textarea").not('[type="submit"],.form-control,.ff').addClass("form-control input-sm ff"),e.find(".typeahead").css({width:"100%"}),e.find("form").not(".form-formatted").addClass("form-inline"),e.find("textarea.auto-grow").not(".attached-auto-grow").each(function(){$(this).on("keypress, change",function(){$(this).get(0).style.height="5px",$(this).get(0).style.height=$(this).get(0).scrollHeight+5+"px"})}).addClass("attached-auto-grow"),e.find("input.college-input.typeahead").not(".attached-college_ta").each(function(){var e=$(this);_fpa.set_definition("colleges",function(){_fpa.form_utils.setup_typeahead(e,"colleges","colleges")})}).addClass("attached-college_ta"),e.find('[data-format-date-local="true"]').not(".formatted-date-local").each(function(){var e=$(this).html();e=e.replace(" UTC","Z").replace(" ","T");var t=_fpa.utils.YMDtoLocale(e);$(this).html(t)}).addClass("formatted-date-local")},setup_sub_lists:function(e){e.find(".sublist-filter-selectors").not(".formatted-slfs").each(function(){$(this).on("click",".filter-switch",function(e){e.preventDefault(),_fpa.form_utils.handle_sub_list_filters($(this))}),$(this).find(".filter-switch").each(function(){_fpa.form_utils.handle_sub_list_filters($(this),!0)}),$(this
).on("click",".filter-switch-all",function(){$(this).hasClass("filter-all-active")?($(this).parent().find(".filter-switch").not(".active").click(),$(this).removeClass("filter-all-active"),$(this).removeClass("glyphicon-plus"),$(this).addClass("glyphicon-minus")):($(this).parent().find(".filter-switch.active").click(),$(this).addClass("filter-all-active"),$(this).addClass("glyphicon-plus"),$(this).removeClass("glyphicon-minus"))})}).addClass("formatted-slfs"),e.find(".sublist-order-selector").not(".formatted-slfs").each(function(){$(this).on("click",".order-switch",function(e){e.preventDefault(),_fpa.form_utils.handle_sub_list_order($(this))})}).addClass("formatted-slfs"),e.find(".sublist-layout-selectors").not(".formatted-slfs").each(function(){$(this).on("click",".layout-switch",function(e){e.preventDefault(),_fpa.form_utils.handle_sub_list_layout($(this))})}).addClass("formatted-slfs")},setup_contact_field_mask:function(o){var e=function(e,t){if("string"==typeof e)var n=e,i=!0;else{n=e.val();t=o.find('input[data-attr-name="data"]')}if("phone"===n?t.mask("(000)000-0000 nn",{translation:{0:{pattern:/\d/},n:{pattern:/.*/,recursive:!0,optional:!0}}}).attr("type","text"):"email"===n?t.unmask().attr("type","email"):t.unmask().attr("type","text"),!i){var r=_fpa.utils.translate(n,"field_labels");r=r?_fpa.utils.capitalize(r):"Data",t.parent().find("label").not(".radio-label").html(r)}},t=o.find(".rec_type_has_phone, .rec_type_has_email").change(function(){e($(this))});e(t),o.find(".is_phone").each(function(){e("phone",$(this))}),o.find(".is_email").each(function(){e("email",$(this))})},setup_textarea_autogrow:function(t){t.find("textarea").each(function(){var e=$(this)[0],t=new Autogrow(e);e.style.resize="none",e.style.boxSizing="content-box",$(this).click(function(){$(this).hasClass("done-auto-grow")||($(this).addClass("done-auto-grow"),t.autogrowFn())})}),setTimeout(function(){var e=t.find(".notes-block .list-group-item strong, .notes-block  .panel-body, .al-shrinkable > ul.list-group");_fpa.utils.make_readable_notes_expandable(e,100,_fpa.form_utils.resize_children)},10)},setup_filestore:function(e){e.find(".browse-container").not(".nfs-store-setup").each(function(){var e=$(this),t=$(this).attr("data-container-use-secure-view");if(null!=t&&""!=t&&"false"!=t&&"download_files"!=t){var n={},i=t.split(",");for(var r in i)n[i[r]]=!0;var o=null;0<=i.indexOf("view_files_as_image")?o="png":0<=i.indexOf("view_files_as_html")&&(o="html");$(this).html();_fpa.secure_view.setup_links($(this),"a.browse-filename",{allow_actions:n,set_preview_as:o})}null!=t&&""!=t&&"false"!=t||$(this).find("a.browse-filename").on("click",function(e){e.preventDefault()}),window.setTimeout(function(){e.find(".refresh-container-list").click(),(e.nfs_store_uploader=_nfs_store.uploader)(e)},10)}).addClass("nfs-store-setup")},setup_e_signature:function(e,t){var n=e.find(".e-signature-container");t||(n=n.not(".e-signature-setup")),n.each(function(){var n=this;$(n).find(".e-sign-print-frame").not(".click-ev-attached").on("click",function(){$(n).find(".e_signature_document_iframe")[0].contentWindow.print()}).addClass("click-ev-attached"),window.setTimeout(function(){var e=$(n).find(".e_signature_document").val(),t=$(n).find(".e_signature_document_iframe");t.attr("srcdoc",e),window.setTimeout(function(){var e=t[0].contentDocument.body;e?t.height(e.offsetHeight+50):t.height(500)},200)},10)}).addClass("e-signature-setup")},setup_error_clear:function(e){e.on("change",".has-error .form-control",function(){var e=$(this).parent();e.removeClass("has-error"),e.find(".error-help").remove()})},resize_children:function(o,e){var t=function(){var i=-1,r=-1,e=o.parents(".resize-children").parent();0<e.length&&(o=e),o.find(".resize-children").each(function(){$(this).find("ul.list-group").each(function(){0==$(this).parents("ul.list-group").length&&$(this).first().parent().css({minHeight:"1px"})}),$(this).find(".common-template-item, .new-block").not(".resized-width, .model-reference-new-block").each(function(){var e=$(this),t=$(this).parents(".dynamic-container");0<t.length&&(e=t);var n=0<e.find(".in-form-dialog").length,i=0<e.find("#e_signature_document").length,r=e.find(".list-group-item.caption-before, .list-group-item.dialog-before");if(i||0!=r.length){var o=r.filter(":visible");if(o&&0<o.length)var a=o.last().position().top+o.last().outerHeight()-o.first().position().top;else a=0;if(800<a||n||i){var s=_fpa.layout.item_blocks.regular,l=0;r.each(function(){var e=$(this).height();l<e&&(l=e)}),60<l||n||i?(s=i?_fpa.layout.item_blocks.e_signature:_fpa.layout.item_blocks.wide,e.first().removeClass(_fpa.layout.item_blocks.regular),e.addClass(s).addClass("resized-width"),_fpa.form_utils.resize_labels(e,null,!0)):e.hasClass("new-block")&&(e.first().removeClass(_fpa.layout.item_blocks.wide),e.first().removeClass(_fpa.layout.item_blocks.e_signature),e.addClass(_fpa.layout.item_blocks.regular))}}})}),o.find(".resize-children").each(function(){$(this).find("ul.list-group").each(function(){if(!(0<$(this).parents("ul.list-group").length)){var e=$(this).parent();if(e.offset().top>i){if(1<r)var t=0;o.find(".ready-to-resize").each(function(){$(this).removeClass("ready-to-resize").css({minHeight:r+t}),t++}),r=1,i=e.offset().top}var n=e.addClass("ready-to-resize").height();r<n&&(r=n)}}),1<r&&o.find(".ready-to-resize").removeClass("ready-to-resize").css({minHeight:r})})};e?t():window.setTimeout(function(){t()},100)},format_block:function(e){e||(console.log("format_block was provided no block."),e=$(document)),e.hasClass("list-group")&&(e=e.parent()),e.addClass("formatting-block"),_fpa.form_utils.setup_chosen(e),_fpa.form_utils.setup_has_value_inputs(e),_fpa.form_utils.organize_common_templates(e),_fpa.form_utils.resize_labels(e),_fpa.form_utils.filtered_selector(e),_fpa.form_utils.setup_tablesorter(e),_fpa.form_utils.setup_bootstrap_items(e),_fpa.form_utils.setup_data_toggles(e),_fpa.form_utils.setup_extra_actions(e),_fpa.form_utils.setup_datepickers(e),_fpa.form_utils.mask_inputs(e),_fpa.form_utils.setup_textarea_autogrow(e),_fpa.form_utils.setup_contact_field_mask(e),_fpa.form_utils.setup_filestore(e),_fpa.form_utils.setup_e_signature(e),_fpa.form_utils.setup_error_clear(e),_fpa.form_utils.resize_children(e),_fpa.form_utils.setup_sub_lists(e),e.removeClass("formatting-block")}},_fpa.loaded.preload=function(){$("body").addClass("page-loading"),$(document).on("change","#use_app_type_select",function(){window.location.href="/masters/search?use_app_type="+$(this).val()}),$(document).on("click","a[disabled], btn[disabled]",function(e){e.preventDefault()})},_fpa.loaded["default"]=function(){_fpa.timed_flash_fadeout(),_fpa.form_utils.format_block(),$("#nav_q").on("keypress",function(){$("#nav_q_pro_id").val(""),$("#nav_q_id").val("")}).on("change",function(){var e=$(this).val();e&&""!=e&&$("form.navbar-form").submit()}),$("#nav_q_pro_id").on("keypress",function(){$("#nav_q").val(""),$("#nav_q_id").val("")}).on("change",function(){var e=$(this).val();e&&""!=e&&$("form.navbar-form").submit()}),$("#nav_q_id").on("keypress",function(){$("#nav_q").val(""),$("#nav_q_pro_id").val("")}).on("change",function(){var e=$(this).val();e&&""!=e&&$("form.navbar-form").submit()});_fpa.loaded[_fpa.status.controller]&&_fpa.loaded[_fpa.status.controller](),window.onbeforeprint=_fpa.printing.beforePrintHandler,window.onafterprint=_fpa.printing.afterPrintHandler,window.matchMedia("print").addListener(function(e){e.matches&&_fpa.printing.beforePrintHandler()}),window.matchMedia("screen").addListener(function(e){e.matches&&_fpa.printing.afterPrintHandler()}),$("#print-action").click(function(){_fpa.printing.appPrintHandler()});var e=window.location.hash;if(!e&&!$("body.sessions").length){var t=_fpa.cache("login-redirect-hash");e=t&&t.hash,_fpa.set_cache("login-redirect-hash",{})}e&&5<e.length&&($("body.sessions").length?_fpa.set_cache("login-redirect-hash",{hash:e}):window.setTimeout(function(){console.log("Jumping to linked target based on hash"),_fpa.utils.jump_to_linked_item(e,null,{no_highlight:!0})},1e3)),$("body").removeClass("page-loading")},_fpa.masker={},_fpa.masker.mask_from_pattern=function(e){for(var t="",n="",i="",r="",o="",a=!1,s=!1,l=/^\{(\d+),?(\d*)?\}/,c=/^\(.+\)\?/,u=0;u<e.length;u++){var d=e[u];"escape"!==n?"."===d?(n="char",i="W",r="X",o="Y"):"\\"===d?n="escape":"("===d?(n="startblock",e.substring(u).match(c)&&(s=!0)):s&&")"===d?n="endblock":s&&"?"===d?s=!(n="endopt"):"+"===d?(n="char",!0,"T"===prev_vopt?r="U":"B"===prev_vopt?r="D":"9"===prev_vopt&&(r="#"),i=r):"*"===d?(n="char",!0,"T"===prev_vopt?r="R":"B"===prev_vopt?r="C":"9"===prev_vopt&&(r="*"),i=r):(n="char",r=i=d):"escape"===n&&("d"===d?(n="char",i="0",r="9",o="*",a=!0):"D"===d?(n="char",i="S",r="T",o="R"):(n="char",r=i=d));var h=e.substring(u+1).match(l);if("char"===n){if(times=1,opttimes=0,recursive=0,h&&(r1=h[1],r2=h[2],r1&&h[0].indexOf(",")<0?times=parseInt(r1):r1&&!r2&&(times=parseInt(r1),recursive=1),"0"===r1&&r2&&(opttimes=parseInt(r2),times=0),"0"!==r1&&r2&&(times=parseInt(r1),opttimes=parseInt(r2)-parseInt(r1)),u+=h[0].length),a){recursive&&(t+=o);for(f=0;f<times;f++)t+=s?r:i;for(f=0;f<opttimes;f++)t+=r}else{for(var f=0;f<times;f++)t+=s?r:i;for(var f=0;f<opttimes;f++)t+=r;recursive&&(t+=o)}prev_s=n,prev_v=i,prev_vopt=r,r=i=n=""}}return{mask:t,reverse:!1,translation:_fpa.masker.translation}},_fpa.masker.translation={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},"*":{pattern:/\d/,optional:!0,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},B:{pattern:/[a-zA-Z0-9]/,optional:!0},C:{pattern:/[a-zA-Z0-9]/,optional:!0,recursive:!0},D:{pattern:/[a-zA-Z0-9]/,recursive:!0},S:{pattern:/[a-zA-Z]/},T:{pattern:/[a-zA-Z]/,optional:!0},R:{pattern:/[a-zA-Z]/,optional:!0,recursive:!0},U:{pattern:/[a-zA-Z]/,recursive:!0},W:{pattern:/./},X:{pattern:/./,optional:!0},Y:{pattern:/./,optional:!0,recursive:!0},Z:{pattern:/./,recursive:!0}},_fpa.printing={waitForLoadingToComplete:function(e,t){t||(t=1e3),console.log("waiting for loading to complete"),window.setTimeout(function(){0<$(".ajax-running, .formatting-block").length?_fpa.printing.waitForLoadingToComplete(e,t):window.setTimeout(function(){e()},t)},t)},appPrintHandler:function(){return _fpa.printing.appPrintTriggered=!0,$(".print-preparing").show(),window.setTimeout(function(){$(".details-tabs a.collapsed").each(function(){$(this).click()})},10),_fpa.printing.waitForLoadingToComplete(function(){$(".print-preparing").hide(),window.print(),window.setTimeout(function(){_fpa.printing.appPrintTriggered=!1},1e3)}),!0},beforePrintHandler:function(){var e=$(".activity-logs-generic-block, .section-panel");0!=e.length&&(_fpa.printing.appPrintTriggered?e.each(function(){_fpa.form_utils.resize_children($(this),!0)}):alert("To ensure all data loads correctly cancel printing use the Print option in the application menu bar"))},afterPrintHandler:function(){$(".activity-logs-generic-block, .section-panel").each(function(){_fpa.form_utils.resize_children($(this))})}},_fpa.session=function(e){if(e)return this.default_timeout=e+this.tick/1e3,this.start_counting(!0),this},_fpa.session.prototype={default_timeout:null,last_reset:null,tick:1e4,alarm_time:120,alarmed:null,time_now:function(){return(new Date).getTime()/1e3},alarm_bell:function(){var e=this.time_passed()>this.default_timeout-this.alarm_time&&!this.alarmed;return e&&(this.alarmed=!0),e},reset_timeout:function(){console.log("reset_timeout to "+this.default_timeout+" seconds"),window.localStorage.setItem("session_last_reset",this.time_now()),this.alarmed=null},start_counting:function(e){e&&this.reset_timeout();var t=this;window.setTimeout(function(){t.count_down()},this.tick)},count_down:function(){if(this.time_passed()>this.default_timeout)console.log("timed out!"),window.location.href="/";else{if(this.alarm_bell()){console.log("Session will timeout in "+this.alarm_time);var e="<p>Your session will time out in "+Math.round(this.alarm_time/60)+' minutes.</p><p><a href="/pages/version.json" onclick="_fpa.status.session.reset_timeout(); _fpa.clear_flash_notices();" data-remote="true" class="btn btn-warning">Continue working</a> to continue working</a> or <a href="/users/sign_out"  data-method="delete" class="btn btn-default">logout</a></p>';_fpa.flash_notice(e,"warning")}this.start_counting()}},time_passed:function(){var e=window.localStorage.getItem("session_last_reset");return e=e?parseInt(e):0,this.time_now()-e}},_fpa.show_if={forms:{}},_fpa.show_if.methods={show_items:function(i,e){if(i&&e){e.embedded_item&&_fpa.show_if.methods.show_items(i,e.embedded_item);var t=e.item_type,n=e.full_option_type;if(!n&&e.option_type&&"default"!=e.option_type&&(n=t+"_"+e.option_type),n||(n=t),t){var r=_fpa.show_if.forms[n];if(r)for(var o in r)r.hasOwnProperty(o)&&_fpa.show_if.methods.show_item(i,e,t,o,n);window.setTimeout(function(){_fpa.form_utils.setup_e_signature(i,!0);var e=$(".dialog-made-visible");if(e.length){var t=$(window).height(),n=e.first().get(0).getBoundingClientRect();!(0<=n.top&&n.top<=t/2)&&$(document).scrollTo(e.first(),200,{offset:-.2*t}),e.removeClass("dialog-made-visible")}},250)}}},show_item:function(e,t,n,i,r){var o=_fpa.show_if.forms[r];if(o){var a=o[i],s=_fpa.show_if.methods.calc_conditions(a,t),l="."+r.hyphenate()+"-"+i,c="."+n.hyphenate()+"-"+i,u=[".list-group-item.caption-before"+l,".list-group-item.dialog-before"+l,".list-group-item.result-field-container"+l,".list-group-item.result-notes-container"+l,".list-group-item.edit-field-container"+c,".list-group-item.caption-before"+c].join(", "),d=e.find(u);if(s){var h=d.is(":visible");if(d.show(),!h)d.find(".in-form-dialog-btn:visible").click(),d.filter(".dialog-before").first().addClass("dialog-made-visible")}else d.hide()}},calc_conditions:function(e,t){var n=["all","any","not_all","not_any"],i=!0;for(var r in e){var o=e;for(var a in e.hasOwnProperty(r)&&0<=n.indexOf(r)?o=e[r]:r="all",o)if(o.hasOwnProperty(a)){var s=t[a],l=o[a];if(null==l)l=[l];else if("string"==typeof l)l=[l];else if("boolean"==typeof l)l=[l,l?"yes":"no"];else if("number"==typeof l)l=[l];else if("object"==typeof l)for(var c=0;c<l.length;c++)!0===l[c]&&l.push("yes"),!1===l[c]&&l.push("no");if("all"==r)i=i&&l.includes(s);else if("not_all"==r){if(!l.includes(s)){i=!0;break}i=!1}else if("any"==r){if(i=l.includes(s))break}else if("not_any"==r&&l.includes(s)){i=!1;break}}}return i}},_fpa.utils={},_fpa.utils.jump_to_linked_item=function(e,t,n){if(null==t&&(t=-50),null==n&&(n={}),$(".item-highlight, .linked-item-highlight").removeClass("item-highlight linked-item-highlight"),e instanceof jQuery||e&&!(e.length<2)){var i=$(e);if(!i||0==i.length){var r=e.split("-"),o=r.length,a=r[o-1],s=r[o-2];if(!a||!s)return;var l=e.replace("#","").replace("-"+s+"-"+a,"").replace(/-/g,"_");i=$('[data-item-class="'+l+'"][data-sub-id="'+a+'"]'),console.log(i)}if(i&&0!=i.length)return i=i.first(),"#body-top"==e||n.no_highlight||i.addClass("item-highlight linked-item-highlight"),i.is(":visible")||(i.parents(".collapse").collapse("show"),i.hasClass("collapse")?$('[data-toggle="collapse"][data-target="'+e+'"]:visible').first().click():_fpa.form_utils.format_block(i)),_fpa.utils.inViewport(i,!0)||_fpa.utils.scrollTo(i,200,t),i}},_fpa.utils.inViewport=function(e,t){t=t?2:1;var n=e.get(0).getBoundingClientRect();return 0<=n.top&&n.top<=$(window).height()/t},_fpa.utils.scrollTo=function(e,t,n){$.scrollTo(e,t,{offset:n})},_fpa.utils.pluralize=function(e){if(e)return e=(e=(e=(orig_str=e).replace(/ss$/,"sses")).replace(/ey$/,"ies")).replace(/ay$/,"ays"),orig_str==e&&(e=e.replace(/y$/,"ies")),orig_str==e&&(e+="s"),e},_fpa.utils.singularize=function(e){if(e)return e=(e=(e=(orig_str=e).replace(/ies$/,"y")).replace(/ays$/,"ay")).replace(/sses$/,"ss"),orig_str==e&&(e=e.replace(/s$/,"")),e},_fpa.utils.titleize=function(e){if(e){e=(e=e.replace(/_/g," ")).toLowerCase().split(" ");for(var t=0;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join(" ")}},_fpa.utils.make_readable_notes_expandable=function(e,t,n){t||(t=40),e.not(".attached-expandable").each(function(){$(this).height()>t?$(this).click(function(){window.getSelection().toString()||(_fpa.form_utils.toggle_expandable($(this)),n&&n(e,$(this)))}).addClass("expandable").attr("title","click to expand / shrink"):$(this).addClass("not-expandable")}).addClass("attached-expandable")},_fpa.utils.show_modal_results=function(){var e='<div id="modal_results_block" class=""></div>';_fpa.show_modal(e,"",!0)},_fpa.utils.get_data_attribs=function(e){for(var t,n={},i=0,r=e.get(0).attributes,o=r.length;i<o;i++){n[(t=r[i]).nodeName.replace("data-","").underscore()]=t.value}return n},_fpa.utils.capitalize=function(e){var t="";null!=e&&e.replace?t=/.+@.+\..+/.test(e)?e:e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):t=e;return t},_fpa.utils.nl2br=function(e){var t=((e=Handlebars.Utils.escapeExpression(e))+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2");return new Handlebars.SafeString(t)},String.prototype.capitalize=function(){return _fpa.utils.capitalize(this)},String.prototype.underscore=function(){return this.toLowerCase().replace(/( |-)/g,"_")},String.prototype.ns_underscore=function(){return this.toLowerCase().replace(/::/g,"__").replace(/( |\/|-)/g,"_")},String.prototype.ns_hyphenate=function(){return this.toLowerCase().replace(/::/g,"--").replace(/( |\/|_)/g,"-")},String.prototype.hyphenate=function(){return this.replace(/_/g,"-")},String.prototype.pathify=function(){return this.replace(/__/g,"/")},String.prototype.pluralize=function(){return _fpa.utils.pluralize(this)},String.prototype.singularize=function(){return _fpa.utils.singularize(this)},String.prototype.titleize=function(){return _fpa.utils.titleize(this)},_fpa.utils.is_blank=function(e){return null===e||""===e},_fpa.utils.html_entity_map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_fpa.utils.escape_html=function(e){return String(e).replace(/[&<>"']/g,function(e){return _fpa.html_entity_map[e]})},_fpa.utils.ISOdatetoTimestamp=function(e){if(null==e)return null;if("number"==typeof e)return e;if(0<=(e=e.trim()).indexOf("t")&&0<=e.indexOf("z")||0<=e.indexOf("T")&&0<=e.indexOf("Z")||0<=e.indexOf("t")&&0<=e.indexOf("+")||0<=e.indexOf("T")&&0<=e.indexOf("+")){var t=new Date(Date.parse(e));return t?t.getTime().toFixed(0):e}return e},_fpa.utils.YMDtoLocale=function(e){if(0<=(e=e.trim()).indexOf("t")&&0<=e.indexOf("z")||0<=e.indexOf("T")&&0<=e.indexOf("Z")||15<e.length)var t=_fpa.utils.isoDateStringToLocale(e);else t=_fpa.utils.isoDateStringToLocale(e);return"Invalid Date"==t&&(t=e),t},_fpa.utils.YMDtimeToLocale=function(e){if(0<=(e=e.trim()).indexOf("t")&&0<=e.indexOf("z")||0<=e.indexOf("T")&&0<=e.indexOf("Z")||15<e.length)var t=_fpa.utils.isoDateTimeStringToLocale(e);else{if(2==e.indexOf(":"))return e;t=_fpa.utils.isoDateTimeStringToLocale(e)}return"Invalid Date"==t&&(t=e),t},_fpa.utils.parseLocaleDate=function(e){if(""==(e=e.trim()))return"";var t=e.substring(6,10)+"-"+e.substring(0,2)+"-"+e.substring(3,5)+"T00:00:00Z";return new Date(t)},Date.prototype.asLocale=function(){return _fpa.utils.isoDateStringToLocale(this.toISOString())},_fpa.utils.isoDateStringToLocale=function(e){return""==(e=e.trim())?"":e.substring(5,7)+"/"+e.substring(8,10)+"/"+e.substring(0,4)},_fpa.utils.isoDateTimeStringToLocale=function(e){return""==(e=e.trim())?"":e.substring(5,7)+"/"+e.substring(8,10)+"/"+e.substring(0,4)+" "+e.substring(11,19)},Date.prototype.asYMD=function(){var e=this,t=("0"+e.getUTCDate()).slice(-2),n=("0"+(e.getUTCMonth()+1)).slice(-2);return e.getUTCFullYear()+"-"+n+"-"+t},_fpa.utils.translate=function(e,t){if(_fpa.locale_t&&_fpa.locale_t[t]){var n=_fpa.locale_t.field_names[e];if(n)return e=n}return e},_fpa.utils.pretty_print=function(e,t){return null===e||""===e?"":(e&&8<=e.length&&e.match(/^\d\d\d\d-\d\d-\d\d.*/)&&(0<=e.indexOf("t")&&0<=e.indexOf("z")||0<=e.indexOf("T")&&0<=e.indexOf("Z")?(n=new Date(Date.parse(e)),i=!0):(n=new Date(Date.parse(e+"T00:00:00Z")),i=!1)),void 0!==n&&n&&"Invalid Date"!=n?i?(n=new Date(n.getTime()+6e4*n.getTimezoneOffset())).toLocaleDateString():new Date(e).toLocaleDateString(undefined,{timeZone:"UTC"}):t.return_string?null===e||e instanceof String||e instanceof Number||"object"!=typeof e?t.capitalize&&(!e||e.length<30)?_fpa.utils.capitalize(e):_fpa.utils.nl2br(e):0<Object.keys(e).length?e:null:null);var n,i},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(D,T){function E(){return new Date(Date.UTC.apply(Date,arguments))}function x(){var e=new Date;return E(e.getFullYear(),e.getMonth(),e.getDate())}function o(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function e(e,t){return function(){return t!==T&&D.fn.datepicker.deprecated(t),this[e].apply(this,arguments)}}function c(e){return e&&!isNaN(e.getTime())}function u(e,t){function n(e,t){return t.toLowerCase()}var i=D(e).data(),r={},o=new RegExp("^"+t.toLowerCase()+"([A-Z])");for(var a in t=new RegExp("^"+t.toLowerCase()),i)t.test(a)&&(r[a.replace(o,n)]=i[a]);return r}function d(e){var n={};if(M[e]||(e=e.split("-")[0],M[e])){var i=M[e];return D.each(a,function(e,t){t in i&&(n[t]=i[t])}),n}}var t,n=(t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;n<i;n++)if(0<=this[n].valueOf()-t&&this[n].valueOf()-t<864e5)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(e){e&&(D.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var e=new n;return e.replace(this),e}},function(){var e=[];return e.push.apply(e,arguments),D.extend(e,t),e}),k=function(e,t){D.data(e,"datepicker",this),this._process_options(t),this.dates=new n,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=D(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=D(I.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return Number(t)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(n){return D.each(I.viewModes,function(e,t){if(n===e||-1!==D.inArray(n,t.names))return n=e,!1}),n},_resolveDaysOfWeek:function(e){return D.isArray(e)||(e=e.split(/[,\s]*/)),D.map(e,Number)},_check_template:function(e){try{return e!==T&&""!==e&&((e.match(/[<>]/g)||[]).length<=0||0<D(e).length)}catch(t){return!1}},_process_options:function(e){this._o=D.extend({},this._o,e);var t=this.o=D.extend({},this._o),n=t.language;M[n]||(n=n.split("-")[0],M[n]||(n=f.language)),t.language=n,t.startView=this._resolveViewName(t.startView),t.minViewMode=this._resolveViewName(t.minViewMode),t.maxViewMode=this._resolveViewName(t.maxViewMode),t.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,t.startView)),!0!==t.multidate&&(t.multidate=Number(t.multidate)||!1,!1!==t.multidate&&(t.multidate=Math.max(0,t.multidate))),t.multidateSeparator=String(t.multidateSeparator),t.weekStart%=7,t.weekEnd=(t.weekStart+6)%7;var i=I.parseFormat(t.format);t.startDate!==-Infinity&&(t.startDate?t.startDate instanceof Date?t.startDate=this._local_to_utc(this._zero_time(t.startDate)):t.startDate=I.parseDate(t.startDate,i,t.language,t.assumeNearbyYear):t.startDate=-Infinity),t.endDate!==Infinity&&(t.endDate?t.endDate instanceof Date?t.endDate=this._local_to_utc(this._zero_time(t.endDate)):t.endDate=I.parseDate(t.endDate,i,t.language,t.assumeNearbyYear):t.endDate=Infinity),t.daysOfWeekDisabled=this._resolveDaysOfWeek(t.daysOfWeekDisabled||[]),t.daysOfWeekHighlighted=this._resolveDaysOfWeek(t.daysOfWeekHighlighted||[]),t.datesDisabled=t.datesDisabled||[],D.isArray(t.datesDisabled)||(t.datesDisabled=t.datesDisabled.split(",")),t.datesDisabled=D.map(t.datesDisabled,function(e){return I.parseDate(e,i,t.language,t.assumeNearbyYear)});var r=String(t.orientation).toLowerCase().split(/\s+/g),o=t.orientation.toLowerCase();if(r=D.grep(r,function(e){return/^auto|left|right|top|bottom$/.test(e)}),t.orientation={x:"auto",y:"auto"},o&&"auto"!==o)if(1===r.length)switch(r[0]){case"top":case"bottom":t.orientation.y=r[0];break;case"left":case"right":t.orientation.x=r[0]}else o=D.grep(r,function(e){return/^left|right$/.test(e)}),t.orientation.x=o[0]||"auto",o=D.grep(r,function(e){return/^top|bottom$/.test(e)}),t.orientation.y=o[0]||"auto";else;if(t.defaultViewDate instanceof Date||"string"==typeof t.defaultViewDate)t.defaultViewDate=I.parseDate(t.defaultViewDate,i,t.language,t.assumeNearbyYear);else if(t.defaultViewDate){var a=t.defaultViewDate.year||(new Date).getFullYear(),s=t.defaultViewDate.month||0,l=t.defaultViewDate.day||1;t.defaultViewDate=E(a,s,l)}else t.defaultViewDate=x()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,n,i,r=0;r<e.length;r++)t=e[r][0],2===e[r].length?(n=T,i=e[r][1]):3===e[r].length&&(n=e[r][1],i=e[r][2]),t.on(i,n)},_unapplyEvents:function(e){for(var t,n,i,r=0;r<e.length;r++)t=e[r][0],2===e[r].length?(i=T,n=e[r][1]):3===e[r].length&&(i=e[r][1],n=e[r][2]),t.off(n,i)},_buildEvents:function(){var e={keyup:D.proxy(function(e){-1===D.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:D.proxy(this.keydown,this),paste:D.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=D.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.inputField.length?this._events=[[this.inputField,e],[this.component,{click:D.proxy(this.show,this)}]]:this._events=[[this.element,{click:D.proxy(this.show,this),keydown:D.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:D.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:D.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":D.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:D.proxy(this.click,this)}],[this.picker,".prev, .next",{click:D.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:D.proxy(this.dayCellClick,this)}],[D(window),{resize:D.proxy(this.place,this)}],[D(document),{"mousedown touchstart":D.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,t){var n=t||this.dates.get(-1),i=this._utc_to_local(n);this.element.trigger({type:e,date:i,viewMode:this.viewMode,dates:D.map(this.dates,this._utc_to_local),format:D.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return I.formatDate(n,t,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&D(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var t;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==D.inArray("text/plain",e.originalEvent.clipboardData.types))t=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;t=window.clipboardData.getData("Text")}this.setDate(t),this.update(),e.preventDefault()},_utc_to_local:function(e){if(!e)return e;var t=new Date(e.getTime()+6e4*e.getTimezoneOffset());return t.getTimezoneOffset()!==e.getTimezoneOffset()&&(t=new Date(e.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&E(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},getDates:function(){return D.map(this.dates,this._utc_to_local)},getUTCDates:function(){return D.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return e!==T?new Date(e):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(e){var t=D.isArray(e)?e:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(e){var t=D.isArray(e)?e:arguments;return this.setDates.apply(this,D.map(t,this._utc_to_local)),this},setDate:e("setDates"),setUTCDate:e("setUTCDates"),remove:e("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(t){t===T&&(t=this.o.format);var n=this.o.language;return D.map(this.dates,function(e){return I.formatDate(e,t,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){return this._process_options({datesDisabled:e}),this.update(),this},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),t=this.picker.outerHeight(),n=10,i=D(this.o.container),r=i.width(),o="body"===this.o.container?D(document).scrollTop():i.scrollTop(),a=i.offset(),s=[0];this.element.parents().each(function(){var e=D(this).css("z-index");"auto"!==e&&0!==Number(e)&&s.push(Number(e))});var l=Math.max.apply(Math,s)+this.o.zIndexOffset,c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=c.left-a.left,f=c.top-a.top;"body"!==this.o.container&&(f+=o),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=e-d)):c.left<0?(this.picker.addClass("datepicker-orient-left"),h-=c.left-n):r<h+e?(this.picker.addClass("datepicker-orient-right"),h+=d-e):this.o.rtl?this.picker.addClass(
"datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var p=this.o.orientation.y;if("auto"===p&&(p=-o+f-t<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?f-=t+parseInt(this.picker.css("padding-top")):f+=u,this.o.rtl){var g=r-(h+d);this.picker.css({top:f,right:g,zIndex:l})}else this.picker.css({top:f,left:h,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],t=!1;return arguments.length?(D.each(arguments,D.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),t=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=D.map(n,D.proxy(function(e){return I.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=D.grep(n,D.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(n),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),t?(this.setValue(),this.element.change()):this.dates.length&&String(e)!==String(this.dates)&&t&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&e.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var e=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(t+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)t+='<th class="dow',-1!==D.inArray(e,this.o.daysOfWeekDisabled)&&(t+=" disabled"),t+='">'+M[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)}},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",n=0;n<12;n++)t+='<span class="month'+(e&&e.getMonth()===n?" focused":"")+'">'+M[this.o.language].monthsShort[n]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=D.map(e,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var t=[],n=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),r=x();return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<i?t.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>i)&&t.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&t.push("focused"),this.o.todayHighlight&&o(e,r)&&t.push("today"),-1!==this.dates.contains(e)&&t.push("active"),this.dateWithinRange(e)||t.push("disabled"),this.dateIsDisabled(e)&&t.push("disabled","disabled-date"),-1!==D.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&t.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&t.push("range"),-1!==D.inArray(e.valueOf(),this.range)&&t.push("selected"),e.valueOf()===this.range[0]&&t.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&t.push("range-end")),t},_fill_yearsView:function(e,t,n,i,r,o,a){for(var s,l,c,u="",d=n/10,h=this.picker.find(e),f=Math.floor(i/n)*n,p=f+9*d,g=Math.floor(this.viewDate.getFullYear()/d)*d,m=D.map(this.dates,function(e){return Math.floor(e.getUTCFullYear()/d)*d}),v=f-d;v<=p+d;v+=d)s=[t],l=null,v===f-d?s.push("old"):v===p+d&&s.push("new"),-1!==D.inArray(v,m)&&s.push("active"),(v<r||o<v)&&s.push("disabled"),v===g&&s.push("focused"),a!==D.noop&&((c=a(new Date(v,0,1)))===T?c={}:"boolean"==typeof c?c={enabled:c}:"string"==typeof c&&(c={classes:c}),!1===c.enabled&&s.push("disabled"),c.classes&&(s=s.concat(c.classes.split(/\s+/))),c.tooltip&&(l=c.tooltip)),u+='<span class="'+s.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+v+"</span>";h.find(".datepicker-switch").text(f+"-"+p),h.find("td").html(u)},fill:function(){var e,t,n=new Date(this.viewDate),r=n.getUTCFullYear(),i=n.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,a=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,c=M[this.o.language].today||M.en.today||"",u=M[this.o.language].clear||M.en.clear||"",d=M[this.o.language].titleFormat||M.en.titleFormat;if(!isNaN(r)&&!isNaN(i)){this.picker.find(".datepicker-days .datepicker-switch").text(I.formatDate(n,d,this.o.language)),this.picker.find("tfoot .today").text(c).css("display",!0===this.o.todayBtn||"linked"===this.o.todayBtn?"table-cell":"none"),this.picker.find("tfoot .clear").text(u).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var h=E(r,i,0),f=h.getUTCDate();h.setUTCDate(f-(h.getUTCDay()-this.o.weekStart+7)%7);var p=new Date(h);h.getUTCFullYear()<100&&p.setUTCFullYear(h.getUTCFullYear()),p.setUTCDate(p.getUTCDate()+42),p=p.valueOf();for(var g,m,v=[];h.valueOf()<p;){if((g=h.getUTCDay())===this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var y=new Date(+h+(this.o.weekStart-g-7)%7*864e5),_=new Date(Number(y)+(11-y.getUTCDay())%7*864e5),b=new Date(Number(b=E(_.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),w=(_-b)/864e5/7+1;v.push('<td class="cw">'+w+"</td>")}(m=this.getClassNames(h)).push("day");var x=h.getUTCDate();this.o.beforeShowDay!==D.noop&&((t=this.o.beforeShowDay(this._utc_to_local(h)))===T?t={}:"boolean"==typeof t?t={enabled:t}:"string"==typeof t&&(t={classes:t}),!1===t.enabled&&m.push("disabled"),t.classes&&(m=m.concat(t.classes.split(/\s+/))),t.tooltip&&(e=t.tooltip),t.content&&(x=t.content)),m=D.isFunction(D.uniqueSort)?D.uniqueSort(m):D.unique(m),v.push('<td class="'+m.join(" ")+'"'+(e?' title="'+e+'"':"")+' data-date="'+h.getTime().toString()+'">'+x+"</td>"),e=null,g===this.o.weekEnd&&v.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(v.join(""));var k=M[this.o.language].monthsTitle||M.en.monthsTitle||"Months",S=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?k:r).end().find("tbody span").removeClass("active");if(D.each(this.dates,function(e,t){t.getUTCFullYear()===r&&S.eq(t.getUTCMonth()).addClass("active")}),(r<o||s<r)&&S.addClass("disabled"),r===o&&S.slice(0,a).addClass("disabled"),r===s&&S.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==D.noop){var C=this;D.each(S,function(e,t){var n=new Date(r,e,1),i=C.o.beforeShowMonth(n);i===T?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1!==i.enabled||D(t).hasClass("disabled")||D(t).addClass("disabled"),i.classes&&D(t).addClass(i.classes),i.tooltip&&D(t).prop("title",i.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,r,o,s,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,r,o,s,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,r,o,s,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e,t,n=new Date(this.viewDate),i=n.getUTCFullYear(),r=n.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,a=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,s=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,l=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,c=1;switch(this.viewMode){case 0:e=i<=o&&r<=a,t=s<=i&&l<=r;break;case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:e=Math.floor(i/c)*c<=o,t=Math.floor(i/c)*c+c>=s}this.picker.find(".prev").toggleClass("disabled",e),this.picker.find(".next").toggleClass("disabled",t)}},click:function(e){var t,n,i,r;e.preventDefault(),e.stopPropagation(),(t=D(e.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),t.hasClass("today")&&!t.hasClass("day")&&(this.setViewMode(0),this._setDate(x(),"linked"===this.o.todayBtn?null:"view")),t.hasClass("clear")&&this.clearDates(),t.hasClass("disabled")||(t.hasClass("month")||t.hasClass("year")||t.hasClass("decade")||t.hasClass("century"))&&(this.viewDate.setUTCDate(1),(n=1)===this.viewMode?(r=t.parent().find("span").index(t),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(r)):(r=0,i=Number(t.text()),this.viewDate.setUTCFullYear(i)),this._trigger(I.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(E(i,r,n)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(e){var t=D(e.currentTarget).data("date"),n=new Date(t);this.o.updateViewDate&&(n.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),n.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(n)},navArrowsClick:function(e){var t=D(e.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(t*=12*I.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,t),this._trigger(I.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(t):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(e)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),(!t&&this.o.updateViewDate||"view"===t)&&(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var n=new Date(e);return n.setUTCDate(e.getUTCDate()+t),n},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!c(e))return this.o.defaultViewDate;if(!t)return e;var n,i,r=new Date(e.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(t);if(t=0<t?1:-1,1===s)i=-1===t?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==n},n=a+t,r.setUTCMonth(n),n=(n+12)%12;else{for(var l=0;l<s;l++)r=this.moveMonth(r,t);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,n){do{if(e=this[n](e,t),!this.dateWithinRange(e))return!1;n="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(e){return-1!==D.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||0<D.grep(this.o.datesDisabled,function(e){return o(t,e)}).length},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":visible")){var t,n,i=!1,r=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(n=this.moveAvailableDate(r,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(n=this.moveAvailableDate(r,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?n=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,t,"moveWeek")):1===this.viewMode?(38!==e.keyCode&&40!==e.keyCode||(t*=4),n=this.moveAvailableDate(r,t,"moveMonth")):2===this.viewMode&&(38!==e.keyCode&&40!==e.keyCode||(t*=4),n=this.moveAvailableDate(r,t,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==e.keyCode&&27!==e.keyCode||(this.show(),e.stopPropagation())},setViewMode:function(e){this.viewMode=e,this.picker.children("div").hide().filter(".datepicker-"+I.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var h=function(e,t){D.data(e,"datepicker",this),this.element=D(e),this.inputs=D.map(t.inputs,function(e){return e.jquery?e[0]:e}),delete t.inputs,this.keepEmptyValues=t.keepEmptyValues,delete t.keepEmptyValues,r.call(D(this.inputs),t).on("changeDate",D.proxy(this.dateUpdated,this)),this.pickers=D.map(this.inputs,function(e){return D.data(e,"datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=D.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var n=D.map(this.dates,function(e){return e.valueOf()});D.each(this.pickers,function(e,t){t.setRange(n)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=D.data(e.target,"datepicker");if(n!==T){var i=n.getUTCDate(),r=this.keepEmptyValues,t=D.inArray(e.target,this.inputs),o=t-1,a=t+1,s=this.inputs.length;if(-1!==t){if(D.each(this.pickers,function(e,t){t.getUTCDate()||t!==n&&r||t.setUTCDate(i)}),i<this.dates[o])for(;0<=o&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[a])for(;a<s&&i>this.dates[a];)this.pickers[a++].setUTCDate(i);this.updateDates(),delete this.updating}}}},destroy:function(){D.map(this.pickers,function(e){e.destroy()}),D(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:e("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var i=D.fn.datepicker,r=function(a){var s,l=Array.apply(null,arguments);if(l.shift(),this.each(function(){var e=D(this),t=e.data("datepicker"),n="object"==typeof a&&a;if(!t){var i=u(this,"date"),r=d(D.extend({},f,i,n).language),o=D.extend({},f,r,i,n);e.hasClass("input-daterange")||o.inputs?(D.extend(o,{inputs:o.inputs||e.find("input").toArray()}),t=new h(this,o)):t=new k(this,o),e.data("datepicker",t)}"string"==typeof a&&"function"==typeof t[a]&&(s=t[a].apply(t,l))}),s===T||s instanceof k||s instanceof h)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+a+" function)");return s};D.fn.datepicker=r;var f=D.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:D.noop,beforeShowMonth:D.noop,beforeShowYear:D.noop,beforeShowDecade:D.noop,beforeShowCentury:D.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},a=D.fn.datepicker.locale_opts=["format","rtl","weekStart"];D.fn.datepicker.Constructor=k;var M=D.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},I={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(e,t,n,i){function r(e,t){return!0===t&&(t=10),e<100&&(e+=2e3)>(new Date).getFullYear()+t&&(e-=100),e}function o(){var e=this.slice(0,a[c].length),t=a[c].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!e)return T;if(e instanceof Date)return e;if("string"==typeof t&&(t=I.parseFormat(t)),t.toValue)return t.toValue(e,t,n);var a,s,l,c,u,d={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},h={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(e in h&&(e=h[e]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(e)){for(a=e.match(/([\-+]\d+)([dmwy])/gi),e=new Date,c=0;c<a.length;c++)s=a[c].match(/([\-+]\d+)([dmwy])/i),l=Number(s[1]),u=d[s[2].toLowerCase()],e=k.prototype[u](e,l);return k.prototype._zero_utc_time(e)}a=e&&e.match(this.nonpunctuation)||[];var f,p,g={},m=["yyyy","yy","M","MM","m","mm","d","dd"],v={yyyy:function(e,t){return e.setUTCFullYear(i?r(t,i):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};v.yy=v.yyyy,v.M=v.MM=v.mm=v.m,v.dd=v.d,e=x();var y=t.parts.slice();if(a.length!==y.length&&(y=D(y).filter(function(e,t){return-1!==D.inArray(t,m)}).toArray()),a.length===y.length){var _,b,w;for(c=0,_=y.length;c<_;c++){if(f=parseInt(a[c],10),s=y[c],isNaN(f))switch(s){case"MM":p=D(M[n].months).filter(o),f=D.inArray(p[0],M[n].months)+1;break;case"M":p=D(M[n].monthsShort).filter(o),f=D.inArray(p[0],M[n].monthsShort)+1}g[s]=f}for(c=0;c<m.length;c++)(w=m[c])in g&&!isNaN(g[w])&&(b=new Date(e),v[w](b,g[w]),isNaN(b)||(e=b))}return e},formatDate:function(e,t,n){if(!e)return"";if("string"==typeof t&&(t=I.parseFormat(t)),t.toDisplay)return t.toDisplay(e,t,n);var i={d:e.getUTCDate(),D:M[n].daysShort[e.getUTCDay()],DD:M[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:M[n].monthsShort[e.getUTCMonth()],MM:M[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,e=[];for(var r=D.extend([],t.separators),o=0,a=t.parts.length;o<=a;o++)r.length&&e.push(r.shift()),e.push(i[t.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+f.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+f.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};I.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+I.headTemplate+"<tbody></tbody>"+I.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+I.headTemplate+I.contTemplate+I.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+I.headTemplate+I.contTemplate+I.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+I.headTemplate+I.contTemplate+I.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+I.headTemplate+I.contTemplate+I.footTemplate+"</table></div></div>",D.fn.datepicker.DPGlobal=I,D.fn.datepicker.noConflict=function(){return D.fn.datepicker=i,this},D.fn.datepicker.version="1.7.1",D.fn.datepicker.deprecated=function(e){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+e)},D(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var t=D(this);t.data("datepicker")||(e.preventDefault(),r.call(t,"show"))}),D(function(){r.call(D('[data-provide="datepicker-inline"]'))})}),function(e,t){"object"==typeof exports?module.exports=t(require("handlebars")):"function"==typeof define&&define.amd?define(["handlebars"],t):e.HandlebarsHelpersRegistry=t(e.Handlebars)}(this,function(n){var i=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e=function(){this.expressions=[]};e.prototype.add=function(e,t){this.expressions[e]=t},e.prototype.call=function(e,t,n){if(!this.expressions.hasOwnProperty(e))throw new Error('Unknown operator "'+e+'"');return this.expressions[e](t,n)};var o=new e;o.add("not",function(e,t){return e!=t}),o.add(">",function(e,t){return t<e}),o.add("<",function(e,t){return e<t}),o.add(">=",function(e,t){return t<=e}),o.add("<=",function(e,t){return e<=t}),o.add("===",function(e,t){return e===t}),o.add("!==",function(e,t){return e!==t}),o.add("in",function(e,t){return i(t)||(t=t.split(",")),-1!==t.indexOf(e)}),o.add("!in",function(e,t){return i(t)||(t=t.split(",")),-1===t.indexOf(e)}),o.add("includes",function(e,t){if(e){new RegExp(t);return-1!==e.search(t)}}),o.add("typeof",function(e,t){if(t)return"object"==t?null!==e&&!(e instanceof String)&&!(e instanceof Number)&&!(e instanceof Date)&&"object"==typeof e&&Object.keys(e).length:typeof e==t});var t=function(){var e=arguments,t=e[0],n=e[1],i=e[2],r=e[3];return 2==e.length?(r=e[1],t?r.fn(this):r.inverse(this)):3==e.length?(i=e[1],r=e[2],t==i?r.fn(this):r.inverse(this)):o.call(n,t,i)?r.fn(this):r.inverse(this)},r=function(e,t,n){return e&&-1!==e.indexOf(t)?n.fn(this):n.inverse(this)};return n.registerHelper("is",t),n.registerHelper("contains",r),n.registerHelper("split",function(e,t){var n="";if(!e)return n;for(var i in e)n+="<"+t+">"+e[i]+"</"+t+">";return n}),n.registerHelper("sort",function(e,t,n){return"desc"==t?n?e.sort(function(e,t){return t[n]-e[n]}):e.reverse():n?e.sort(function(e,t){return e[n]-t[n]}):e.sort()}),n.registerHelper("unique",function(e){var t=[],n=[];for(var i in e){var r=e[i],o=r.toString();n.indexOf(o)<0&&(t.push(r),n.push(o))}return t}),n.registerHelper("pluck",function(e,t,n){var i=[];for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],a=[o[t]];n&&a.push(o[n]),i.push(a)}return i}),n.registerHelper("if_all",function(){for(var e=[].slice.apply(arguments),t=e.pop(),n=t.fn,i=0;i<e.length;++i)if(!e[i]){n=t.inverse;break}return n(this)}),n.registerHelper("caption_before_substitutions",function(e,t){var n=t.fn(this),i=$(n);return _fpa.form_utils.caption_before_substitutions(i,e),i[0].outerHTML}),n.registerHelper("join",function(e,t){return e.join?e.join(t):e}),n.registerHelper("replace",function(e,t,n,i){var r;if(!t||""==t)return e;if(null!=e){i.hasOwnProperty("name")||(r=i);var o=new RegExp(t,r);return e.replace(o,n)}}),n.registerHelper("was",function(e,t){return e||0===e?t.fn(this):t.inverse(this)}),n.registerHelper("has",function(e,t){return this.hasOwnProperty(e)?t.fn(this):t.inverse(this)}),n.registerHelper("includes",function(e,t){if(e){new RegExp(t);return-1!==e.search(t)}}),n.registerHelper("with_content",function(e,t,n,i){return with_content(e,t,n,i)}),n.registerHelper("stringify",function(e){return JSON.stringify(e,undefined,4)}),n.registerHelper("plain_object",function(e){return e}),n.registerHelper("typeof",function(e){return typeof e}),n.registerHelper("nl2br",function(e){return _fpa.utils.nl2br(e)}),n.registerHelper("quoteattr",function(e){var t=!1;return t=t?"&#13;":"\n",(""+e).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,t).replace(/[\r\n]/g,t)}),n.registerHelper("timestamp",function(e){if(e)return _fpa.utils.ISOdatetoTimestamp(e)}),n.registerHelper("get",function(e,t,n,i){if(e&&t){var r=e[t.toString()];return r&&(r=r[n])?r[i]:r}}),n.registerHelper("date_time",function(e){if(e){var t=new Date(Date.parse(e)).toLocaleString();return new n.SafeString(t)}t=(new Date).toLocaleString();return new n.SafeString(t)}),n.registerHelper("fpa_state_item",function(e,t,n,i){var r=_fpa.state[e];return r&&t&&!t.hash&&(r=r[t]),r&&n&&!n.hash&&(r=r[n]),r&&i&&!i.hash&&(r=r[i]),r}),n.registerHelper("pad_start",function(e,t,n){return String(e).padStart(t,n)}),n.registerHelper("concat",function(e,t,n){return(e=e||"")+(t=t||"")+(n=n||"")}),n.registerHelper("simple_log",function(e){console.log(e)}),n.registerHelper("log",function(){console.log(["Values:"].concat(Array.prototype.slice.call(arguments,0,-1)))}),n.registerHelper("debug",function(){console.log("Context:",this),console.log(["Values:"].concat(Array.prototype.slice.call(arguments,0,-1)))}),n.registerHelper("filter",function(e,t,n){var i,r,o,a;r="";var s=t.split(",");for(o=0,a=s.length;o<a;o++)i=e[s[o]],r+=n.fn(i,{data:{key:s[o]}});return r}),n.registerHelper("local_date",function(e,t,n){if(null===e||""===e)return t;var i=e,r=new Date(Date.parse(e+"T00:00:00Z"));return r&&"Invalid Date"!=r?new Date(i).toLocaleDateString(undefined,{timeZone:"UTC"}):n.hash.return_string?e:t}),n.registerHelper("and",function(e,t){return e&&t}),n.registerHelper("or",function(e,t){return e||t}),n.registerHelper("not",function(e){return!e}),n.registerHelper("underscore",function(e){return e?e.underscore():null}),n.registerHelper("ns_underscore",function(e){return e?e.ns_underscore():null}),n.registerHelper("ns_hyphenate",function(e){return e?e.ns_hyphenate():null}),n.registerHelper("pretty_string",function(e,t){return t&&!t.hash&&(t.hash={}),_fpa.utils.pretty_print(e,t.hash)}),n.registerHelper("local_time",function(e,t){if(e&&""!=e&&e.length){if(t&&!t.hash&&(t.hash={}),1<(n=e.toString()).toLowerCase().indexOf("pm")||1<n.toLowerCase().indexOf("am"))return n;var n=new Date(n);return new Date(n.getTime()+6e4*n.getTimezoneOffset()).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}}),n.registerHelper("capitalize",function(e){return _fpa.utils.capitalize(e)}),n.registerHelper("hyphenate",function(e){if(e)return e.hyphenate()}),n.registerHelper("pathify",function(e){if(e)return e.pathify()}),n.registerHelper("pluralize",function(e){if(e)return e.pluralize()}),n.registerHelper("singularize",function(e){if(e)return e.singularize()}),n.registerHelper("titleize",function(e){if(e)return e.titleize()}),n.registerHelper("substring",function(e,t,n){if(null!=e){if(e.toString&&(e=e.toString()),!e.substring)return e;var i=document.createElement("textarea");return i.innerHTML=e,(e=i.value).length>n+10&&(e=e.substring(t,n),e+="(...)"),e}}),n.registerHelper("template",function(e){return n.compile(e)(this)}),n.registerHelper("compile_template",function(e){return n.compile(e)}),n.registerHelper("run_template",function(e){return e(this)}),n.registerHelper("one_decimal",function(e){return e.toFixed(1)}),n.registerHelper("pretty_print",function(e){return JSON.stringify(e,null,2)}),n.registerHelper("pretty_print_html",function(e){return JSON.stringify(e,null,"<div>  ")}),n.registerHelper("humanize",function(e){if(e)return(e=_fpa.utils.translate(e,"field_labels")).replace(/_/g," ")}),n.registerHelper("in",function(e,t,n,i){return 0<=n.split(",").indexOf(t)?i.fn(e):i.inverse(e)}),o}),Handlebars.registerHelper("format_with",function(e,t){var n=e.split(" "),i=null;if(n[1]){i=n.shift();var r=n.join(" ").replace(/"/g,""),o=t}else{i=n[0];r=t}var a=Handlebars.helpers[i](r,o);return new Handlebars.SafeString(a)}),Handlebars.registerHelper("format_sage_id",function(e){var t=e.substring(0,3)+" "+e.substring(3,6)+" "+e.substring(6,10);return new Handlebars.SafeString(t)}),Handlebars.registerHelper("uppercase",function(e){return new Handlebars.SafeString(e.toUpperCase())}),Handlebars.registerHelper("pattern_mask",function(e,t){var n=$('<span class="dynamic-span-mask">'+t+"</span>"),i=_fpa.masker.mask_from_pattern(e);n.mask(i.mask,{translation:i.translation,reverse:i.reverse});var r=n.html();return new Handlebars.SafeString(r.toUpperCase())}),Handlebars.registerHelper("format_10_digit_external_id",function(e){var t=(e=""+e).substring(0,3)+" "+e.substring(3,6)+" "+e.substring(6,10);return new Handlebars.SafeString(t)}),_fpa.masters={max_results:100,get_results_block:function(){return $("#embed_results_block,#master_results_block").last()},switch_id_on_click:function(e){e.find(".switch_id").not("attached-switch-click").click(function(e){e.preventDefault();var t=$(this).parent(),n=t.find("span.alt_id"),i=t.find("span.master_id");n.is(":visible")?(n.hide(),i.show(),$(this).attr("title","switch to Master ID")):(i.hide(),n.show(),$(this).attr("title","switch to alternative ID"))}).addClass("attached-switch-click")},handle_search_form:function(e){e.each(function(){var n=$(this);n.find('input[type="submit"]').on("click",function(e){_fpa.state.search_running&&e.preventDefault()}),n.find("input, select, textarea").not('.no-auto-submit, .tt-input, .attached-change, [type="submit"]').on("change",function(){_fpa.cancel_remote();var e=$(this).attr("data-only-for"),t=($(this).val(),!0);e&&$(e).each(function(){var e=$(this);null===e.val()||""===e.val()||e.hasClass("prevent-submit")||(t=!1)}),e&&t||window.setTimeout(function(){n.find('input[type="submit"].auto-submitter').click(),_fpa.state.search_running=!0},1),$(".prevent-submit").removeClass("prevent-submit")}).addClass("attached-change"),n.find("input.tt-input").not(".attached-change").on("blur",function(){window.setTimeout(function(){n.find('input[type="submit"].auto-submitter').click()},1)}).addClass("attached-change"),n.find('input[type="submit"]').click(function(){var e=$(this).val(),t=!1;"csv"!==e&&"json"!==e||(t=!0);var n=$(this).parents("form").first();n.data("remote",!t).attr("target",t?e:null),n.find('input[name="part"]').val(t?"":"results"),t&&$("#master_results_block").html('<h3 class="text-center">Exported '+e+"</h3>")})}).on("keypress",function(){_fpa.cancel_remote()}).on("submit",function(){$(this).data("remote")&&_fpa.masters.get_results_block().html('<h3 class="text-center"><span class="glyphicon glyphicon-search search-running"></span></h3>')})},set_fields_to_search:function(){var t=$(".search_master, form.search_report");_fpa.masters.handle_search_form(t),$(".clear-fields").not(".attached-clear-fields").on("click",function(e){$(this).attr("disabled")||(e.preventDefault(),t.find("input, select").not('[type="submit"], [type="hidden"]').val(null).removeClass("has-value"),$("select[multiple]").trigger("chosen:updated"),$("#master_results_block").html('<h3 class="text-center"></h3>'),$("#search_count_simple").html(""),$("#search_count").html(""))}).addClass("attached-clear-fields"),$("#master_not_tracker_histories_attributes_0_sub_process_id").not(".attached-force-notice").on("change",function(){var e=$(this).val();e&&""!==e?($("#search_count").html(""),$("#master_results_block").html('<h3 class="text-center">Select any event to search for a protocol/category never having the selected process</h3>'),$(".tsf-any-event-not").addClass("has-warning").one("change",function(){$(this).removeClass("has-warning")}),$(".tsf-any-event-not select").focus()):$(this).parents("form").submit()}).addClass("attached-force-notice"),$("#master_not_trackers_attributes_0_sub_process_id").not(".attached-force-notice").on("change",function(){var e=$(this).val();e&&""!==e?($("#search_count").html(""),$("#master_results_block").html('<h3 class="text-center">Select current event to search for a protocol/category not currently in the selected process</h3>'),$(".tsf-current-event-not").addClass("has-warning").one("change",function(){$(this).removeClass("has-warning")}),$(".tsf-current-event-not select").focus()):$(this).parents("form").submit()}).addClass("attached-force-notice")}},_fpa.loaded.masters=function(){_fpa.masters.set_fields_to_search(),$("#expand-adv-form").click(function(){$("#master_results_block").html("")}),$("form").not(".navbar-form").find("input, select").on("keypress change",function(){$('.navbar-form input[type="text"]').removeClass("has-value").val("")}),$("form.new_master").on("submit",function(){
_fpa.preprocessors.before_all($(this))}),_fpa.masters.handle_search_form($("form.auto_search_master")),window.setTimeout(function(){var e=$(".searchable-report-panel .collapse.in");e&&1==e.length&&"MSID"!=$("#search-action").html()&&($("#master-search-accordion").hasClass("loading-results")||e.find('input[type="submit"].auto-run').click()),$(".searchable-report-panel").on("shown.bs.collapse",function(){$("#master_results_block").html("");var e={count:{count:0,show_count:0}},t=_fpa.templates["search-count-template"](e);$(".search_count_reports").html(t),$("#master-search-accordion").hasClass("loading-results")||$(this).find('input[type="submit"].auto-run').click()}),$("#master-search-accordion").removeClass("loading-results")},300),window.setTimeout(function(){$(".run-master-search").first().click()},500)},_fpa.loaded.page_layouts=function(){$(".standalone-page-col").each(function(){var t=$(this),e=t.attr("data-url");$.get(e).done(function(e){t.find(".result-target").html(e),t.removeClass("ajax-running"),_fpa.postprocessors.reports_result(t,{})})})},_fpa.loaded.reports=function(){_fpa.postprocessors.reports_form($(".report-criteria")),$(".postprocessed-scroll-here").removeClass("postprocessed-scroll-here").addClass("prevent-scroll"),1==$("#editable_data").length&&1<=$(".report-criteria-fields").length&&$('input[type="submit"][value="table"]').click()},_fpa.reports={window_scrolling:function(){$("html").on("wheel",function(e){0<e.originalEvent.deltaY&&(_fpa.reports.report_position_buttons("go-to-results"),_fpa.reports.reset_window_scrolling())})},reset_window_scrolling:function(){$("html").off("wheel")},report_position_buttons:function(e){var t=$(".show-results-btn"),n=$(".back-to-search-form-btn");0==t.length&&0==n.length||(t.not(".has-rsf-clicks").click(function(e){e.preventDefault(),_fpa.reports.report_position_buttons("go-to-results")}).addClass("has-rsf-clicks"),n.not(".has-rsf-clicks").click(function(e){e.preventDefault(),_fpa.reports.report_position_buttons("go-to-form")}).addClass("has-rsf-clicks"),"go-to-results"==e?(t.hide(),n.show(),_fpa.reports.reset_window_scrolling(),$.scrollTo(".report-results-block",200)):"go-to-form"==e&&(t.show(),n.hide(),_fpa.reports.window_scrolling(),$.scrollTo("#body-top",200)))},results_subsearch:function(e){e.find('td[data-col-type^="search_reports_"]').not(".attached_report_search").each(function(){var e=$(this).attr("data-col-type");if(!$(this).hasClass("attached_report_search")&&e.match(/search_reports_[0-9]+_.+/)){var t=e.split("_",4),n=t[3],i=t[2],r=$(this).html(),o=$('<a href="'+("/reports/"+i+".json?&search_attrs["+n+"]="+r+"&commit=search")+'" data-remote="true" data-result-target="#modal_results_block" data-result-target-force="true" data-template="modal-pi-search-results-template" title="click to search">'+$(this).html()+"</a>");$(this).html(o),$(this).addClass("attached_report_search"),o.click(function(){var e='<div id="modal_results_block" class=""></div>';_fpa.show_modal(e,"Search results for "+r,!0)})}})},results_perform_action_link:function(e){e.find('td[data-col-type^="perform action:"]').not(".attached_report_search").each(function(){var e=$(this).attr("data-col-type").split(":",2)[1],t=$(this).html();if(t&&""!=t){var n=JSON.parse(t),i=n.perform_action;delete n.perform_action,n.label&&(e=n.label,delete n.label);var r={};for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];0<=i.indexOf("!"+o)?i=i.replace("!"+o,a):r[o]=a}var s='<a href="'+i+"?"+$.param(r)+'" target="report-perform-action">'+e+"</a>";$(this).html(s)}})},results_select_items_for_form:function(e){var a,s;if(e.find('td[data-col-type^="chart:"]').not(".attached_report_chart").each(function(){var e=$(this).parent(),t=$(this).attr("data-col-type"),n=$(this).html();if(n&&""!=n){for(var i=n.match(/colval\.[a-zA-Z0-9_]+/g),r=0;r<i.length;r++){var o=i[r],a=o.split(".")[1],s=e.find('td[data-col-type="'+a+'"]').html();s=s?s.trim():null,n=n.replace(o,s)}var l=JSON.parse(n);l.options=l.options||{};var c=l.label,u=l,d=l.width,h=l.height;if(d||h)var f=!0;d=d||100,h=h||100,l.options.responsive=!f;var p=$('<canvas width="'+d+'" height="'+h+'"></canvas>');$(this).html(p);var g=$(this).find("canvas"),m=(new Chart(g,u),$('th[data-col-type="'+t+'"]').not(".added-chart-legend"));if(0<m.length)m.find("p.table-header-col-type").html(c),m.addClass("no-sort added-chart-legend")}}).addClass("attached_report_chart"),e.find('td[data-col-type^="select items:"]').not(".attached_report_search").each(function(){a=$(this).attr("data-col-type"),s=a.split(":",3);var e=$(this).html();if(e&&""!=e){var t=JSON.parse(e),n=t.field_name,i=t.value,r=$('<input type="checkbox" class="report-file-selector" name="'+n+'"/>');r.val(JSON.stringify(i));var o=r;$(this).html(o)}}),s){var t=s[1].trim();if(s[2])var n=s[2].trim();var i=$(".report-container").attr("data-report-id");if("download files"==t)var r=$('<form id="itemselection-for-report" method="post" action="/nfs_store/downloads/multi" target="download_files"><input type="hidden" name="nfs_store_download[container_id]" value="multi"></form>');else if("add to list"==t)r=$('<form id="itemselection-for-report" method="post" action="/reports/'+i+'/add_to_list.json" class="report-add-to-list" data-remote="true"><input type="hidden" name="add_to_list[list_name]" value="'+n+'"></form>');else if("remove from list"==t){r=$('<form id="itemselection-for-report" method="post" action="/reports/'+i+'/remove_from_list.json" class="report-remove-from-list" data-remote="true"><input type="hidden" name="remove_from_list[list_name]" value="'+n+'"></form>');var o=$('[data-result="#report-embedded"]');0==o.length&&(o=$("body")),o.find("#report_query_form").addClass("keep-notices"),r.on("ajax:success",function(){o.find("#report-form-submit-btn").addClass("keep-notices").click()})}var l='<span class="report-files-actions"><input type="checkbox" id="report-select-all-files"><label for="report-select-all-files">select all</label> <input type="submit" value="'+t+'" class="btn btn-primary"/></span>',c=$("table.report-table");r.insertBefore(c),c.appendTo($("#itemselection-for-report")),$(document).on("change","#report-select-all-files",function(){var e=$(".report-file-selector");$(this).is(":checked")?e.attr("checked",!0):e.attr("checked",null)}),c.find("thead th").each(function(){$(this).find("p:first").html()==a&&($(this).addClass("no-sort"),$(this).append(l))})}},run_autos:function(e){e||(e=".report-auto"),$(e).each(function(){var a=$(this),e=a.attr("data-report-id");_fpa.ajax_working(a),$.ajax({url:"/reports/"+e+".json?search_attrs=_use_defaults_",success:function(e){var t,n;if(_fpa.ajax_done(a),e&&e.search_attributes)for(var i in n="",e.search_attributes)if(e.search_attributes.hasOwnProperty(i)&&"ids_filter_previous"!==i){var r=e.search_attributes[i];n+='<div class="report-search-attr"><span class="attr-label">'+i+'</span><span class="attr-val">'+_fpa.utils.pretty_print(r,{return_string:!0})+"</span></div>"}if(e&&e.results&&e.results[0]){var o=e.results.length;t=1==o?o+" result":o+" results"}else t="-";a.find(".report-measure").html(t),n&&a.find(".report-search-attr").html(n)}})})}};var SecureViewAppSpecific=function(){var i=this;this.setup=function(e){return this.secure_view=e,this.$show_files=$("#sv-extra-actions-show_files"),this.$show_files.not(".sv-added-click-ev").on("click",function(e){var t=i.secure_view.$owner_el,n=t;n.hasClass("sv-file-listing")?i.close_folder():(n.addClass("sv-file-listing"),$(this).addClass("glyphicon-folder-close"),$(this).removeClass("glyphicon-folder-open"),t.find("a.refresh-container-list").attr("disabled",!0)),e.preventDefault()}).addClass("sv-added-click-ev"),this.close_folder(),this},this.close=function(){this.close_folder()},this.close_folder=function(){this.secure_view.$owner_el.removeClass("sv-file-listing"),this.$show_files.addClass("glyphicon-folder-open"),this.$show_files.removeClass("glyphicon-folder-close"),this.secure_view.$owner_el.find("a.refresh-container-list").attr("disabled",!1)}};